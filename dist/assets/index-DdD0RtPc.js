(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const O of document.querySelectorAll('link[rel="modulepreload"]'))T(O);new MutationObserver(O=>{for(const L of O)if(L.type==="childList")for(const h of L.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&T(h)}).observe(document,{childList:!0,subtree:!0});function m(O){const L={};return O.integrity&&(L.integrity=O.integrity),O.referrerPolicy&&(L.referrerPolicy=O.referrerPolicy),O.crossOrigin==="use-credentials"?L.credentials="include":O.crossOrigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function T(O){if(O.ep)return;O.ep=!0;const L=m(O);fetch(O.href,L)}})();function Ra(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}function kc(A){if(Object.prototype.hasOwnProperty.call(A,"__esModule"))return A;var g=A.default;if(typeof g=="function"){var m=function T(){var O=!1;try{O=this instanceof T}catch{}return O?Reflect.construct(g,arguments,this.constructor):g.apply(this,arguments)};m.prototype=g.prototype}else m={};return Object.defineProperty(m,"__esModule",{value:!0}),Object.keys(A).forEach(function(T){var O=Object.getOwnPropertyDescriptor(A,T);Object.defineProperty(m,T,O.get?O:{enumerable:!0,get:function(){return A[T]}})}),m}var R0={exports:{}},Lu={};var gT;function q4(){if(gT)return Lu;gT=1;var A=Symbol.for("react.transitional.element"),g=Symbol.for("react.fragment");function m(T,O,L){var h=null;if(L!==void 0&&(h=""+L),O.key!==void 0&&(h=""+O.key),"key"in O){L={};for(var x in O)x!=="key"&&(L[x]=O[x])}else L=O;return O=L.ref,{$$typeof:A,type:T,key:h,ref:O!==void 0?O:null,props:L}}return Lu.Fragment=g,Lu.jsx=m,Lu.jsxs=m,Lu}var yT;function _4(){return yT||(yT=1,R0.exports=q4()),R0.exports}var bt=_4(),M0={exports:{}},de={};var xT;function t5(){if(xT)return de;xT=1;var A=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),t=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),r=Symbol.for("react.activity"),n=Symbol.iterator;function i(V){return V===null||typeof V!="object"?null:(V=n&&V[n]||V["@@iterator"],typeof V=="function"?V:null)}var e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a=Object.assign,l={};function s(V,U,F){this.props=V,this.context=U,this.refs=l,this.updater=F||e}s.prototype.isReactComponent={},s.prototype.setState=function(V,U){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,U,"setState")},s.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function u(){}u.prototype=s.prototype;function f(V,U,F){this.props=V,this.context=U,this.refs=l,this.updater=F||e}var c=f.prototype=new u;c.constructor=f,a(c,s.prototype),c.isPureReactComponent=!0;var d=Array.isArray;function p(){}var S={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function E(V,U,F){var k=F.ref;return{$$typeof:A,type:V,key:U,ref:k!==void 0?k:null,props:F}}function R(V,U){return E(V.type,U,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===A}function D(V){var U={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(F){return U[F]})}var B=/\/+/g;function b(V,U){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):U.toString(36)}function I(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(p,p):(V.status="pending",V.then(function(U){V.status==="pending"&&(V.status="fulfilled",V.value=U)},function(U){V.status==="pending"&&(V.status="rejected",V.reason=U)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function N(V,U,F,k,Y){var Z=typeof V;(Z==="undefined"||Z==="boolean")&&(V=null);var j=!1;if(V===null)j=!0;else switch(Z){case"bigint":case"string":case"number":j=!0;break;case"object":switch(V.$$typeof){case A:case g:j=!0;break;case v:return j=V._init,N(j(V._payload),U,F,k,Y)}}if(j)return Y=Y(V),j=k===""?"."+b(V,0):k,d(Y)?(F="",j!=null&&(F=j.replace(B,"$&/")+"/"),N(Y,U,F,"",function(et){return et})):Y!=null&&(M(Y)&&(Y=R(Y,F+(Y.key==null||V&&V.key===Y.key?"":(""+Y.key).replace(B,"$&/")+"/")+j)),U.push(Y)),1;j=0;var J=k===""?".":k+":";if(d(V))for(var q=0;q<V.length;q++)k=V[q],Z=J+b(k,q),j+=N(k,U,F,Z,Y);else if(q=i(V),typeof q=="function")for(V=q.call(V),q=0;!(k=V.next()).done;)k=k.value,Z=J+b(k,q++),j+=N(k,U,F,Z,Y);else if(Z==="object"){if(typeof V.then=="function")return N(I(V),U,F,k,Y);throw U=String(V),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return j}function z(V,U,F){if(V==null)return V;var k=[],Y=0;return N(V,k,"","",function(Z){return U.call(F,Z,Y++)}),k}function H(V){if(V._status===-1){var U=V._result;U=U(),U.then(function(F){(V._status===0||V._status===-1)&&(V._status=1,V._result=F)},function(F){(V._status===0||V._status===-1)&&(V._status=2,V._result=F)}),V._status===-1&&(V._status=0,V._result=U)}if(V._status===1)return V._result.default;throw V._result}var X=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},W={map:z,forEach:function(V,U,F){z(V,function(){U.apply(this,arguments)},F)},count:function(V){var U=0;return z(V,function(){U++}),U},toArray:function(V){return z(V,function(U){return U})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return de.Activity=r,de.Children=W,de.Component=s,de.Fragment=m,de.Profiler=O,de.PureComponent=f,de.StrictMode=T,de.Suspense=t,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,de.__COMPILER_RUNTIME={__proto__:null,c:function(V){return S.H.useMemoCache(V)}},de.cache=function(V){return function(){return V.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(V,U,F){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var k=a({},V.props),Y=V.key;if(U!=null)for(Z in U.key!==void 0&&(Y=""+U.key),U)!C.call(U,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&U.ref===void 0||(k[Z]=U[Z]);var Z=arguments.length-2;if(Z===1)k.children=F;else if(1<Z){for(var j=Array(Z),J=0;J<Z;J++)j[J]=arguments[J+2];k.children=j}return E(V.type,Y,k)},de.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:L,_context:V},V},de.createElement=function(V,U,F){var k,Y={},Z=null;if(U!=null)for(k in U.key!==void 0&&(Z=""+U.key),U)C.call(U,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(Y[k]=U[k]);var j=arguments.length-2;if(j===1)Y.children=F;else if(1<j){for(var J=Array(j),q=0;q<j;q++)J[q]=arguments[q+2];Y.children=J}if(V&&V.defaultProps)for(k in j=V.defaultProps,j)Y[k]===void 0&&(Y[k]=j[k]);return E(V,Z,Y)},de.createRef=function(){return{current:null}},de.forwardRef=function(V){return{$$typeof:x,render:V}},de.isValidElement=M,de.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:H}},de.memo=function(V,U){return{$$typeof:o,type:V,compare:U===void 0?null:U}},de.startTransition=function(V){var U=S.T,F={};S.T=F;try{var k=V(),Y=S.S;Y!==null&&Y(F,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(p,X)}catch(Z){X(Z)}finally{U!==null&&F.types!==null&&(U.types=F.types),S.T=U}},de.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},de.use=function(V){return S.H.use(V)},de.useActionState=function(V,U,F){return S.H.useActionState(V,U,F)},de.useCallback=function(V,U){return S.H.useCallback(V,U)},de.useContext=function(V){return S.H.useContext(V)},de.useDebugValue=function(){},de.useDeferredValue=function(V,U){return S.H.useDeferredValue(V,U)},de.useEffect=function(V,U){return S.H.useEffect(V,U)},de.useEffectEvent=function(V){return S.H.useEffectEvent(V)},de.useId=function(){return S.H.useId()},de.useImperativeHandle=function(V,U,F){return S.H.useImperativeHandle(V,U,F)},de.useInsertionEffect=function(V,U){return S.H.useInsertionEffect(V,U)},de.useLayoutEffect=function(V,U){return S.H.useLayoutEffect(V,U)},de.useMemo=function(V,U){return S.H.useMemo(V,U)},de.useOptimistic=function(V,U){return S.H.useOptimistic(V,U)},de.useReducer=function(V,U,F){return S.H.useReducer(V,U,F)},de.useRef=function(V){return S.H.useRef(V)},de.useState=function(V){return S.H.useState(V)},de.useSyncExternalStore=function(V,U,F){return S.H.useSyncExternalStore(V,U,F)},de.useTransition=function(){return S.H.useTransition()},de.version="19.2.4",de}var TT;function Zm(){return TT||(TT=1,M0.exports=t5()),M0.exports}var ot=Zm();const Yt=Ra(ot);var O0={exports:{}},Iu={},b0={exports:{}},L0={};var ST;function e5(){return ST||(ST=1,(function(A){function g(N,z){var H=N.length;N.push(z);t:for(;0<H;){var X=H-1>>>1,W=N[X];if(0<O(W,z))N[X]=z,N[H]=W,H=X;else break t}}function m(N){return N.length===0?null:N[0]}function T(N){if(N.length===0)return null;var z=N[0],H=N.pop();if(H!==z){N[0]=H;t:for(var X=0,W=N.length,V=W>>>1;X<V;){var U=2*(X+1)-1,F=N[U],k=U+1,Y=N[k];if(0>O(F,H))k<W&&0>O(Y,F)?(N[X]=Y,N[k]=H,X=k):(N[X]=F,N[U]=H,X=U);else if(k<W&&0>O(Y,H))N[X]=Y,N[k]=H,X=k;else break t}}return z}function O(N,z){var H=N.sortIndex-z.sortIndex;return H!==0?H:N.id-z.id}if(A.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var L=performance;A.unstable_now=function(){return L.now()}}else{var h=Date,x=h.now();A.unstable_now=function(){return h.now()-x}}var t=[],o=[],v=1,r=null,n=3,i=!1,e=!1,a=!1,l=!1,s=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;function c(N){for(var z=m(o);z!==null;){if(z.callback===null)T(o);else if(z.startTime<=N)T(o),z.sortIndex=z.expirationTime,g(t,z);else break;z=m(o)}}function d(N){if(a=!1,c(N),!e)if(m(t)!==null)e=!0,p||(p=!0,D());else{var z=m(o);z!==null&&I(d,z.startTime-N)}}var p=!1,S=-1,C=5,E=-1;function R(){return l?!0:!(A.unstable_now()-E<C)}function M(){if(l=!1,p){var N=A.unstable_now();E=N;var z=!0;try{t:{e=!1,a&&(a=!1,u(S),S=-1),i=!0;var H=n;try{e:{for(c(N),r=m(t);r!==null&&!(r.expirationTime>N&&R());){var X=r.callback;if(typeof X=="function"){r.callback=null,n=r.priorityLevel;var W=X(r.expirationTime<=N);if(N=A.unstable_now(),typeof W=="function"){r.callback=W,c(N),z=!0;break e}r===m(t)&&T(t),c(N)}else T(t);r=m(t)}if(r!==null)z=!0;else{var V=m(o);V!==null&&I(d,V.startTime-N),z=!1}}break t}finally{r=null,n=H,i=!1}z=void 0}}finally{z?D():p=!1}}}var D;if(typeof f=="function")D=function(){f(M)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,b=B.port2;B.port1.onmessage=M,D=function(){b.postMessage(null)}}else D=function(){s(M,0)};function I(N,z){S=s(function(){N(A.unstable_now())},z)}A.unstable_IdlePriority=5,A.unstable_ImmediatePriority=1,A.unstable_LowPriority=4,A.unstable_NormalPriority=3,A.unstable_Profiling=null,A.unstable_UserBlockingPriority=2,A.unstable_cancelCallback=function(N){N.callback=null},A.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},A.unstable_getCurrentPriorityLevel=function(){return n},A.unstable_next=function(N){switch(n){case 1:case 2:case 3:var z=3;break;default:z=n}var H=n;n=z;try{return N()}finally{n=H}},A.unstable_requestPaint=function(){l=!0},A.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var H=n;n=N;try{return z()}finally{n=H}},A.unstable_scheduleCallback=function(N,z,H){var X=A.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?X+H:X):H=X,N){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,N={id:v++,callback:z,priorityLevel:N,startTime:H,expirationTime:W,sortIndex:-1},H>X?(N.sortIndex=H,g(o,N),m(t)===null&&N===m(o)&&(a?(u(S),S=-1):a=!0,I(d,H-X))):(N.sortIndex=W,g(t,N),e||i||(e=!0,p||(p=!0,D()))),N},A.unstable_shouldYield=R,A.unstable_wrapCallback=function(N){var z=n;return function(){var H=n;n=z;try{return N.apply(this,arguments)}finally{n=H}}}})(L0)),L0}var ET;function i5(){return ET||(ET=1,b0.exports=e5()),b0.exports}var I0={exports:{}},hn={};var wT;function n5(){if(wT)return hn;wT=1;var A=Zm();function g(t){var o="https://react.dev/errors/"+t;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)o+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var T={d:{f:m,r:function(){throw Error(g(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},O=Symbol.for("react.portal");function L(t,o,v){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:r==null?null:""+r,children:t,containerInfo:o,implementation:v}}var h=A.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(t,o){if(t==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,hn.createPortal=function(t,o){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(g(299));return L(t,o,null,v)},hn.flushSync=function(t){var o=h.T,v=T.p;try{if(h.T=null,T.p=2,t)return t()}finally{h.T=o,T.p=v,T.d.f()}},hn.preconnect=function(t,o){typeof t=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,T.d.C(t,o))},hn.prefetchDNS=function(t){typeof t=="string"&&T.d.D(t)},hn.preinit=function(t,o){if(typeof t=="string"&&o&&typeof o.as=="string"){var v=o.as,r=x(v,o.crossOrigin),n=typeof o.integrity=="string"?o.integrity:void 0,i=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;v==="style"?T.d.S(t,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:r,integrity:n,fetchPriority:i}):v==="script"&&T.d.X(t,{crossOrigin:r,integrity:n,fetchPriority:i,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},hn.preinitModule=function(t,o){if(typeof t=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var v=x(o.as,o.crossOrigin);T.d.M(t,{crossOrigin:v,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&T.d.M(t)},hn.preload=function(t,o){if(typeof t=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var v=o.as,r=x(v,o.crossOrigin);T.d.L(t,v,{crossOrigin:r,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},hn.preloadModule=function(t,o){if(typeof t=="string")if(o){var v=x(o.as,o.crossOrigin);T.d.m(t,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:v,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else T.d.m(t)},hn.requestFormReset=function(t){T.d.r(t)},hn.unstable_batchedUpdates=function(t,o){return t(o)},hn.useFormState=function(t,o,v){return h.H.useFormState(t,o,v)},hn.useFormStatus=function(){return h.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var AT;function ww(){if(AT)return I0.exports;AT=1;function A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A)}catch(g){console.error(g)}}return A(),I0.exports=n5(),I0.exports}var CT;function r5(){if(CT)return Iu;CT=1;var A=i5(),g=Zm(),m=ww();function T(y){var w="https://react.dev/errors/"+y;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var P=2;P<arguments.length;P++)w+="&args[]="+encodeURIComponent(arguments[P])}return"Minified React error #"+y+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function O(y){return!(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)}function L(y){var w=y,P=y;if(y.alternate)for(;w.return;)w=w.return;else{y=w;do w=y,(w.flags&4098)!==0&&(P=w.return),y=w.return;while(y)}return w.tag===3?P:null}function h(y){if(y.tag===13){var w=y.memoizedState;if(w===null&&(y=y.alternate,y!==null&&(w=y.memoizedState)),w!==null)return w.dehydrated}return null}function x(y){if(y.tag===31){var w=y.memoizedState;if(w===null&&(y=y.alternate,y!==null&&(w=y.memoizedState)),w!==null)return w.dehydrated}return null}function t(y){if(L(y)!==y)throw Error(T(188))}function o(y){var w=y.alternate;if(!w){if(w=L(y),w===null)throw Error(T(188));return w!==y?null:y}for(var P=y,G=w;;){var K=P.return;if(K===null)break;var Q=K.alternate;if(Q===null){if(G=K.return,G!==null){P=G;continue}break}if(K.child===Q.child){for(Q=K.child;Q;){if(Q===P)return t(K),y;if(Q===G)return t(K),w;Q=Q.sibling}throw Error(T(188))}if(P.return!==G.return)P=K,G=Q;else{for(var tt=!1,rt=K.child;rt;){if(rt===P){tt=!0,P=K,G=Q;break}if(rt===G){tt=!0,G=K,P=Q;break}rt=rt.sibling}if(!tt){for(rt=Q.child;rt;){if(rt===P){tt=!0,P=Q,G=K;break}if(rt===G){tt=!0,G=Q,P=K;break}rt=rt.sibling}if(!tt)throw Error(T(189))}}if(P.alternate!==G)throw Error(T(190))}if(P.tag!==3)throw Error(T(188));return P.stateNode.current===P?y:w}function v(y){var w=y.tag;if(w===5||w===26||w===27||w===6)return y;for(y=y.child;y!==null;){if(w=v(y),w!==null)return w;y=y.sibling}return null}var r=Object.assign,n=Symbol.for("react.element"),i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function D(y){return y===null||typeof y!="object"?null:(y=M&&y[M]||y["@@iterator"],typeof y=="function"?y:null)}var B=Symbol.for("react.client.reference");function b(y){if(y==null)return null;if(typeof y=="function")return y.$$typeof===B?null:y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case a:return"Fragment";case s:return"Profiler";case l:return"StrictMode";case d:return"Suspense";case p:return"SuspenseList";case E:return"Activity"}if(typeof y=="object")switch(y.$$typeof){case e:return"Portal";case f:return y.displayName||"Context";case u:return(y._context.displayName||"Context")+".Consumer";case c:var w=y.render;return y=y.displayName,y||(y=w.displayName||w.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case S:return w=y.displayName||null,w!==null?w:b(y.type)||"Memo";case C:w=y._payload,y=y._init;try{return b(y(w))}catch{}}return null}var I=Array.isArray,N=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},X=[],W=-1;function V(y){return{current:y}}function U(y){0>W||(y.current=X[W],X[W]=null,W--)}function F(y,w){W++,X[W]=y.current,y.current=w}var k=V(null),Y=V(null),Z=V(null),j=V(null);function J(y,w){switch(F(Z,w),F(Y,y),F(k,null),w.nodeType){case 9:case 11:y=(y=w.documentElement)&&(y=y.namespaceURI)?Vx(y):0;break;default:if(y=w.tagName,w=w.namespaceURI)w=Vx(w),y=Hx(w,y);else switch(y){case"svg":y=1;break;case"math":y=2;break;default:y=0}}U(k),F(k,y)}function q(){U(k),U(Y),U(Z)}function et(y){y.memoizedState!==null&&F(j,y);var w=k.current,P=Hx(w,y.type);w!==P&&(F(Y,y),F(k,P))}function it(y){Y.current===y&&(U(k),U(Y)),j.current===y&&(U(j),Ru._currentValue=H)}var at,ut;function dt(y){if(at===void 0)try{throw Error()}catch(P){var w=P.stack.trim().match(/\n( *(at )?)/);at=w&&w[1]||"",ut=-1<P.stack.indexOf(`
    at`)?" (<anonymous>)":-1<P.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+y+ut}var ft=!1;function xt(y,w){if(!y||ft)return"";ft=!0;var P=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var G={DetermineComponentFrameRoot:function(){try{if(w){var Dt=function(){throw Error()};if(Object.defineProperty(Dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Dt,[])}catch(Lt){var Rt=Lt}Reflect.construct(y,[],Dt)}else{try{Dt.call()}catch(Lt){Rt=Lt}y.call(Dt.prototype)}}else{try{throw Error()}catch(Lt){Rt=Lt}(Dt=y())&&typeof Dt.catch=="function"&&Dt.catch(function(){})}}catch(Lt){if(Lt&&Rt&&typeof Lt.stack=="string")return[Lt.stack,Rt.stack]}return[null,null]}};G.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var K=Object.getOwnPropertyDescriptor(G.DetermineComponentFrameRoot,"name");K&&K.configurable&&Object.defineProperty(G.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Q=G.DetermineComponentFrameRoot(),tt=Q[0],rt=Q[1];if(tt&&rt){var ht=tt.split(`
`),Et=rt.split(`
`);for(K=G=0;G<ht.length&&!ht[G].includes("DetermineComponentFrameRoot");)G++;for(;K<Et.length&&!Et[K].includes("DetermineComponentFrameRoot");)K++;if(G===ht.length||K===Et.length)for(G=ht.length-1,K=Et.length-1;1<=G&&0<=K&&ht[G]!==Et[K];)K--;for(;1<=G&&0<=K;G--,K--)if(ht[G]!==Et[K]){if(G!==1||K!==1)do if(G--,K--,0>K||ht[G]!==Et[K]){var It=`
`+ht[G].replace(" at new "," at ");return y.displayName&&It.includes("<anonymous>")&&(It=It.replace("<anonymous>",y.displayName)),It}while(1<=G&&0<=K);break}}}finally{ft=!1,Error.prepareStackTrace=P}return(P=y?y.displayName||y.name:"")?dt(P):""}function At(y,w){switch(y.tag){case 26:case 27:case 5:return dt(y.type);case 16:return dt("Lazy");case 13:return y.child!==w&&w!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return xt(y.type,!1);case 11:return xt(y.type.render,!1);case 1:return xt(y.type,!0);case 31:return dt("Activity");default:return""}}function gt(y){try{var w="",P=null;do w+=At(y,P),P=y,y=y.return;while(y);return w}catch(G){return`
Error generating stack: `+G.message+`
`+G.stack}}var Wt=Object.prototype.hasOwnProperty,Ht=A.unstable_scheduleCallback,Gt=A.unstable_cancelCallback,Ot=A.unstable_shouldYield,Bt=A.unstable_requestPaint,Pt=A.unstable_now,te=A.unstable_getCurrentPriorityLevel,_t=A.unstable_ImmediatePriority,nt=A.unstable_UserBlockingPriority,$=A.unstable_NormalPriority,_=A.unstable_LowPriority,st=A.unstable_IdlePriority,ct=A.log,pt=A.unstable_setDisableYieldValue,yt=null,kt=null;function Jt(y){if(typeof ct=="function"&&pt(y),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(yt,y)}catch{}}var qt=Math.clz32?Math.clz32:Ne,xe=Math.log,re=Math.LN2;function Ne(y){return y>>>=0,y===0?32:31-(xe(y)/re|0)|0}var Ni=256,qe=262144,ke=4194304;function Jn(y){var w=y&42;if(w!==0)return w;switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return y&261888;case 262144:case 524288:case 1048576:case 2097152:return y&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return y&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return y}}function je(y,w,P){var G=y.pendingLanes;if(G===0)return 0;var K=0,Q=y.suspendedLanes,tt=y.pingedLanes;y=y.warmLanes;var rt=G&134217727;return rt!==0?(G=rt&~Q,G!==0?K=Jn(G):(tt&=rt,tt!==0?K=Jn(tt):P||(P=rt&~y,P!==0&&(K=Jn(P))))):(rt=G&~Q,rt!==0?K=Jn(rt):tt!==0?K=Jn(tt):P||(P=G&~y,P!==0&&(K=Jn(P)))),K===0?0:w!==0&&w!==K&&(w&Q)===0&&(Q=K&-K,P=w&-w,Q>=P||Q===32&&(P&4194048)!==0)?w:K}function Ke(y,w){return(y.pendingLanes&~(y.suspendedLanes&~y.pingedLanes)&w)===0}function ba(y,w){switch(y){case 1:case 2:case 4:case 8:case 64:return w+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ui(){var y=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),y}function _e(y){for(var w=[],P=0;31>P;P++)w.push(y);return w}function Rr(y,w){y.pendingLanes|=w,w!==268435456&&(y.suspendedLanes=0,y.pingedLanes=0,y.warmLanes=0)}function di(y,w,P,G,K,Q){var tt=y.pendingLanes;y.pendingLanes=P,y.suspendedLanes=0,y.pingedLanes=0,y.warmLanes=0,y.expiredLanes&=P,y.entangledLanes&=P,y.errorRecoveryDisabledLanes&=P,y.shellSuspendCounter=0;var rt=y.entanglements,ht=y.expirationTimes,Et=y.hiddenUpdates;for(P=tt&~P;0<P;){var It=31-qt(P),Dt=1<<It;rt[It]=0,ht[It]=-1;var Rt=Et[It];if(Rt!==null)for(Et[It]=null,It=0;It<Rt.length;It++){var Lt=Rt[It];Lt!==null&&(Lt.lane&=-536870913)}P&=~Dt}G!==0&&hi(y,G,0),Q!==0&&K===0&&y.tag!==0&&(y.suspendedLanes|=Q&~(tt&~w))}function hi(y,w,P){y.pendingLanes|=w,y.suspendedLanes&=~w;var G=31-qt(w);y.entangledLanes|=w,y.entanglements[G]=y.entanglements[G]|1073741824|P&261930}function La(y,w){var P=y.entangledLanes|=w;for(y=y.entanglements;P;){var G=31-qt(P),K=1<<G;K&w|y[G]&w&&(y[G]|=w),P&=~K}}function ei(y,w){var P=w&-w;return P=(P&42)!==0?1:ii(P),(P&(y.suspendedLanes|w))!==0?0:P}function ii(y){switch(y){case 2:y=1;break;case 8:y=4;break;case 32:y=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:y=128;break;case 268435456:y=134217728;break;default:y=0}return y}function Bs(y){return y&=-y,2<y?8<y?(y&134217727)!==0?32:268435456:8:2}function ni(){var y=z.p;return y!==0?y:(y=window.event,y===void 0?32:hT(y.type))}function ri(y,w){var P=z.p;try{return z.p=y,w()}finally{z.p=P}}var Bn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Bn,Vt="__reactProps$"+Bn,Ae="__reactContainer$"+Bn,fe="__reactEvents$"+Bn,ce="__reactListeners$"+Bn,Mr="__reactHandles$"+Bn,si="__reactResources$"+Bn,ln="__reactMarker$"+Bn;function un(y){delete y[wt],delete y[Vt],delete y[fe],delete y[ce],delete y[Mr]}function xi(y){var w=y[wt];if(w)return w;for(var P=y.parentNode;P;){if(w=P[Ae]||P[wt]){if(P=w.alternate,w.child!==null||P!==null&&P.child!==null)for(y=Zx(y);y!==null;){if(P=y[wt])return P;y=Zx(y)}return w}y=P,P=y.parentNode}return null}function $n(y){if(y=y[wt]||y[Ae]){var w=y.tag;if(w===5||w===6||w===13||w===31||w===26||w===27||w===3)return y}return null}function yn(y){var w=y.tag;if(w===5||w===26||w===27||w===6)return y.stateNode;throw Error(T(33))}function qn(y){var w=y[si];return w||(w=y[si]={hoistableStyles:new Map,hoistableScripts:new Map}),w}function vi(y){y[ln]=!0}var fr=new Set,Fn={};function Di(y,w){_i(y,w),_i(y+"Capture",w)}function _i(y,w){for(Fn[y]=w,y=0;y<w.length;y++)fr.add(w[y])}var xn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Or={},Kr={};function Fs(y){return Wt.call(Kr,y)?!0:Wt.call(Or,y)?!1:xn.test(y)?Kr[y]=!0:(Or[y]=!0,!1)}function br(y,w,P){if(Fs(w))if(P===null)y.removeAttribute(w);else{switch(typeof P){case"undefined":case"function":case"symbol":y.removeAttribute(w);return;case"boolean":var G=w.toLowerCase().slice(0,5);if(G!=="data-"&&G!=="aria-"){y.removeAttribute(w);return}}y.setAttribute(w,""+P)}}function _n(y,w,P){if(P===null)y.removeAttribute(w);else{switch(typeof P){case"undefined":case"function":case"symbol":case"boolean":y.removeAttribute(w);return}y.setAttribute(w,""+P)}}function cr(y,w,P,G){if(G===null)y.removeAttribute(P);else{switch(typeof G){case"undefined":case"function":case"symbol":case"boolean":y.removeAttribute(P);return}y.setAttributeNS(w,P,""+G)}}function wn(y){switch(typeof y){case"bigint":case"boolean":case"number":case"string":case"undefined":return y;case"object":return y;default:return""}}function Oo(y){var w=y.type;return(y=y.nodeName)&&y.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function Sd(y,w,P){var G=Object.getOwnPropertyDescriptor(y.constructor.prototype,w);if(!y.hasOwnProperty(w)&&typeof G<"u"&&typeof G.get=="function"&&typeof G.set=="function"){var K=G.get,Q=G.set;return Object.defineProperty(y,w,{configurable:!0,get:function(){return K.call(this)},set:function(tt){P=""+tt,Q.call(this,tt)}}),Object.defineProperty(y,w,{enumerable:G.enumerable}),{getValue:function(){return P},setValue:function(tt){P=""+tt},stopTracking:function(){y._valueTracker=null,delete y[w]}}}}function Yl(y){if(!y._valueTracker){var w=Oo(y)?"checked":"value";y._valueTracker=Sd(y,w,""+y[w])}}function wh(y){if(!y)return!1;var w=y._valueTracker;if(!w)return!0;var P=w.getValue(),G="";return y&&(G=Oo(y)?y.checked?"true":"false":y.value),y=G,y!==P?(w.setValue(y),!0):!1}function Un(y){if(y=y||(typeof document<"u"?document:void 0),typeof y>"u")return null;try{return y.activeElement||y.body}catch{return y.body}}var Ce=/[\n"\\]/g;function Oe(y){return y.replace(Ce,function(w){return"\\"+w.charCodeAt(0).toString(16)+" "})}function De(y,w,P,G,K,Q,tt,rt){y.name="",tt!=null&&typeof tt!="function"&&typeof tt!="symbol"&&typeof tt!="boolean"?y.type=tt:y.removeAttribute("type"),w!=null?tt==="number"?(w===0&&y.value===""||y.value!=w)&&(y.value=""+wn(w)):y.value!==""+wn(w)&&(y.value=""+wn(w)):tt!=="submit"&&tt!=="reset"||y.removeAttribute("value"),w!=null?dr(y,tt,wn(w)):P!=null?dr(y,tt,wn(P)):G!=null&&y.removeAttribute("value"),K==null&&Q!=null&&(y.defaultChecked=!!Q),K!=null&&(y.checked=K&&typeof K!="function"&&typeof K!="symbol"),rt!=null&&typeof rt!="function"&&typeof rt!="symbol"&&typeof rt!="boolean"?y.name=""+wn(rt):y.removeAttribute("name")}function Ai(y,w,P,G,K,Q,tt,rt){if(Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&(y.type=Q),w!=null||P!=null){if(!(Q!=="submit"&&Q!=="reset"||w!=null)){Yl(y);return}P=P!=null?""+wn(P):"",w=w!=null?""+wn(w):P,rt||w===y.value||(y.value=w),y.defaultValue=w}G=G??K,G=typeof G!="function"&&typeof G!="symbol"&&!!G,y.checked=rt?y.checked:!!G,y.defaultChecked=!!G,tt!=null&&typeof tt!="function"&&typeof tt!="symbol"&&typeof tt!="boolean"&&(y.name=tt),Yl(y)}function dr(y,w,P){w==="number"&&Un(y.ownerDocument)===y||y.defaultValue===""+P||(y.defaultValue=""+P)}function vr(y,w,P,G){if(y=y.options,w){w={};for(var K=0;K<P.length;K++)w["$"+P[K]]=!0;for(P=0;P<y.length;P++)K=w.hasOwnProperty("$"+y[P].value),y[P].selected!==K&&(y[P].selected=K),K&&G&&(y[P].defaultSelected=!0)}else{for(P=""+wn(P),w=null,K=0;K<y.length;K++){if(y[K].value===P){y[K].selected=!0,G&&(y[K].defaultSelected=!0);return}w!==null||y[K].disabled||(w=y[K])}w!==null&&(w.selected=!0)}}function pr(y,w,P){if(w!=null&&(w=""+wn(w),w!==y.value&&(y.value=w),P==null)){y.defaultValue!==w&&(y.defaultValue=w);return}y.defaultValue=P!=null?""+wn(P):""}function Us(y,w,P,G){if(w==null){if(G!=null){if(P!=null)throw Error(T(92));if(I(G)){if(1<G.length)throw Error(T(93));G=G[0]}P=G}P==null&&(P=""),w=P}P=wn(w),y.defaultValue=P,G=y.textContent,G===P&&G!==""&&G!==null&&(y.value=G),Yl(y)}function Zr(y,w){if(w){var P=y.firstChild;if(P&&P===y.lastChild&&P.nodeType===3){P.nodeValue=w;return}}y.textContent=w}var K3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ug(y,w,P){var G=w.indexOf("--")===0;P==null||typeof P=="boolean"||P===""?G?y.setProperty(w,""):w==="float"?y.cssFloat="":y[w]="":G?y.setProperty(w,P):typeof P!="number"||P===0||K3.has(w)?w==="float"?y.cssFloat=P:y[w]=(""+P).trim():y[w]=P+"px"}function zg(y,w,P){if(w!=null&&typeof w!="object")throw Error(T(62));if(y=y.style,P!=null){for(var G in P)!P.hasOwnProperty(G)||w!=null&&w.hasOwnProperty(G)||(G.indexOf("--")===0?y.setProperty(G,""):G==="float"?y.cssFloat="":y[G]="");for(var K in w)G=w[K],w.hasOwnProperty(K)&&P[K]!==G&&Ug(y,K,G)}else for(var Q in w)w.hasOwnProperty(Q)&&Ug(y,Q,w[Q])}function Ed(y){if(y.indexOf("-")===-1)return!1;switch(y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Q3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ah(y){return Q3.test(""+y)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":y}function Qr(){}var wd=null;function Ad(y){return y=y.target||y.srcElement||window,y.correspondingUseElement&&(y=y.correspondingUseElement),y.nodeType===3?y.parentNode:y}var bo=null,Lo=null;function Gg(y){var w=$n(y);if(w&&(y=w.stateNode)){var P=y[Vt]||null;t:switch(y=w.stateNode,w.type){case"input":if(De(y,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name),w=P.name,P.type==="radio"&&w!=null){for(P=y;P.parentNode;)P=P.parentNode;for(P=P.querySelectorAll('input[name="'+Oe(""+w)+'"][type="radio"]'),w=0;w<P.length;w++){var G=P[w];if(G!==y&&G.form===y.form){var K=G[Vt]||null;if(!K)throw Error(T(90));De(G,K.value,K.defaultValue,K.defaultValue,K.checked,K.defaultChecked,K.type,K.name)}}for(w=0;w<P.length;w++)G=P[w],G.form===y.form&&wh(G)}break t;case"textarea":pr(y,P.value,P.defaultValue);break t;case"select":w=P.value,w!=null&&vr(y,!!P.multiple,w,!1)}}}var Cd=!1;function Vg(y,w,P){if(Cd)return y(w,P);Cd=!0;try{var G=y(w);return G}finally{if(Cd=!1,(bo!==null||Lo!==null)&&(cf(),bo&&(w=bo,y=Lo,Lo=bo=null,Gg(w),y)))for(w=0;w<y.length;w++)Gg(y[w])}}function Wl(y,w){var P=y.stateNode;if(P===null)return null;var G=P[Vt]||null;if(G===null)return null;P=G[w];t:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(G=!G.disabled)||(y=y.type,G=!(y==="button"||y==="input"||y==="select"||y==="textarea")),y=!G;break t;default:y=!1}if(y)return null;if(P&&typeof P!="function")throw Error(T(231,w,typeof P));return P}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rd=!1;if(Jr)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){Rd=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{Rd=!1}var zs=null,Md=null,Ch=null;function Hg(){if(Ch)return Ch;var y,w=Md,P=w.length,G,K="value"in zs?zs.value:zs.textContent,Q=K.length;for(y=0;y<P&&w[y]===K[y];y++);var tt=P-y;for(G=1;G<=tt&&w[P-G]===K[Q-G];G++);return Ch=K.slice(y,1<G?1-G:void 0)}function Rh(y){var w=y.keyCode;return"charCode"in y?(y=y.charCode,y===0&&w===13&&(y=13)):y=w,y===10&&(y=13),32<=y||y===13?y:0}function Mh(){return!0}function Yg(){return!1}function An(y){function w(P,G,K,Q,tt){this._reactName=P,this._targetInst=K,this.type=G,this.nativeEvent=Q,this.target=tt,this.currentTarget=null;for(var rt in y)y.hasOwnProperty(rt)&&(P=y[rt],this[rt]=P?P(Q):Q[rt]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?Mh:Yg,this.isPropagationStopped=Yg,this}return r(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var P=this.nativeEvent;P&&(P.preventDefault?P.preventDefault():typeof P.returnValue!="unknown"&&(P.returnValue=!1),this.isDefaultPrevented=Mh)},stopPropagation:function(){var P=this.nativeEvent;P&&(P.stopPropagation?P.stopPropagation():typeof P.cancelBubble!="unknown"&&(P.cancelBubble=!0),this.isPropagationStopped=Mh)},persist:function(){},isPersistent:Mh}),w}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(y){return y.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oh=An(Ia),kl=r({},Ia,{view:0,detail:0}),J3=An(kl),Od,bd,jl,bh=r({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Id,button:0,buttons:0,relatedTarget:function(y){return y.relatedTarget===void 0?y.fromElement===y.srcElement?y.toElement:y.fromElement:y.relatedTarget},movementX:function(y){return"movementX"in y?y.movementX:(y!==jl&&(jl&&y.type==="mousemove"?(Od=y.screenX-jl.screenX,bd=y.screenY-jl.screenY):bd=Od=0,jl=y),Od)},movementY:function(y){return"movementY"in y?y.movementY:bd}}),Wg=An(bh),$3=r({},bh,{dataTransfer:0}),q3=An($3),_3=r({},kl,{relatedTarget:0}),Ld=An(_3),tM=r({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),eM=An(tM),iM=r({},Ia,{clipboardData:function(y){return"clipboardData"in y?y.clipboardData:window.clipboardData}}),nM=An(iM),rM=r({},Ia,{data:0}),Xg=An(rM),sM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lM(y){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(y):(y=oM[y])?!!w[y]:!1}function Id(){return lM}var uM=r({},kl,{key:function(y){if(y.key){var w=sM[y.key]||y.key;if(w!=="Unidentified")return w}return y.type==="keypress"?(y=Rh(y),y===13?"Enter":String.fromCharCode(y)):y.type==="keydown"||y.type==="keyup"?aM[y.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Id,charCode:function(y){return y.type==="keypress"?Rh(y):0},keyCode:function(y){return y.type==="keydown"||y.type==="keyup"?y.keyCode:0},which:function(y){return y.type==="keypress"?Rh(y):y.type==="keydown"||y.type==="keyup"?y.keyCode:0}}),hM=An(uM),fM=r({},bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kg=An(fM),cM=r({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Id}),dM=An(cM),vM=r({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),pM=An(vM),mM=r({},bh,{deltaX:function(y){return"deltaX"in y?y.deltaX:"wheelDeltaX"in y?-y.wheelDeltaX:0},deltaY:function(y){return"deltaY"in y?y.deltaY:"wheelDeltaY"in y?-y.wheelDeltaY:"wheelDelta"in y?-y.wheelDelta:0},deltaZ:0,deltaMode:0}),gM=An(mM),yM=r({},Ia,{newState:0,oldState:0}),xM=An(yM),TM=[9,13,27,32],Pd=Jr&&"CompositionEvent"in window,Kl=null;Jr&&"documentMode"in document&&(Kl=document.documentMode);var SM=Jr&&"TextEvent"in window&&!Kl,jg=Jr&&(!Pd||Kl&&8<Kl&&11>=Kl),Kg=" ",Zg=!1;function Qg(y,w){switch(y){case"keyup":return TM.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(y){return y=y.detail,typeof y=="object"&&"data"in y?y.data:null}var Io=!1;function EM(y,w){switch(y){case"compositionend":return Jg(w);case"keypress":return w.which!==32?null:(Zg=!0,Kg);case"textInput":return y=w.data,y===Kg&&Zg?null:y;default:return null}}function wM(y,w){if(Io)return y==="compositionend"||!Pd&&Qg(y,w)?(y=Hg(),Ch=Md=zs=null,Io=!1,y):null;switch(y){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return jg&&w.locale!=="ko"?null:w.data;default:return null}}var AM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(y){var w=y&&y.nodeName&&y.nodeName.toLowerCase();return w==="input"?!!AM[y.type]:w==="textarea"}function qg(y,w,P,G){bo?Lo?Lo.push(G):Lo=[G]:bo=G,w=xf(w,"onChange"),0<w.length&&(P=new Oh("onChange","change",null,P,G),y.push({event:P,listeners:w}))}var Zl=null,Ql=null;function CM(y){Dx(y,0)}function Lh(y){var w=yn(y);if(wh(w))return y}function _g(y,w){if(y==="change")return w}var ty=!1;if(Jr){var Nd;if(Jr){var Dd="oninput"in document;if(!Dd){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),Dd=typeof ey.oninput=="function"}Nd=Dd}else Nd=!1;ty=Nd&&(!document.documentMode||9<document.documentMode)}function iy(){Zl&&(Zl.detachEvent("onpropertychange",ny),Ql=Zl=null)}function ny(y){if(y.propertyName==="value"&&Lh(Ql)){var w=[];qg(w,Ql,y,Ad(y)),Vg(CM,w)}}function RM(y,w,P){y==="focusin"?(iy(),Zl=w,Ql=P,Zl.attachEvent("onpropertychange",ny)):y==="focusout"&&iy()}function MM(y){if(y==="selectionchange"||y==="keyup"||y==="keydown")return Lh(Ql)}function OM(y,w){if(y==="click")return Lh(w)}function bM(y,w){if(y==="input"||y==="change")return Lh(w)}function LM(y,w){return y===w&&(y!==0||1/y===1/w)||y!==y&&w!==w}var zn=typeof Object.is=="function"?Object.is:LM;function Jl(y,w){if(zn(y,w))return!0;if(typeof y!="object"||y===null||typeof w!="object"||w===null)return!1;var P=Object.keys(y),G=Object.keys(w);if(P.length!==G.length)return!1;for(G=0;G<P.length;G++){var K=P[G];if(!Wt.call(w,K)||!zn(y[K],w[K]))return!1}return!0}function ry(y){for(;y&&y.firstChild;)y=y.firstChild;return y}function sy(y,w){var P=ry(y);y=0;for(var G;P;){if(P.nodeType===3){if(G=y+P.textContent.length,y<=w&&G>=w)return{node:P,offset:w-y};y=G}t:{for(;P;){if(P.nextSibling){P=P.nextSibling;break t}P=P.parentNode}P=void 0}P=ry(P)}}function ay(y,w){return y&&w?y===w?!0:y&&y.nodeType===3?!1:w&&w.nodeType===3?ay(y,w.parentNode):"contains"in y?y.contains(w):y.compareDocumentPosition?!!(y.compareDocumentPosition(w)&16):!1:!1}function oy(y){y=y!=null&&y.ownerDocument!=null&&y.ownerDocument.defaultView!=null?y.ownerDocument.defaultView:window;for(var w=Un(y.document);w instanceof y.HTMLIFrameElement;){try{var P=typeof w.contentWindow.location.href=="string"}catch{P=!1}if(P)y=w.contentWindow;else break;w=Un(y.document)}return w}function Bd(y){var w=y&&y.nodeName&&y.nodeName.toLowerCase();return w&&(w==="input"&&(y.type==="text"||y.type==="search"||y.type==="tel"||y.type==="url"||y.type==="password")||w==="textarea"||y.contentEditable==="true")}var IM=Jr&&"documentMode"in document&&11>=document.documentMode,Po=null,Fd=null,$l=null,Ud=!1;function ly(y,w,P){var G=P.window===P?P.document:P.nodeType===9?P:P.ownerDocument;Ud||Po==null||Po!==Un(G)||(G=Po,"selectionStart"in G&&Bd(G)?G={start:G.selectionStart,end:G.selectionEnd}:(G=(G.ownerDocument&&G.ownerDocument.defaultView||window).getSelection(),G={anchorNode:G.anchorNode,anchorOffset:G.anchorOffset,focusNode:G.focusNode,focusOffset:G.focusOffset}),$l&&Jl($l,G)||($l=G,G=xf(Fd,"onSelect"),0<G.length&&(w=new Oh("onSelect","select",null,w,P),y.push({event:w,listeners:G}),w.target=Po)))}function Pa(y,w){var P={};return P[y.toLowerCase()]=w.toLowerCase(),P["Webkit"+y]="webkit"+w,P["Moz"+y]="moz"+w,P}var No={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},zd={},uy={};Jr&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Na(y){if(zd[y])return zd[y];if(!No[y])return y;var w=No[y],P;for(P in w)if(w.hasOwnProperty(P)&&P in uy)return zd[y]=w[P];return y}var hy=Na("animationend"),fy=Na("animationiteration"),cy=Na("animationstart"),PM=Na("transitionrun"),NM=Na("transitionstart"),DM=Na("transitioncancel"),dy=Na("transitionend"),vy=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function mr(y,w){vy.set(y,w),Di(w,[y])}var Ih=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},tr=[],Do=0,Vd=0;function Ph(){for(var y=Do,w=Vd=Do=0;w<y;){var P=tr[w];tr[w++]=null;var G=tr[w];tr[w++]=null;var K=tr[w];tr[w++]=null;var Q=tr[w];if(tr[w++]=null,G!==null&&K!==null){var tt=G.pending;tt===null?K.next=K:(K.next=tt.next,tt.next=K),G.pending=K}Q!==0&&py(P,K,Q)}}function Nh(y,w,P,G){tr[Do++]=y,tr[Do++]=w,tr[Do++]=P,tr[Do++]=G,Vd|=G,y.lanes|=G,y=y.alternate,y!==null&&(y.lanes|=G)}function Hd(y,w,P,G){return Nh(y,w,P,G),Dh(y)}function Da(y,w){return Nh(y,null,null,w),Dh(y)}function py(y,w,P){y.lanes|=P;var G=y.alternate;G!==null&&(G.lanes|=P);for(var K=!1,Q=y.return;Q!==null;)Q.childLanes|=P,G=Q.alternate,G!==null&&(G.childLanes|=P),Q.tag===22&&(y=Q.stateNode,y===null||y._visibility&1||(K=!0)),y=Q,Q=Q.return;return y.tag===3?(Q=y.stateNode,K&&w!==null&&(K=31-qt(P),y=Q.hiddenUpdates,G=y[K],G===null?y[K]=[w]:G.push(w),w.lane=P|536870912),Q):null}function Dh(y){if(50<xu)throw xu=0,Jv=null,Error(T(185));for(var w=y.return;w!==null;)y=w,w=y.return;return y.tag===3?y.stateNode:null}var Bo={};function BM(y,w,P,G){this.tag=y,this.key=P,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=G,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(y,w,P,G){return new BM(y,w,P,G)}function Yd(y){return y=y.prototype,!(!y||!y.isReactComponent)}function $r(y,w){var P=y.alternate;return P===null?(P=Gn(y.tag,w,y.key,y.mode),P.elementType=y.elementType,P.type=y.type,P.stateNode=y.stateNode,P.alternate=y,y.alternate=P):(P.pendingProps=w,P.type=y.type,P.flags=0,P.subtreeFlags=0,P.deletions=null),P.flags=y.flags&65011712,P.childLanes=y.childLanes,P.lanes=y.lanes,P.child=y.child,P.memoizedProps=y.memoizedProps,P.memoizedState=y.memoizedState,P.updateQueue=y.updateQueue,w=y.dependencies,P.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},P.sibling=y.sibling,P.index=y.index,P.ref=y.ref,P.refCleanup=y.refCleanup,P}function my(y,w){y.flags&=65011714;var P=y.alternate;return P===null?(y.childLanes=0,y.lanes=w,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=P.childLanes,y.lanes=P.lanes,y.child=P.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=P.memoizedProps,y.memoizedState=P.memoizedState,y.updateQueue=P.updateQueue,y.type=P.type,w=P.dependencies,y.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),y}function Bh(y,w,P,G,K,Q){var tt=0;if(G=y,typeof y=="function")Yd(y)&&(tt=1);else if(typeof y=="string")tt=V4(y,P,k.current)?26:y==="html"||y==="head"||y==="body"?27:5;else t:switch(y){case E:return y=Gn(31,P,w,K),y.elementType=E,y.lanes=Q,y;case a:return Ba(P.children,K,Q,w);case l:tt=8,K|=24;break;case s:return y=Gn(12,P,w,K|2),y.elementType=s,y.lanes=Q,y;case d:return y=Gn(13,P,w,K),y.elementType=d,y.lanes=Q,y;case p:return y=Gn(19,P,w,K),y.elementType=p,y.lanes=Q,y;default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case f:tt=10;break t;case u:tt=9;break t;case c:tt=11;break t;case S:tt=14;break t;case C:tt=16,G=null;break t}tt=29,P=Error(T(130,y===null?"null":typeof y,"")),G=null}return w=Gn(tt,P,w,K),w.elementType=y,w.type=G,w.lanes=Q,w}function Ba(y,w,P,G){return y=Gn(7,y,G,w),y.lanes=P,y}function Wd(y,w,P){return y=Gn(6,y,null,w),y.lanes=P,y}function gy(y){var w=Gn(18,null,null,0);return w.stateNode=y,w}function Xd(y,w,P){return w=Gn(4,y.children!==null?y.children:[],y.key,w),w.lanes=P,w.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},w}var yy=new WeakMap;function er(y,w){if(typeof y=="object"&&y!==null){var P=yy.get(y);return P!==void 0?P:(w={value:y,source:w,stack:gt(w)},yy.set(y,w),w)}return{value:y,source:w,stack:gt(w)}}var Fo=[],Uo=0,Fh=null,ql=0,ir=[],nr=0,Gs=null,Lr=1,Ir="";function qr(y,w){Fo[Uo++]=ql,Fo[Uo++]=Fh,Fh=y,ql=w}function xy(y,w,P){ir[nr++]=Lr,ir[nr++]=Ir,ir[nr++]=Gs,Gs=y;var G=Lr;y=Ir;var K=32-qt(G)-1;G&=~(1<<K),P+=1;var Q=32-qt(w)+K;if(30<Q){var tt=K-K%5;Q=(G&(1<<tt)-1).toString(32),G>>=tt,K-=tt,Lr=1<<32-qt(w)+K|P<<K|G,Ir=Q+y}else Lr=1<<Q|P<<K|G,Ir=y}function kd(y){y.return!==null&&(qr(y,1),xy(y,1,0))}function jd(y){for(;y===Fh;)Fh=Fo[--Uo],Fo[Uo]=null,ql=Fo[--Uo],Fo[Uo]=null;for(;y===Gs;)Gs=ir[--nr],ir[nr]=null,Ir=ir[--nr],ir[nr]=null,Lr=ir[--nr],ir[nr]=null}function Ty(y,w){ir[nr++]=Lr,ir[nr++]=Ir,ir[nr++]=Gs,Lr=w.id,Ir=w.overflow,Gs=y}var tn=null,fi=null,be=!1,Vs=null,rr=!1,Kd=Error(T(519));function Hs(y){var w=Error(T(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(er(w,y)),Kd}function Sy(y){var w=y.stateNode,P=y.type,G=y.memoizedProps;switch(w[wt]=y,w[Vt]=G,P){case"dialog":Ee("cancel",w),Ee("close",w);break;case"iframe":case"object":case"embed":Ee("load",w);break;case"video":case"audio":for(P=0;P<Su.length;P++)Ee(Su[P],w);break;case"source":Ee("error",w);break;case"img":case"image":case"link":Ee("error",w),Ee("load",w);break;case"details":Ee("toggle",w);break;case"input":Ee("invalid",w),Ai(w,G.value,G.defaultValue,G.checked,G.defaultChecked,G.type,G.name,!0);break;case"select":Ee("invalid",w);break;case"textarea":Ee("invalid",w),Us(w,G.value,G.defaultValue,G.children)}P=G.children,typeof P!="string"&&typeof P!="number"&&typeof P!="bigint"||w.textContent===""+P||G.suppressHydrationWarning===!0||zx(w.textContent,P)?(G.popover!=null&&(Ee("beforetoggle",w),Ee("toggle",w)),G.onScroll!=null&&Ee("scroll",w),G.onScrollEnd!=null&&Ee("scrollend",w),G.onClick!=null&&(w.onclick=Qr),w=!0):w=!1,w||Hs(y,!0)}function Ey(y){for(tn=y.return;tn;)switch(tn.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:tn=tn.return}}function zo(y){if(y!==tn)return!1;if(!be)return Ey(y),be=!0,!1;var w=y.tag,P;if((P=w!==3&&w!==27)&&((P=w===5)&&(P=y.type,P=!(P!=="form"&&P!=="button")||f0(y.type,y.memoizedProps)),P=!P),P&&fi&&Hs(y),Ey(y),w===13){if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(T(317));fi=Kx(y)}else if(w===31){if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(T(317));fi=Kx(y)}else w===27?(w=fi,ea(y.type)?(y=m0,m0=null,fi=y):fi=w):fi=tn?ar(y.stateNode.nextSibling):null;return!0}function Fa(){fi=tn=null,be=!1}function Zd(){var y=Vs;return y!==null&&(On===null?On=y:On.push.apply(On,y),Vs=null),y}function _l(y){Vs===null?Vs=[y]:Vs.push(y)}var Qd=V(null),Ua=null,_r=null;function Ys(y,w,P){F(Qd,w._currentValue),w._currentValue=P}function ts(y){y._currentValue=Qd.current,U(Qd)}function Jd(y,w,P){for(;y!==null;){var G=y.alternate;if((y.childLanes&w)!==w?(y.childLanes|=w,G!==null&&(G.childLanes|=w)):G!==null&&(G.childLanes&w)!==w&&(G.childLanes|=w),y===P)break;y=y.return}}function $d(y,w,P,G){var K=y.child;for(K!==null&&(K.return=y);K!==null;){var Q=K.dependencies;if(Q!==null){var tt=K.child;Q=Q.firstContext;t:for(;Q!==null;){var rt=Q;Q=K;for(var ht=0;ht<w.length;ht++)if(rt.context===w[ht]){Q.lanes|=P,rt=Q.alternate,rt!==null&&(rt.lanes|=P),Jd(Q.return,P,y),G||(tt=null);break t}Q=rt.next}}else if(K.tag===18){if(tt=K.return,tt===null)throw Error(T(341));tt.lanes|=P,Q=tt.alternate,Q!==null&&(Q.lanes|=P),Jd(tt,P,y),tt=null}else tt=K.child;if(tt!==null)tt.return=K;else for(tt=K;tt!==null;){if(tt===y){tt=null;break}if(K=tt.sibling,K!==null){K.return=tt.return,tt=K;break}tt=tt.return}K=tt}}function Go(y,w,P,G){y=null;for(var K=w,Q=!1;K!==null;){if(!Q){if((K.flags&524288)!==0)Q=!0;else if((K.flags&262144)!==0)break}if(K.tag===10){var tt=K.alternate;if(tt===null)throw Error(T(387));if(tt=tt.memoizedProps,tt!==null){var rt=K.type;zn(K.pendingProps.value,tt.value)||(y!==null?y.push(rt):y=[rt])}}else if(K===j.current){if(tt=K.alternate,tt===null)throw Error(T(387));tt.memoizedState.memoizedState!==K.memoizedState.memoizedState&&(y!==null?y.push(Ru):y=[Ru])}K=K.return}y!==null&&$d(w,y,P,G),w.flags|=262144}function Uh(y){for(y=y.firstContext;y!==null;){if(!zn(y.context._currentValue,y.memoizedValue))return!0;y=y.next}return!1}function za(y){Ua=y,_r=null,y=y.dependencies,y!==null&&(y.firstContext=null)}function en(y){return wy(Ua,y)}function zh(y,w){return Ua===null&&za(y),wy(y,w)}function wy(y,w){var P=w._currentValue;if(w={context:w,memoizedValue:P,next:null},_r===null){if(y===null)throw Error(T(308));_r=w,y.dependencies={lanes:0,firstContext:w},y.flags|=524288}else _r=_r.next=w;return P}var FM=typeof AbortController<"u"?AbortController:function(){var y=[],w=this.signal={aborted:!1,addEventListener:function(P,G){y.push(G)}};this.abort=function(){w.aborted=!0,y.forEach(function(P){return P()})}},UM=A.unstable_scheduleCallback,zM=A.unstable_NormalPriority,Bi={$$typeof:f,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new FM,data:new Map,refCount:0}}function tu(y){y.refCount--,y.refCount===0&&UM(zM,function(){y.controller.abort()})}var eu=null,_d=0,Vo=0,Ho=null;function GM(y,w){if(eu===null){var P=eu=[];_d=0,Vo=i0(),Ho={status:"pending",value:void 0,then:function(G){P.push(G)}}}return _d++,w.then(Ay,Ay),w}function Ay(){if(--_d===0&&eu!==null){Ho!==null&&(Ho.status="fulfilled");var y=eu;eu=null,Vo=0,Ho=null;for(var w=0;w<y.length;w++)(0,y[w])()}}function VM(y,w){var P=[],G={status:"pending",value:null,reason:null,then:function(K){P.push(K)}};return y.then(function(){G.status="fulfilled",G.value=w;for(var K=0;K<P.length;K++)(0,P[K])(w)},function(K){for(G.status="rejected",G.reason=K,K=0;K<P.length;K++)(0,P[K])(void 0)}),G}var Cy=N.S;N.S=function(y,w){lx=Pt(),typeof w=="object"&&w!==null&&typeof w.then=="function"&&GM(y,w),Cy!==null&&Cy(y,w)};var Ga=V(null);function tv(){var y=Ga.current;return y!==null?y:ti.pooledCache}function Gh(y,w){w===null?F(Ga,Ga.current):F(Ga,w.pool)}function Ry(){var y=tv();return y===null?null:{parent:Bi._currentValue,pool:y}}var Yo=Error(T(460)),ev=Error(T(474)),Vh=Error(T(542)),Hh={then:function(){}};function My(y){return y=y.status,y==="fulfilled"||y==="rejected"}function Oy(y,w,P){switch(P=y[P],P===void 0?y.push(w):P!==w&&(w.then(Qr,Qr),w=P),w.status){case"fulfilled":return w.value;case"rejected":throw y=w.reason,Ly(y),y;default:if(typeof w.status=="string")w.then(Qr,Qr);else{if(y=ti,y!==null&&100<y.shellSuspendCounter)throw Error(T(482));y=w,y.status="pending",y.then(function(G){if(w.status==="pending"){var K=w;K.status="fulfilled",K.value=G}},function(G){if(w.status==="pending"){var K=w;K.status="rejected",K.reason=G}})}switch(w.status){case"fulfilled":return w.value;case"rejected":throw y=w.reason,Ly(y),y}throw Ha=w,Yo}}function Va(y){try{var w=y._init;return w(y._payload)}catch(P){throw P!==null&&typeof P=="object"&&typeof P.then=="function"?(Ha=P,Yo):P}}var Ha=null;function by(){if(Ha===null)throw Error(T(459));var y=Ha;return Ha=null,y}function Ly(y){if(y===Yo||y===Vh)throw Error(T(483))}var Wo=null,iu=0;function Yh(y){var w=iu;return iu+=1,Wo===null&&(Wo=[]),Oy(Wo,y,w)}function nu(y,w){w=w.props.ref,y.ref=w!==void 0?w:null}function Wh(y,w){throw w.$$typeof===n?Error(T(525)):(y=Object.prototype.toString.call(w),Error(T(31,y==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":y)))}function Iy(y){function w(mt,vt){if(y){var St=mt.deletions;St===null?(mt.deletions=[vt],mt.flags|=16):St.push(vt)}}function P(mt,vt){if(!y)return null;for(;vt!==null;)w(mt,vt),vt=vt.sibling;return null}function G(mt){for(var vt=new Map;mt!==null;)mt.key!==null?vt.set(mt.key,mt):vt.set(mt.index,mt),mt=mt.sibling;return vt}function K(mt,vt){return mt=$r(mt,vt),mt.index=0,mt.sibling=null,mt}function Q(mt,vt,St){return mt.index=St,y?(St=mt.alternate,St!==null?(St=St.index,St<vt?(mt.flags|=67108866,vt):St):(mt.flags|=67108866,vt)):(mt.flags|=1048576,vt)}function tt(mt){return y&&mt.alternate===null&&(mt.flags|=67108866),mt}function rt(mt,vt,St,Nt){return vt===null||vt.tag!==6?(vt=Wd(St,mt.mode,Nt),vt.return=mt,vt):(vt=K(vt,St),vt.return=mt,vt)}function ht(mt,vt,St,Nt){var oe=St.type;return oe===a?It(mt,vt,St.props.children,Nt,St.key):vt!==null&&(vt.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===C&&Va(oe)===vt.type)?(vt=K(vt,St.props),nu(vt,St),vt.return=mt,vt):(vt=Bh(St.type,St.key,St.props,null,mt.mode,Nt),nu(vt,St),vt.return=mt,vt)}function Et(mt,vt,St,Nt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==St.containerInfo||vt.stateNode.implementation!==St.implementation?(vt=Xd(St,mt.mode,Nt),vt.return=mt,vt):(vt=K(vt,St.children||[]),vt.return=mt,vt)}function It(mt,vt,St,Nt,oe){return vt===null||vt.tag!==7?(vt=Ba(St,mt.mode,Nt,oe),vt.return=mt,vt):(vt=K(vt,St),vt.return=mt,vt)}function Dt(mt,vt,St){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return vt=Wd(""+vt,mt.mode,St),vt.return=mt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case i:return St=Bh(vt.type,vt.key,vt.props,null,mt.mode,St),nu(St,vt),St.return=mt,St;case e:return vt=Xd(vt,mt.mode,St),vt.return=mt,vt;case C:return vt=Va(vt),Dt(mt,vt,St)}if(I(vt)||D(vt))return vt=Ba(vt,mt.mode,St,null),vt.return=mt,vt;if(typeof vt.then=="function")return Dt(mt,Yh(vt),St);if(vt.$$typeof===f)return Dt(mt,zh(mt,vt),St);Wh(mt,vt)}return null}function Rt(mt,vt,St,Nt){var oe=vt!==null?vt.key:null;if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return oe!==null?null:rt(mt,vt,""+St,Nt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case i:return St.key===oe?ht(mt,vt,St,Nt):null;case e:return St.key===oe?Et(mt,vt,St,Nt):null;case C:return St=Va(St),Rt(mt,vt,St,Nt)}if(I(St)||D(St))return oe!==null?null:It(mt,vt,St,Nt,null);if(typeof St.then=="function")return Rt(mt,vt,Yh(St),Nt);if(St.$$typeof===f)return Rt(mt,vt,zh(mt,St),Nt);Wh(mt,St)}return null}function Lt(mt,vt,St,Nt,oe){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return mt=mt.get(St)||null,rt(vt,mt,""+Nt,oe);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case i:return mt=mt.get(Nt.key===null?St:Nt.key)||null,ht(vt,mt,Nt,oe);case e:return mt=mt.get(Nt.key===null?St:Nt.key)||null,Et(vt,mt,Nt,oe);case C:return Nt=Va(Nt),Lt(mt,vt,St,Nt,oe)}if(I(Nt)||D(Nt))return mt=mt.get(St)||null,It(vt,mt,Nt,oe,null);if(typeof Nt.then=="function")return Lt(mt,vt,St,Yh(Nt),oe);if(Nt.$$typeof===f)return Lt(mt,vt,St,zh(vt,Nt),oe);Wh(vt,Nt)}return null}function ee(mt,vt,St,Nt){for(var oe=null,Be=null,ne=vt,pe=vt=0,Me=null;ne!==null&&pe<St.length;pe++){ne.index>pe?(Me=ne,ne=null):Me=ne.sibling;var Fe=Rt(mt,ne,St[pe],Nt);if(Fe===null){ne===null&&(ne=Me);break}y&&ne&&Fe.alternate===null&&w(mt,ne),vt=Q(Fe,vt,pe),Be===null?oe=Fe:Be.sibling=Fe,Be=Fe,ne=Me}if(pe===St.length)return P(mt,ne),be&&qr(mt,pe),oe;if(ne===null){for(;pe<St.length;pe++)ne=Dt(mt,St[pe],Nt),ne!==null&&(vt=Q(ne,vt,pe),Be===null?oe=ne:Be.sibling=ne,Be=ne);return be&&qr(mt,pe),oe}for(ne=G(ne);pe<St.length;pe++)Me=Lt(ne,mt,pe,St[pe],Nt),Me!==null&&(y&&Me.alternate!==null&&ne.delete(Me.key===null?pe:Me.key),vt=Q(Me,vt,pe),Be===null?oe=Me:Be.sibling=Me,Be=Me);return y&&ne.forEach(function(aa){return w(mt,aa)}),be&&qr(mt,pe),oe}function he(mt,vt,St,Nt){if(St==null)throw Error(T(151));for(var oe=null,Be=null,ne=vt,pe=vt=0,Me=null,Fe=St.next();ne!==null&&!Fe.done;pe++,Fe=St.next()){ne.index>pe?(Me=ne,ne=null):Me=ne.sibling;var aa=Rt(mt,ne,Fe.value,Nt);if(aa===null){ne===null&&(ne=Me);break}y&&ne&&aa.alternate===null&&w(mt,ne),vt=Q(aa,vt,pe),Be===null?oe=aa:Be.sibling=aa,Be=aa,ne=Me}if(Fe.done)return P(mt,ne),be&&qr(mt,pe),oe;if(ne===null){for(;!Fe.done;pe++,Fe=St.next())Fe=Dt(mt,Fe.value,Nt),Fe!==null&&(vt=Q(Fe,vt,pe),Be===null?oe=Fe:Be.sibling=Fe,Be=Fe);return be&&qr(mt,pe),oe}for(ne=G(ne);!Fe.done;pe++,Fe=St.next())Fe=Lt(ne,mt,pe,Fe.value,Nt),Fe!==null&&(y&&Fe.alternate!==null&&ne.delete(Fe.key===null?pe:Fe.key),vt=Q(Fe,vt,pe),Be===null?oe=Fe:Be.sibling=Fe,Be=Fe);return y&&ne.forEach(function($4){return w(mt,$4)}),be&&qr(mt,pe),oe}function Je(mt,vt,St,Nt){if(typeof St=="object"&&St!==null&&St.type===a&&St.key===null&&(St=St.props.children),typeof St=="object"&&St!==null){switch(St.$$typeof){case i:t:{for(var oe=St.key;vt!==null;){if(vt.key===oe){if(oe=St.type,oe===a){if(vt.tag===7){P(mt,vt.sibling),Nt=K(vt,St.props.children),Nt.return=mt,mt=Nt;break t}}else if(vt.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===C&&Va(oe)===vt.type){P(mt,vt.sibling),Nt=K(vt,St.props),nu(Nt,St),Nt.return=mt,mt=Nt;break t}P(mt,vt);break}else w(mt,vt);vt=vt.sibling}St.type===a?(Nt=Ba(St.props.children,mt.mode,Nt,St.key),Nt.return=mt,mt=Nt):(Nt=Bh(St.type,St.key,St.props,null,mt.mode,Nt),nu(Nt,St),Nt.return=mt,mt=Nt)}return tt(mt);case e:t:{for(oe=St.key;vt!==null;){if(vt.key===oe)if(vt.tag===4&&vt.stateNode.containerInfo===St.containerInfo&&vt.stateNode.implementation===St.implementation){P(mt,vt.sibling),Nt=K(vt,St.children||[]),Nt.return=mt,mt=Nt;break t}else{P(mt,vt);break}else w(mt,vt);vt=vt.sibling}Nt=Xd(St,mt.mode,Nt),Nt.return=mt,mt=Nt}return tt(mt);case C:return St=Va(St),Je(mt,vt,St,Nt)}if(I(St))return ee(mt,vt,St,Nt);if(D(St)){if(oe=D(St),typeof oe!="function")throw Error(T(150));return St=oe.call(St),he(mt,vt,St,Nt)}if(typeof St.then=="function")return Je(mt,vt,Yh(St),Nt);if(St.$$typeof===f)return Je(mt,vt,zh(mt,St),Nt);Wh(mt,St)}return typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint"?(St=""+St,vt!==null&&vt.tag===6?(P(mt,vt.sibling),Nt=K(vt,St),Nt.return=mt,mt=Nt):(P(mt,vt),Nt=Wd(St,mt.mode,Nt),Nt.return=mt,mt=Nt),tt(mt)):P(mt,vt)}return function(mt,vt,St,Nt){try{iu=0;var oe=Je(mt,vt,St,Nt);return Wo=null,oe}catch(ne){if(ne===Yo||ne===Vh)throw ne;var Be=Gn(29,ne,null,mt.mode);return Be.lanes=Nt,Be.return=mt,Be}}}var Ya=Iy(!0),Py=Iy(!1),Ws=!1;function iv(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nv(y,w){y=y.updateQueue,w.updateQueue===y&&(w.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,callbacks:null})}function Xs(y){return{lane:y,tag:0,payload:null,callback:null,next:null}}function ks(y,w,P){var G=y.updateQueue;if(G===null)return null;if(G=G.shared,(Ge&2)!==0){var K=G.pending;return K===null?w.next=w:(w.next=K.next,K.next=w),G.pending=w,w=Dh(y),py(y,null,P),w}return Nh(y,G,w,P),Dh(y)}function ru(y,w,P){if(w=w.updateQueue,w!==null&&(w=w.shared,(P&4194048)!==0)){var G=w.lanes;G&=y.pendingLanes,P|=G,w.lanes=P,La(y,P)}}function rv(y,w){var P=y.updateQueue,G=y.alternate;if(G!==null&&(G=G.updateQueue,P===G)){var K=null,Q=null;if(P=P.firstBaseUpdate,P!==null){do{var tt={lane:P.lane,tag:P.tag,payload:P.payload,callback:null,next:null};Q===null?K=Q=tt:Q=Q.next=tt,P=P.next}while(P!==null);Q===null?K=Q=w:Q=Q.next=w}else K=Q=w;P={baseState:G.baseState,firstBaseUpdate:K,lastBaseUpdate:Q,shared:G.shared,callbacks:G.callbacks},y.updateQueue=P;return}y=P.lastBaseUpdate,y===null?P.firstBaseUpdate=w:y.next=w,P.lastBaseUpdate=w}var sv=!1;function su(){if(sv){var y=Ho;if(y!==null)throw y}}function au(y,w,P,G){sv=!1;var K=y.updateQueue;Ws=!1;var Q=K.firstBaseUpdate,tt=K.lastBaseUpdate,rt=K.shared.pending;if(rt!==null){K.shared.pending=null;var ht=rt,Et=ht.next;ht.next=null,tt===null?Q=Et:tt.next=Et,tt=ht;var It=y.alternate;It!==null&&(It=It.updateQueue,rt=It.lastBaseUpdate,rt!==tt&&(rt===null?It.firstBaseUpdate=Et:rt.next=Et,It.lastBaseUpdate=ht))}if(Q!==null){var Dt=K.baseState;tt=0,It=Et=ht=null,rt=Q;do{var Rt=rt.lane&-536870913,Lt=Rt!==rt.lane;if(Lt?(Re&Rt)===Rt:(G&Rt)===Rt){Rt!==0&&Rt===Vo&&(sv=!0),It!==null&&(It=It.next={lane:0,tag:rt.tag,payload:rt.payload,callback:null,next:null});t:{var ee=y,he=rt;Rt=w;var Je=P;switch(he.tag){case 1:if(ee=he.payload,typeof ee=="function"){Dt=ee.call(Je,Dt,Rt);break t}Dt=ee;break t;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=he.payload,Rt=typeof ee=="function"?ee.call(Je,Dt,Rt):ee,Rt==null)break t;Dt=r({},Dt,Rt);break t;case 2:Ws=!0}}Rt=rt.callback,Rt!==null&&(y.flags|=64,Lt&&(y.flags|=8192),Lt=K.callbacks,Lt===null?K.callbacks=[Rt]:Lt.push(Rt))}else Lt={lane:Rt,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},It===null?(Et=It=Lt,ht=Dt):It=It.next=Lt,tt|=Rt;if(rt=rt.next,rt===null){if(rt=K.shared.pending,rt===null)break;Lt=rt,rt=Lt.next,Lt.next=null,K.lastBaseUpdate=Lt,K.shared.pending=null}}while(!0);It===null&&(ht=Dt),K.baseState=ht,K.firstBaseUpdate=Et,K.lastBaseUpdate=It,Q===null&&(K.shared.lanes=0),Js|=tt,y.lanes=tt,y.memoizedState=Dt}}function Ny(y,w){if(typeof y!="function")throw Error(T(191,y));y.call(w)}function Dy(y,w){var P=y.callbacks;if(P!==null)for(y.callbacks=null,y=0;y<P.length;y++)Ny(P[y],w)}var Xo=V(null),Xh=V(0);function By(y,w){y=us,F(Xh,y),F(Xo,w),us=y|w.baseLanes}function av(){F(Xh,us),F(Xo,Xo.current)}function ov(){us=Xh.current,U(Xo),U(Xh)}var Vn=V(null),sr=null;function js(y){var w=y.alternate;F(bi,bi.current&1),F(Vn,y),sr===null&&(w===null||Xo.current!==null||w.memoizedState!==null)&&(sr=y)}function lv(y){F(bi,bi.current),F(Vn,y),sr===null&&(sr=y)}function Fy(y){y.tag===22?(F(bi,bi.current),F(Vn,y),sr===null&&(sr=y)):Ks()}function Ks(){F(bi,bi.current),F(Vn,Vn.current)}function Hn(y){U(Vn),sr===y&&(sr=null),U(bi)}var bi=V(0);function kh(y){for(var w=y;w!==null;){if(w.tag===13){var P=w.memoizedState;if(P!==null&&(P=P.dehydrated,P===null||v0(P)||p0(P)))return w}else if(w.tag===19&&(w.memoizedProps.revealOrder==="forwards"||w.memoizedProps.revealOrder==="backwards"||w.memoizedProps.revealOrder==="unstable_legacy-backwards"||w.memoizedProps.revealOrder==="together")){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===y)break;for(;w.sibling===null;){if(w.return===null||w.return===y)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var es=0,ve=null,Ze=null,Fi=null,jh=!1,ko=!1,Wa=!1,Kh=0,ou=0,jo=null,HM=0;function Ci(){throw Error(T(321))}function uv(y,w){if(w===null)return!1;for(var P=0;P<w.length&&P<y.length;P++)if(!zn(y[P],w[P]))return!1;return!0}function hv(y,w,P,G,K,Q){return es=Q,ve=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,N.H=y===null||y.memoizedState===null?x1:Cv,Wa=!1,Q=P(G,K),Wa=!1,ko&&(Q=zy(w,P,G,K)),Uy(y),Q}function Uy(y){N.H=hu;var w=Ze!==null&&Ze.next!==null;if(es=0,Fi=Ze=ve=null,jh=!1,ou=0,jo=null,w)throw Error(T(300));y===null||Ui||(y=y.dependencies,y!==null&&Uh(y)&&(Ui=!0))}function zy(y,w,P,G){ve=y;var K=0;do{if(ko&&(jo=null),ou=0,ko=!1,25<=K)throw Error(T(301));if(K+=1,Fi=Ze=null,y.updateQueue!=null){var Q=y.updateQueue;Q.lastEffect=null,Q.events=null,Q.stores=null,Q.memoCache!=null&&(Q.memoCache.index=0)}N.H=T1,Q=w(P,G)}while(ko);return Q}function YM(){var y=N.H,w=y.useState()[0];return w=typeof w.then=="function"?lu(w):w,y=y.useState()[0],(Ze!==null?Ze.memoizedState:null)!==y&&(ve.flags|=1024),w}function fv(){var y=Kh!==0;return Kh=0,y}function cv(y,w,P){w.updateQueue=y.updateQueue,w.flags&=-2053,y.lanes&=~P}function dv(y){if(jh){for(y=y.memoizedState;y!==null;){var w=y.queue;w!==null&&(w.pending=null),y=y.next}jh=!1}es=0,Fi=Ze=ve=null,ko=!1,ou=Kh=0,jo=null}function Tn(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fi===null?ve.memoizedState=Fi=y:Fi=Fi.next=y,Fi}function Li(){if(Ze===null){var y=ve.alternate;y=y!==null?y.memoizedState:null}else y=Ze.next;var w=Fi===null?ve.memoizedState:Fi.next;if(w!==null)Fi=w,Ze=y;else{if(y===null)throw ve.alternate===null?Error(T(467)):Error(T(310));Ze=y,y={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Fi===null?ve.memoizedState=Fi=y:Fi=Fi.next=y}return Fi}function Zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lu(y){var w=ou;return ou+=1,jo===null&&(jo=[]),y=Oy(jo,y,w),w=ve,(Fi===null?w.memoizedState:Fi.next)===null&&(w=w.alternate,N.H=w===null||w.memoizedState===null?x1:Cv),y}function Qh(y){if(y!==null&&typeof y=="object"){if(typeof y.then=="function")return lu(y);if(y.$$typeof===f)return en(y)}throw Error(T(438,String(y)))}function vv(y){var w=null,P=ve.updateQueue;if(P!==null&&(w=P.memoCache),w==null){var G=ve.alternate;G!==null&&(G=G.updateQueue,G!==null&&(G=G.memoCache,G!=null&&(w={data:G.data.map(function(K){return K.slice()}),index:0})))}if(w==null&&(w={data:[],index:0}),P===null&&(P=Zh(),ve.updateQueue=P),P.memoCache=w,P=w.data[w.index],P===void 0)for(P=w.data[w.index]=Array(y),G=0;G<y;G++)P[G]=R;return w.index++,P}function is(y,w){return typeof w=="function"?w(y):w}function Jh(y){var w=Li();return pv(w,Ze,y)}function pv(y,w,P){var G=y.queue;if(G===null)throw Error(T(311));G.lastRenderedReducer=P;var K=y.baseQueue,Q=G.pending;if(Q!==null){if(K!==null){var tt=K.next;K.next=Q.next,Q.next=tt}w.baseQueue=K=Q,G.pending=null}if(Q=y.baseState,K===null)y.memoizedState=Q;else{w=K.next;var rt=tt=null,ht=null,Et=w,It=!1;do{var Dt=Et.lane&-536870913;if(Dt!==Et.lane?(Re&Dt)===Dt:(es&Dt)===Dt){var Rt=Et.revertLane;if(Rt===0)ht!==null&&(ht=ht.next={lane:0,revertLane:0,gesture:null,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),Dt===Vo&&(It=!0);else if((es&Rt)===Rt){Et=Et.next,Rt===Vo&&(It=!0);continue}else Dt={lane:0,revertLane:Et.revertLane,gesture:null,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},ht===null?(rt=ht=Dt,tt=Q):ht=ht.next=Dt,ve.lanes|=Rt,Js|=Rt;Dt=Et.action,Wa&&P(Q,Dt),Q=Et.hasEagerState?Et.eagerState:P(Q,Dt)}else Rt={lane:Dt,revertLane:Et.revertLane,gesture:Et.gesture,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},ht===null?(rt=ht=Rt,tt=Q):ht=ht.next=Rt,ve.lanes|=Dt,Js|=Dt;Et=Et.next}while(Et!==null&&Et!==w);if(ht===null?tt=Q:ht.next=rt,!zn(Q,y.memoizedState)&&(Ui=!0,It&&(P=Ho,P!==null)))throw P;y.memoizedState=Q,y.baseState=tt,y.baseQueue=ht,G.lastRenderedState=Q}return K===null&&(G.lanes=0),[y.memoizedState,G.dispatch]}function mv(y){var w=Li(),P=w.queue;if(P===null)throw Error(T(311));P.lastRenderedReducer=y;var G=P.dispatch,K=P.pending,Q=w.memoizedState;if(K!==null){P.pending=null;var tt=K=K.next;do Q=y(Q,tt.action),tt=tt.next;while(tt!==K);zn(Q,w.memoizedState)||(Ui=!0),w.memoizedState=Q,w.baseQueue===null&&(w.baseState=Q),P.lastRenderedState=Q}return[Q,G]}function Gy(y,w,P){var G=ve,K=Li(),Q=be;if(Q){if(P===void 0)throw Error(T(407));P=P()}else P=w();var tt=!zn((Ze||K).memoizedState,P);if(tt&&(K.memoizedState=P,Ui=!0),K=K.queue,xv(Yy.bind(null,G,K,y),[y]),K.getSnapshot!==w||tt||Fi!==null&&Fi.memoizedState.tag&1){if(G.flags|=2048,Ko(9,{destroy:void 0},Hy.bind(null,G,K,P,w),null),ti===null)throw Error(T(349));Q||(es&127)!==0||Vy(G,w,P)}return P}function Vy(y,w,P){y.flags|=16384,y={getSnapshot:w,value:P},w=ve.updateQueue,w===null?(w=Zh(),ve.updateQueue=w,w.stores=[y]):(P=w.stores,P===null?w.stores=[y]:P.push(y))}function Hy(y,w,P,G){w.value=P,w.getSnapshot=G,Wy(w)&&Xy(y)}function Yy(y,w,P){return P(function(){Wy(w)&&Xy(y)})}function Wy(y){var w=y.getSnapshot;y=y.value;try{var P=w();return!zn(y,P)}catch{return!0}}function Xy(y){var w=Da(y,2);w!==null&&bn(w,y,2)}function gv(y){var w=Tn();if(typeof y=="function"){var P=y;if(y=P(),Wa){Jt(!0);try{P()}finally{Jt(!1)}}}return w.memoizedState=w.baseState=y,w.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:y},w}function ky(y,w,P,G){return y.baseState=P,pv(y,Ze,typeof G=="function"?G:is)}function WM(y,w,P,G,K){if(_h(y))throw Error(T(485));if(y=w.action,y!==null){var Q={payload:K,action:y,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(tt){Q.listeners.push(tt)}};N.T!==null?P(!0):Q.isTransition=!1,G(Q),P=w.pending,P===null?(Q.next=w.pending=Q,jy(w,Q)):(Q.next=P.next,w.pending=P.next=Q)}}function jy(y,w){var P=w.action,G=w.payload,K=y.state;if(w.isTransition){var Q=N.T,tt={};N.T=tt;try{var rt=P(K,G),ht=N.S;ht!==null&&ht(tt,rt),Ky(y,w,rt)}catch(Et){yv(y,w,Et)}finally{Q!==null&&tt.types!==null&&(Q.types=tt.types),N.T=Q}}else try{Q=P(K,G),Ky(y,w,Q)}catch(Et){yv(y,w,Et)}}function Ky(y,w,P){P!==null&&typeof P=="object"&&typeof P.then=="function"?P.then(function(G){Zy(y,w,G)},function(G){return yv(y,w,G)}):Zy(y,w,P)}function Zy(y,w,P){w.status="fulfilled",w.value=P,Qy(w),y.state=P,w=y.pending,w!==null&&(P=w.next,P===w?y.pending=null:(P=P.next,w.next=P,jy(y,P)))}function yv(y,w,P){var G=y.pending;if(y.pending=null,G!==null){G=G.next;do w.status="rejected",w.reason=P,Qy(w),w=w.next;while(w!==G)}y.action=null}function Qy(y){y=y.listeners;for(var w=0;w<y.length;w++)(0,y[w])()}function Jy(y,w){return w}function $y(y,w){if(be){var P=ti.formState;if(P!==null){t:{var G=ve;if(be){if(fi){e:{for(var K=fi,Q=rr;K.nodeType!==8;){if(!Q){K=null;break e}if(K=ar(K.nextSibling),K===null){K=null;break e}}Q=K.data,K=Q==="F!"||Q==="F"?K:null}if(K){fi=ar(K.nextSibling),G=K.data==="F!";break t}}Hs(G)}G=!1}G&&(w=P[0])}}return P=Tn(),P.memoizedState=P.baseState=w,G={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:w},P.queue=G,P=m1.bind(null,ve,G),G.dispatch=P,G=gv(!1),Q=Av.bind(null,ve,!1,G.queue),G=Tn(),K={state:w,dispatch:null,action:y,pending:null},G.queue=K,P=WM.bind(null,ve,K,Q,P),K.dispatch=P,G.memoizedState=y,[w,P,!1]}function qy(y){var w=Li();return _y(w,Ze,y)}function _y(y,w,P){if(w=pv(y,w,Jy)[0],y=Jh(is)[0],typeof w=="object"&&w!==null&&typeof w.then=="function")try{var G=lu(w)}catch(tt){throw tt===Yo?Vh:tt}else G=w;w=Li();var K=w.queue,Q=K.dispatch;return P!==w.memoizedState&&(ve.flags|=2048,Ko(9,{destroy:void 0},XM.bind(null,K,P),null)),[G,Q,y]}function XM(y,w){y.action=w}function t1(y){var w=Li(),P=Ze;if(P!==null)return _y(w,P,y);Li(),w=w.memoizedState,P=Li();var G=P.queue.dispatch;return P.memoizedState=y,[w,G,!1]}function Ko(y,w,P,G){return y={tag:y,create:P,deps:G,inst:w,next:null},w=ve.updateQueue,w===null&&(w=Zh(),ve.updateQueue=w),P=w.lastEffect,P===null?w.lastEffect=y.next=y:(G=P.next,P.next=y,y.next=G,w.lastEffect=y),y}function e1(){return Li().memoizedState}function $h(y,w,P,G){var K=Tn();ve.flags|=y,K.memoizedState=Ko(1|w,{destroy:void 0},P,G===void 0?null:G)}function qh(y,w,P,G){var K=Li();G=G===void 0?null:G;var Q=K.memoizedState.inst;Ze!==null&&G!==null&&uv(G,Ze.memoizedState.deps)?K.memoizedState=Ko(w,Q,P,G):(ve.flags|=y,K.memoizedState=Ko(1|w,Q,P,G))}function i1(y,w){$h(8390656,8,y,w)}function xv(y,w){qh(2048,8,y,w)}function kM(y){ve.flags|=4;var w=ve.updateQueue;if(w===null)w=Zh(),ve.updateQueue=w,w.events=[y];else{var P=w.events;P===null?w.events=[y]:P.push(y)}}function n1(y){var w=Li().memoizedState;return kM({ref:w,nextImpl:y}),function(){if((Ge&2)!==0)throw Error(T(440));return w.impl.apply(void 0,arguments)}}function r1(y,w){return qh(4,2,y,w)}function s1(y,w){return qh(4,4,y,w)}function a1(y,w){if(typeof w=="function"){y=y();var P=w(y);return function(){typeof P=="function"?P():w(null)}}if(w!=null)return y=y(),w.current=y,function(){w.current=null}}function o1(y,w,P){P=P!=null?P.concat([y]):null,qh(4,4,a1.bind(null,w,y),P)}function Tv(){}function l1(y,w){var P=Li();w=w===void 0?null:w;var G=P.memoizedState;return w!==null&&uv(w,G[1])?G[0]:(P.memoizedState=[y,w],y)}function u1(y,w){var P=Li();w=w===void 0?null:w;var G=P.memoizedState;if(w!==null&&uv(w,G[1]))return G[0];if(G=y(),Wa){Jt(!0);try{y()}finally{Jt(!1)}}return P.memoizedState=[G,w],G}function Sv(y,w,P){return P===void 0||(es&1073741824)!==0&&(Re&261930)===0?y.memoizedState=w:(y.memoizedState=P,y=hx(),ve.lanes|=y,Js|=y,P)}function h1(y,w,P,G){return zn(P,w)?P:Xo.current!==null?(y=Sv(y,P,G),zn(y,w)||(Ui=!0),y):(es&42)===0||(es&1073741824)!==0&&(Re&261930)===0?(Ui=!0,y.memoizedState=P):(y=hx(),ve.lanes|=y,Js|=y,w)}function f1(y,w,P,G,K){var Q=z.p;z.p=Q!==0&&8>Q?Q:8;var tt=N.T,rt={};N.T=rt,Av(y,!1,w,P);try{var ht=K(),Et=N.S;if(Et!==null&&Et(rt,ht),ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var It=VM(ht,G);uu(y,w,It,Xn(y))}else uu(y,w,G,Xn(y))}catch(Dt){uu(y,w,{then:function(){},status:"rejected",reason:Dt},Xn())}finally{z.p=Q,tt!==null&&rt.types!==null&&(tt.types=rt.types),N.T=tt}}function jM(){}function Ev(y,w,P,G){if(y.tag!==5)throw Error(T(476));var K=c1(y).queue;f1(y,K,w,H,P===null?jM:function(){return d1(y),P(G)})}function c1(y){var w=y.memoizedState;if(w!==null)return w;w={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:H},next:null};var P={};return w.next={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:P},next:null},y.memoizedState=w,y=y.alternate,y!==null&&(y.memoizedState=w),w}function d1(y){var w=c1(y);w.next===null&&(w=y.alternate.memoizedState),uu(y,w.next.queue,{},Xn())}function wv(){return en(Ru)}function v1(){return Li().memoizedState}function p1(){return Li().memoizedState}function KM(y){for(var w=y.return;w!==null;){switch(w.tag){case 24:case 3:var P=Xn();y=Xs(P);var G=ks(w,y,P);G!==null&&(bn(G,w,P),ru(G,w,P)),w={cache:qd()},y.payload=w;return}w=w.return}}function ZM(y,w,P){var G=Xn();P={lane:G,revertLane:0,gesture:null,action:P,hasEagerState:!1,eagerState:null,next:null},_h(y)?g1(w,P):(P=Hd(y,w,P,G),P!==null&&(bn(P,y,G),y1(P,w,G)))}function m1(y,w,P){var G=Xn();uu(y,w,P,G)}function uu(y,w,P,G){var K={lane:G,revertLane:0,gesture:null,action:P,hasEagerState:!1,eagerState:null,next:null};if(_h(y))g1(w,K);else{var Q=y.alternate;if(y.lanes===0&&(Q===null||Q.lanes===0)&&(Q=w.lastRenderedReducer,Q!==null))try{var tt=w.lastRenderedState,rt=Q(tt,P);if(K.hasEagerState=!0,K.eagerState=rt,zn(rt,tt))return Nh(y,w,K,0),ti===null&&Ph(),!1}catch{}if(P=Hd(y,w,K,G),P!==null)return bn(P,y,G),y1(P,w,G),!0}return!1}function Av(y,w,P,G){if(G={lane:2,revertLane:i0(),gesture:null,action:G,hasEagerState:!1,eagerState:null,next:null},_h(y)){if(w)throw Error(T(479))}else w=Hd(y,P,G,2),w!==null&&bn(w,y,2)}function _h(y){var w=y.alternate;return y===ve||w!==null&&w===ve}function g1(y,w){ko=jh=!0;var P=y.pending;P===null?w.next=w:(w.next=P.next,P.next=w),y.pending=w}function y1(y,w,P){if((P&4194048)!==0){var G=w.lanes;G&=y.pendingLanes,P|=G,w.lanes=P,La(y,P)}}var hu={readContext:en,use:Qh,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useLayoutEffect:Ci,useInsertionEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useSyncExternalStore:Ci,useId:Ci,useHostTransitionStatus:Ci,useFormState:Ci,useActionState:Ci,useOptimistic:Ci,useMemoCache:Ci,useCacheRefresh:Ci};hu.useEffectEvent=Ci;var x1={readContext:en,use:Qh,useCallback:function(y,w){return Tn().memoizedState=[y,w===void 0?null:w],y},useContext:en,useEffect:i1,useImperativeHandle:function(y,w,P){P=P!=null?P.concat([y]):null,$h(4194308,4,a1.bind(null,w,y),P)},useLayoutEffect:function(y,w){return $h(4194308,4,y,w)},useInsertionEffect:function(y,w){$h(4,2,y,w)},useMemo:function(y,w){var P=Tn();w=w===void 0?null:w;var G=y();if(Wa){Jt(!0);try{y()}finally{Jt(!1)}}return P.memoizedState=[G,w],G},useReducer:function(y,w,P){var G=Tn();if(P!==void 0){var K=P(w);if(Wa){Jt(!0);try{P(w)}finally{Jt(!1)}}}else K=w;return G.memoizedState=G.baseState=K,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:K},G.queue=y,y=y.dispatch=ZM.bind(null,ve,y),[G.memoizedState,y]},useRef:function(y){var w=Tn();return y={current:y},w.memoizedState=y},useState:function(y){y=gv(y);var w=y.queue,P=m1.bind(null,ve,w);return w.dispatch=P,[y.memoizedState,P]},useDebugValue:Tv,useDeferredValue:function(y,w){var P=Tn();return Sv(P,y,w)},useTransition:function(){var y=gv(!1);return y=f1.bind(null,ve,y.queue,!0,!1),Tn().memoizedState=y,[!1,y]},useSyncExternalStore:function(y,w,P){var G=ve,K=Tn();if(be){if(P===void 0)throw Error(T(407));P=P()}else{if(P=w(),ti===null)throw Error(T(349));(Re&127)!==0||Vy(G,w,P)}K.memoizedState=P;var Q={value:P,getSnapshot:w};return K.queue=Q,i1(Yy.bind(null,G,Q,y),[y]),G.flags|=2048,Ko(9,{destroy:void 0},Hy.bind(null,G,Q,P,w),null),P},useId:function(){var y=Tn(),w=ti.identifierPrefix;if(be){var P=Ir,G=Lr;P=(G&~(1<<32-qt(G)-1)).toString(32)+P,w="_"+w+"R_"+P,P=Kh++,0<P&&(w+="H"+P.toString(32)),w+="_"}else P=HM++,w="_"+w+"r_"+P.toString(32)+"_";return y.memoizedState=w},useHostTransitionStatus:wv,useFormState:$y,useActionState:$y,useOptimistic:function(y){var w=Tn();w.memoizedState=w.baseState=y;var P={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return w.queue=P,w=Av.bind(null,ve,!0,P),P.dispatch=w,[y,w]},useMemoCache:vv,useCacheRefresh:function(){return Tn().memoizedState=KM.bind(null,ve)},useEffectEvent:function(y){var w=Tn(),P={impl:y};return w.memoizedState=P,function(){if((Ge&2)!==0)throw Error(T(440));return P.impl.apply(void 0,arguments)}}},Cv={readContext:en,use:Qh,useCallback:l1,useContext:en,useEffect:xv,useImperativeHandle:o1,useInsertionEffect:r1,useLayoutEffect:s1,useMemo:u1,useReducer:Jh,useRef:e1,useState:function(){return Jh(is)},useDebugValue:Tv,useDeferredValue:function(y,w){var P=Li();return h1(P,Ze.memoizedState,y,w)},useTransition:function(){var y=Jh(is)[0],w=Li().memoizedState;return[typeof y=="boolean"?y:lu(y),w]},useSyncExternalStore:Gy,useId:v1,useHostTransitionStatus:wv,useFormState:qy,useActionState:qy,useOptimistic:function(y,w){var P=Li();return ky(P,Ze,y,w)},useMemoCache:vv,useCacheRefresh:p1};Cv.useEffectEvent=n1;var T1={readContext:en,use:Qh,useCallback:l1,useContext:en,useEffect:xv,useImperativeHandle:o1,useInsertionEffect:r1,useLayoutEffect:s1,useMemo:u1,useReducer:mv,useRef:e1,useState:function(){return mv(is)},useDebugValue:Tv,useDeferredValue:function(y,w){var P=Li();return Ze===null?Sv(P,y,w):h1(P,Ze.memoizedState,y,w)},useTransition:function(){var y=mv(is)[0],w=Li().memoizedState;return[typeof y=="boolean"?y:lu(y),w]},useSyncExternalStore:Gy,useId:v1,useHostTransitionStatus:wv,useFormState:t1,useActionState:t1,useOptimistic:function(y,w){var P=Li();return Ze!==null?ky(P,Ze,y,w):(P.baseState=y,[y,P.queue.dispatch])},useMemoCache:vv,useCacheRefresh:p1};T1.useEffectEvent=n1;function Rv(y,w,P,G){w=y.memoizedState,P=P(G,w),P=P==null?w:r({},w,P),y.memoizedState=P,y.lanes===0&&(y.updateQueue.baseState=P)}var Mv={enqueueSetState:function(y,w,P){y=y._reactInternals;var G=Xn(),K=Xs(G);K.payload=w,P!=null&&(K.callback=P),w=ks(y,K,G),w!==null&&(bn(w,y,G),ru(w,y,G))},enqueueReplaceState:function(y,w,P){y=y._reactInternals;var G=Xn(),K=Xs(G);K.tag=1,K.payload=w,P!=null&&(K.callback=P),w=ks(y,K,G),w!==null&&(bn(w,y,G),ru(w,y,G))},enqueueForceUpdate:function(y,w){y=y._reactInternals;var P=Xn(),G=Xs(P);G.tag=2,w!=null&&(G.callback=w),w=ks(y,G,P),w!==null&&(bn(w,y,P),ru(w,y,P))}};function S1(y,w,P,G,K,Q,tt){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(G,Q,tt):w.prototype&&w.prototype.isPureReactComponent?!Jl(P,G)||!Jl(K,Q):!0}function E1(y,w,P,G){y=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(P,G),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(P,G),w.state!==y&&Mv.enqueueReplaceState(w,w.state,null)}function Xa(y,w){var P=w;if("ref"in w){P={};for(var G in w)G!=="ref"&&(P[G]=w[G])}if(y=y.defaultProps){P===w&&(P=r({},P));for(var K in y)P[K]===void 0&&(P[K]=y[K])}return P}function w1(y){Ih(y)}function A1(y){console.error(y)}function C1(y){Ih(y)}function tf(y,w){try{var P=y.onUncaughtError;P(w.value,{componentStack:w.stack})}catch(G){setTimeout(function(){throw G})}}function R1(y,w,P){try{var G=y.onCaughtError;G(P.value,{componentStack:P.stack,errorBoundary:w.tag===1?w.stateNode:null})}catch(K){setTimeout(function(){throw K})}}function Ov(y,w,P){return P=Xs(P),P.tag=3,P.payload={element:null},P.callback=function(){tf(y,w)},P}function M1(y){return y=Xs(y),y.tag=3,y}function O1(y,w,P,G){var K=P.type.getDerivedStateFromError;if(typeof K=="function"){var Q=G.value;y.payload=function(){return K(Q)},y.callback=function(){R1(w,P,G)}}var tt=P.stateNode;tt!==null&&typeof tt.componentDidCatch=="function"&&(y.callback=function(){R1(w,P,G),typeof K!="function"&&($s===null?$s=new Set([this]):$s.add(this));var rt=G.stack;this.componentDidCatch(G.value,{componentStack:rt!==null?rt:""})})}function QM(y,w,P,G,K){if(P.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){if(w=P.alternate,w!==null&&Go(w,P,K,!0),P=Vn.current,P!==null){switch(P.tag){case 31:case 13:return sr===null?df():P.alternate===null&&Ri===0&&(Ri=3),P.flags&=-257,P.flags|=65536,P.lanes=K,G===Hh?P.flags|=16384:(w=P.updateQueue,w===null?P.updateQueue=new Set([G]):w.add(G),_v(y,G,K)),!1;case 22:return P.flags|=65536,G===Hh?P.flags|=16384:(w=P.updateQueue,w===null?(w={transitions:null,markerInstances:null,retryQueue:new Set([G])},P.updateQueue=w):(P=w.retryQueue,P===null?w.retryQueue=new Set([G]):P.add(G)),_v(y,G,K)),!1}throw Error(T(435,P.tag))}return _v(y,G,K),df(),!1}if(be)return w=Vn.current,w!==null?((w.flags&65536)===0&&(w.flags|=256),w.flags|=65536,w.lanes=K,G!==Kd&&(y=Error(T(422),{cause:G}),_l(er(y,P)))):(G!==Kd&&(w=Error(T(423),{cause:G}),_l(er(w,P))),y=y.current.alternate,y.flags|=65536,K&=-K,y.lanes|=K,G=er(G,P),K=Ov(y.stateNode,G,K),rv(y,K),Ri!==4&&(Ri=2)),!1;var Q=Error(T(520),{cause:G});if(Q=er(Q,P),yu===null?yu=[Q]:yu.push(Q),Ri!==4&&(Ri=2),w===null)return!0;G=er(G,P),P=w;do{switch(P.tag){case 3:return P.flags|=65536,y=K&-K,P.lanes|=y,y=Ov(P.stateNode,G,y),rv(P,y),!1;case 1:if(w=P.type,Q=P.stateNode,(P.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&($s===null||!$s.has(Q))))return P.flags|=65536,K&=-K,P.lanes|=K,K=M1(K),O1(K,y,P,G),rv(P,K),!1}P=P.return}while(P!==null);return!1}var bv=Error(T(461)),Ui=!1;function nn(y,w,P,G){w.child=y===null?Py(w,null,P,G):Ya(w,y.child,P,G)}function b1(y,w,P,G,K){P=P.render;var Q=w.ref;if("ref"in G){var tt={};for(var rt in G)rt!=="ref"&&(tt[rt]=G[rt])}else tt=G;return za(w),G=hv(y,w,P,tt,Q,K),rt=fv(),y!==null&&!Ui?(cv(y,w,K),ns(y,w,K)):(be&&rt&&kd(w),w.flags|=1,nn(y,w,G,K),w.child)}function L1(y,w,P,G,K){if(y===null){var Q=P.type;return typeof Q=="function"&&!Yd(Q)&&Q.defaultProps===void 0&&P.compare===null?(w.tag=15,w.type=Q,I1(y,w,Q,G,K)):(y=Bh(P.type,null,G,w,w.mode,K),y.ref=w.ref,y.return=w,w.child=y)}if(Q=y.child,!Uv(y,K)){var tt=Q.memoizedProps;if(P=P.compare,P=P!==null?P:Jl,P(tt,G)&&y.ref===w.ref)return ns(y,w,K)}return w.flags|=1,y=$r(Q,G),y.ref=w.ref,y.return=w,w.child=y}function I1(y,w,P,G,K){if(y!==null){var Q=y.memoizedProps;if(Jl(Q,G)&&y.ref===w.ref)if(Ui=!1,w.pendingProps=G=Q,Uv(y,K))(y.flags&131072)!==0&&(Ui=!0);else return w.lanes=y.lanes,ns(y,w,K)}return Lv(y,w,P,G,K)}function P1(y,w,P,G){var K=G.children,Q=y!==null?y.memoizedState:null;if(y===null&&w.stateNode===null&&(w.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),G.mode==="hidden"){if((w.flags&128)!==0){if(Q=Q!==null?Q.baseLanes|P:P,y!==null){for(G=w.child=y.child,K=0;G!==null;)K=K|G.lanes|G.childLanes,G=G.sibling;G=K&~Q}else G=0,w.child=null;return N1(y,w,Q,P,G)}if((P&536870912)!==0)w.memoizedState={baseLanes:0,cachePool:null},y!==null&&Gh(w,Q!==null?Q.cachePool:null),Q!==null?By(w,Q):av(),Fy(w);else return G=w.lanes=536870912,N1(y,w,Q!==null?Q.baseLanes|P:P,P,G)}else Q!==null?(Gh(w,Q.cachePool),By(w,Q),Ks(),w.memoizedState=null):(y!==null&&Gh(w,null),av(),Ks());return nn(y,w,K,P),w.child}function fu(y,w){return y!==null&&y.tag===22||w.stateNode!==null||(w.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.sibling}function N1(y,w,P,G,K){var Q=tv();return Q=Q===null?null:{parent:Bi._currentValue,pool:Q},w.memoizedState={baseLanes:P,cachePool:Q},y!==null&&Gh(w,null),av(),Fy(w),y!==null&&Go(y,w,G,!0),w.childLanes=K,null}function ef(y,w){return w=rf({mode:w.mode,children:w.children},y.mode),w.ref=y.ref,y.child=w,w.return=y,w}function D1(y,w,P){return Ya(w,y.child,null,P),y=ef(w,w.pendingProps),y.flags|=2,Hn(w),w.memoizedState=null,y}function JM(y,w,P){var G=w.pendingProps,K=(w.flags&128)!==0;if(w.flags&=-129,y===null){if(be){if(G.mode==="hidden")return y=ef(w,G),w.lanes=536870912,fu(null,y);if(lv(w),(y=fi)?(y=jx(y,rr),y=y!==null&&y.data==="&"?y:null,y!==null&&(w.memoizedState={dehydrated:y,treeContext:Gs!==null?{id:Lr,overflow:Ir}:null,retryLane:536870912,hydrationErrors:null},P=gy(y),P.return=w,w.child=P,tn=w,fi=null)):y=null,y===null)throw Hs(w);return w.lanes=536870912,null}return ef(w,G)}var Q=y.memoizedState;if(Q!==null){var tt=Q.dehydrated;if(lv(w),K)if(w.flags&256)w.flags&=-257,w=D1(y,w,P);else if(w.memoizedState!==null)w.child=y.child,w.flags|=128,w=null;else throw Error(T(558));else if(Ui||Go(y,w,P,!1),K=(P&y.childLanes)!==0,Ui||K){if(G=ti,G!==null&&(tt=ei(G,P),tt!==0&&tt!==Q.retryLane))throw Q.retryLane=tt,Da(y,tt),bn(G,y,tt),bv;df(),w=D1(y,w,P)}else y=Q.treeContext,fi=ar(tt.nextSibling),tn=w,be=!0,Vs=null,rr=!1,y!==null&&Ty(w,y),w=ef(w,G),w.flags|=4096;return w}return y=$r(y.child,{mode:G.mode,children:G.children}),y.ref=w.ref,w.child=y,y.return=w,y}function nf(y,w){var P=w.ref;if(P===null)y!==null&&y.ref!==null&&(w.flags|=4194816);else{if(typeof P!="function"&&typeof P!="object")throw Error(T(284));(y===null||y.ref!==P)&&(w.flags|=4194816)}}function Lv(y,w,P,G,K){return za(w),P=hv(y,w,P,G,void 0,K),G=fv(),y!==null&&!Ui?(cv(y,w,K),ns(y,w,K)):(be&&G&&kd(w),w.flags|=1,nn(y,w,P,K),w.child)}function B1(y,w,P,G,K,Q){return za(w),w.updateQueue=null,P=zy(w,G,P,K),Uy(y),G=fv(),y!==null&&!Ui?(cv(y,w,Q),ns(y,w,Q)):(be&&G&&kd(w),w.flags|=1,nn(y,w,P,Q),w.child)}function F1(y,w,P,G,K){if(za(w),w.stateNode===null){var Q=Bo,tt=P.contextType;typeof tt=="object"&&tt!==null&&(Q=en(tt)),Q=new P(G,Q),w.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Q.updater=Mv,w.stateNode=Q,Q._reactInternals=w,Q=w.stateNode,Q.props=G,Q.state=w.memoizedState,Q.refs={},iv(w),tt=P.contextType,Q.context=typeof tt=="object"&&tt!==null?en(tt):Bo,Q.state=w.memoizedState,tt=P.getDerivedStateFromProps,typeof tt=="function"&&(Rv(w,P,tt,G),Q.state=w.memoizedState),typeof P.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(tt=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),tt!==Q.state&&Mv.enqueueReplaceState(Q,Q.state,null),au(w,G,Q,K),su(),Q.state=w.memoizedState),typeof Q.componentDidMount=="function"&&(w.flags|=4194308),G=!0}else if(y===null){Q=w.stateNode;var rt=w.memoizedProps,ht=Xa(P,rt);Q.props=ht;var Et=Q.context,It=P.contextType;tt=Bo,typeof It=="object"&&It!==null&&(tt=en(It));var Dt=P.getDerivedStateFromProps;It=typeof Dt=="function"||typeof Q.getSnapshotBeforeUpdate=="function",rt=w.pendingProps!==rt,It||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(rt||Et!==tt)&&E1(w,Q,G,tt),Ws=!1;var Rt=w.memoizedState;Q.state=Rt,au(w,G,Q,K),su(),Et=w.memoizedState,rt||Rt!==Et||Ws?(typeof Dt=="function"&&(Rv(w,P,Dt,G),Et=w.memoizedState),(ht=Ws||S1(w,P,ht,G,Rt,Et,tt))?(It||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(w.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=G,w.memoizedState=Et),Q.props=G,Q.state=Et,Q.context=tt,G=ht):(typeof Q.componentDidMount=="function"&&(w.flags|=4194308),G=!1)}else{Q=w.stateNode,nv(y,w),tt=w.memoizedProps,It=Xa(P,tt),Q.props=It,Dt=w.pendingProps,Rt=Q.context,Et=P.contextType,ht=Bo,typeof Et=="object"&&Et!==null&&(ht=en(Et)),rt=P.getDerivedStateFromProps,(Et=typeof rt=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(tt!==Dt||Rt!==ht)&&E1(w,Q,G,ht),Ws=!1,Rt=w.memoizedState,Q.state=Rt,au(w,G,Q,K),su();var Lt=w.memoizedState;tt!==Dt||Rt!==Lt||Ws||y!==null&&y.dependencies!==null&&Uh(y.dependencies)?(typeof rt=="function"&&(Rv(w,P,rt,G),Lt=w.memoizedState),(It=Ws||S1(w,P,It,G,Rt,Lt,ht)||y!==null&&y.dependencies!==null&&Uh(y.dependencies))?(Et||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(G,Lt,ht),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(G,Lt,ht)),typeof Q.componentDidUpdate=="function"&&(w.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof Q.componentDidUpdate!="function"||tt===y.memoizedProps&&Rt===y.memoizedState||(w.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||tt===y.memoizedProps&&Rt===y.memoizedState||(w.flags|=1024),w.memoizedProps=G,w.memoizedState=Lt),Q.props=G,Q.state=Lt,Q.context=ht,G=It):(typeof Q.componentDidUpdate!="function"||tt===y.memoizedProps&&Rt===y.memoizedState||(w.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||tt===y.memoizedProps&&Rt===y.memoizedState||(w.flags|=1024),G=!1)}return Q=G,nf(y,w),G=(w.flags&128)!==0,Q||G?(Q=w.stateNode,P=G&&typeof P.getDerivedStateFromError!="function"?null:Q.render(),w.flags|=1,y!==null&&G?(w.child=Ya(w,y.child,null,K),w.child=Ya(w,null,P,K)):nn(y,w,P,K),w.memoizedState=Q.state,y=w.child):y=ns(y,w,K),y}function U1(y,w,P,G){return Fa(),w.flags|=256,nn(y,w,P,G),w.child}var Iv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pv(y){return{baseLanes:y,cachePool:Ry()}}function Nv(y,w,P){return y=y!==null?y.childLanes&~P:0,w&&(y|=Wn),y}function z1(y,w,P){var G=w.pendingProps,K=!1,Q=(w.flags&128)!==0,tt;if((tt=Q)||(tt=y!==null&&y.memoizedState===null?!1:(bi.current&2)!==0),tt&&(K=!0,w.flags&=-129),tt=(w.flags&32)!==0,w.flags&=-33,y===null){if(be){if(K?js(w):Ks(),(y=fi)?(y=jx(y,rr),y=y!==null&&y.data!=="&"?y:null,y!==null&&(w.memoizedState={dehydrated:y,treeContext:Gs!==null?{id:Lr,overflow:Ir}:null,retryLane:536870912,hydrationErrors:null},P=gy(y),P.return=w,w.child=P,tn=w,fi=null)):y=null,y===null)throw Hs(w);return p0(y)?w.lanes=32:w.lanes=536870912,null}var rt=G.children;return G=G.fallback,K?(Ks(),K=w.mode,rt=rf({mode:"hidden",children:rt},K),G=Ba(G,K,P,null),rt.return=w,G.return=w,rt.sibling=G,w.child=rt,G=w.child,G.memoizedState=Pv(P),G.childLanes=Nv(y,tt,P),w.memoizedState=Iv,fu(null,G)):(js(w),Dv(w,rt))}var ht=y.memoizedState;if(ht!==null&&(rt=ht.dehydrated,rt!==null)){if(Q)w.flags&256?(js(w),w.flags&=-257,w=Bv(y,w,P)):w.memoizedState!==null?(Ks(),w.child=y.child,w.flags|=128,w=null):(Ks(),rt=G.fallback,K=w.mode,G=rf({mode:"visible",children:G.children},K),rt=Ba(rt,K,P,null),rt.flags|=2,G.return=w,rt.return=w,G.sibling=rt,w.child=G,Ya(w,y.child,null,P),G=w.child,G.memoizedState=Pv(P),G.childLanes=Nv(y,tt,P),w.memoizedState=Iv,w=fu(null,G));else if(js(w),p0(rt)){if(tt=rt.nextSibling&&rt.nextSibling.dataset,tt)var Et=tt.dgst;tt=Et,G=Error(T(419)),G.stack="",G.digest=tt,_l({value:G,source:null,stack:null}),w=Bv(y,w,P)}else if(Ui||Go(y,w,P,!1),tt=(P&y.childLanes)!==0,Ui||tt){if(tt=ti,tt!==null&&(G=ei(tt,P),G!==0&&G!==ht.retryLane))throw ht.retryLane=G,Da(y,G),bn(tt,y,G),bv;v0(rt)||df(),w=Bv(y,w,P)}else v0(rt)?(w.flags|=192,w.child=y.child,w=null):(y=ht.treeContext,fi=ar(rt.nextSibling),tn=w,be=!0,Vs=null,rr=!1,y!==null&&Ty(w,y),w=Dv(w,G.children),w.flags|=4096);return w}return K?(Ks(),rt=G.fallback,K=w.mode,ht=y.child,Et=ht.sibling,G=$r(ht,{mode:"hidden",children:G.children}),G.subtreeFlags=ht.subtreeFlags&65011712,Et!==null?rt=$r(Et,rt):(rt=Ba(rt,K,P,null),rt.flags|=2),rt.return=w,G.return=w,G.sibling=rt,w.child=G,fu(null,G),G=w.child,rt=y.child.memoizedState,rt===null?rt=Pv(P):(K=rt.cachePool,K!==null?(ht=Bi._currentValue,K=K.parent!==ht?{parent:ht,pool:ht}:K):K=Ry(),rt={baseLanes:rt.baseLanes|P,cachePool:K}),G.memoizedState=rt,G.childLanes=Nv(y,tt,P),w.memoizedState=Iv,fu(y.child,G)):(js(w),P=y.child,y=P.sibling,P=$r(P,{mode:"visible",children:G.children}),P.return=w,P.sibling=null,y!==null&&(tt=w.deletions,tt===null?(w.deletions=[y],w.flags|=16):tt.push(y)),w.child=P,w.memoizedState=null,P)}function Dv(y,w){return w=rf({mode:"visible",children:w},y.mode),w.return=y,y.child=w}function rf(y,w){return y=Gn(22,y,null,w),y.lanes=0,y}function Bv(y,w,P){return Ya(w,y.child,null,P),y=Dv(w,w.pendingProps.children),y.flags|=2,w.memoizedState=null,y}function G1(y,w,P){y.lanes|=w;var G=y.alternate;G!==null&&(G.lanes|=w),Jd(y.return,w,P)}function Fv(y,w,P,G,K,Q){var tt=y.memoizedState;tt===null?y.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:G,tail:P,tailMode:K,treeForkCount:Q}:(tt.isBackwards=w,tt.rendering=null,tt.renderingStartTime=0,tt.last=G,tt.tail=P,tt.tailMode=K,tt.treeForkCount=Q)}function V1(y,w,P){var G=w.pendingProps,K=G.revealOrder,Q=G.tail;G=G.children;var tt=bi.current,rt=(tt&2)!==0;if(rt?(tt=tt&1|2,w.flags|=128):tt&=1,F(bi,tt),nn(y,w,G,P),G=be?ql:0,!rt&&y!==null&&(y.flags&128)!==0)t:for(y=w.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&G1(y,P,w);else if(y.tag===19)G1(y,P,w);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===w)break t;for(;y.sibling===null;){if(y.return===null||y.return===w)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}switch(K){case"forwards":for(P=w.child,K=null;P!==null;)y=P.alternate,y!==null&&kh(y)===null&&(K=P),P=P.sibling;P=K,P===null?(K=w.child,w.child=null):(K=P.sibling,P.sibling=null),Fv(w,!1,K,P,Q,G);break;case"backwards":case"unstable_legacy-backwards":for(P=null,K=w.child,w.child=null;K!==null;){if(y=K.alternate,y!==null&&kh(y)===null){w.child=K;break}y=K.sibling,K.sibling=P,P=K,K=y}Fv(w,!0,P,null,Q,G);break;case"together":Fv(w,!1,null,null,void 0,G);break;default:w.memoizedState=null}return w.child}function ns(y,w,P){if(y!==null&&(w.dependencies=y.dependencies),Js|=w.lanes,(P&w.childLanes)===0)if(y!==null){if(Go(y,w,P,!1),(P&w.childLanes)===0)return null}else return null;if(y!==null&&w.child!==y.child)throw Error(T(153));if(w.child!==null){for(y=w.child,P=$r(y,y.pendingProps),w.child=P,P.return=w;y.sibling!==null;)y=y.sibling,P=P.sibling=$r(y,y.pendingProps),P.return=w;P.sibling=null}return w.child}function Uv(y,w){return(y.lanes&w)!==0?!0:(y=y.dependencies,!!(y!==null&&Uh(y)))}function $M(y,w,P){switch(w.tag){case 3:J(w,w.stateNode.containerInfo),Ys(w,Bi,y.memoizedState.cache),Fa();break;case 27:case 5:et(w);break;case 4:J(w,w.stateNode.containerInfo);break;case 10:Ys(w,w.type,w.memoizedProps.value);break;case 31:if(w.memoizedState!==null)return w.flags|=128,lv(w),null;break;case 13:var G=w.memoizedState;if(G!==null)return G.dehydrated!==null?(js(w),w.flags|=128,null):(P&w.child.childLanes)!==0?z1(y,w,P):(js(w),y=ns(y,w,P),y!==null?y.sibling:null);js(w);break;case 19:var K=(y.flags&128)!==0;if(G=(P&w.childLanes)!==0,G||(Go(y,w,P,!1),G=(P&w.childLanes)!==0),K){if(G)return V1(y,w,P);w.flags|=128}if(K=w.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),F(bi,bi.current),G)break;return null;case 22:return w.lanes=0,P1(y,w,P,w.pendingProps);case 24:Ys(w,Bi,y.memoizedState.cache)}return ns(y,w,P)}function H1(y,w,P){if(y!==null)if(y.memoizedProps!==w.pendingProps)Ui=!0;else{if(!Uv(y,P)&&(w.flags&128)===0)return Ui=!1,$M(y,w,P);Ui=(y.flags&131072)!==0}else Ui=!1,be&&(w.flags&1048576)!==0&&xy(w,ql,w.index);switch(w.lanes=0,w.tag){case 16:t:{var G=w.pendingProps;if(y=Va(w.elementType),w.type=y,typeof y=="function")Yd(y)?(G=Xa(y,G),w.tag=1,w=F1(null,w,y,G,P)):(w.tag=0,w=Lv(null,w,y,G,P));else{if(y!=null){var K=y.$$typeof;if(K===c){w.tag=11,w=b1(null,w,y,G,P);break t}else if(K===S){w.tag=14,w=L1(null,w,y,G,P);break t}}throw w=b(y)||y,Error(T(306,w,""))}}return w;case 0:return Lv(y,w,w.type,w.pendingProps,P);case 1:return G=w.type,K=Xa(G,w.pendingProps),F1(y,w,G,K,P);case 3:t:{if(J(w,w.stateNode.containerInfo),y===null)throw Error(T(387));G=w.pendingProps;var Q=w.memoizedState;K=Q.element,nv(y,w),au(w,G,null,P);var tt=w.memoizedState;if(G=tt.cache,Ys(w,Bi,G),G!==Q.cache&&$d(w,[Bi],P,!0),su(),G=tt.element,Q.isDehydrated)if(Q={element:G,isDehydrated:!1,cache:tt.cache},w.updateQueue.baseState=Q,w.memoizedState=Q,w.flags&256){w=U1(y,w,G,P);break t}else if(G!==K){K=er(Error(T(424)),w),_l(K),w=U1(y,w,G,P);break t}else for(y=w.stateNode.containerInfo,y.nodeType===9?y=y.body:y=y.nodeName==="HTML"?y.ownerDocument.body:y,fi=ar(y.firstChild),tn=w,be=!0,Vs=null,rr=!0,P=Py(w,null,G,P),w.child=P;P;)P.flags=P.flags&-3|4096,P=P.sibling;else{if(Fa(),G===K){w=ns(y,w,P);break t}nn(y,w,G,P)}w=w.child}return w;case 26:return nf(y,w),y===null?(P=qx(w.type,null,w.pendingProps,null))?w.memoizedState=P:be||(P=w.type,y=w.pendingProps,G=Tf(Z.current).createElement(P),G[wt]=w,G[Vt]=y,rn(G,P,y),vi(G),w.stateNode=G):w.memoizedState=qx(w.type,y.memoizedProps,w.pendingProps,y.memoizedState),null;case 27:return et(w),y===null&&be&&(G=w.stateNode=Qx(w.type,w.pendingProps,Z.current),tn=w,rr=!0,K=fi,ea(w.type)?(m0=K,fi=ar(G.firstChild)):fi=K),nn(y,w,w.pendingProps.children,P),nf(y,w),y===null&&(w.flags|=4194304),w.child;case 5:return y===null&&be&&((K=G=fi)&&(G=M4(G,w.type,w.pendingProps,rr),G!==null?(w.stateNode=G,tn=w,fi=ar(G.firstChild),rr=!1,K=!0):K=!1),K||Hs(w)),et(w),K=w.type,Q=w.pendingProps,tt=y!==null?y.memoizedProps:null,G=Q.children,f0(K,Q)?G=null:tt!==null&&f0(K,tt)&&(w.flags|=32),w.memoizedState!==null&&(K=hv(y,w,YM,null,null,P),Ru._currentValue=K),nf(y,w),nn(y,w,G,P),w.child;case 6:return y===null&&be&&((y=P=fi)&&(P=O4(P,w.pendingProps,rr),P!==null?(w.stateNode=P,tn=w,fi=null,y=!0):y=!1),y||Hs(w)),null;case 13:return z1(y,w,P);case 4:return J(w,w.stateNode.containerInfo),G=w.pendingProps,y===null?w.child=Ya(w,null,G,P):nn(y,w,G,P),w.child;case 11:return b1(y,w,w.type,w.pendingProps,P);case 7:return nn(y,w,w.pendingProps,P),w.child;case 8:return nn(y,w,w.pendingProps.children,P),w.child;case 12:return nn(y,w,w.pendingProps.children,P),w.child;case 10:return G=w.pendingProps,Ys(w,w.type,G.value),nn(y,w,G.children,P),w.child;case 9:return K=w.type._context,G=w.pendingProps.children,za(w),K=en(K),G=G(K),w.flags|=1,nn(y,w,G,P),w.child;case 14:return L1(y,w,w.type,w.pendingProps,P);case 15:return I1(y,w,w.type,w.pendingProps,P);case 19:return V1(y,w,P);case 31:return JM(y,w,P);case 22:return P1(y,w,P,w.pendingProps);case 24:return za(w),G=en(Bi),y===null?(K=tv(),K===null&&(K=ti,Q=qd(),K.pooledCache=Q,Q.refCount++,Q!==null&&(K.pooledCacheLanes|=P),K=Q),w.memoizedState={parent:G,cache:K},iv(w),Ys(w,Bi,K)):((y.lanes&P)!==0&&(nv(y,w),au(w,null,null,P),su()),K=y.memoizedState,Q=w.memoizedState,K.parent!==G?(K={parent:G,cache:G},w.memoizedState=K,w.lanes===0&&(w.memoizedState=w.updateQueue.baseState=K),Ys(w,Bi,G)):(G=Q.cache,Ys(w,Bi,G),G!==K.cache&&$d(w,[Bi],P,!0))),nn(y,w,w.pendingProps.children,P),w.child;case 29:throw w.pendingProps}throw Error(T(156,w.tag))}function rs(y){y.flags|=4}function zv(y,w,P,G,K){if((w=(y.mode&32)!==0)&&(w=!1),w){if(y.flags|=16777216,(K&335544128)===K)if(y.stateNode.complete)y.flags|=8192;else if(vx())y.flags|=8192;else throw Ha=Hh,ev}else y.flags&=-16777217}function Y1(y,w){if(w.type!=="stylesheet"||(w.state.loading&4)!==0)y.flags&=-16777217;else if(y.flags|=16777216,!nT(w))if(vx())y.flags|=8192;else throw Ha=Hh,ev}function sf(y,w){w!==null&&(y.flags|=4),y.flags&16384&&(w=y.tag!==22?ui():536870912,y.lanes|=w,$o|=w)}function cu(y,w){if(!be)switch(y.tailMode){case"hidden":w=y.tail;for(var P=null;w!==null;)w.alternate!==null&&(P=w),w=w.sibling;P===null?y.tail=null:P.sibling=null;break;case"collapsed":P=y.tail;for(var G=null;P!==null;)P.alternate!==null&&(G=P),P=P.sibling;G===null?w||y.tail===null?y.tail=null:y.tail.sibling=null:G.sibling=null}}function ci(y){var w=y.alternate!==null&&y.alternate.child===y.child,P=0,G=0;if(w)for(var K=y.child;K!==null;)P|=K.lanes|K.childLanes,G|=K.subtreeFlags&65011712,G|=K.flags&65011712,K.return=y,K=K.sibling;else for(K=y.child;K!==null;)P|=K.lanes|K.childLanes,G|=K.subtreeFlags,G|=K.flags,K.return=y,K=K.sibling;return y.subtreeFlags|=G,y.childLanes=P,w}function qM(y,w,P){var G=w.pendingProps;switch(jd(w),w.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(w),null;case 1:return ci(w),null;case 3:return P=w.stateNode,G=null,y!==null&&(G=y.memoizedState.cache),w.memoizedState.cache!==G&&(w.flags|=2048),ts(Bi),q(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(y===null||y.child===null)&&(zo(w)?rs(w):y===null||y.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,Zd())),ci(w),null;case 26:var K=w.type,Q=w.memoizedState;return y===null?(rs(w),Q!==null?(ci(w),Y1(w,Q)):(ci(w),zv(w,K,null,G,P))):Q?Q!==y.memoizedState?(rs(w),ci(w),Y1(w,Q)):(ci(w),w.flags&=-16777217):(y=y.memoizedProps,y!==G&&rs(w),ci(w),zv(w,K,y,G,P)),null;case 27:if(it(w),P=Z.current,K=w.type,y!==null&&w.stateNode!=null)y.memoizedProps!==G&&rs(w);else{if(!G){if(w.stateNode===null)throw Error(T(166));return ci(w),null}y=k.current,zo(w)?Sy(w):(y=Qx(K,G,P),w.stateNode=y,rs(w))}return ci(w),null;case 5:if(it(w),K=w.type,y!==null&&w.stateNode!=null)y.memoizedProps!==G&&rs(w);else{if(!G){if(w.stateNode===null)throw Error(T(166));return ci(w),null}if(Q=k.current,zo(w))Sy(w);else{var tt=Tf(Z.current);switch(Q){case 1:Q=tt.createElementNS("http://www.w3.org/2000/svg",K);break;case 2:Q=tt.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;default:switch(K){case"svg":Q=tt.createElementNS("http://www.w3.org/2000/svg",K);break;case"math":Q=tt.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;case"script":Q=tt.createElement("div"),Q.innerHTML="<script><\/script>",Q=Q.removeChild(Q.firstChild);break;case"select":Q=typeof G.is=="string"?tt.createElement("select",{is:G.is}):tt.createElement("select"),G.multiple?Q.multiple=!0:G.size&&(Q.size=G.size);break;default:Q=typeof G.is=="string"?tt.createElement(K,{is:G.is}):tt.createElement(K)}}Q[wt]=w,Q[Vt]=G;t:for(tt=w.child;tt!==null;){if(tt.tag===5||tt.tag===6)Q.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.tag!==27&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===w)break t;for(;tt.sibling===null;){if(tt.return===null||tt.return===w)break t;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}w.stateNode=Q;t:switch(rn(Q,K,G),K){case"button":case"input":case"select":case"textarea":G=!!G.autoFocus;break t;case"img":G=!0;break t;default:G=!1}G&&rs(w)}}return ci(w),zv(w,w.type,y===null?null:y.memoizedProps,w.pendingProps,P),null;case 6:if(y&&w.stateNode!=null)y.memoizedProps!==G&&rs(w);else{if(typeof G!="string"&&w.stateNode===null)throw Error(T(166));if(y=Z.current,zo(w)){if(y=w.stateNode,P=w.memoizedProps,G=null,K=tn,K!==null)switch(K.tag){case 27:case 5:G=K.memoizedProps}y[wt]=w,y=!!(y.nodeValue===P||G!==null&&G.suppressHydrationWarning===!0||zx(y.nodeValue,P)),y||Hs(w,!0)}else y=Tf(y).createTextNode(G),y[wt]=w,w.stateNode=y}return ci(w),null;case 31:if(P=w.memoizedState,y===null||y.memoizedState!==null){if(G=zo(w),P!==null){if(y===null){if(!G)throw Error(T(318));if(y=w.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(T(557));y[wt]=w}else Fa(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;ci(w),y=!1}else P=Zd(),y!==null&&y.memoizedState!==null&&(y.memoizedState.hydrationErrors=P),y=!0;if(!y)return w.flags&256?(Hn(w),w):(Hn(w),null);if((w.flags&128)!==0)throw Error(T(558))}return ci(w),null;case 13:if(G=w.memoizedState,y===null||y.memoizedState!==null&&y.memoizedState.dehydrated!==null){if(K=zo(w),G!==null&&G.dehydrated!==null){if(y===null){if(!K)throw Error(T(318));if(K=w.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error(T(317));K[wt]=w}else Fa(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;ci(w),K=!1}else K=Zd(),y!==null&&y.memoizedState!==null&&(y.memoizedState.hydrationErrors=K),K=!0;if(!K)return w.flags&256?(Hn(w),w):(Hn(w),null)}return Hn(w),(w.flags&128)!==0?(w.lanes=P,w):(P=G!==null,y=y!==null&&y.memoizedState!==null,P&&(G=w.child,K=null,G.alternate!==null&&G.alternate.memoizedState!==null&&G.alternate.memoizedState.cachePool!==null&&(K=G.alternate.memoizedState.cachePool.pool),Q=null,G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(Q=G.memoizedState.cachePool.pool),Q!==K&&(G.flags|=2048)),P!==y&&P&&(w.child.flags|=8192),sf(w,w.updateQueue),ci(w),null);case 4:return q(),y===null&&a0(w.stateNode.containerInfo),ci(w),null;case 10:return ts(w.type),ci(w),null;case 19:if(U(bi),G=w.memoizedState,G===null)return ci(w),null;if(K=(w.flags&128)!==0,Q=G.rendering,Q===null)if(K)cu(G,!1);else{if(Ri!==0||y!==null&&(y.flags&128)!==0)for(y=w.child;y!==null;){if(Q=kh(y),Q!==null){for(w.flags|=128,cu(G,!1),y=Q.updateQueue,w.updateQueue=y,sf(w,y),w.subtreeFlags=0,y=P,P=w.child;P!==null;)my(P,y),P=P.sibling;return F(bi,bi.current&1|2),be&&qr(w,G.treeForkCount),w.child}y=y.sibling}G.tail!==null&&Pt()>hf&&(w.flags|=128,K=!0,cu(G,!1),w.lanes=4194304)}else{if(!K)if(y=kh(Q),y!==null){if(w.flags|=128,K=!0,y=y.updateQueue,w.updateQueue=y,sf(w,y),cu(G,!0),G.tail===null&&G.tailMode==="hidden"&&!Q.alternate&&!be)return ci(w),null}else 2*Pt()-G.renderingStartTime>hf&&P!==536870912&&(w.flags|=128,K=!0,cu(G,!1),w.lanes=4194304);G.isBackwards?(Q.sibling=w.child,w.child=Q):(y=G.last,y!==null?y.sibling=Q:w.child=Q,G.last=Q)}return G.tail!==null?(y=G.tail,G.rendering=y,G.tail=y.sibling,G.renderingStartTime=Pt(),y.sibling=null,P=bi.current,F(bi,K?P&1|2:P&1),be&&qr(w,G.treeForkCount),y):(ci(w),null);case 22:case 23:return Hn(w),ov(),G=w.memoizedState!==null,y!==null?y.memoizedState!==null!==G&&(w.flags|=8192):G&&(w.flags|=8192),G?(P&536870912)!==0&&(w.flags&128)===0&&(ci(w),w.subtreeFlags&6&&(w.flags|=8192)):ci(w),P=w.updateQueue,P!==null&&sf(w,P.retryQueue),P=null,y!==null&&y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(P=y.memoizedState.cachePool.pool),G=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(G=w.memoizedState.cachePool.pool),G!==P&&(w.flags|=2048),y!==null&&U(Ga),null;case 24:return P=null,y!==null&&(P=y.memoizedState.cache),w.memoizedState.cache!==P&&(w.flags|=2048),ts(Bi),ci(w),null;case 25:return null;case 30:return null}throw Error(T(156,w.tag))}function _M(y,w){switch(jd(w),w.tag){case 1:return y=w.flags,y&65536?(w.flags=y&-65537|128,w):null;case 3:return ts(Bi),q(),y=w.flags,(y&65536)!==0&&(y&128)===0?(w.flags=y&-65537|128,w):null;case 26:case 27:case 5:return it(w),null;case 31:if(w.memoizedState!==null){if(Hn(w),w.alternate===null)throw Error(T(340));Fa()}return y=w.flags,y&65536?(w.flags=y&-65537|128,w):null;case 13:if(Hn(w),y=w.memoizedState,y!==null&&y.dehydrated!==null){if(w.alternate===null)throw Error(T(340));Fa()}return y=w.flags,y&65536?(w.flags=y&-65537|128,w):null;case 19:return U(bi),null;case 4:return q(),null;case 10:return ts(w.type),null;case 22:case 23:return Hn(w),ov(),y!==null&&U(Ga),y=w.flags,y&65536?(w.flags=y&-65537|128,w):null;case 24:return ts(Bi),null;case 25:return null;default:return null}}function W1(y,w){switch(jd(w),w.tag){case 3:ts(Bi),q();break;case 26:case 27:case 5:it(w);break;case 4:q();break;case 31:w.memoizedState!==null&&Hn(w);break;case 13:Hn(w);break;case 19:U(bi);break;case 10:ts(w.type);break;case 22:case 23:Hn(w),ov(),y!==null&&U(Ga);break;case 24:ts(Bi)}}function du(y,w){try{var P=w.updateQueue,G=P!==null?P.lastEffect:null;if(G!==null){var K=G.next;P=K;do{if((P.tag&y)===y){G=void 0;var Q=P.create,tt=P.inst;G=Q(),tt.destroy=G}P=P.next}while(P!==K)}}catch(rt){Ye(w,w.return,rt)}}function Zs(y,w,P){try{var G=w.updateQueue,K=G!==null?G.lastEffect:null;if(K!==null){var Q=K.next;G=Q;do{if((G.tag&y)===y){var tt=G.inst,rt=tt.destroy;if(rt!==void 0){tt.destroy=void 0,K=w;var ht=P,Et=rt;try{Et()}catch(It){Ye(K,ht,It)}}}G=G.next}while(G!==Q)}}catch(It){Ye(w,w.return,It)}}function X1(y){var w=y.updateQueue;if(w!==null){var P=y.stateNode;try{Dy(w,P)}catch(G){Ye(y,y.return,G)}}}function k1(y,w,P){P.props=Xa(y.type,y.memoizedProps),P.state=y.memoizedState;try{P.componentWillUnmount()}catch(G){Ye(y,w,G)}}function vu(y,w){try{var P=y.ref;if(P!==null){switch(y.tag){case 26:case 27:case 5:var G=y.stateNode;break;case 30:G=y.stateNode;break;default:G=y.stateNode}typeof P=="function"?y.refCleanup=P(G):P.current=G}}catch(K){Ye(y,w,K)}}function Pr(y,w){var P=y.ref,G=y.refCleanup;if(P!==null)if(typeof G=="function")try{G()}catch(K){Ye(y,w,K)}finally{y.refCleanup=null,y=y.alternate,y!=null&&(y.refCleanup=null)}else if(typeof P=="function")try{P(null)}catch(K){Ye(y,w,K)}else P.current=null}function j1(y){var w=y.type,P=y.memoizedProps,G=y.stateNode;try{t:switch(w){case"button":case"input":case"select":case"textarea":P.autoFocus&&G.focus();break t;case"img":P.src?G.src=P.src:P.srcSet&&(G.srcset=P.srcSet)}}catch(K){Ye(y,y.return,K)}}function Gv(y,w,P){try{var G=y.stateNode;S4(G,y.type,P,w),G[Vt]=w}catch(K){Ye(y,y.return,K)}}function K1(y){return y.tag===5||y.tag===3||y.tag===26||y.tag===27&&ea(y.type)||y.tag===4}function Vv(y){t:for(;;){for(;y.sibling===null;){if(y.return===null||K1(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&y.tag!==18;){if(y.tag===27&&ea(y.type)||y.flags&2||y.child===null||y.tag===4)continue t;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function Hv(y,w,P){var G=y.tag;if(G===5||G===6)y=y.stateNode,w?(P.nodeType===9?P.body:P.nodeName==="HTML"?P.ownerDocument.body:P).insertBefore(y,w):(w=P.nodeType===9?P.body:P.nodeName==="HTML"?P.ownerDocument.body:P,w.appendChild(y),P=P._reactRootContainer,P!=null||w.onclick!==null||(w.onclick=Qr));else if(G!==4&&(G===27&&ea(y.type)&&(P=y.stateNode,w=null),y=y.child,y!==null))for(Hv(y,w,P),y=y.sibling;y!==null;)Hv(y,w,P),y=y.sibling}function af(y,w,P){var G=y.tag;if(G===5||G===6)y=y.stateNode,w?P.insertBefore(y,w):P.appendChild(y);else if(G!==4&&(G===27&&ea(y.type)&&(P=y.stateNode),y=y.child,y!==null))for(af(y,w,P),y=y.sibling;y!==null;)af(y,w,P),y=y.sibling}function Z1(y){var w=y.stateNode,P=y.memoizedProps;try{for(var G=y.type,K=w.attributes;K.length;)w.removeAttributeNode(K[0]);rn(w,G,P),w[wt]=y,w[Vt]=P}catch(Q){Ye(y,y.return,Q)}}var ss=!1,zi=!1,Yv=!1,Q1=typeof WeakSet=="function"?WeakSet:Set,Zi=null;function t4(y,w){if(y=y.containerInfo,u0=Mf,y=oy(y),Bd(y)){if("selectionStart"in y)var P={start:y.selectionStart,end:y.selectionEnd};else t:{P=(P=y.ownerDocument)&&P.defaultView||window;var G=P.getSelection&&P.getSelection();if(G&&G.rangeCount!==0){P=G.anchorNode;var K=G.anchorOffset,Q=G.focusNode;G=G.focusOffset;try{P.nodeType,Q.nodeType}catch{P=null;break t}var tt=0,rt=-1,ht=-1,Et=0,It=0,Dt=y,Rt=null;e:for(;;){for(var Lt;Dt!==P||K!==0&&Dt.nodeType!==3||(rt=tt+K),Dt!==Q||G!==0&&Dt.nodeType!==3||(ht=tt+G),Dt.nodeType===3&&(tt+=Dt.nodeValue.length),(Lt=Dt.firstChild)!==null;)Rt=Dt,Dt=Lt;for(;;){if(Dt===y)break e;if(Rt===P&&++Et===K&&(rt=tt),Rt===Q&&++It===G&&(ht=tt),(Lt=Dt.nextSibling)!==null)break;Dt=Rt,Rt=Dt.parentNode}Dt=Lt}P=rt===-1||ht===-1?null:{start:rt,end:ht}}else P=null}P=P||{start:0,end:0}}else P=null;for(h0={focusedElem:y,selectionRange:P},Mf=!1,Zi=w;Zi!==null;)if(w=Zi,y=w.child,(w.subtreeFlags&1028)!==0&&y!==null)y.return=w,Zi=y;else for(;Zi!==null;){switch(w=Zi,Q=w.alternate,y=w.flags,w.tag){case 0:if((y&4)!==0&&(y=w.updateQueue,y=y!==null?y.events:null,y!==null))for(P=0;P<y.length;P++)K=y[P],K.ref.impl=K.nextImpl;break;case 11:case 15:break;case 1:if((y&1024)!==0&&Q!==null){y=void 0,P=w,K=Q.memoizedProps,Q=Q.memoizedState,G=P.stateNode;try{var ee=Xa(P.type,K);y=G.getSnapshotBeforeUpdate(ee,Q),G.__reactInternalSnapshotBeforeUpdate=y}catch(he){Ye(P,P.return,he)}}break;case 3:if((y&1024)!==0){if(y=w.stateNode.containerInfo,P=y.nodeType,P===9)d0(y);else if(P===1)switch(y.nodeName){case"HEAD":case"HTML":case"BODY":d0(y);break;default:y.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((y&1024)!==0)throw Error(T(163))}if(y=w.sibling,y!==null){y.return=w.return,Zi=y;break}Zi=w.return}}function J1(y,w,P){var G=P.flags;switch(P.tag){case 0:case 11:case 15:os(y,P),G&4&&du(5,P);break;case 1:if(os(y,P),G&4)if(y=P.stateNode,w===null)try{y.componentDidMount()}catch(tt){Ye(P,P.return,tt)}else{var K=Xa(P.type,w.memoizedProps);w=w.memoizedState;try{y.componentDidUpdate(K,w,y.__reactInternalSnapshotBeforeUpdate)}catch(tt){Ye(P,P.return,tt)}}G&64&&X1(P),G&512&&vu(P,P.return);break;case 3:if(os(y,P),G&64&&(y=P.updateQueue,y!==null)){if(w=null,P.child!==null)switch(P.child.tag){case 27:case 5:w=P.child.stateNode;break;case 1:w=P.child.stateNode}try{Dy(y,w)}catch(tt){Ye(P,P.return,tt)}}break;case 27:w===null&&G&4&&Z1(P);case 26:case 5:os(y,P),w===null&&G&4&&j1(P),G&512&&vu(P,P.return);break;case 12:os(y,P);break;case 31:os(y,P),G&4&&_1(y,P);break;case 13:os(y,P),G&4&&tx(y,P),G&64&&(y=P.memoizedState,y!==null&&(y=y.dehydrated,y!==null&&(P=u4.bind(null,P),b4(y,P))));break;case 22:if(G=P.memoizedState!==null||ss,!G){w=w!==null&&w.memoizedState!==null||zi,K=ss;var Q=zi;ss=G,(zi=w)&&!Q?ls(y,P,(P.subtreeFlags&8772)!==0):os(y,P),ss=K,zi=Q}break;case 30:break;default:os(y,P)}}function $1(y){var w=y.alternate;w!==null&&(y.alternate=null,$1(w)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(w=y.stateNode,w!==null&&un(w)),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}var pi=null,Cn=!1;function as(y,w,P){for(P=P.child;P!==null;)q1(y,w,P),P=P.sibling}function q1(y,w,P){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(yt,P)}catch{}switch(P.tag){case 26:zi||Pr(P,w),as(y,w,P),P.memoizedState?P.memoizedState.count--:P.stateNode&&(P=P.stateNode,P.parentNode.removeChild(P));break;case 27:zi||Pr(P,w);var G=pi,K=Cn;ea(P.type)&&(pi=P.stateNode,Cn=!1),as(y,w,P),wu(P.stateNode),pi=G,Cn=K;break;case 5:zi||Pr(P,w);case 6:if(G=pi,K=Cn,pi=null,as(y,w,P),pi=G,Cn=K,pi!==null)if(Cn)try{(pi.nodeType===9?pi.body:pi.nodeName==="HTML"?pi.ownerDocument.body:pi).removeChild(P.stateNode)}catch(Q){Ye(P,w,Q)}else try{pi.removeChild(P.stateNode)}catch(Q){Ye(P,w,Q)}break;case 18:pi!==null&&(Cn?(y=pi,Xx(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,P.stateNode),sl(y)):Xx(pi,P.stateNode));break;case 4:G=pi,K=Cn,pi=P.stateNode.containerInfo,Cn=!0,as(y,w,P),pi=G,Cn=K;break;case 0:case 11:case 14:case 15:Zs(2,P,w),zi||Zs(4,P,w),as(y,w,P);break;case 1:zi||(Pr(P,w),G=P.stateNode,typeof G.componentWillUnmount=="function"&&k1(P,w,G)),as(y,w,P);break;case 21:as(y,w,P);break;case 22:zi=(G=zi)||P.memoizedState!==null,as(y,w,P),zi=G;break;default:as(y,w,P)}}function _1(y,w){if(w.memoizedState===null&&(y=w.alternate,y!==null&&(y=y.memoizedState,y!==null))){y=y.dehydrated;try{sl(y)}catch(P){Ye(w,w.return,P)}}}function tx(y,w){if(w.memoizedState===null&&(y=w.alternate,y!==null&&(y=y.memoizedState,y!==null&&(y=y.dehydrated,y!==null))))try{sl(y)}catch(P){Ye(w,w.return,P)}}function e4(y){switch(y.tag){case 31:case 13:case 19:var w=y.stateNode;return w===null&&(w=y.stateNode=new Q1),w;case 22:return y=y.stateNode,w=y._retryCache,w===null&&(w=y._retryCache=new Q1),w;default:throw Error(T(435,y.tag))}}function of(y,w){var P=e4(y);w.forEach(function(G){if(!P.has(G)){P.add(G);var K=h4.bind(null,y,G);G.then(K,K)}})}function Rn(y,w){var P=w.deletions;if(P!==null)for(var G=0;G<P.length;G++){var K=P[G],Q=y,tt=w,rt=tt;t:for(;rt!==null;){switch(rt.tag){case 27:if(ea(rt.type)){pi=rt.stateNode,Cn=!1;break t}break;case 5:pi=rt.stateNode,Cn=!1;break t;case 3:case 4:pi=rt.stateNode.containerInfo,Cn=!0;break t}rt=rt.return}if(pi===null)throw Error(T(160));q1(Q,tt,K),pi=null,Cn=!1,Q=K.alternate,Q!==null&&(Q.return=null),K.return=null}if(w.subtreeFlags&13886)for(w=w.child;w!==null;)ex(w,y),w=w.sibling}var gr=null;function ex(y,w){var P=y.alternate,G=y.flags;switch(y.tag){case 0:case 11:case 14:case 15:Rn(w,y),Mn(y),G&4&&(Zs(3,y,y.return),du(3,y),Zs(5,y,y.return));break;case 1:Rn(w,y),Mn(y),G&512&&(zi||P===null||Pr(P,P.return)),G&64&&ss&&(y=y.updateQueue,y!==null&&(G=y.callbacks,G!==null&&(P=y.shared.hiddenCallbacks,y.shared.hiddenCallbacks=P===null?G:P.concat(G))));break;case 26:var K=gr;if(Rn(w,y),Mn(y),G&512&&(zi||P===null||Pr(P,P.return)),G&4){var Q=P!==null?P.memoizedState:null;if(G=y.memoizedState,P===null)if(G===null)if(y.stateNode===null){t:{G=y.type,P=y.memoizedProps,K=K.ownerDocument||K;e:switch(G){case"title":Q=K.getElementsByTagName("title")[0],(!Q||Q[ln]||Q[wt]||Q.namespaceURI==="http://www.w3.org/2000/svg"||Q.hasAttribute("itemprop"))&&(Q=K.createElement(G),K.head.insertBefore(Q,K.querySelector("head > title"))),rn(Q,G,P),Q[wt]=y,vi(Q),G=Q;break t;case"link":var tt=eT("link","href",K).get(G+(P.href||""));if(tt){for(var rt=0;rt<tt.length;rt++)if(Q=tt[rt],Q.getAttribute("href")===(P.href==null||P.href===""?null:P.href)&&Q.getAttribute("rel")===(P.rel==null?null:P.rel)&&Q.getAttribute("title")===(P.title==null?null:P.title)&&Q.getAttribute("crossorigin")===(P.crossOrigin==null?null:P.crossOrigin)){tt.splice(rt,1);break e}}Q=K.createElement(G),rn(Q,G,P),K.head.appendChild(Q);break;case"meta":if(tt=eT("meta","content",K).get(G+(P.content||""))){for(rt=0;rt<tt.length;rt++)if(Q=tt[rt],Q.getAttribute("content")===(P.content==null?null:""+P.content)&&Q.getAttribute("name")===(P.name==null?null:P.name)&&Q.getAttribute("property")===(P.property==null?null:P.property)&&Q.getAttribute("http-equiv")===(P.httpEquiv==null?null:P.httpEquiv)&&Q.getAttribute("charset")===(P.charSet==null?null:P.charSet)){tt.splice(rt,1);break e}}Q=K.createElement(G),rn(Q,G,P),K.head.appendChild(Q);break;default:throw Error(T(468,G))}Q[wt]=y,vi(Q),G=Q}y.stateNode=G}else iT(K,y.type,y.stateNode);else y.stateNode=tT(K,G,y.memoizedProps);else Q!==G?(Q===null?P.stateNode!==null&&(P=P.stateNode,P.parentNode.removeChild(P)):Q.count--,G===null?iT(K,y.type,y.stateNode):tT(K,G,y.memoizedProps)):G===null&&y.stateNode!==null&&Gv(y,y.memoizedProps,P.memoizedProps)}break;case 27:Rn(w,y),Mn(y),G&512&&(zi||P===null||Pr(P,P.return)),P!==null&&G&4&&Gv(y,y.memoizedProps,P.memoizedProps);break;case 5:if(Rn(w,y),Mn(y),G&512&&(zi||P===null||Pr(P,P.return)),y.flags&32){K=y.stateNode;try{Zr(K,"")}catch(ee){Ye(y,y.return,ee)}}G&4&&y.stateNode!=null&&(K=y.memoizedProps,Gv(y,K,P!==null?P.memoizedProps:K)),G&1024&&(Yv=!0);break;case 6:if(Rn(w,y),Mn(y),G&4){if(y.stateNode===null)throw Error(T(162));G=y.memoizedProps,P=y.stateNode;try{P.nodeValue=G}catch(ee){Ye(y,y.return,ee)}}break;case 3:if(wf=null,K=gr,gr=Sf(w.containerInfo),Rn(w,y),gr=K,Mn(y),G&4&&P!==null&&P.memoizedState.isDehydrated)try{sl(w.containerInfo)}catch(ee){Ye(y,y.return,ee)}Yv&&(Yv=!1,ix(y));break;case 4:G=gr,gr=Sf(y.stateNode.containerInfo),Rn(w,y),Mn(y),gr=G;break;case 12:Rn(w,y),Mn(y);break;case 31:Rn(w,y),Mn(y),G&4&&(G=y.updateQueue,G!==null&&(y.updateQueue=null,of(y,G)));break;case 13:Rn(w,y),Mn(y),y.child.flags&8192&&y.memoizedState!==null!=(P!==null&&P.memoizedState!==null)&&(uf=Pt()),G&4&&(G=y.updateQueue,G!==null&&(y.updateQueue=null,of(y,G)));break;case 22:K=y.memoizedState!==null;var ht=P!==null&&P.memoizedState!==null,Et=ss,It=zi;if(ss=Et||K,zi=It||ht,Rn(w,y),zi=It,ss=Et,Mn(y),G&8192)t:for(w=y.stateNode,w._visibility=K?w._visibility&-2:w._visibility|1,K&&(P===null||ht||ss||zi||ka(y)),P=null,w=y;;){if(w.tag===5||w.tag===26){if(P===null){ht=P=w;try{if(Q=ht.stateNode,K)tt=Q.style,typeof tt.setProperty=="function"?tt.setProperty("display","none","important"):tt.display="none";else{rt=ht.stateNode;var Dt=ht.memoizedProps.style,Rt=Dt!=null&&Dt.hasOwnProperty("display")?Dt.display:null;rt.style.display=Rt==null||typeof Rt=="boolean"?"":(""+Rt).trim()}}catch(ee){Ye(ht,ht.return,ee)}}}else if(w.tag===6){if(P===null){ht=w;try{ht.stateNode.nodeValue=K?"":ht.memoizedProps}catch(ee){Ye(ht,ht.return,ee)}}}else if(w.tag===18){if(P===null){ht=w;try{var Lt=ht.stateNode;K?kx(Lt,!0):kx(ht.stateNode,!1)}catch(ee){Ye(ht,ht.return,ee)}}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===y)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===y)break t;for(;w.sibling===null;){if(w.return===null||w.return===y)break t;P===w&&(P=null),w=w.return}P===w&&(P=null),w.sibling.return=w.return,w=w.sibling}G&4&&(G=y.updateQueue,G!==null&&(P=G.retryQueue,P!==null&&(G.retryQueue=null,of(y,P))));break;case 19:Rn(w,y),Mn(y),G&4&&(G=y.updateQueue,G!==null&&(y.updateQueue=null,of(y,G)));break;case 30:break;case 21:break;default:Rn(w,y),Mn(y)}}function Mn(y){var w=y.flags;if(w&2){try{for(var P,G=y.return;G!==null;){if(K1(G)){P=G;break}G=G.return}if(P==null)throw Error(T(160));switch(P.tag){case 27:var K=P.stateNode,Q=Vv(y);af(y,Q,K);break;case 5:var tt=P.stateNode;P.flags&32&&(Zr(tt,""),P.flags&=-33);var rt=Vv(y);af(y,rt,tt);break;case 3:case 4:var ht=P.stateNode.containerInfo,Et=Vv(y);Hv(y,Et,ht);break;default:throw Error(T(161))}}catch(It){Ye(y,y.return,It)}y.flags&=-3}w&4096&&(y.flags&=-4097)}function ix(y){if(y.subtreeFlags&1024)for(y=y.child;y!==null;){var w=y;ix(w),w.tag===5&&w.flags&1024&&w.stateNode.reset(),y=y.sibling}}function os(y,w){if(w.subtreeFlags&8772)for(w=w.child;w!==null;)J1(y,w.alternate,w),w=w.sibling}function ka(y){for(y=y.child;y!==null;){var w=y;switch(w.tag){case 0:case 11:case 14:case 15:Zs(4,w,w.return),ka(w);break;case 1:Pr(w,w.return);var P=w.stateNode;typeof P.componentWillUnmount=="function"&&k1(w,w.return,P),ka(w);break;case 27:wu(w.stateNode);case 26:case 5:Pr(w,w.return),ka(w);break;case 22:w.memoizedState===null&&ka(w);break;case 30:ka(w);break;default:ka(w)}y=y.sibling}}function ls(y,w,P){for(P=P&&(w.subtreeFlags&8772)!==0,w=w.child;w!==null;){var G=w.alternate,K=y,Q=w,tt=Q.flags;switch(Q.tag){case 0:case 11:case 15:ls(K,Q,P),du(4,Q);break;case 1:if(ls(K,Q,P),G=Q,K=G.stateNode,typeof K.componentDidMount=="function")try{K.componentDidMount()}catch(Et){Ye(G,G.return,Et)}if(G=Q,K=G.updateQueue,K!==null){var rt=G.stateNode;try{var ht=K.shared.hiddenCallbacks;if(ht!==null)for(K.shared.hiddenCallbacks=null,K=0;K<ht.length;K++)Ny(ht[K],rt)}catch(Et){Ye(G,G.return,Et)}}P&&tt&64&&X1(Q),vu(Q,Q.return);break;case 27:Z1(Q);case 26:case 5:ls(K,Q,P),P&&G===null&&tt&4&&j1(Q),vu(Q,Q.return);break;case 12:ls(K,Q,P);break;case 31:ls(K,Q,P),P&&tt&4&&_1(K,Q);break;case 13:ls(K,Q,P),P&&tt&4&&tx(K,Q);break;case 22:Q.memoizedState===null&&ls(K,Q,P),vu(Q,Q.return);break;case 30:break;default:ls(K,Q,P)}w=w.sibling}}function Wv(y,w){var P=null;y!==null&&y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(P=y.memoizedState.cachePool.pool),y=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(y=w.memoizedState.cachePool.pool),y!==P&&(y!=null&&y.refCount++,P!=null&&tu(P))}function Xv(y,w){y=null,w.alternate!==null&&(y=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==y&&(w.refCount++,y!=null&&tu(y))}function yr(y,w,P,G){if(w.subtreeFlags&10256)for(w=w.child;w!==null;)nx(y,w,P,G),w=w.sibling}function nx(y,w,P,G){var K=w.flags;switch(w.tag){case 0:case 11:case 15:yr(y,w,P,G),K&2048&&du(9,w);break;case 1:yr(y,w,P,G);break;case 3:yr(y,w,P,G),K&2048&&(y=null,w.alternate!==null&&(y=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==y&&(w.refCount++,y!=null&&tu(y)));break;case 12:if(K&2048){yr(y,w,P,G),y=w.stateNode;try{var Q=w.memoizedProps,tt=Q.id,rt=Q.onPostCommit;typeof rt=="function"&&rt(tt,w.alternate===null?"mount":"update",y.passiveEffectDuration,-0)}catch(ht){Ye(w,w.return,ht)}}else yr(y,w,P,G);break;case 31:yr(y,w,P,G);break;case 13:yr(y,w,P,G);break;case 23:break;case 22:Q=w.stateNode,tt=w.alternate,w.memoizedState!==null?Q._visibility&2?yr(y,w,P,G):pu(y,w):Q._visibility&2?yr(y,w,P,G):(Q._visibility|=2,Zo(y,w,P,G,(w.subtreeFlags&10256)!==0||!1)),K&2048&&Wv(tt,w);break;case 24:yr(y,w,P,G),K&2048&&Xv(w.alternate,w);break;default:yr(y,w,P,G)}}function Zo(y,w,P,G,K){for(K=K&&((w.subtreeFlags&10256)!==0||!1),w=w.child;w!==null;){var Q=y,tt=w,rt=P,ht=G,Et=tt.flags;switch(tt.tag){case 0:case 11:case 15:Zo(Q,tt,rt,ht,K),du(8,tt);break;case 23:break;case 22:var It=tt.stateNode;tt.memoizedState!==null?It._visibility&2?Zo(Q,tt,rt,ht,K):pu(Q,tt):(It._visibility|=2,Zo(Q,tt,rt,ht,K)),K&&Et&2048&&Wv(tt.alternate,tt);break;case 24:Zo(Q,tt,rt,ht,K),K&&Et&2048&&Xv(tt.alternate,tt);break;default:Zo(Q,tt,rt,ht,K)}w=w.sibling}}function pu(y,w){if(w.subtreeFlags&10256)for(w=w.child;w!==null;){var P=y,G=w,K=G.flags;switch(G.tag){case 22:pu(P,G),K&2048&&Wv(G.alternate,G);break;case 24:pu(P,G),K&2048&&Xv(G.alternate,G);break;default:pu(P,G)}w=w.sibling}}var mu=8192;function Qo(y,w,P){if(y.subtreeFlags&mu)for(y=y.child;y!==null;)rx(y,w,P),y=y.sibling}function rx(y,w,P){switch(y.tag){case 26:Qo(y,w,P),y.flags&mu&&y.memoizedState!==null&&H4(P,gr,y.memoizedState,y.memoizedProps);break;case 5:Qo(y,w,P);break;case 3:case 4:var G=gr;gr=Sf(y.stateNode.containerInfo),Qo(y,w,P),gr=G;break;case 22:y.memoizedState===null&&(G=y.alternate,G!==null&&G.memoizedState!==null?(G=mu,mu=16777216,Qo(y,w,P),mu=G):Qo(y,w,P));break;default:Qo(y,w,P)}}function sx(y){var w=y.alternate;if(w!==null&&(y=w.child,y!==null)){w.child=null;do w=y.sibling,y.sibling=null,y=w;while(y!==null)}}function gu(y){var w=y.deletions;if((y.flags&16)!==0){if(w!==null)for(var P=0;P<w.length;P++){var G=w[P];Zi=G,ox(G,y)}sx(y)}if(y.subtreeFlags&10256)for(y=y.child;y!==null;)ax(y),y=y.sibling}function ax(y){switch(y.tag){case 0:case 11:case 15:gu(y),y.flags&2048&&Zs(9,y,y.return);break;case 3:gu(y);break;case 12:gu(y);break;case 22:var w=y.stateNode;y.memoizedState!==null&&w._visibility&2&&(y.return===null||y.return.tag!==13)?(w._visibility&=-3,lf(y)):gu(y);break;default:gu(y)}}function lf(y){var w=y.deletions;if((y.flags&16)!==0){if(w!==null)for(var P=0;P<w.length;P++){var G=w[P];Zi=G,ox(G,y)}sx(y)}for(y=y.child;y!==null;){switch(w=y,w.tag){case 0:case 11:case 15:Zs(8,w,w.return),lf(w);break;case 22:P=w.stateNode,P._visibility&2&&(P._visibility&=-3,lf(w));break;default:lf(w)}y=y.sibling}}function ox(y,w){for(;Zi!==null;){var P=Zi;switch(P.tag){case 0:case 11:case 15:Zs(8,P,w);break;case 23:case 22:if(P.memoizedState!==null&&P.memoizedState.cachePool!==null){var G=P.memoizedState.cachePool.pool;G!=null&&G.refCount++}break;case 24:tu(P.memoizedState.cache)}if(G=P.child,G!==null)G.return=P,Zi=G;else t:for(P=y;Zi!==null;){G=Zi;var K=G.sibling,Q=G.return;if($1(G),G===P){Zi=null;break t}if(K!==null){K.return=Q,Zi=K;break t}Zi=Q}}}var i4={getCacheForType:function(y){var w=en(Bi),P=w.data.get(y);return P===void 0&&(P=y(),w.data.set(y,P)),P},cacheSignal:function(){return en(Bi).controller.signal}},n4=typeof WeakMap=="function"?WeakMap:Map,Ge=0,ti=null,Se=null,Re=0,He=0,Yn=null,Qs=!1,Jo=!1,kv=!1,us=0,Ri=0,Js=0,ja=0,jv=0,Wn=0,$o=0,yu=null,On=null,Kv=!1,uf=0,lx=0,hf=1/0,ff=null,$s=null,Xi=0,qs=null,qo=null,hs=0,Zv=0,Qv=null,ux=null,xu=0,Jv=null;function Xn(){return(Ge&2)!==0&&Re!==0?Re&-Re:N.T!==null?i0():ni()}function hx(){if(Wn===0)if((Re&536870912)===0||be){var y=qe;qe<<=1,(qe&3932160)===0&&(qe=262144),Wn=y}else Wn=536870912;return y=Vn.current,y!==null&&(y.flags|=32),Wn}function bn(y,w,P){(y===ti&&(He===2||He===9)||y.cancelPendingCommit!==null)&&(_o(y,0),_s(y,Re,Wn,!1)),Rr(y,P),((Ge&2)===0||y!==ti)&&(y===ti&&((Ge&2)===0&&(ja|=P),Ri===4&&_s(y,Re,Wn,!1)),Nr(y))}function fx(y,w,P){if((Ge&6)!==0)throw Error(T(327));var G=!P&&(w&127)===0&&(w&y.expiredLanes)===0||Ke(y,w),K=G?a4(y,w):qv(y,w,!0),Q=G;do{if(K===0){Jo&&!G&&_s(y,w,0,!1);break}else{if(P=y.current.alternate,Q&&!r4(P)){K=qv(y,w,!1),Q=!1;continue}if(K===2){if(Q=w,y.errorRecoveryDisabledLanes&Q)var tt=0;else tt=y.pendingLanes&-536870913,tt=tt!==0?tt:tt&536870912?536870912:0;if(tt!==0){w=tt;t:{var rt=y;K=yu;var ht=rt.current.memoizedState.isDehydrated;if(ht&&(_o(rt,tt).flags|=256),tt=qv(rt,tt,!1),tt!==2){if(kv&&!ht){rt.errorRecoveryDisabledLanes|=Q,ja|=Q,K=4;break t}Q=On,On=K,Q!==null&&(On===null?On=Q:On.push.apply(On,Q))}K=tt}if(Q=!1,K!==2)continue}}if(K===1){_o(y,0),_s(y,w,0,!0);break}t:{switch(G=y,Q=K,Q){case 0:case 1:throw Error(T(345));case 4:if((w&4194048)!==w)break;case 6:_s(G,w,Wn,!Qs);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(T(329))}if((w&62914560)===w&&(K=uf+300-Pt(),10<K)){if(_s(G,w,Wn,!Qs),je(G,0,!0)!==0)break t;hs=w,G.timeoutHandle=Yx(cx.bind(null,G,P,On,ff,Kv,w,Wn,ja,$o,Qs,Q,"Throttled",-0,0),K);break t}cx(G,P,On,ff,Kv,w,Wn,ja,$o,Qs,Q,null,-0,0)}}break}while(!0);Nr(y)}function cx(y,w,P,G,K,Q,tt,rt,ht,Et,It,Dt,Rt,Lt){if(y.timeoutHandle=-1,Dt=w.subtreeFlags,Dt&8192||(Dt&16785408)===16785408){Dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qr},rx(w,Q,Dt);var ee=(Q&62914560)===Q?uf-Pt():(Q&4194048)===Q?lx-Pt():0;if(ee=Y4(Dt,ee),ee!==null){hs=Q,y.cancelPendingCommit=ee(Tx.bind(null,y,w,Q,P,G,K,tt,rt,ht,It,Dt,null,Rt,Lt)),_s(y,Q,tt,!Et);return}}Tx(y,w,Q,P,G,K,tt,rt,ht)}function r4(y){for(var w=y;;){var P=w.tag;if((P===0||P===11||P===15)&&w.flags&16384&&(P=w.updateQueue,P!==null&&(P=P.stores,P!==null)))for(var G=0;G<P.length;G++){var K=P[G],Q=K.getSnapshot;K=K.value;try{if(!zn(Q(),K))return!1}catch{return!1}}if(P=w.child,w.subtreeFlags&16384&&P!==null)P.return=w,w=P;else{if(w===y)break;for(;w.sibling===null;){if(w.return===null||w.return===y)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function _s(y,w,P,G){w&=~jv,w&=~ja,y.suspendedLanes|=w,y.pingedLanes&=~w,G&&(y.warmLanes|=w),G=y.expirationTimes;for(var K=w;0<K;){var Q=31-qt(K),tt=1<<Q;G[Q]=-1,K&=~tt}P!==0&&hi(y,P,w)}function cf(){return(Ge&6)===0?(Tu(0),!1):!0}function $v(){if(Se!==null){if(He===0)var y=Se.return;else y=Se,_r=Ua=null,dv(y),Wo=null,iu=0,y=Se;for(;y!==null;)W1(y.alternate,y),y=y.return;Se=null}}function _o(y,w){var P=y.timeoutHandle;P!==-1&&(y.timeoutHandle=-1,A4(P)),P=y.cancelPendingCommit,P!==null&&(y.cancelPendingCommit=null,P()),hs=0,$v(),ti=y,Se=P=$r(y.current,null),Re=w,He=0,Yn=null,Qs=!1,Jo=Ke(y,w),kv=!1,$o=Wn=jv=ja=Js=Ri=0,On=yu=null,Kv=!1,(w&8)!==0&&(w|=w&32);var G=y.entangledLanes;if(G!==0)for(y=y.entanglements,G&=w;0<G;){var K=31-qt(G),Q=1<<K;w|=y[K],G&=~Q}return us=w,Ph(),P}function dx(y,w){ve=null,N.H=hu,w===Yo||w===Vh?(w=by(),He=3):w===ev?(w=by(),He=4):He=w===bv?8:w!==null&&typeof w=="object"&&typeof w.then=="function"?6:1,Yn=w,Se===null&&(Ri=1,tf(y,er(w,y.current)))}function vx(){var y=Vn.current;return y===null?!0:(Re&4194048)===Re?sr===null:(Re&62914560)===Re||(Re&536870912)!==0?y===sr:!1}function px(){var y=N.H;return N.H=hu,y===null?hu:y}function mx(){var y=N.A;return N.A=i4,y}function df(){Ri=4,Qs||(Re&4194048)!==Re&&Vn.current!==null||(Jo=!0),(Js&134217727)===0&&(ja&134217727)===0||ti===null||_s(ti,Re,Wn,!1)}function qv(y,w,P){var G=Ge;Ge|=2;var K=px(),Q=mx();(ti!==y||Re!==w)&&(ff=null,_o(y,w)),w=!1;var tt=Ri;t:do try{if(He!==0&&Se!==null){var rt=Se,ht=Yn;switch(He){case 8:$v(),tt=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(w=!0);var Et=He;if(He=0,Yn=null,tl(y,rt,ht,Et),P&&Jo){tt=0;break t}break;default:Et=He,He=0,Yn=null,tl(y,rt,ht,Et)}}s4(),tt=Ri;break}catch(It){dx(y,It)}while(!0);return w&&y.shellSuspendCounter++,_r=Ua=null,Ge=G,N.H=K,N.A=Q,Se===null&&(ti=null,Re=0,Ph()),tt}function s4(){for(;Se!==null;)gx(Se)}function a4(y,w){var P=Ge;Ge|=2;var G=px(),K=mx();ti!==y||Re!==w?(ff=null,hf=Pt()+500,_o(y,w)):Jo=Ke(y,w);t:do try{if(He!==0&&Se!==null){w=Se;var Q=Yn;e:switch(He){case 1:He=0,Yn=null,tl(y,w,Q,1);break;case 2:case 9:if(My(Q)){He=0,Yn=null,yx(w);break}w=function(){He!==2&&He!==9||ti!==y||(He=7),Nr(y)},Q.then(w,w);break t;case 3:He=7;break t;case 4:He=5;break t;case 7:My(Q)?(He=0,Yn=null,yx(w)):(He=0,Yn=null,tl(y,w,Q,7));break;case 5:var tt=null;switch(Se.tag){case 26:tt=Se.memoizedState;case 5:case 27:var rt=Se;if(tt?nT(tt):rt.stateNode.complete){He=0,Yn=null;var ht=rt.sibling;if(ht!==null)Se=ht;else{var Et=rt.return;Et!==null?(Se=Et,vf(Et)):Se=null}break e}}He=0,Yn=null,tl(y,w,Q,5);break;case 6:He=0,Yn=null,tl(y,w,Q,6);break;case 8:$v(),Ri=6;break t;default:throw Error(T(462))}}o4();break}catch(It){dx(y,It)}while(!0);return _r=Ua=null,N.H=G,N.A=K,Ge=P,Se!==null?0:(ti=null,Re=0,Ph(),Ri)}function o4(){for(;Se!==null&&!Ot();)gx(Se)}function gx(y){var w=H1(y.alternate,y,us);y.memoizedProps=y.pendingProps,w===null?vf(y):Se=w}function yx(y){var w=y,P=w.alternate;switch(w.tag){case 15:case 0:w=B1(P,w,w.pendingProps,w.type,void 0,Re);break;case 11:w=B1(P,w,w.pendingProps,w.type.render,w.ref,Re);break;case 5:dv(w);default:W1(P,w),w=Se=my(w,us),w=H1(P,w,us)}y.memoizedProps=y.pendingProps,w===null?vf(y):Se=w}function tl(y,w,P,G){_r=Ua=null,dv(w),Wo=null,iu=0;var K=w.return;try{if(QM(y,K,w,P,Re)){Ri=1,tf(y,er(P,y.current)),Se=null;return}}catch(Q){if(K!==null)throw Se=K,Q;Ri=1,tf(y,er(P,y.current)),Se=null;return}w.flags&32768?(be||G===1?y=!0:Jo||(Re&536870912)!==0?y=!1:(Qs=y=!0,(G===2||G===9||G===3||G===6)&&(G=Vn.current,G!==null&&G.tag===13&&(G.flags|=16384))),xx(w,y)):vf(w)}function vf(y){var w=y;do{if((w.flags&32768)!==0){xx(w,Qs);return}y=w.return;var P=qM(w.alternate,w,us);if(P!==null){Se=P;return}if(w=w.sibling,w!==null){Se=w;return}Se=w=y}while(w!==null);Ri===0&&(Ri=5)}function xx(y,w){do{var P=_M(y.alternate,y);if(P!==null){P.flags&=32767,Se=P;return}if(P=y.return,P!==null&&(P.flags|=32768,P.subtreeFlags=0,P.deletions=null),!w&&(y=y.sibling,y!==null)){Se=y;return}Se=y=P}while(y!==null);Ri=6,Se=null}function Tx(y,w,P,G,K,Q,tt,rt,ht){y.cancelPendingCommit=null;do pf();while(Xi!==0);if((Ge&6)!==0)throw Error(T(327));if(w!==null){if(w===y.current)throw Error(T(177));if(Q=w.lanes|w.childLanes,Q|=Vd,di(y,P,Q,tt,rt,ht),y===ti&&(Se=ti=null,Re=0),qo=w,qs=y,hs=P,Zv=Q,Qv=K,ux=G,(w.subtreeFlags&10256)!==0||(w.flags&10256)!==0?(y.callbackNode=null,y.callbackPriority=0,f4($,function(){return Cx(),null})):(y.callbackNode=null,y.callbackPriority=0),G=(w.flags&13878)!==0,(w.subtreeFlags&13878)!==0||G){G=N.T,N.T=null,K=z.p,z.p=2,tt=Ge,Ge|=4;try{t4(y,w,P)}finally{Ge=tt,z.p=K,N.T=G}}Xi=1,Sx(),Ex(),wx()}}function Sx(){if(Xi===1){Xi=0;var y=qs,w=qo,P=(w.flags&13878)!==0;if((w.subtreeFlags&13878)!==0||P){P=N.T,N.T=null;var G=z.p;z.p=2;var K=Ge;Ge|=4;try{ex(w,y);var Q=h0,tt=oy(y.containerInfo),rt=Q.focusedElem,ht=Q.selectionRange;if(tt!==rt&&rt&&rt.ownerDocument&&ay(rt.ownerDocument.documentElement,rt)){if(ht!==null&&Bd(rt)){var Et=ht.start,It=ht.end;if(It===void 0&&(It=Et),"selectionStart"in rt)rt.selectionStart=Et,rt.selectionEnd=Math.min(It,rt.value.length);else{var Dt=rt.ownerDocument||document,Rt=Dt&&Dt.defaultView||window;if(Rt.getSelection){var Lt=Rt.getSelection(),ee=rt.textContent.length,he=Math.min(ht.start,ee),Je=ht.end===void 0?he:Math.min(ht.end,ee);!Lt.extend&&he>Je&&(tt=Je,Je=he,he=tt);var mt=sy(rt,he),vt=sy(rt,Je);if(mt&&vt&&(Lt.rangeCount!==1||Lt.anchorNode!==mt.node||Lt.anchorOffset!==mt.offset||Lt.focusNode!==vt.node||Lt.focusOffset!==vt.offset)){var St=Dt.createRange();St.setStart(mt.node,mt.offset),Lt.removeAllRanges(),he>Je?(Lt.addRange(St),Lt.extend(vt.node,vt.offset)):(St.setEnd(vt.node,vt.offset),Lt.addRange(St))}}}}for(Dt=[],Lt=rt;Lt=Lt.parentNode;)Lt.nodeType===1&&Dt.push({element:Lt,left:Lt.scrollLeft,top:Lt.scrollTop});for(typeof rt.focus=="function"&&rt.focus(),rt=0;rt<Dt.length;rt++){var Nt=Dt[rt];Nt.element.scrollLeft=Nt.left,Nt.element.scrollTop=Nt.top}}Mf=!!u0,h0=u0=null}finally{Ge=K,z.p=G,N.T=P}}y.current=w,Xi=2}}function Ex(){if(Xi===2){Xi=0;var y=qs,w=qo,P=(w.flags&8772)!==0;if((w.subtreeFlags&8772)!==0||P){P=N.T,N.T=null;var G=z.p;z.p=2;var K=Ge;Ge|=4;try{J1(y,w.alternate,w)}finally{Ge=K,z.p=G,N.T=P}}Xi=3}}function wx(){if(Xi===4||Xi===3){Xi=0,Bt();var y=qs,w=qo,P=hs,G=ux;(w.subtreeFlags&10256)!==0||(w.flags&10256)!==0?Xi=5:(Xi=0,qo=qs=null,Ax(y,y.pendingLanes));var K=y.pendingLanes;if(K===0&&($s=null),Bs(P),w=w.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(yt,w,void 0,(w.current.flags&128)===128)}catch{}if(G!==null){w=N.T,K=z.p,z.p=2,N.T=null;try{for(var Q=y.onRecoverableError,tt=0;tt<G.length;tt++){var rt=G[tt];Q(rt.value,{componentStack:rt.stack})}}finally{N.T=w,z.p=K}}(hs&3)!==0&&pf(),Nr(y),K=y.pendingLanes,(P&261930)!==0&&(K&42)!==0?y===Jv?xu++:(xu=0,Jv=y):xu=0,Tu(0)}}function Ax(y,w){(y.pooledCacheLanes&=w)===0&&(w=y.pooledCache,w!=null&&(y.pooledCache=null,tu(w)))}function pf(){return Sx(),Ex(),wx(),Cx()}function Cx(){if(Xi!==5)return!1;var y=qs,w=Zv;Zv=0;var P=Bs(hs),G=N.T,K=z.p;try{z.p=32>P?32:P,N.T=null,P=Qv,Qv=null;var Q=qs,tt=hs;if(Xi=0,qo=qs=null,hs=0,(Ge&6)!==0)throw Error(T(331));var rt=Ge;if(Ge|=4,ax(Q.current),nx(Q,Q.current,tt,P),Ge=rt,Tu(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(yt,Q)}catch{}return!0}finally{z.p=K,N.T=G,Ax(y,w)}}function Rx(y,w,P){w=er(P,w),w=Ov(y.stateNode,w,2),y=ks(y,w,2),y!==null&&(Rr(y,2),Nr(y))}function Ye(y,w,P){if(y.tag===3)Rx(y,y,P);else for(;w!==null;){if(w.tag===3){Rx(w,y,P);break}else if(w.tag===1){var G=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof G.componentDidCatch=="function"&&($s===null||!$s.has(G))){y=er(P,y),P=M1(2),G=ks(w,P,2),G!==null&&(O1(P,G,w,y),Rr(G,2),Nr(G));break}}w=w.return}}function _v(y,w,P){var G=y.pingCache;if(G===null){G=y.pingCache=new n4;var K=new Set;G.set(w,K)}else K=G.get(w),K===void 0&&(K=new Set,G.set(w,K));K.has(P)||(kv=!0,K.add(P),y=l4.bind(null,y,w,P),w.then(y,y))}function l4(y,w,P){var G=y.pingCache;G!==null&&G.delete(w),y.pingedLanes|=y.suspendedLanes&P,y.warmLanes&=~P,ti===y&&(Re&P)===P&&(Ri===4||Ri===3&&(Re&62914560)===Re&&300>Pt()-uf?(Ge&2)===0&&_o(y,0):jv|=P,$o===Re&&($o=0)),Nr(y)}function Mx(y,w){w===0&&(w=ui()),y=Da(y,w),y!==null&&(Rr(y,w),Nr(y))}function u4(y){var w=y.memoizedState,P=0;w!==null&&(P=w.retryLane),Mx(y,P)}function h4(y,w){var P=0;switch(y.tag){case 31:case 13:var G=y.stateNode,K=y.memoizedState;K!==null&&(P=K.retryLane);break;case 19:G=y.stateNode;break;case 22:G=y.stateNode._retryCache;break;default:throw Error(T(314))}G!==null&&G.delete(w),Mx(y,P)}function f4(y,w){return Ht(y,w)}var mf=null,el=null,t0=!1,gf=!1,e0=!1,ta=0;function Nr(y){y!==el&&y.next===null&&(el===null?mf=el=y:el=el.next=y),gf=!0,t0||(t0=!0,d4())}function Tu(y,w){if(!e0&&gf){e0=!0;do for(var P=!1,G=mf;G!==null;){if(y!==0){var K=G.pendingLanes;if(K===0)var Q=0;else{var tt=G.suspendedLanes,rt=G.pingedLanes;Q=(1<<31-qt(42|y)+1)-1,Q&=K&~(tt&~rt),Q=Q&201326741?Q&201326741|1:Q?Q|2:0}Q!==0&&(P=!0,Ix(G,Q))}else Q=Re,Q=je(G,G===ti?Q:0,G.cancelPendingCommit!==null||G.timeoutHandle!==-1),(Q&3)===0||Ke(G,Q)||(P=!0,Ix(G,Q));G=G.next}while(P);e0=!1}}function c4(){Ox()}function Ox(){gf=t0=!1;var y=0;ta!==0&&w4()&&(y=ta);for(var w=Pt(),P=null,G=mf;G!==null;){var K=G.next,Q=bx(G,w);Q===0?(G.next=null,P===null?mf=K:P.next=K,K===null&&(el=P)):(P=G,(y!==0||(Q&3)!==0)&&(gf=!0)),G=K}Xi!==0&&Xi!==5||Tu(y),ta!==0&&(ta=0)}function bx(y,w){for(var P=y.suspendedLanes,G=y.pingedLanes,K=y.expirationTimes,Q=y.pendingLanes&-62914561;0<Q;){var tt=31-qt(Q),rt=1<<tt,ht=K[tt];ht===-1?((rt&P)===0||(rt&G)!==0)&&(K[tt]=ba(rt,w)):ht<=w&&(y.expiredLanes|=rt),Q&=~rt}if(w=ti,P=Re,P=je(y,y===w?P:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),G=y.callbackNode,P===0||y===w&&(He===2||He===9)||y.cancelPendingCommit!==null)return G!==null&&G!==null&&Gt(G),y.callbackNode=null,y.callbackPriority=0;if((P&3)===0||Ke(y,P)){if(w=P&-P,w===y.callbackPriority)return w;switch(G!==null&&Gt(G),Bs(P)){case 2:case 8:P=nt;break;case 32:P=$;break;case 268435456:P=st;break;default:P=$}return G=Lx.bind(null,y),P=Ht(P,G),y.callbackPriority=w,y.callbackNode=P,w}return G!==null&&G!==null&&Gt(G),y.callbackPriority=2,y.callbackNode=null,2}function Lx(y,w){if(Xi!==0&&Xi!==5)return y.callbackNode=null,y.callbackPriority=0,null;var P=y.callbackNode;if(pf()&&y.callbackNode!==P)return null;var G=Re;return G=je(y,y===ti?G:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),G===0?null:(fx(y,G,w),bx(y,Pt()),y.callbackNode!=null&&y.callbackNode===P?Lx.bind(null,y):null)}function Ix(y,w){if(pf())return null;fx(y,w,!0)}function d4(){C4(function(){(Ge&6)!==0?Ht(_t,c4):Ox()})}function i0(){if(ta===0){var y=Vo;y===0&&(y=Ni,Ni<<=1,(Ni&261888)===0&&(Ni=256)),ta=y}return ta}function Px(y){return y==null||typeof y=="symbol"||typeof y=="boolean"?null:typeof y=="function"?y:Ah(""+y)}function Nx(y,w){var P=w.ownerDocument.createElement("input");return P.name=w.name,P.value=w.value,y.id&&P.setAttribute("form",y.id),w.parentNode.insertBefore(P,w),y=new FormData(y),P.parentNode.removeChild(P),y}function v4(y,w,P,G,K){if(w==="submit"&&P&&P.stateNode===K){var Q=Px((K[Vt]||null).action),tt=G.submitter;tt&&(w=(w=tt[Vt]||null)?Px(w.formAction):tt.getAttribute("formAction"),w!==null&&(Q=w,tt=null));var rt=new Oh("action","action",null,G,K);y.push({event:rt,listeners:[{instance:null,listener:function(){if(G.defaultPrevented){if(ta!==0){var ht=tt?Nx(K,tt):new FormData(K);Ev(P,{pending:!0,data:ht,method:K.method,action:Q},null,ht)}}else typeof Q=="function"&&(rt.preventDefault(),ht=tt?Nx(K,tt):new FormData(K),Ev(P,{pending:!0,data:ht,method:K.method,action:Q},Q,ht))},currentTarget:K}]})}}for(var n0=0;n0<Gd.length;n0++){var r0=Gd[n0],p4=r0.toLowerCase(),m4=r0[0].toUpperCase()+r0.slice(1);mr(p4,"on"+m4)}mr(hy,"onAnimationEnd"),mr(fy,"onAnimationIteration"),mr(cy,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(PM,"onTransitionRun"),mr(NM,"onTransitionStart"),mr(DM,"onTransitionCancel"),mr(dy,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Su));function Dx(y,w){w=(w&4)!==0;for(var P=0;P<y.length;P++){var G=y[P],K=G.event;G=G.listeners;t:{var Q=void 0;if(w)for(var tt=G.length-1;0<=tt;tt--){var rt=G[tt],ht=rt.instance,Et=rt.currentTarget;if(rt=rt.listener,ht!==Q&&K.isPropagationStopped())break t;Q=rt,K.currentTarget=Et;try{Q(K)}catch(It){Ih(It)}K.currentTarget=null,Q=ht}else for(tt=0;tt<G.length;tt++){if(rt=G[tt],ht=rt.instance,Et=rt.currentTarget,rt=rt.listener,ht!==Q&&K.isPropagationStopped())break t;Q=rt,K.currentTarget=Et;try{Q(K)}catch(It){Ih(It)}K.currentTarget=null,Q=ht}}}}function Ee(y,w){var P=w[fe];P===void 0&&(P=w[fe]=new Set);var G=y+"__bubble";P.has(G)||(Bx(w,y,2,!1),P.add(G))}function s0(y,w,P){var G=0;w&&(G|=4),Bx(P,y,G,w)}var yf="_reactListening"+Math.random().toString(36).slice(2);function a0(y){if(!y[yf]){y[yf]=!0,fr.forEach(function(P){P!=="selectionchange"&&(g4.has(P)||s0(P,!1,y),s0(P,!0,y))});var w=y.nodeType===9?y:y.ownerDocument;w===null||w[yf]||(w[yf]=!0,s0("selectionchange",!1,w))}}function Bx(y,w,P,G){switch(hT(w)){case 2:var K=k4;break;case 8:K=j4;break;default:K=S0}P=K.bind(null,w,P,y),K=void 0,!Rd||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(K=!0),G?K!==void 0?y.addEventListener(w,P,{capture:!0,passive:K}):y.addEventListener(w,P,!0):K!==void 0?y.addEventListener(w,P,{passive:K}):y.addEventListener(w,P,!1)}function o0(y,w,P,G,K){var Q=G;if((w&1)===0&&(w&2)===0&&G!==null)t:for(;;){if(G===null)return;var tt=G.tag;if(tt===3||tt===4){var rt=G.stateNode.containerInfo;if(rt===K)break;if(tt===4)for(tt=G.return;tt!==null;){var ht=tt.tag;if((ht===3||ht===4)&&tt.stateNode.containerInfo===K)return;tt=tt.return}for(;rt!==null;){if(tt=xi(rt),tt===null)return;if(ht=tt.tag,ht===5||ht===6||ht===26||ht===27){G=Q=tt;continue t}rt=rt.parentNode}}G=G.return}Vg(function(){var Et=Q,It=Ad(P),Dt=[];t:{var Rt=vy.get(y);if(Rt!==void 0){var Lt=Oh,ee=y;switch(y){case"keypress":if(Rh(P)===0)break t;case"keydown":case"keyup":Lt=hM;break;case"focusin":ee="focus",Lt=Ld;break;case"focusout":ee="blur",Lt=Ld;break;case"beforeblur":case"afterblur":Lt=Ld;break;case"click":if(P.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Lt=Wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Lt=q3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Lt=dM;break;case hy:case fy:case cy:Lt=eM;break;case dy:Lt=pM;break;case"scroll":case"scrollend":Lt=J3;break;case"wheel":Lt=gM;break;case"copy":case"cut":case"paste":Lt=nM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Lt=kg;break;case"toggle":case"beforetoggle":Lt=xM}var he=(w&4)!==0,Je=!he&&(y==="scroll"||y==="scrollend"),mt=he?Rt!==null?Rt+"Capture":null:Rt;he=[];for(var vt=Et,St;vt!==null;){var Nt=vt;if(St=Nt.stateNode,Nt=Nt.tag,Nt!==5&&Nt!==26&&Nt!==27||St===null||mt===null||(Nt=Wl(vt,mt),Nt!=null&&he.push(Eu(vt,Nt,St))),Je)break;vt=vt.return}0<he.length&&(Rt=new Lt(Rt,ee,null,P,It),Dt.push({event:Rt,listeners:he}))}}if((w&7)===0){t:{if(Rt=y==="mouseover"||y==="pointerover",Lt=y==="mouseout"||y==="pointerout",Rt&&P!==wd&&(ee=P.relatedTarget||P.fromElement)&&(xi(ee)||ee[Ae]))break t;if((Lt||Rt)&&(Rt=It.window===It?It:(Rt=It.ownerDocument)?Rt.defaultView||Rt.parentWindow:window,Lt?(ee=P.relatedTarget||P.toElement,Lt=Et,ee=ee?xi(ee):null,ee!==null&&(Je=L(ee),he=ee.tag,ee!==Je||he!==5&&he!==27&&he!==6)&&(ee=null)):(Lt=null,ee=Et),Lt!==ee)){if(he=Wg,Nt="onMouseLeave",mt="onMouseEnter",vt="mouse",(y==="pointerout"||y==="pointerover")&&(he=kg,Nt="onPointerLeave",mt="onPointerEnter",vt="pointer"),Je=Lt==null?Rt:yn(Lt),St=ee==null?Rt:yn(ee),Rt=new he(Nt,vt+"leave",Lt,P,It),Rt.target=Je,Rt.relatedTarget=St,Nt=null,xi(It)===Et&&(he=new he(mt,vt+"enter",ee,P,It),he.target=St,he.relatedTarget=Je,Nt=he),Je=Nt,Lt&&ee)e:{for(he=y4,mt=Lt,vt=ee,St=0,Nt=mt;Nt;Nt=he(Nt))St++;Nt=0;for(var oe=vt;oe;oe=he(oe))Nt++;for(;0<St-Nt;)mt=he(mt),St--;for(;0<Nt-St;)vt=he(vt),Nt--;for(;St--;){if(mt===vt||vt!==null&&mt===vt.alternate){he=mt;break e}mt=he(mt),vt=he(vt)}he=null}else he=null;Lt!==null&&Fx(Dt,Rt,Lt,he,!1),ee!==null&&Je!==null&&Fx(Dt,Je,ee,he,!0)}}t:{if(Rt=Et?yn(Et):window,Lt=Rt.nodeName&&Rt.nodeName.toLowerCase(),Lt==="select"||Lt==="input"&&Rt.type==="file")var Be=_g;else if($g(Rt))if(ty)Be=bM;else{Be=MM;var ne=RM}else Lt=Rt.nodeName,!Lt||Lt.toLowerCase()!=="input"||Rt.type!=="checkbox"&&Rt.type!=="radio"?Et&&Ed(Et.elementType)&&(Be=_g):Be=OM;if(Be&&(Be=Be(y,Et))){qg(Dt,Be,P,It);break t}ne&&ne(y,Rt,Et),y==="focusout"&&Et&&Rt.type==="number"&&Et.memoizedProps.value!=null&&dr(Rt,"number",Rt.value)}switch(ne=Et?yn(Et):window,y){case"focusin":($g(ne)||ne.contentEditable==="true")&&(Po=ne,Fd=Et,$l=null);break;case"focusout":$l=Fd=Po=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,ly(Dt,P,It);break;case"selectionchange":if(IM)break;case"keydown":case"keyup":ly(Dt,P,It)}var pe;if(Pd)t:{switch(y){case"compositionstart":var Me="onCompositionStart";break t;case"compositionend":Me="onCompositionEnd";break t;case"compositionupdate":Me="onCompositionUpdate";break t}Me=void 0}else Io?Qg(y,P)&&(Me="onCompositionEnd"):y==="keydown"&&P.keyCode===229&&(Me="onCompositionStart");Me&&(jg&&P.locale!=="ko"&&(Io||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Io&&(pe=Hg()):(zs=It,Md="value"in zs?zs.value:zs.textContent,Io=!0)),ne=xf(Et,Me),0<ne.length&&(Me=new Xg(Me,y,null,P,It),Dt.push({event:Me,listeners:ne}),pe?Me.data=pe:(pe=Jg(P),pe!==null&&(Me.data=pe)))),(pe=SM?EM(y,P):wM(y,P))&&(Me=xf(Et,"onBeforeInput"),0<Me.length&&(ne=new Xg("onBeforeInput","beforeinput",null,P,It),Dt.push({event:ne,listeners:Me}),ne.data=pe)),v4(Dt,y,Et,P,It)}Dx(Dt,w)})}function Eu(y,w,P){return{instance:y,listener:w,currentTarget:P}}function xf(y,w){for(var P=w+"Capture",G=[];y!==null;){var K=y,Q=K.stateNode;if(K=K.tag,K!==5&&K!==26&&K!==27||Q===null||(K=Wl(y,P),K!=null&&G.unshift(Eu(y,K,Q)),K=Wl(y,w),K!=null&&G.push(Eu(y,K,Q))),y.tag===3)return G;y=y.return}return[]}function y4(y){if(y===null)return null;do y=y.return;while(y&&y.tag!==5&&y.tag!==27);return y||null}function Fx(y,w,P,G,K){for(var Q=w._reactName,tt=[];P!==null&&P!==G;){var rt=P,ht=rt.alternate,Et=rt.stateNode;if(rt=rt.tag,ht!==null&&ht===G)break;rt!==5&&rt!==26&&rt!==27||Et===null||(ht=Et,K?(Et=Wl(P,Q),Et!=null&&tt.unshift(Eu(P,Et,ht))):K||(Et=Wl(P,Q),Et!=null&&tt.push(Eu(P,Et,ht)))),P=P.return}tt.length!==0&&y.push({event:w,listeners:tt})}var x4=/\r\n?/g,T4=/\u0000|\uFFFD/g;function Ux(y){return(typeof y=="string"?y:""+y).replace(x4,`
`).replace(T4,"")}function zx(y,w){return w=Ux(w),Ux(y)===w}function Qe(y,w,P,G,K,Q){switch(P){case"children":typeof G=="string"?w==="body"||w==="textarea"&&G===""||Zr(y,G):(typeof G=="number"||typeof G=="bigint")&&w!=="body"&&Zr(y,""+G);break;case"className":_n(y,"class",G);break;case"tabIndex":_n(y,"tabindex",G);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(y,P,G);break;case"style":zg(y,G,Q);break;case"data":if(w!=="object"){_n(y,"data",G);break}case"src":case"href":if(G===""&&(w!=="a"||P!=="href")){y.removeAttribute(P);break}if(G==null||typeof G=="function"||typeof G=="symbol"||typeof G=="boolean"){y.removeAttribute(P);break}G=Ah(""+G),y.setAttribute(P,G);break;case"action":case"formAction":if(typeof G=="function"){y.setAttribute(P,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Q=="function"&&(P==="formAction"?(w!=="input"&&Qe(y,w,"name",K.name,K,null),Qe(y,w,"formEncType",K.formEncType,K,null),Qe(y,w,"formMethod",K.formMethod,K,null),Qe(y,w,"formTarget",K.formTarget,K,null)):(Qe(y,w,"encType",K.encType,K,null),Qe(y,w,"method",K.method,K,null),Qe(y,w,"target",K.target,K,null)));if(G==null||typeof G=="symbol"||typeof G=="boolean"){y.removeAttribute(P);break}G=Ah(""+G),y.setAttribute(P,G);break;case"onClick":G!=null&&(y.onclick=Qr);break;case"onScroll":G!=null&&Ee("scroll",y);break;case"onScrollEnd":G!=null&&Ee("scrollend",y);break;case"dangerouslySetInnerHTML":if(G!=null){if(typeof G!="object"||!("__html"in G))throw Error(T(61));if(P=G.__html,P!=null){if(K.children!=null)throw Error(T(60));y.innerHTML=P}}break;case"multiple":y.multiple=G&&typeof G!="function"&&typeof G!="symbol";break;case"muted":y.muted=G&&typeof G!="function"&&typeof G!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(G==null||typeof G=="function"||typeof G=="boolean"||typeof G=="symbol"){y.removeAttribute("xlink:href");break}P=Ah(""+G),y.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",P);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":G!=null&&typeof G!="function"&&typeof G!="symbol"?y.setAttribute(P,""+G):y.removeAttribute(P);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":G&&typeof G!="function"&&typeof G!="symbol"?y.setAttribute(P,""):y.removeAttribute(P);break;case"capture":case"download":G===!0?y.setAttribute(P,""):G!==!1&&G!=null&&typeof G!="function"&&typeof G!="symbol"?y.setAttribute(P,G):y.removeAttribute(P);break;case"cols":case"rows":case"size":case"span":G!=null&&typeof G!="function"&&typeof G!="symbol"&&!isNaN(G)&&1<=G?y.setAttribute(P,G):y.removeAttribute(P);break;case"rowSpan":case"start":G==null||typeof G=="function"||typeof G=="symbol"||isNaN(G)?y.removeAttribute(P):y.setAttribute(P,G);break;case"popover":Ee("beforetoggle",y),Ee("toggle",y),br(y,"popover",G);break;case"xlinkActuate":cr(y,"http://www.w3.org/1999/xlink","xlink:actuate",G);break;case"xlinkArcrole":cr(y,"http://www.w3.org/1999/xlink","xlink:arcrole",G);break;case"xlinkRole":cr(y,"http://www.w3.org/1999/xlink","xlink:role",G);break;case"xlinkShow":cr(y,"http://www.w3.org/1999/xlink","xlink:show",G);break;case"xlinkTitle":cr(y,"http://www.w3.org/1999/xlink","xlink:title",G);break;case"xlinkType":cr(y,"http://www.w3.org/1999/xlink","xlink:type",G);break;case"xmlBase":cr(y,"http://www.w3.org/XML/1998/namespace","xml:base",G);break;case"xmlLang":cr(y,"http://www.w3.org/XML/1998/namespace","xml:lang",G);break;case"xmlSpace":cr(y,"http://www.w3.org/XML/1998/namespace","xml:space",G);break;case"is":br(y,"is",G);break;case"innerText":case"textContent":break;default:(!(2<P.length)||P[0]!=="o"&&P[0]!=="O"||P[1]!=="n"&&P[1]!=="N")&&(P=Z3.get(P)||P,br(y,P,G))}}function l0(y,w,P,G,K,Q){switch(P){case"style":zg(y,G,Q);break;case"dangerouslySetInnerHTML":if(G!=null){if(typeof G!="object"||!("__html"in G))throw Error(T(61));if(P=G.__html,P!=null){if(K.children!=null)throw Error(T(60));y.innerHTML=P}}break;case"children":typeof G=="string"?Zr(y,G):(typeof G=="number"||typeof G=="bigint")&&Zr(y,""+G);break;case"onScroll":G!=null&&Ee("scroll",y);break;case"onScrollEnd":G!=null&&Ee("scrollend",y);break;case"onClick":G!=null&&(y.onclick=Qr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fn.hasOwnProperty(P))t:{if(P[0]==="o"&&P[1]==="n"&&(K=P.endsWith("Capture"),w=P.slice(2,K?P.length-7:void 0),Q=y[Vt]||null,Q=Q!=null?Q[P]:null,typeof Q=="function"&&y.removeEventListener(w,Q,K),typeof G=="function")){typeof Q!="function"&&Q!==null&&(P in y?y[P]=null:y.hasAttribute(P)&&y.removeAttribute(P)),y.addEventListener(w,G,K);break t}P in y?y[P]=G:G===!0?y.setAttribute(P,""):br(y,P,G)}}}function rn(y,w,P){switch(w){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",y),Ee("load",y);var G=!1,K=!1,Q;for(Q in P)if(P.hasOwnProperty(Q)){var tt=P[Q];if(tt!=null)switch(Q){case"src":G=!0;break;case"srcSet":K=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(T(137,w));default:Qe(y,w,Q,tt,P,null)}}K&&Qe(y,w,"srcSet",P.srcSet,P,null),G&&Qe(y,w,"src",P.src,P,null);return;case"input":Ee("invalid",y);var rt=Q=tt=K=null,ht=null,Et=null;for(G in P)if(P.hasOwnProperty(G)){var It=P[G];if(It!=null)switch(G){case"name":K=It;break;case"type":tt=It;break;case"checked":ht=It;break;case"defaultChecked":Et=It;break;case"value":Q=It;break;case"defaultValue":rt=It;break;case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(T(137,w));break;default:Qe(y,w,G,It,P,null)}}Ai(y,Q,rt,ht,Et,tt,K,!1);return;case"select":Ee("invalid",y),G=tt=Q=null;for(K in P)if(P.hasOwnProperty(K)&&(rt=P[K],rt!=null))switch(K){case"value":Q=rt;break;case"defaultValue":tt=rt;break;case"multiple":G=rt;default:Qe(y,w,K,rt,P,null)}w=Q,P=tt,y.multiple=!!G,w!=null?vr(y,!!G,w,!1):P!=null&&vr(y,!!G,P,!0);return;case"textarea":Ee("invalid",y),Q=K=G=null;for(tt in P)if(P.hasOwnProperty(tt)&&(rt=P[tt],rt!=null))switch(tt){case"value":G=rt;break;case"defaultValue":K=rt;break;case"children":Q=rt;break;case"dangerouslySetInnerHTML":if(rt!=null)throw Error(T(91));break;default:Qe(y,w,tt,rt,P,null)}Us(y,G,K,Q);return;case"option":for(ht in P)P.hasOwnProperty(ht)&&(G=P[ht],G!=null)&&(ht==="selected"?y.selected=G&&typeof G!="function"&&typeof G!="symbol":Qe(y,w,ht,G,P,null));return;case"dialog":Ee("beforetoggle",y),Ee("toggle",y),Ee("cancel",y),Ee("close",y);break;case"iframe":case"object":Ee("load",y);break;case"video":case"audio":for(G=0;G<Su.length;G++)Ee(Su[G],y);break;case"image":Ee("error",y),Ee("load",y);break;case"details":Ee("toggle",y);break;case"embed":case"source":case"link":Ee("error",y),Ee("load",y);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Et in P)if(P.hasOwnProperty(Et)&&(G=P[Et],G!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":throw Error(T(137,w));default:Qe(y,w,Et,G,P,null)}return;default:if(Ed(w)){for(It in P)P.hasOwnProperty(It)&&(G=P[It],G!==void 0&&l0(y,w,It,G,P,void 0));return}}for(rt in P)P.hasOwnProperty(rt)&&(G=P[rt],G!=null&&Qe(y,w,rt,G,P,null))}function S4(y,w,P,G){switch(w){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var K=null,Q=null,tt=null,rt=null,ht=null,Et=null,It=null;for(Lt in P){var Dt=P[Lt];if(P.hasOwnProperty(Lt)&&Dt!=null)switch(Lt){case"checked":break;case"value":break;case"defaultValue":ht=Dt;default:G.hasOwnProperty(Lt)||Qe(y,w,Lt,null,G,Dt)}}for(var Rt in G){var Lt=G[Rt];if(Dt=P[Rt],G.hasOwnProperty(Rt)&&(Lt!=null||Dt!=null))switch(Rt){case"type":Q=Lt;break;case"name":K=Lt;break;case"checked":Et=Lt;break;case"defaultChecked":It=Lt;break;case"value":tt=Lt;break;case"defaultValue":rt=Lt;break;case"children":case"dangerouslySetInnerHTML":if(Lt!=null)throw Error(T(137,w));break;default:Lt!==Dt&&Qe(y,w,Rt,Lt,G,Dt)}}De(y,tt,rt,ht,Et,It,Q,K);return;case"select":Lt=tt=rt=Rt=null;for(Q in P)if(ht=P[Q],P.hasOwnProperty(Q)&&ht!=null)switch(Q){case"value":break;case"multiple":Lt=ht;default:G.hasOwnProperty(Q)||Qe(y,w,Q,null,G,ht)}for(K in G)if(Q=G[K],ht=P[K],G.hasOwnProperty(K)&&(Q!=null||ht!=null))switch(K){case"value":Rt=Q;break;case"defaultValue":rt=Q;break;case"multiple":tt=Q;default:Q!==ht&&Qe(y,w,K,Q,G,ht)}w=rt,P=tt,G=Lt,Rt!=null?vr(y,!!P,Rt,!1):!!G!=!!P&&(w!=null?vr(y,!!P,w,!0):vr(y,!!P,P?[]:"",!1));return;case"textarea":Lt=Rt=null;for(rt in P)if(K=P[rt],P.hasOwnProperty(rt)&&K!=null&&!G.hasOwnProperty(rt))switch(rt){case"value":break;case"children":break;default:Qe(y,w,rt,null,G,K)}for(tt in G)if(K=G[tt],Q=P[tt],G.hasOwnProperty(tt)&&(K!=null||Q!=null))switch(tt){case"value":Rt=K;break;case"defaultValue":Lt=K;break;case"children":break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(T(91));break;default:K!==Q&&Qe(y,w,tt,K,G,Q)}pr(y,Rt,Lt);return;case"option":for(var ee in P)Rt=P[ee],P.hasOwnProperty(ee)&&Rt!=null&&!G.hasOwnProperty(ee)&&(ee==="selected"?y.selected=!1:Qe(y,w,ee,null,G,Rt));for(ht in G)Rt=G[ht],Lt=P[ht],G.hasOwnProperty(ht)&&Rt!==Lt&&(Rt!=null||Lt!=null)&&(ht==="selected"?y.selected=Rt&&typeof Rt!="function"&&typeof Rt!="symbol":Qe(y,w,ht,Rt,G,Lt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in P)Rt=P[he],P.hasOwnProperty(he)&&Rt!=null&&!G.hasOwnProperty(he)&&Qe(y,w,he,null,G,Rt);for(Et in G)if(Rt=G[Et],Lt=P[Et],G.hasOwnProperty(Et)&&Rt!==Lt&&(Rt!=null||Lt!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(T(137,w));break;default:Qe(y,w,Et,Rt,G,Lt)}return;default:if(Ed(w)){for(var Je in P)Rt=P[Je],P.hasOwnProperty(Je)&&Rt!==void 0&&!G.hasOwnProperty(Je)&&l0(y,w,Je,void 0,G,Rt);for(It in G)Rt=G[It],Lt=P[It],!G.hasOwnProperty(It)||Rt===Lt||Rt===void 0&&Lt===void 0||l0(y,w,It,Rt,G,Lt);return}}for(var mt in P)Rt=P[mt],P.hasOwnProperty(mt)&&Rt!=null&&!G.hasOwnProperty(mt)&&Qe(y,w,mt,null,G,Rt);for(Dt in G)Rt=G[Dt],Lt=P[Dt],!G.hasOwnProperty(Dt)||Rt===Lt||Rt==null&&Lt==null||Qe(y,w,Dt,Rt,G,Lt)}function Gx(y){switch(y){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E4(){if(typeof performance.getEntriesByType=="function"){for(var y=0,w=0,P=performance.getEntriesByType("resource"),G=0;G<P.length;G++){var K=P[G],Q=K.transferSize,tt=K.initiatorType,rt=K.duration;if(Q&&rt&&Gx(tt)){for(tt=0,rt=K.responseEnd,G+=1;G<P.length;G++){var ht=P[G],Et=ht.startTime;if(Et>rt)break;var It=ht.transferSize,Dt=ht.initiatorType;It&&Gx(Dt)&&(ht=ht.responseEnd,tt+=It*(ht<rt?1:(rt-Et)/(ht-Et)))}if(--G,w+=8*(Q+tt)/(K.duration/1e3),y++,10<y)break}}if(0<y)return w/y/1e6}return navigator.connection&&(y=navigator.connection.downlink,typeof y=="number")?y:5}var u0=null,h0=null;function Tf(y){return y.nodeType===9?y:y.ownerDocument}function Vx(y){switch(y){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hx(y,w){if(y===0)switch(w){case"svg":return 1;case"math":return 2;default:return 0}return y===1&&w==="foreignObject"?0:y}function f0(y,w){return y==="textarea"||y==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.children=="bigint"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var c0=null;function w4(){var y=window.event;return y&&y.type==="popstate"?y===c0?!1:(c0=y,!0):(c0=null,!1)}var Yx=typeof setTimeout=="function"?setTimeout:void 0,A4=typeof clearTimeout=="function"?clearTimeout:void 0,Wx=typeof Promise=="function"?Promise:void 0,C4=typeof queueMicrotask=="function"?queueMicrotask:typeof Wx<"u"?function(y){return Wx.resolve(null).then(y).catch(R4)}:Yx;function R4(y){setTimeout(function(){throw y})}function ea(y){return y==="head"}function Xx(y,w){var P=w,G=0;do{var K=P.nextSibling;if(y.removeChild(P),K&&K.nodeType===8)if(P=K.data,P==="/$"||P==="/&"){if(G===0){y.removeChild(K),sl(w);return}G--}else if(P==="$"||P==="$?"||P==="$~"||P==="$!"||P==="&")G++;else if(P==="html")wu(y.ownerDocument.documentElement);else if(P==="head"){P=y.ownerDocument.head,wu(P);for(var Q=P.firstChild;Q;){var tt=Q.nextSibling,rt=Q.nodeName;Q[ln]||rt==="SCRIPT"||rt==="STYLE"||rt==="LINK"&&Q.rel.toLowerCase()==="stylesheet"||P.removeChild(Q),Q=tt}}else P==="body"&&wu(y.ownerDocument.body);P=K}while(P);sl(w)}function kx(y,w){var P=y;y=0;do{var G=P.nextSibling;if(P.nodeType===1?w?(P._stashedDisplay=P.style.display,P.style.display="none"):(P.style.display=P._stashedDisplay||"",P.getAttribute("style")===""&&P.removeAttribute("style")):P.nodeType===3&&(w?(P._stashedText=P.nodeValue,P.nodeValue=""):P.nodeValue=P._stashedText||""),G&&G.nodeType===8)if(P=G.data,P==="/$"){if(y===0)break;y--}else P!=="$"&&P!=="$?"&&P!=="$~"&&P!=="$!"||y++;P=G}while(P)}function d0(y){var w=y.firstChild;for(w&&w.nodeType===10&&(w=w.nextSibling);w;){var P=w;switch(w=w.nextSibling,P.nodeName){case"HTML":case"HEAD":case"BODY":d0(P),un(P);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(P.rel.toLowerCase()==="stylesheet")continue}y.removeChild(P)}}function M4(y,w,P,G){for(;y.nodeType===1;){var K=P;if(y.nodeName.toLowerCase()!==w.toLowerCase()){if(!G&&(y.nodeName!=="INPUT"||y.type!=="hidden"))break}else if(G){if(!y[ln])switch(w){case"meta":if(!y.hasAttribute("itemprop"))break;return y;case"link":if(Q=y.getAttribute("rel"),Q==="stylesheet"&&y.hasAttribute("data-precedence"))break;if(Q!==K.rel||y.getAttribute("href")!==(K.href==null||K.href===""?null:K.href)||y.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin)||y.getAttribute("title")!==(K.title==null?null:K.title))break;return y;case"style":if(y.hasAttribute("data-precedence"))break;return y;case"script":if(Q=y.getAttribute("src"),(Q!==(K.src==null?null:K.src)||y.getAttribute("type")!==(K.type==null?null:K.type)||y.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin))&&Q&&y.hasAttribute("async")&&!y.hasAttribute("itemprop"))break;return y;default:return y}}else if(w==="input"&&y.type==="hidden"){var Q=K.name==null?null:""+K.name;if(K.type==="hidden"&&y.getAttribute("name")===Q)return y}else return y;if(y=ar(y.nextSibling),y===null)break}return null}function O4(y,w,P){if(w==="")return null;for(;y.nodeType!==3;)if((y.nodeType!==1||y.nodeName!=="INPUT"||y.type!=="hidden")&&!P||(y=ar(y.nextSibling),y===null))return null;return y}function jx(y,w){for(;y.nodeType!==8;)if((y.nodeType!==1||y.nodeName!=="INPUT"||y.type!=="hidden")&&!w||(y=ar(y.nextSibling),y===null))return null;return y}function v0(y){return y.data==="$?"||y.data==="$~"}function p0(y){return y.data==="$!"||y.data==="$?"&&y.ownerDocument.readyState!=="loading"}function b4(y,w){var P=y.ownerDocument;if(y.data==="$~")y._reactRetry=w;else if(y.data!=="$?"||P.readyState!=="loading")w();else{var G=function(){w(),P.removeEventListener("DOMContentLoaded",G)};P.addEventListener("DOMContentLoaded",G),y._reactRetry=G}}function ar(y){for(;y!=null;y=y.nextSibling){var w=y.nodeType;if(w===1||w===3)break;if(w===8){if(w=y.data,w==="$"||w==="$!"||w==="$?"||w==="$~"||w==="&"||w==="F!"||w==="F")break;if(w==="/$"||w==="/&")return null}}return y}var m0=null;function Kx(y){y=y.nextSibling;for(var w=0;y;){if(y.nodeType===8){var P=y.data;if(P==="/$"||P==="/&"){if(w===0)return ar(y.nextSibling);w--}else P!=="$"&&P!=="$!"&&P!=="$?"&&P!=="$~"&&P!=="&"||w++}y=y.nextSibling}return null}function Zx(y){y=y.previousSibling;for(var w=0;y;){if(y.nodeType===8){var P=y.data;if(P==="$"||P==="$!"||P==="$?"||P==="$~"||P==="&"){if(w===0)return y;w--}else P!=="/$"&&P!=="/&"||w++}y=y.previousSibling}return null}function Qx(y,w,P){switch(w=Tf(P),y){case"html":if(y=w.documentElement,!y)throw Error(T(452));return y;case"head":if(y=w.head,!y)throw Error(T(453));return y;case"body":if(y=w.body,!y)throw Error(T(454));return y;default:throw Error(T(451))}}function wu(y){for(var w=y.attributes;w.length;)y.removeAttributeNode(w[0]);un(y)}var or=new Map,Jx=new Set;function Sf(y){return typeof y.getRootNode=="function"?y.getRootNode():y.nodeType===9?y:y.ownerDocument}var fs=z.d;z.d={f:L4,r:I4,D:P4,C:N4,L:D4,m:B4,X:U4,S:F4,M:z4};function L4(){var y=fs.f(),w=cf();return y||w}function I4(y){var w=$n(y);w!==null&&w.tag===5&&w.type==="form"?d1(w):fs.r(y)}var il=typeof document>"u"?null:document;function $x(y,w,P){var G=il;if(G&&typeof w=="string"&&w){var K=Oe(w);K='link[rel="'+y+'"][href="'+K+'"]',typeof P=="string"&&(K+='[crossorigin="'+P+'"]'),Jx.has(K)||(Jx.add(K),y={rel:y,crossOrigin:P,href:w},G.querySelector(K)===null&&(w=G.createElement("link"),rn(w,"link",y),vi(w),G.head.appendChild(w)))}}function P4(y){fs.D(y),$x("dns-prefetch",y,null)}function N4(y,w){fs.C(y,w),$x("preconnect",y,w)}function D4(y,w,P){fs.L(y,w,P);var G=il;if(G&&y&&w){var K='link[rel="preload"][as="'+Oe(w)+'"]';w==="image"&&P&&P.imageSrcSet?(K+='[imagesrcset="'+Oe(P.imageSrcSet)+'"]',typeof P.imageSizes=="string"&&(K+='[imagesizes="'+Oe(P.imageSizes)+'"]')):K+='[href="'+Oe(y)+'"]';var Q=K;switch(w){case"style":Q=nl(y);break;case"script":Q=rl(y)}or.has(Q)||(y=r({rel:"preload",href:w==="image"&&P&&P.imageSrcSet?void 0:y,as:w},P),or.set(Q,y),G.querySelector(K)!==null||w==="style"&&G.querySelector(Au(Q))||w==="script"&&G.querySelector(Cu(Q))||(w=G.createElement("link"),rn(w,"link",y),vi(w),G.head.appendChild(w)))}}function B4(y,w){fs.m(y,w);var P=il;if(P&&y){var G=w&&typeof w.as=="string"?w.as:"script",K='link[rel="modulepreload"][as="'+Oe(G)+'"][href="'+Oe(y)+'"]',Q=K;switch(G){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Q=rl(y)}if(!or.has(Q)&&(y=r({rel:"modulepreload",href:y},w),or.set(Q,y),P.querySelector(K)===null)){switch(G){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(P.querySelector(Cu(Q)))return}G=P.createElement("link"),rn(G,"link",y),vi(G),P.head.appendChild(G)}}}function F4(y,w,P){fs.S(y,w,P);var G=il;if(G&&y){var K=qn(G).hoistableStyles,Q=nl(y);w=w||"default";var tt=K.get(Q);if(!tt){var rt={loading:0,preload:null};if(tt=G.querySelector(Au(Q)))rt.loading=5;else{y=r({rel:"stylesheet",href:y,"data-precedence":w},P),(P=or.get(Q))&&g0(y,P);var ht=tt=G.createElement("link");vi(ht),rn(ht,"link",y),ht._p=new Promise(function(Et,It){ht.onload=Et,ht.onerror=It}),ht.addEventListener("load",function(){rt.loading|=1}),ht.addEventListener("error",function(){rt.loading|=2}),rt.loading|=4,Ef(tt,w,G)}tt={type:"stylesheet",instance:tt,count:1,state:rt},K.set(Q,tt)}}}function U4(y,w){fs.X(y,w);var P=il;if(P&&y){var G=qn(P).hoistableScripts,K=rl(y),Q=G.get(K);Q||(Q=P.querySelector(Cu(K)),Q||(y=r({src:y,async:!0},w),(w=or.get(K))&&y0(y,w),Q=P.createElement("script"),vi(Q),rn(Q,"link",y),P.head.appendChild(Q)),Q={type:"script",instance:Q,count:1,state:null},G.set(K,Q))}}function z4(y,w){fs.M(y,w);var P=il;if(P&&y){var G=qn(P).hoistableScripts,K=rl(y),Q=G.get(K);Q||(Q=P.querySelector(Cu(K)),Q||(y=r({src:y,async:!0,type:"module"},w),(w=or.get(K))&&y0(y,w),Q=P.createElement("script"),vi(Q),rn(Q,"link",y),P.head.appendChild(Q)),Q={type:"script",instance:Q,count:1,state:null},G.set(K,Q))}}function qx(y,w,P,G){var K=(K=Z.current)?Sf(K):null;if(!K)throw Error(T(446));switch(y){case"meta":case"title":return null;case"style":return typeof P.precedence=="string"&&typeof P.href=="string"?(w=nl(P.href),P=qn(K).hoistableStyles,G=P.get(w),G||(G={type:"style",instance:null,count:0,state:null},P.set(w,G)),G):{type:"void",instance:null,count:0,state:null};case"link":if(P.rel==="stylesheet"&&typeof P.href=="string"&&typeof P.precedence=="string"){y=nl(P.href);var Q=qn(K).hoistableStyles,tt=Q.get(y);if(tt||(K=K.ownerDocument||K,tt={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Q.set(y,tt),(Q=K.querySelector(Au(y)))&&!Q._p&&(tt.instance=Q,tt.state.loading=5),or.has(y)||(P={rel:"preload",as:"style",href:P.href,crossOrigin:P.crossOrigin,integrity:P.integrity,media:P.media,hrefLang:P.hrefLang,referrerPolicy:P.referrerPolicy},or.set(y,P),Q||G4(K,y,P,tt.state))),w&&G===null)throw Error(T(528,""));return tt}if(w&&G!==null)throw Error(T(529,""));return null;case"script":return w=P.async,P=P.src,typeof P=="string"&&w&&typeof w!="function"&&typeof w!="symbol"?(w=rl(P),P=qn(K).hoistableScripts,G=P.get(w),G||(G={type:"script",instance:null,count:0,state:null},P.set(w,G)),G):{type:"void",instance:null,count:0,state:null};default:throw Error(T(444,y))}}function nl(y){return'href="'+Oe(y)+'"'}function Au(y){return'link[rel="stylesheet"]['+y+"]"}function _x(y){return r({},y,{"data-precedence":y.precedence,precedence:null})}function G4(y,w,P,G){y.querySelector('link[rel="preload"][as="style"]['+w+"]")?G.loading=1:(w=y.createElement("link"),G.preload=w,w.addEventListener("load",function(){return G.loading|=1}),w.addEventListener("error",function(){return G.loading|=2}),rn(w,"link",P),vi(w),y.head.appendChild(w))}function rl(y){return'[src="'+Oe(y)+'"]'}function Cu(y){return"script[async]"+y}function tT(y,w,P){if(w.count++,w.instance===null)switch(w.type){case"style":var G=y.querySelector('style[data-href~="'+Oe(P.href)+'"]');if(G)return w.instance=G,vi(G),G;var K=r({},P,{"data-href":P.href,"data-precedence":P.precedence,href:null,precedence:null});return G=(y.ownerDocument||y).createElement("style"),vi(G),rn(G,"style",K),Ef(G,P.precedence,y),w.instance=G;case"stylesheet":K=nl(P.href);var Q=y.querySelector(Au(K));if(Q)return w.state.loading|=4,w.instance=Q,vi(Q),Q;G=_x(P),(K=or.get(K))&&g0(G,K),Q=(y.ownerDocument||y).createElement("link"),vi(Q);var tt=Q;return tt._p=new Promise(function(rt,ht){tt.onload=rt,tt.onerror=ht}),rn(Q,"link",G),w.state.loading|=4,Ef(Q,P.precedence,y),w.instance=Q;case"script":return Q=rl(P.src),(K=y.querySelector(Cu(Q)))?(w.instance=K,vi(K),K):(G=P,(K=or.get(Q))&&(G=r({},P),y0(G,K)),y=y.ownerDocument||y,K=y.createElement("script"),vi(K),rn(K,"link",G),y.head.appendChild(K),w.instance=K);case"void":return null;default:throw Error(T(443,w.type))}else w.type==="stylesheet"&&(w.state.loading&4)===0&&(G=w.instance,w.state.loading|=4,Ef(G,P.precedence,y));return w.instance}function Ef(y,w,P){for(var G=P.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),K=G.length?G[G.length-1]:null,Q=K,tt=0;tt<G.length;tt++){var rt=G[tt];if(rt.dataset.precedence===w)Q=rt;else if(Q!==K)break}Q?Q.parentNode.insertBefore(y,Q.nextSibling):(w=P.nodeType===9?P.head:P,w.insertBefore(y,w.firstChild))}function g0(y,w){y.crossOrigin==null&&(y.crossOrigin=w.crossOrigin),y.referrerPolicy==null&&(y.referrerPolicy=w.referrerPolicy),y.title==null&&(y.title=w.title)}function y0(y,w){y.crossOrigin==null&&(y.crossOrigin=w.crossOrigin),y.referrerPolicy==null&&(y.referrerPolicy=w.referrerPolicy),y.integrity==null&&(y.integrity=w.integrity)}var wf=null;function eT(y,w,P){if(wf===null){var G=new Map,K=wf=new Map;K.set(P,G)}else K=wf,G=K.get(P),G||(G=new Map,K.set(P,G));if(G.has(y))return G;for(G.set(y,null),P=P.getElementsByTagName(y),K=0;K<P.length;K++){var Q=P[K];if(!(Q[ln]||Q[wt]||y==="link"&&Q.getAttribute("rel")==="stylesheet")&&Q.namespaceURI!=="http://www.w3.org/2000/svg"){var tt=Q.getAttribute(w)||"";tt=y+tt;var rt=G.get(tt);rt?rt.push(Q):G.set(tt,[Q])}}return G}function iT(y,w,P){y=y.ownerDocument||y,y.head.insertBefore(P,w==="title"?y.querySelector("head > title"):null)}function V4(y,w,P){if(P===1||w.itemProp!=null)return!1;switch(y){case"meta":case"title":return!0;case"style":if(typeof w.precedence!="string"||typeof w.href!="string"||w.href==="")break;return!0;case"link":if(typeof w.rel!="string"||typeof w.href!="string"||w.href===""||w.onLoad||w.onError)break;return w.rel==="stylesheet"?(y=w.disabled,typeof w.precedence=="string"&&y==null):!0;case"script":if(w.async&&typeof w.async!="function"&&typeof w.async!="symbol"&&!w.onLoad&&!w.onError&&w.src&&typeof w.src=="string")return!0}return!1}function nT(y){return!(y.type==="stylesheet"&&(y.state.loading&3)===0)}function H4(y,w,P,G){if(P.type==="stylesheet"&&(typeof G.media!="string"||matchMedia(G.media).matches!==!1)&&(P.state.loading&4)===0){if(P.instance===null){var K=nl(G.href),Q=w.querySelector(Au(K));if(Q){w=Q._p,w!==null&&typeof w=="object"&&typeof w.then=="function"&&(y.count++,y=Af.bind(y),w.then(y,y)),P.state.loading|=4,P.instance=Q,vi(Q);return}Q=w.ownerDocument||w,G=_x(G),(K=or.get(K))&&g0(G,K),Q=Q.createElement("link"),vi(Q);var tt=Q;tt._p=new Promise(function(rt,ht){tt.onload=rt,tt.onerror=ht}),rn(Q,"link",G),P.instance=Q}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(P,w),(w=P.state.preload)&&(P.state.loading&3)===0&&(y.count++,P=Af.bind(y),w.addEventListener("load",P),w.addEventListener("error",P))}}var x0=0;function Y4(y,w){return y.stylesheets&&y.count===0&&Rf(y,y.stylesheets),0<y.count||0<y.imgCount?function(P){var G=setTimeout(function(){if(y.stylesheets&&Rf(y,y.stylesheets),y.unsuspend){var Q=y.unsuspend;y.unsuspend=null,Q()}},6e4+w);0<y.imgBytes&&x0===0&&(x0=62500*E4());var K=setTimeout(function(){if(y.waitingForImages=!1,y.count===0&&(y.stylesheets&&Rf(y,y.stylesheets),y.unsuspend)){var Q=y.unsuspend;y.unsuspend=null,Q()}},(y.imgBytes>x0?50:800)+w);return y.unsuspend=P,function(){y.unsuspend=null,clearTimeout(G),clearTimeout(K)}}:null}function Af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rf(this,this.stylesheets);else if(this.unsuspend){var y=this.unsuspend;this.unsuspend=null,y()}}}var Cf=null;function Rf(y,w){y.stylesheets=null,y.unsuspend!==null&&(y.count++,Cf=new Map,w.forEach(W4,y),Cf=null,Af.call(y))}function W4(y,w){if(!(w.state.loading&4)){var P=Cf.get(y);if(P)var G=P.get(null);else{P=new Map,Cf.set(y,P);for(var K=y.querySelectorAll("link[data-precedence],style[data-precedence]"),Q=0;Q<K.length;Q++){var tt=K[Q];(tt.nodeName==="LINK"||tt.getAttribute("media")!=="not all")&&(P.set(tt.dataset.precedence,tt),G=tt)}G&&P.set(null,G)}K=w.instance,tt=K.getAttribute("data-precedence"),Q=P.get(tt)||G,Q===G&&P.set(null,K),P.set(tt,K),this.count++,G=Af.bind(this),K.addEventListener("load",G),K.addEventListener("error",G),Q?Q.parentNode.insertBefore(K,Q.nextSibling):(y=y.nodeType===9?y.head:y,y.insertBefore(K,y.firstChild)),w.state.loading|=4}}var Ru={$$typeof:f,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function X4(y,w,P,G,K,Q,tt,rt,ht){this.tag=1,this.containerInfo=y,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=G,this.onUncaughtError=K,this.onCaughtError=Q,this.onRecoverableError=tt,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ht,this.incompleteTransitions=new Map}function rT(y,w,P,G,K,Q,tt,rt,ht,Et,It,Dt){return y=new X4(y,w,P,tt,ht,Et,It,Dt,rt),w=1,Q===!0&&(w|=24),Q=Gn(3,null,null,w),y.current=Q,Q.stateNode=y,w=qd(),w.refCount++,y.pooledCache=w,w.refCount++,Q.memoizedState={element:G,isDehydrated:P,cache:w},iv(Q),y}function sT(y){return y?(y=Bo,y):Bo}function aT(y,w,P,G,K,Q){K=sT(K),G.context===null?G.context=K:G.pendingContext=K,G=Xs(w),G.payload={element:P},Q=Q===void 0?null:Q,Q!==null&&(G.callback=Q),P=ks(y,G,w),P!==null&&(bn(P,y,w),ru(P,y,w))}function oT(y,w){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var P=y.retryLane;y.retryLane=P!==0&&P<w?P:w}}function T0(y,w){oT(y,w),(y=y.alternate)&&oT(y,w)}function lT(y){if(y.tag===13||y.tag===31){var w=Da(y,67108864);w!==null&&bn(w,y,67108864),T0(y,67108864)}}function uT(y){if(y.tag===13||y.tag===31){var w=Xn();w=ii(w);var P=Da(y,w);P!==null&&bn(P,y,w),T0(y,w)}}var Mf=!0;function k4(y,w,P,G){var K=N.T;N.T=null;var Q=z.p;try{z.p=2,S0(y,w,P,G)}finally{z.p=Q,N.T=K}}function j4(y,w,P,G){var K=N.T;N.T=null;var Q=z.p;try{z.p=8,S0(y,w,P,G)}finally{z.p=Q,N.T=K}}function S0(y,w,P,G){if(Mf){var K=E0(G);if(K===null)o0(y,w,G,Of,P),fT(y,G);else if(Z4(K,y,w,P,G))G.stopPropagation();else if(fT(y,G),w&4&&-1<K4.indexOf(y)){for(;K!==null;){var Q=$n(K);if(Q!==null)switch(Q.tag){case 3:if(Q=Q.stateNode,Q.current.memoizedState.isDehydrated){var tt=Jn(Q.pendingLanes);if(tt!==0){var rt=Q;for(rt.pendingLanes|=2,rt.entangledLanes|=2;tt;){var ht=1<<31-qt(tt);rt.entanglements[1]|=ht,tt&=~ht}Nr(Q),(Ge&6)===0&&(hf=Pt()+500,Tu(0))}}break;case 31:case 13:rt=Da(Q,2),rt!==null&&bn(rt,Q,2),cf(),T0(Q,2)}if(Q=E0(G),Q===null&&o0(y,w,G,Of,P),Q===K)break;K=Q}K!==null&&G.stopPropagation()}else o0(y,w,G,null,P)}}function E0(y){return y=Ad(y),w0(y)}var Of=null;function w0(y){if(Of=null,y=xi(y),y!==null){var w=L(y);if(w===null)y=null;else{var P=w.tag;if(P===13){if(y=h(w),y!==null)return y;y=null}else if(P===31){if(y=x(w),y!==null)return y;y=null}else if(P===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;y=null}else w!==y&&(y=null)}}return Of=y,null}function hT(y){switch(y){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case _t:return 2;case nt:return 8;case $:case _:return 32;case st:return 268435456;default:return 32}default:return 32}}var A0=!1,ia=null,na=null,ra=null,Mu=new Map,Ou=new Map,sa=[],K4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fT(y,w){switch(y){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":Mu.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(w.pointerId)}}function bu(y,w,P,G,K,Q){return y===null||y.nativeEvent!==Q?(y={blockedOn:w,domEventName:P,eventSystemFlags:G,nativeEvent:Q,targetContainers:[K]},w!==null&&(w=$n(w),w!==null&&lT(w)),y):(y.eventSystemFlags|=G,w=y.targetContainers,K!==null&&w.indexOf(K)===-1&&w.push(K),y)}function Z4(y,w,P,G,K){switch(w){case"focusin":return ia=bu(ia,y,w,P,G,K),!0;case"dragenter":return na=bu(na,y,w,P,G,K),!0;case"mouseover":return ra=bu(ra,y,w,P,G,K),!0;case"pointerover":var Q=K.pointerId;return Mu.set(Q,bu(Mu.get(Q)||null,y,w,P,G,K)),!0;case"gotpointercapture":return Q=K.pointerId,Ou.set(Q,bu(Ou.get(Q)||null,y,w,P,G,K)),!0}return!1}function cT(y){var w=xi(y.target);if(w!==null){var P=L(w);if(P!==null){if(w=P.tag,w===13){if(w=h(P),w!==null){y.blockedOn=w,ri(y.priority,function(){uT(P)});return}}else if(w===31){if(w=x(P),w!==null){y.blockedOn=w,ri(y.priority,function(){uT(P)});return}}else if(w===3&&P.stateNode.current.memoizedState.isDehydrated){y.blockedOn=P.tag===3?P.stateNode.containerInfo:null;return}}}y.blockedOn=null}function bf(y){if(y.blockedOn!==null)return!1;for(var w=y.targetContainers;0<w.length;){var P=E0(y.nativeEvent);if(P===null){P=y.nativeEvent;var G=new P.constructor(P.type,P);wd=G,P.target.dispatchEvent(G),wd=null}else return w=$n(P),w!==null&&lT(w),y.blockedOn=P,!1;w.shift()}return!0}function dT(y,w,P){bf(y)&&P.delete(w)}function Q4(){A0=!1,ia!==null&&bf(ia)&&(ia=null),na!==null&&bf(na)&&(na=null),ra!==null&&bf(ra)&&(ra=null),Mu.forEach(dT),Ou.forEach(dT)}function Lf(y,w){y.blockedOn===w&&(y.blockedOn=null,A0||(A0=!0,A.unstable_scheduleCallback(A.unstable_NormalPriority,Q4)))}var If=null;function vT(y){If!==y&&(If=y,A.unstable_scheduleCallback(A.unstable_NormalPriority,function(){If===y&&(If=null);for(var w=0;w<y.length;w+=3){var P=y[w],G=y[w+1],K=y[w+2];if(typeof G!="function"){if(w0(G||P)===null)continue;break}var Q=$n(P);Q!==null&&(y.splice(w,3),w-=3,Ev(Q,{pending:!0,data:K,method:P.method,action:G},G,K))}}))}function sl(y){function w(ht){return Lf(ht,y)}ia!==null&&Lf(ia,y),na!==null&&Lf(na,y),ra!==null&&Lf(ra,y),Mu.forEach(w),Ou.forEach(w);for(var P=0;P<sa.length;P++){var G=sa[P];G.blockedOn===y&&(G.blockedOn=null)}for(;0<sa.length&&(P=sa[0],P.blockedOn===null);)cT(P),P.blockedOn===null&&sa.shift();if(P=(y.ownerDocument||y).$$reactFormReplay,P!=null)for(G=0;G<P.length;G+=3){var K=P[G],Q=P[G+1],tt=K[Vt]||null;if(typeof Q=="function")tt||vT(P);else if(tt){var rt=null;if(Q&&Q.hasAttribute("formAction")){if(K=Q,tt=Q[Vt]||null)rt=tt.formAction;else if(w0(K)!==null)continue}else rt=tt.action;typeof rt=="function"?P[G+1]=rt:(P.splice(G,3),G-=3),vT(P)}}}function pT(){function y(Q){Q.canIntercept&&Q.info==="react-transition"&&Q.intercept({handler:function(){return new Promise(function(tt){return K=tt})},focusReset:"manual",scroll:"manual"})}function w(){K!==null&&(K(),K=null),G||setTimeout(P,20)}function P(){if(!G&&!navigation.transition){var Q=navigation.currentEntry;Q&&Q.url!=null&&navigation.navigate(Q.url,{state:Q.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var G=!1,K=null;return navigation.addEventListener("navigate",y),navigation.addEventListener("navigatesuccess",w),navigation.addEventListener("navigateerror",w),setTimeout(P,100),function(){G=!0,navigation.removeEventListener("navigate",y),navigation.removeEventListener("navigatesuccess",w),navigation.removeEventListener("navigateerror",w),K!==null&&(K(),K=null)}}}function C0(y){this._internalRoot=y}Pf.prototype.render=C0.prototype.render=function(y){var w=this._internalRoot;if(w===null)throw Error(T(409));var P=w.current,G=Xn();aT(P,G,y,w,null,null)},Pf.prototype.unmount=C0.prototype.unmount=function(){var y=this._internalRoot;if(y!==null){this._internalRoot=null;var w=y.containerInfo;aT(y.current,2,null,y,null,null),cf(),w[Ae]=null}};function Pf(y){this._internalRoot=y}Pf.prototype.unstable_scheduleHydration=function(y){if(y){var w=ni();y={blockedOn:null,target:y,priority:w};for(var P=0;P<sa.length&&w!==0&&w<sa[P].priority;P++);sa.splice(P,0,y),P===0&&cT(y)}};var mT=g.version;if(mT!=="19.2.4")throw Error(T(527,mT,"19.2.4"));z.findDOMNode=function(y){var w=y._reactInternals;if(w===void 0)throw typeof y.render=="function"?Error(T(188)):(y=Object.keys(y).join(","),Error(T(268,y)));return y=o(w),y=y!==null?v(y):null,y=y===null?null:y.stateNode,y};var J4={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{yt=Nf.inject(J4),kt=Nf}catch{}}return Iu.createRoot=function(y,w){if(!O(y))throw Error(T(299));var P=!1,G="",K=w1,Q=A1,tt=C1;return w!=null&&(w.unstable_strictMode===!0&&(P=!0),w.identifierPrefix!==void 0&&(G=w.identifierPrefix),w.onUncaughtError!==void 0&&(K=w.onUncaughtError),w.onCaughtError!==void 0&&(Q=w.onCaughtError),w.onRecoverableError!==void 0&&(tt=w.onRecoverableError)),w=rT(y,1,!1,null,null,P,G,null,K,Q,tt,pT),y[Ae]=w.current,a0(y),new C0(w)},Iu.hydrateRoot=function(y,w,P){if(!O(y))throw Error(T(299));var G=!1,K="",Q=w1,tt=A1,rt=C1,ht=null;return P!=null&&(P.unstable_strictMode===!0&&(G=!0),P.identifierPrefix!==void 0&&(K=P.identifierPrefix),P.onUncaughtError!==void 0&&(Q=P.onUncaughtError),P.onCaughtError!==void 0&&(tt=P.onCaughtError),P.onRecoverableError!==void 0&&(rt=P.onRecoverableError),P.formState!==void 0&&(ht=P.formState)),w=rT(y,1,!0,w,P??null,G,K,ht,Q,tt,rt,pT),w.context=sT(null),P=w.current,G=Xn(),G=ii(G),K=Xs(G),K.callback=null,ks(P,K,G),P=G,w.current.lanes=P,Rr(w,P),Nr(w),y[Ae]=w.current,a0(y),new Pf(w)},Iu.version="19.2.4",Iu}var RT;function s5(){if(RT)return O0.exports;RT=1;function A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A)}catch(g){console.error(g)}}return A(),O0.exports=r5(),O0.exports}var a5=s5();var MT="popstate";function o5(A={}){function g(T,O){let{pathname:L,search:h,hash:x}=T.location;return tm("",{pathname:L,search:h,hash:x},O.state&&O.state.usr||null,O.state&&O.state.key||"default")}function m(T,O){return typeof O=="string"?O:qu(O)}return u5(g,m,null,A)}function Ei(A,g){if(A===!1||A===null||typeof A>"u")throw new Error(g)}function Xr(A,g){if(!A){typeof console<"u"&&console.warn(g);try{throw new Error(g)}catch{}}}function l5(){return Math.random().toString(36).substring(2,10)}function OT(A,g){return{usr:A.state,key:A.key,idx:g}}function tm(A,g,m=null,T){return{pathname:typeof A=="string"?A:A.pathname,search:"",hash:"",...typeof g=="string"?Bl(g):g,state:m,key:g&&g.key||T||l5()}}function qu({pathname:A="/",search:g="",hash:m=""}){return g&&g!=="?"&&(A+=g.charAt(0)==="?"?g:"?"+g),m&&m!=="#"&&(A+=m.charAt(0)==="#"?m:"#"+m),A}function Bl(A){let g={};if(A){let m=A.indexOf("#");m>=0&&(g.hash=A.substring(m),A=A.substring(0,m));let T=A.indexOf("?");T>=0&&(g.search=A.substring(T),A=A.substring(0,T)),A&&(g.pathname=A)}return g}function u5(A,g,m,T={}){let{window:O=document.defaultView,v5Compat:L=!1}=T,h=O.history,x="POP",t=null,o=v();o==null&&(o=0,h.replaceState({...h.state,idx:o},""));function v(){return(h.state||{idx:null}).idx}function r(){x="POP";let l=v(),s=l==null?null:l-o;o=l,t&&t({action:x,location:a.location,delta:s})}function n(l,s){x="PUSH";let u=tm(a.location,l,s);o=v()+1;let f=OT(u,o),c=a.createHref(u);try{h.pushState(f,"",c)}catch(d){if(d instanceof DOMException&&d.name==="DataCloneError")throw d;O.location.assign(c)}L&&t&&t({action:x,location:a.location,delta:1})}function i(l,s){x="REPLACE";let u=tm(a.location,l,s);o=v();let f=OT(u,o),c=a.createHref(u);h.replaceState(f,"",c),L&&t&&t({action:x,location:a.location,delta:0})}function e(l){return h5(l)}let a={get action(){return x},get location(){return A(O,h)},listen(l){if(t)throw new Error("A history only accepts one active listener");return O.addEventListener(MT,r),t=l,()=>{O.removeEventListener(MT,r),t=null}},createHref(l){return g(O,l)},createURL:e,encodeLocation(l){let s=e(l);return{pathname:s.pathname,search:s.search,hash:s.hash}},push:n,replace:i,go(l){return h.go(l)}};return a}function h5(A,g=!1){let m="http://localhost";typeof window<"u"&&(m=window.location.origin!=="null"?window.location.origin:window.location.href),Ei(m,"No window.location.(origin|href) available to create URL");let T=typeof A=="string"?A:qu(A);return T=T.replace(/ $/,"%20"),!g&&T.startsWith("//")&&(T=m+T),new URL(T,m)}function Aw(A,g,m="/"){return f5(A,g,m,!1)}function f5(A,g,m,T){let O=typeof g=="string"?Bl(g):g,L=bs(O.pathname||"/",m);if(L==null)return null;let h=Cw(A);c5(h);let x=null;for(let t=0;x==null&&t<h.length;++t){let o=w5(L);x=S5(h[t],o,T)}return x}function Cw(A,g=[],m=[],T="",O=!1){let L=(h,x,t=O,o)=>{let v={relativePath:o===void 0?h.path||"":o,caseSensitive:h.caseSensitive===!0,childrenIndex:x,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(T)&&t)return;Ei(v.relativePath.startsWith(T),`Absolute route path "${v.relativePath}" nested under path "${T}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(T.length)}let r=Os([T,v.relativePath]),n=m.concat(v);h.children&&h.children.length>0&&(Ei(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${r}".`),Cw(h.children,g,n,r,t)),!(h.path==null&&!h.index)&&g.push({path:r,score:x5(r,h.index),routesMeta:n})};return A.forEach((h,x)=>{if(h.path===""||!h.path?.includes("?"))L(h,x);else for(let t of Rw(h.path))L(h,x,!0,t)}),g}function Rw(A){let g=A.split("/");if(g.length===0)return[];let[m,...T]=g,O=m.endsWith("?"),L=m.replace(/\?$/,"");if(T.length===0)return O?[L,""]:[L];let h=Rw(T.join("/")),x=[];return x.push(...h.map(t=>t===""?L:[L,t].join("/"))),O&&x.push(...h),x.map(t=>A.startsWith("/")&&t===""?"/":t)}function c5(A){A.sort((g,m)=>g.score!==m.score?m.score-g.score:T5(g.routesMeta.map(T=>T.childrenIndex),m.routesMeta.map(T=>T.childrenIndex)))}var d5=/^:[\w-]+$/,v5=3,p5=2,m5=1,g5=10,y5=-2,bT=A=>A==="*";function x5(A,g){let m=A.split("/"),T=m.length;return m.some(bT)&&(T+=y5),g&&(T+=p5),m.filter(O=>!bT(O)).reduce((O,L)=>O+(d5.test(L)?v5:L===""?m5:g5),T)}function T5(A,g){return A.length===g.length&&A.slice(0,-1).every((T,O)=>T===g[O])?A[A.length-1]-g[g.length-1]:0}function S5(A,g,m=!1){let{routesMeta:T}=A,O={},L="/",h=[];for(let x=0;x<T.length;++x){let t=T[x],o=x===T.length-1,v=L==="/"?g:g.slice(L.length)||"/",r=Rc({path:t.relativePath,caseSensitive:t.caseSensitive,end:o},v),n=t.route;if(!r&&o&&m&&!T[T.length-1].route.index&&(r=Rc({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},v)),!r)return null;Object.assign(O,r.params),h.push({params:O,pathname:Os([L,r.pathname]),pathnameBase:M5(Os([L,r.pathnameBase])),route:n}),r.pathnameBase!=="/"&&(L=Os([L,r.pathnameBase]))}return h}function Rc(A,g){typeof A=="string"&&(A={path:A,caseSensitive:!1,end:!0});let[m,T]=E5(A.path,A.caseSensitive,A.end),O=g.match(m);if(!O)return null;let L=O[0],h=L.replace(/(.)\/+$/,"$1"),x=O.slice(1);return{params:T.reduce((o,{paramName:v,isOptional:r},n)=>{if(v==="*"){let e=x[n]||"";h=L.slice(0,L.length-e.length).replace(/(.)\/+$/,"$1")}const i=x[n];return r&&!i?o[v]=void 0:o[v]=(i||"").replace(/%2F/g,"/"),o},{}),pathname:L,pathnameBase:h,pattern:A}}function E5(A,g=!1,m=!0){Xr(A==="*"||!A.endsWith("*")||A.endsWith("/*"),`Route path "${A}" will be treated as if it were "${A.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${A.replace(/\*$/,"/*")}".`);let T=[],O="^"+A.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,x,t)=>(T.push({paramName:x,isOptional:t!=null}),t?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return A.endsWith("*")?(T.push({paramName:"*"}),O+=A==="*"||A==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):m?O+="\\/*$":A!==""&&A!=="/"&&(O+="(?:(?=\\/|$))"),[new RegExp(O,g?void 0:"i"),T]}function w5(A){try{return A.split("/").map(g=>decodeURIComponent(g).replace(/\//g,"%2F")).join("/")}catch(g){return Xr(!1,`The URL path "${A}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${g}).`),A}}function bs(A,g){if(g==="/")return A;if(!A.toLowerCase().startsWith(g.toLowerCase()))return null;let m=g.endsWith("/")?g.length-1:g.length,T=A.charAt(m);return T&&T!=="/"?null:A.slice(m)||"/"}var A5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function C5(A,g="/"){let{pathname:m,search:T="",hash:O=""}=typeof A=="string"?Bl(A):A,L;return m?(m=m.replace(/\/\/+/g,"/"),m.startsWith("/")?L=LT(m.substring(1),"/"):L=LT(m,g)):L=g,{pathname:L,search:O5(T),hash:b5(O)}}function LT(A,g){let m=g.replace(/\/+$/,"").split("/");return A.split("/").forEach(O=>{O===".."?m.length>1&&m.pop():O!=="."&&m.push(O)}),m.length>1?m.join("/"):"/"}function P0(A,g,m,T){return`Cannot include a '${A}' character in a manually specified \`to.${g}\` field [${JSON.stringify(T)}].  Please separate it out to the \`to.${m}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R5(A){return A.filter((g,m)=>m===0||g.route.path&&g.route.path.length>0)}function Mw(A){let g=R5(A);return g.map((m,T)=>T===g.length-1?m.pathname:m.pathnameBase)}function Ow(A,g,m,T=!1){let O;typeof A=="string"?O=Bl(A):(O={...A},Ei(!O.pathname||!O.pathname.includes("?"),P0("?","pathname","search",O)),Ei(!O.pathname||!O.pathname.includes("#"),P0("#","pathname","hash",O)),Ei(!O.search||!O.search.includes("#"),P0("#","search","hash",O)));let L=A===""||O.pathname==="",h=L?"/":O.pathname,x;if(h==null)x=m;else{let r=g.length-1;if(!T&&h.startsWith("..")){let n=h.split("/");for(;n[0]==="..";)n.shift(),r-=1;O.pathname=n.join("/")}x=r>=0?g[r]:"/"}let t=C5(O,x),o=h&&h!=="/"&&h.endsWith("/"),v=(L||h===".")&&m.endsWith("/");return!t.pathname.endsWith("/")&&(o||v)&&(t.pathname+="/"),t}var Os=A=>A.join("/").replace(/\/\/+/g,"/"),M5=A=>A.replace(/\/+$/,"").replace(/^\/*/,"/"),O5=A=>!A||A==="?"?"":A.startsWith("?")?A:"?"+A,b5=A=>!A||A==="#"?"":A.startsWith("#")?A:"#"+A,L5=class{constructor(A,g,m,T=!1){this.status=A,this.statusText=g||"",this.internal=T,m instanceof Error?(this.data=m.toString(),this.error=m):this.data=m}};function I5(A){return A!=null&&typeof A.status=="number"&&typeof A.statusText=="string"&&typeof A.internal=="boolean"&&"data"in A}function P5(A){return A.map(g=>g.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Lw(A,g){let m=A;if(typeof m!="string"||!A5.test(m))return{absoluteURL:void 0,isExternal:!1,to:m};let T=m,O=!1;if(bw)try{let L=new URL(window.location.href),h=m.startsWith("//")?new URL(L.protocol+m):new URL(m),x=bs(h.pathname,g);h.origin===L.origin&&x!=null?m=x+h.search+h.hash:O=!0}catch{Xr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:T,isExternal:O,to:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Iw=["POST","PUT","PATCH","DELETE"];new Set(Iw);var N5=["GET",...Iw];new Set(N5);var Fl=ot.createContext(null);Fl.displayName="DataRouter";var jc=ot.createContext(null);jc.displayName="DataRouterState";var D5=ot.createContext(!1),Pw=ot.createContext({isTransitioning:!1});Pw.displayName="ViewTransition";var B5=ot.createContext(new Map);B5.displayName="Fetchers";var F5=ot.createContext(null);F5.displayName="Await";var hr=ot.createContext(null);hr.displayName="Navigation";var lh=ot.createContext(null);lh.displayName="Location";var Ds=ot.createContext({outlet:null,matches:[],isDataRoute:!1});Ds.displayName="Route";var Qm=ot.createContext(null);Qm.displayName="RouteError";var Nw="REACT_ROUTER_ERROR",U5="REDIRECT",z5="ROUTE_ERROR_RESPONSE";function G5(A){if(A.startsWith(`${Nw}:${U5}:{`))try{let g=JSON.parse(A.slice(28));if(typeof g=="object"&&g&&typeof g.status=="number"&&typeof g.statusText=="string"&&typeof g.location=="string"&&typeof g.reloadDocument=="boolean"&&typeof g.replace=="boolean")return g}catch{}}function V5(A){if(A.startsWith(`${Nw}:${z5}:{`))try{let g=JSON.parse(A.slice(40));if(typeof g=="object"&&g&&typeof g.status=="number"&&typeof g.statusText=="string")return new L5(g.status,g.statusText,g.data)}catch{}}function H5(A,{relative:g}={}){Ei(uh(),"useHref() may be used only in the context of a <Router> component.");let{basename:m,navigator:T}=ot.useContext(hr),{hash:O,pathname:L,search:h}=hh(A,{relative:g}),x=L;return m!=="/"&&(x=L==="/"?m:Os([m,L])),T.createHref({pathname:x,search:h,hash:O})}function uh(){return ot.useContext(lh)!=null}function Ma(){return Ei(uh(),"useLocation() may be used only in the context of a <Router> component."),ot.useContext(lh).location}var Dw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bw(A){ot.useContext(hr).static||ot.useLayoutEffect(A)}function Fw(){let{isDataRoute:A}=ot.useContext(Ds);return A?tO():Y5()}function Y5(){Ei(uh(),"useNavigate() may be used only in the context of a <Router> component.");let A=ot.useContext(Fl),{basename:g,navigator:m}=ot.useContext(hr),{matches:T}=ot.useContext(Ds),{pathname:O}=Ma(),L=JSON.stringify(Mw(T)),h=ot.useRef(!1);return Bw(()=>{h.current=!0}),ot.useCallback((t,o={})=>{if(Xr(h.current,Dw),!h.current)return;if(typeof t=="number"){m.go(t);return}let v=Ow(t,JSON.parse(L),O,o.relative==="path");A==null&&g!=="/"&&(v.pathname=v.pathname==="/"?g:Os([g,v.pathname])),(o.replace?m.replace:m.push)(v,o.state,o)},[g,m,L,O,A])}ot.createContext(null);function hh(A,{relative:g}={}){let{matches:m}=ot.useContext(Ds),{pathname:T}=Ma(),O=JSON.stringify(Mw(m));return ot.useMemo(()=>Ow(A,JSON.parse(O),T,g==="path"),[A,O,T,g])}function W5(A,g){return Uw(A,g)}function Uw(A,g,m,T,O){Ei(uh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:L}=ot.useContext(hr),{matches:h}=ot.useContext(Ds),x=h[h.length-1],t=x?x.params:{},o=x?x.pathname:"/",v=x?x.pathnameBase:"/",r=x&&x.route;{let u=r&&r.path||"";Gw(o,!r||u.endsWith("*")||u.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${o}" (under <Route path="${u}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${u}"> to <Route path="${u==="/"?"*":`${u}/*`}">.`)}let n=Ma(),i;if(g){let u=typeof g=="string"?Bl(g):g;Ei(v==="/"||u.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${u.pathname}" was given in the \`location\` prop.`),i=u}else i=n;let e=i.pathname||"/",a=e;if(v!=="/"){let u=v.replace(/^\//,"").split("/");a="/"+e.replace(/^\//,"").split("/").slice(u.length).join("/")}let l=Aw(A,{pathname:a});Xr(r||l!=null,`No routes matched location "${i.pathname}${i.search}${i.hash}" `),Xr(l==null||l[l.length-1].route.element!==void 0||l[l.length-1].route.Component!==void 0||l[l.length-1].route.lazy!==void 0,`Matched leaf route at location "${i.pathname}${i.search}${i.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let s=Z5(l&&l.map(u=>Object.assign({},u,{params:Object.assign({},t,u.params),pathname:Os([v,L.encodeLocation?L.encodeLocation(u.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?v:Os([v,L.encodeLocation?L.encodeLocation(u.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:u.pathnameBase])})),h,m,T,O);return g&&s?ot.createElement(lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...i},navigationType:"POP"}},s):s}function X5(){let A=_5(),g=I5(A)?`${A.status} ${A.statusText}`:A instanceof Error?A.message:JSON.stringify(A),m=A instanceof Error?A.stack:null,T="rgba(200,200,200, 0.5)",O={padding:"0.5rem",backgroundColor:T},L={padding:"2px 4px",backgroundColor:T},h=null;return console.error("Error handled by React Router default ErrorBoundary:",A),h=ot.createElement(ot.Fragment,null,ot.createElement("p",null," Hey developer "),ot.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ot.createElement("code",{style:L},"ErrorBoundary")," or"," ",ot.createElement("code",{style:L},"errorElement")," prop on your route.")),ot.createElement(ot.Fragment,null,ot.createElement("h2",null,"Unexpected Application Error!"),ot.createElement("h3",{style:{fontStyle:"italic"}},g),m?ot.createElement("pre",{style:O},m):null,h)}var k5=ot.createElement(X5,null),zw=class extends ot.Component{constructor(A){super(A),this.state={location:A.location,revalidation:A.revalidation,error:A.error}}static getDerivedStateFromError(A){return{error:A}}static getDerivedStateFromProps(A,g){return g.location!==A.location||g.revalidation!=="idle"&&A.revalidation==="idle"?{error:A.error,location:A.location,revalidation:A.revalidation}:{error:A.error!==void 0?A.error:g.error,location:g.location,revalidation:A.revalidation||g.revalidation}}componentDidCatch(A,g){this.props.onError?this.props.onError(A,g):console.error("React Router caught the following error during render",A)}render(){let A=this.state.error;if(this.context&&typeof A=="object"&&A&&"digest"in A&&typeof A.digest=="string"){const m=V5(A.digest);m&&(A=m)}let g=A!==void 0?ot.createElement(Ds.Provider,{value:this.props.routeContext},ot.createElement(Qm.Provider,{value:A,children:this.props.component})):this.props.children;return this.context?ot.createElement(j5,{error:A},g):g}};zw.contextType=D5;var N0=new WeakMap;function j5({children:A,error:g}){let{basename:m}=ot.useContext(hr);if(typeof g=="object"&&g&&"digest"in g&&typeof g.digest=="string"){let T=G5(g.digest);if(T){let O=N0.get(g);if(O)throw O;let L=Lw(T.location,m);if(bw&&!N0.get(g))if(L.isExternal||T.reloadDocument)window.location.href=L.absoluteURL||L.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(L.to,{replace:T.replace}));throw N0.set(g,h),h}return ot.createElement("meta",{httpEquiv:"refresh",content:`0;url=${L.absoluteURL||L.to}`})}}return A}function K5({routeContext:A,match:g,children:m}){let T=ot.useContext(Fl);return T&&T.static&&T.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(T.staticContext._deepestRenderedBoundaryId=g.route.id),ot.createElement(Ds.Provider,{value:A},m)}function Z5(A,g=[],m=null,T=null,O=null){if(A==null){if(!m)return null;if(m.errors)A=m.matches;else if(g.length===0&&!m.initialized&&m.matches.length>0)A=m.matches;else return null}let L=A,h=m?.errors;if(h!=null){let v=L.findIndex(r=>r.route.id&&h?.[r.route.id]!==void 0);Ei(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),L=L.slice(0,Math.min(L.length,v+1))}let x=!1,t=-1;if(m)for(let v=0;v<L.length;v++){let r=L[v];if((r.route.HydrateFallback||r.route.hydrateFallbackElement)&&(t=v),r.route.id){let{loaderData:n,errors:i}=m,e=r.route.loader&&!n.hasOwnProperty(r.route.id)&&(!i||i[r.route.id]===void 0);if(r.route.lazy||e){x=!0,t>=0?L=L.slice(0,t+1):L=[L[0]];break}}}let o=m&&T?(v,r)=>{T(v,{location:m.location,params:m.matches?.[0]?.params??{},unstable_pattern:P5(m.matches),errorInfo:r})}:void 0;return L.reduceRight((v,r,n)=>{let i,e=!1,a=null,l=null;m&&(i=h&&r.route.id?h[r.route.id]:void 0,a=r.route.errorElement||k5,x&&(t<0&&n===0?(Gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),e=!0,l=null):t===n&&(e=!0,l=r.route.hydrateFallbackElement||null)));let s=g.concat(L.slice(0,n+1)),u=()=>{let f;return i?f=a:e?f=l:r.route.Component?f=ot.createElement(r.route.Component,null):r.route.element?f=r.route.element:f=v,ot.createElement(K5,{match:r,routeContext:{outlet:v,matches:s,isDataRoute:m!=null},children:f})};return m&&(r.route.ErrorBoundary||r.route.errorElement||n===0)?ot.createElement(zw,{location:m.location,revalidation:m.revalidation,component:a,error:i,children:u(),routeContext:{outlet:null,matches:s,isDataRoute:!0},onError:o}):u()},null)}function Jm(A){return`${A} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q5(A){let g=ot.useContext(Fl);return Ei(g,Jm(A)),g}function J5(A){let g=ot.useContext(jc);return Ei(g,Jm(A)),g}function $5(A){let g=ot.useContext(Ds);return Ei(g,Jm(A)),g}function $m(A){let g=$5(A),m=g.matches[g.matches.length-1];return Ei(m.route.id,`${A} can only be used on routes that contain a unique "id"`),m.route.id}function q5(){return $m("useRouteId")}function _5(){let A=ot.useContext(Qm),g=J5("useRouteError"),m=$m("useRouteError");return A!==void 0?A:g.errors?.[m]}function tO(){let{router:A}=Q5("useNavigate"),g=$m("useNavigate"),m=ot.useRef(!1);return Bw(()=>{m.current=!0}),ot.useCallback(async(O,L={})=>{Xr(m.current,Dw),m.current&&(typeof O=="number"?await A.navigate(O):await A.navigate(O,{fromRouteId:g,...L}))},[A,g])}var IT={};function Gw(A,g,m){!g&&!IT[A]&&(IT[A]=!0,Xr(!1,m))}ot.memo(eO);function eO({routes:A,future:g,state:m,onError:T}){return Uw(A,void 0,m,T,g)}function _f(A){Ei(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iO({basename:A="/",children:g=null,location:m,navigationType:T="POP",navigator:O,static:L=!1,unstable_useTransitions:h}){Ei(!uh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=A.replace(/^\/*/,"/"),t=ot.useMemo(()=>({basename:x,navigator:O,static:L,unstable_useTransitions:h,future:{}}),[x,O,L,h]);typeof m=="string"&&(m=Bl(m));let{pathname:o="/",search:v="",hash:r="",state:n=null,key:i="default"}=m,e=ot.useMemo(()=>{let a=bs(o,x);return a==null?null:{location:{pathname:a,search:v,hash:r,state:n,key:i},navigationType:T}},[x,o,v,r,n,i,T]);return Xr(e!=null,`<Router basename="${x}"> is not able to match the URL "${o}${v}${r}" because it does not start with the basename, so the <Router> won't render anything.`),e==null?null:ot.createElement(hr.Provider,{value:t},ot.createElement(lh.Provider,{children:g,value:e}))}function nO({children:A,location:g}){return W5(em(A),g)}function em(A,g=[]){let m=[];return ot.Children.forEach(A,(T,O)=>{if(!ot.isValidElement(T))return;let L=[...g,O];if(T.type===ot.Fragment){m.push.apply(m,em(T.props.children,L));return}Ei(T.type===_f,`[${typeof T.type=="string"?T.type:T.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ei(!T.props.index||!T.props.children,"An index route cannot have child routes.");let h={id:T.props.id||L.join("-"),caseSensitive:T.props.caseSensitive,element:T.props.element,Component:T.props.Component,index:T.props.index,path:T.props.path,middleware:T.props.middleware,loader:T.props.loader,action:T.props.action,hydrateFallbackElement:T.props.hydrateFallbackElement,HydrateFallback:T.props.HydrateFallback,errorElement:T.props.errorElement,ErrorBoundary:T.props.ErrorBoundary,hasErrorBoundary:T.props.hasErrorBoundary===!0||T.props.ErrorBoundary!=null||T.props.errorElement!=null,shouldRevalidate:T.props.shouldRevalidate,handle:T.props.handle,lazy:T.props.lazy};T.props.children&&(h.children=em(T.props.children,L)),m.push(h)}),m}var tc="get",ec="application/x-www-form-urlencoded";function Kc(A){return typeof HTMLElement<"u"&&A instanceof HTMLElement}function rO(A){return Kc(A)&&A.tagName.toLowerCase()==="button"}function sO(A){return Kc(A)&&A.tagName.toLowerCase()==="form"}function aO(A){return Kc(A)&&A.tagName.toLowerCase()==="input"}function oO(A){return!!(A.metaKey||A.altKey||A.ctrlKey||A.shiftKey)}function lO(A,g){return A.button===0&&(!g||g==="_self")&&!oO(A)}var Df=null;function uO(){if(Df===null)try{new FormData(document.createElement("form"),0),Df=!1}catch{Df=!0}return Df}var hO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function D0(A){return A!=null&&!hO.has(A)?(Xr(!1,`"${A}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ec}"`),null):A}function fO(A,g){let m,T,O,L,h;if(sO(A)){let x=A.getAttribute("action");T=x?bs(x,g):null,m=A.getAttribute("method")||tc,O=D0(A.getAttribute("enctype"))||ec,L=new FormData(A)}else if(rO(A)||aO(A)&&(A.type==="submit"||A.type==="image")){let x=A.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let t=A.getAttribute("formaction")||x.getAttribute("action");if(T=t?bs(t,g):null,m=A.getAttribute("formmethod")||x.getAttribute("method")||tc,O=D0(A.getAttribute("formenctype"))||D0(x.getAttribute("enctype"))||ec,L=new FormData(x,A),!uO()){let{name:o,type:v,value:r}=A;if(v==="image"){let n=o?`${o}.`:"";L.append(`${n}x`,"0"),L.append(`${n}y`,"0")}else o&&L.append(o,r)}}else{if(Kc(A))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');m=tc,T=null,O=ec,h=A}return L&&O==="text/plain"&&(h=L,L=void 0),{action:T,method:m.toLowerCase(),encType:O,formData:L,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qm(A,g){if(A===!1||A===null||typeof A>"u")throw new Error(g)}function cO(A,g,m,T){let O=typeof A=="string"?new URL(A,typeof window>"u"?"server://singlefetch/":window.location.origin):A;return m?O.pathname.endsWith("/")?O.pathname=`${O.pathname}_.${T}`:O.pathname=`${O.pathname}.${T}`:O.pathname==="/"?O.pathname=`_root.${T}`:g&&bs(O.pathname,g)==="/"?O.pathname=`${g.replace(/\/$/,"")}/_root.${T}`:O.pathname=`${O.pathname.replace(/\/$/,"")}.${T}`,O}async function dO(A,g){if(A.id in g)return g[A.id];try{let m=await import(A.module);return g[A.id]=m,m}catch(m){return console.error(`Error loading route module \`${A.module}\`, reloading page...`),console.error(m),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vO(A){return A==null?!1:A.href==null?A.rel==="preload"&&typeof A.imageSrcSet=="string"&&typeof A.imageSizes=="string":typeof A.rel=="string"&&typeof A.href=="string"}async function pO(A,g,m){let T=await Promise.all(A.map(async O=>{let L=g.routes[O.route.id];if(L){let h=await dO(L,m);return h.links?h.links():[]}return[]}));return xO(T.flat(1).filter(vO).filter(O=>O.rel==="stylesheet"||O.rel==="preload").map(O=>O.rel==="stylesheet"?{...O,rel:"prefetch",as:"style"}:{...O,rel:"prefetch"}))}function PT(A,g,m,T,O,L){let h=(t,o)=>m[o]?t.route.id!==m[o].route.id:!0,x=(t,o)=>m[o].pathname!==t.pathname||m[o].route.path?.endsWith("*")&&m[o].params["*"]!==t.params["*"];return L==="assets"?g.filter((t,o)=>h(t,o)||x(t,o)):L==="data"?g.filter((t,o)=>{let v=T.routes[t.route.id];if(!v||!v.hasLoader)return!1;if(h(t,o)||x(t,o))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(O.pathname+O.search+O.hash,window.origin),currentParams:m[0]?.params||{},nextUrl:new URL(A,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r=="boolean")return r}return!0}):[]}function mO(A,g,{includeHydrateFallback:m}={}){return gO(A.map(T=>{let O=g.routes[T.route.id];if(!O)return[];let L=[O.module];return O.clientActionModule&&(L=L.concat(O.clientActionModule)),O.clientLoaderModule&&(L=L.concat(O.clientLoaderModule)),m&&O.hydrateFallbackModule&&(L=L.concat(O.hydrateFallbackModule)),O.imports&&(L=L.concat(O.imports)),L}).flat(1))}function gO(A){return[...new Set(A)]}function yO(A){let g={},m=Object.keys(A).sort();for(let T of m)g[T]=A[T];return g}function xO(A,g){let m=new Set;return new Set(g),A.reduce((T,O)=>{let L=JSON.stringify(yO(O));return m.has(L)||(m.add(L),T.push({key:L,link:O})),T},[])}function Vw(){let A=ot.useContext(Fl);return qm(A,"You must render this element inside a <DataRouterContext.Provider> element"),A}function TO(){let A=ot.useContext(jc);return qm(A,"You must render this element inside a <DataRouterStateContext.Provider> element"),A}var _m=ot.createContext(void 0);_m.displayName="FrameworkContext";function Hw(){let A=ot.useContext(_m);return qm(A,"You must render this element inside a <HydratedRouter> element"),A}function SO(A,g){let m=ot.useContext(_m),[T,O]=ot.useState(!1),[L,h]=ot.useState(!1),{onFocus:x,onBlur:t,onMouseEnter:o,onMouseLeave:v,onTouchStart:r}=g,n=ot.useRef(null);ot.useEffect(()=>{if(A==="render"&&h(!0),A==="viewport"){let a=s=>{s.forEach(u=>{h(u.isIntersecting)})},l=new IntersectionObserver(a,{threshold:.5});return n.current&&l.observe(n.current),()=>{l.disconnect()}}},[A]),ot.useEffect(()=>{if(T){let a=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(a)}}},[T]);let i=()=>{O(!0)},e=()=>{O(!1),h(!1)};return m?A!=="intent"?[L,n,{}]:[L,n,{onFocus:Pu(x,i),onBlur:Pu(t,e),onMouseEnter:Pu(o,i),onMouseLeave:Pu(v,e),onTouchStart:Pu(r,i)}]:[!1,n,{}]}function Pu(A,g){return m=>{A&&A(m),m.defaultPrevented||g(m)}}function EO({page:A,...g}){let{router:m}=Vw(),T=ot.useMemo(()=>Aw(m.routes,A,m.basename),[m.routes,A,m.basename]);return T?ot.createElement(AO,{page:A,matches:T,...g}):null}function wO(A){let{manifest:g,routeModules:m}=Hw(),[T,O]=ot.useState([]);return ot.useEffect(()=>{let L=!1;return pO(A,g,m).then(h=>{L||O(h)}),()=>{L=!0}},[A,g,m]),T}function AO({page:A,matches:g,...m}){let T=Ma(),{future:O,manifest:L,routeModules:h}=Hw(),{basename:x}=Vw(),{loaderData:t,matches:o}=TO(),v=ot.useMemo(()=>PT(A,g,o,L,T,"data"),[A,g,o,L,T]),r=ot.useMemo(()=>PT(A,g,o,L,T,"assets"),[A,g,o,L,T]),n=ot.useMemo(()=>{if(A===T.pathname+T.search+T.hash)return[];let a=new Set,l=!1;if(g.forEach(u=>{let f=L.routes[u.route.id];!f||!f.hasLoader||(!v.some(c=>c.route.id===u.route.id)&&u.route.id in t&&h[u.route.id]?.shouldRevalidate||f.hasClientLoader?l=!0:a.add(u.route.id))}),a.size===0)return[];let s=cO(A,x,O.unstable_trailingSlashAwareDataRequests,"data");return l&&a.size>0&&s.searchParams.set("_routes",g.filter(u=>a.has(u.route.id)).map(u=>u.route.id).join(",")),[s.pathname+s.search]},[x,O.unstable_trailingSlashAwareDataRequests,t,T,L,v,g,A,h]),i=ot.useMemo(()=>mO(r,L),[r,L]),e=wO(r);return ot.createElement(ot.Fragment,null,n.map(a=>ot.createElement("link",{key:a,rel:"prefetch",as:"fetch",href:a,...m})),i.map(a=>ot.createElement("link",{key:a,rel:"modulepreload",href:a,...m})),e.map(({key:a,link:l})=>ot.createElement("link",{key:a,nonce:m.nonce,...l,crossOrigin:l.crossOrigin??m.crossOrigin})))}function CO(...A){return g=>{A.forEach(m=>{typeof m=="function"?m(g):m!=null&&(m.current=g)})}}var RO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RO&&(window.__reactRouterVersion="7.13.0")}catch{}function MO({basename:A,children:g,unstable_useTransitions:m,window:T}){let O=ot.useRef();O.current==null&&(O.current=o5({window:T,v5Compat:!0}));let L=O.current,[h,x]=ot.useState({action:L.action,location:L.location}),t=ot.useCallback(o=>{m===!1?x(o):ot.startTransition(()=>x(o))},[m]);return ot.useLayoutEffect(()=>L.listen(t),[L,t]),ot.createElement(iO,{basename:A,children:g,location:h.location,navigationType:h.action,navigator:L,unstable_useTransitions:m})}var Yw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zc=ot.forwardRef(function({onClick:g,discover:m="render",prefetch:T="none",relative:O,reloadDocument:L,replace:h,state:x,target:t,to:o,preventScrollReset:v,viewTransition:r,unstable_defaultShouldRevalidate:n,...i},e){let{basename:a,unstable_useTransitions:l}=ot.useContext(hr),s=typeof o=="string"&&Yw.test(o),u=Lw(o,a);o=u.to;let f=H5(o,{relative:O}),[c,d,p]=SO(T,i),S=IO(o,{replace:h,state:x,target:t,preventScrollReset:v,relative:O,viewTransition:r,unstable_defaultShouldRevalidate:n,unstable_useTransitions:l});function C(R){g&&g(R),R.defaultPrevented||S(R)}let E=ot.createElement("a",{...i,...p,href:u.absoluteURL||f,onClick:u.isExternal||L?g:C,ref:CO(e,d),target:t,"data-discover":!s&&m==="render"?"true":void 0});return c&&!s?ot.createElement(ot.Fragment,null,E,ot.createElement(EO,{page:f})):E});Zc.displayName="Link";var OO=ot.forwardRef(function({"aria-current":g="page",caseSensitive:m=!1,className:T="",end:O=!1,style:L,to:h,viewTransition:x,children:t,...o},v){let r=hh(h,{relative:o.relative}),n=Ma(),i=ot.useContext(jc),{navigator:e,basename:a}=ot.useContext(hr),l=i!=null&&FO(r)&&x===!0,s=e.encodeLocation?e.encodeLocation(r).pathname:r.pathname,u=n.pathname,f=i&&i.navigation&&i.navigation.location?i.navigation.location.pathname:null;m||(u=u.toLowerCase(),f=f?f.toLowerCase():null,s=s.toLowerCase()),f&&a&&(f=bs(f,a)||f);const c=s!=="/"&&s.endsWith("/")?s.length-1:s.length;let d=u===s||!O&&u.startsWith(s)&&u.charAt(c)==="/",p=f!=null&&(f===s||!O&&f.startsWith(s)&&f.charAt(s.length)==="/"),S={isActive:d,isPending:p,isTransitioning:l},C=d?g:void 0,E;typeof T=="function"?E=T(S):E=[T,d?"active":null,p?"pending":null,l?"transitioning":null].filter(Boolean).join(" ");let R=typeof L=="function"?L(S):L;return ot.createElement(Zc,{...o,"aria-current":C,className:E,ref:v,style:R,to:h,viewTransition:x},typeof t=="function"?t(S):t)});OO.displayName="NavLink";var bO=ot.forwardRef(({discover:A="render",fetcherKey:g,navigate:m,reloadDocument:T,replace:O,state:L,method:h=tc,action:x,onSubmit:t,relative:o,preventScrollReset:v,viewTransition:r,unstable_defaultShouldRevalidate:n,...i},e)=>{let{unstable_useTransitions:a}=ot.useContext(hr),l=DO(),s=BO(x,{relative:o}),u=h.toLowerCase()==="get"?"get":"post",f=typeof x=="string"&&Yw.test(x),c=d=>{if(t&&t(d),d.defaultPrevented)return;d.preventDefault();let p=d.nativeEvent.submitter,S=p?.getAttribute("formmethod")||h,C=()=>l(p||d.currentTarget,{fetcherKey:g,method:S,navigate:m,replace:O,state:L,relative:o,preventScrollReset:v,viewTransition:r,unstable_defaultShouldRevalidate:n});a&&m!==!1?ot.startTransition(()=>C()):C()};return ot.createElement("form",{ref:e,method:u,action:s,onSubmit:T?t:c,...i,"data-discover":!f&&A==="render"?"true":void 0})});bO.displayName="Form";function LO(A){return`${A} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ww(A){let g=ot.useContext(Fl);return Ei(g,LO(A)),g}function IO(A,{target:g,replace:m,state:T,preventScrollReset:O,relative:L,viewTransition:h,unstable_defaultShouldRevalidate:x,unstable_useTransitions:t}={}){let o=Fw(),v=Ma(),r=hh(A,{relative:L});return ot.useCallback(n=>{if(lO(n,g)){n.preventDefault();let i=m!==void 0?m:qu(v)===qu(r),e=()=>o(A,{replace:i,state:T,preventScrollReset:O,relative:L,viewTransition:h,unstable_defaultShouldRevalidate:x});t?ot.startTransition(()=>e()):e()}},[v,o,r,m,T,g,A,O,L,h,x,t])}var PO=0,NO=()=>`__${String(++PO)}__`;function DO(){let{router:A}=Ww("useSubmit"),{basename:g}=ot.useContext(hr),m=q5(),T=A.fetch,O=A.navigate;return ot.useCallback(async(L,h={})=>{let{action:x,method:t,encType:o,formData:v,body:r}=fO(L,g);if(h.navigate===!1){let n=h.fetcherKey||NO();await T(n,m,h.action||x,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:r,formMethod:h.method||t,formEncType:h.encType||o,flushSync:h.flushSync})}else await O(h.action||x,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:r,formMethod:h.method||t,formEncType:h.encType||o,replace:h.replace,state:h.state,fromRouteId:m,flushSync:h.flushSync,viewTransition:h.viewTransition})},[T,O,g,m])}function BO(A,{relative:g}={}){let{basename:m}=ot.useContext(hr),T=ot.useContext(Ds);Ei(T,"useFormAction must be used inside a RouteContext");let[O]=T.matches.slice(-1),L={...hh(A||".",{relative:g})},h=Ma();if(A==null){L.search=h.search;let x=new URLSearchParams(L.search),t=x.getAll("index");if(t.some(v=>v==="")){x.delete("index"),t.filter(r=>r).forEach(r=>x.append("index",r));let v=x.toString();L.search=v?`?${v}`:""}}return(!A||A===".")&&O.route.index&&(L.search=L.search?L.search.replace(/^\?/,"?index&"):"?index"),m!=="/"&&(L.pathname=L.pathname==="/"?m:Os([m,L.pathname])),qu(L)}function FO(A,{relative:g}={}){let m=ot.useContext(Pw);Ei(m!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:T}=Ww("useViewTransitionState"),O=hh(A,{relative:g});if(!m.isTransitioning)return!1;let L=bs(m.currentLocation.pathname,T)||m.currentLocation.pathname,h=bs(m.nextLocation.pathname,T)||m.nextLocation.pathname;return Rc(O.pathname,h)!=null||Rc(O.pathname,L)!=null}var UO=ww(),B0={},Nu={},NT;function zO(){if(NT)return Nu;NT=1,Nu.byteLength=x,Nu.toByteArray=o,Nu.fromByteArray=n;for(var A=[],g=[],m=typeof Uint8Array<"u"?Uint8Array:Array,T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=0,L=T.length;O<L;++O)A[O]=T[O],g[T.charCodeAt(O)]=O;g[45]=62,g[95]=63;function h(i){var e=i.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=i.indexOf("=");a===-1&&(a=e);var l=a===e?0:4-a%4;return[a,l]}function x(i){var e=h(i),a=e[0],l=e[1];return(a+l)*3/4-l}function t(i,e,a){return(e+a)*3/4-a}function o(i){var e,a=h(i),l=a[0],s=a[1],u=new m(t(i,l,s)),f=0,c=s>0?l-4:l,d;for(d=0;d<c;d+=4)e=g[i.charCodeAt(d)]<<18|g[i.charCodeAt(d+1)]<<12|g[i.charCodeAt(d+2)]<<6|g[i.charCodeAt(d+3)],u[f++]=e>>16&255,u[f++]=e>>8&255,u[f++]=e&255;return s===2&&(e=g[i.charCodeAt(d)]<<2|g[i.charCodeAt(d+1)]>>4,u[f++]=e&255),s===1&&(e=g[i.charCodeAt(d)]<<10|g[i.charCodeAt(d+1)]<<4|g[i.charCodeAt(d+2)]>>2,u[f++]=e>>8&255,u[f++]=e&255),u}function v(i){return A[i>>18&63]+A[i>>12&63]+A[i>>6&63]+A[i&63]}function r(i,e,a){for(var l,s=[],u=e;u<a;u+=3)l=(i[u]<<16&16711680)+(i[u+1]<<8&65280)+(i[u+2]&255),s.push(v(l));return s.join("")}function n(i){for(var e,a=i.length,l=a%3,s=[],u=16383,f=0,c=a-l;f<c;f+=u)s.push(r(i,f,f+u>c?c:f+u));return l===1?(e=i[a-1],s.push(A[e>>2]+A[e<<4&63]+"==")):l===2&&(e=(i[a-2]<<8)+i[a-1],s.push(A[e>>10]+A[e>>4&63]+A[e<<2&63]+"=")),s.join("")}return Nu}var Bf={};var DT;function GO(){return DT||(DT=1,Bf.read=function(A,g,m,T,O){var L,h,x=O*8-T-1,t=(1<<x)-1,o=t>>1,v=-7,r=m?O-1:0,n=m?-1:1,i=A[g+r];for(r+=n,L=i&(1<<-v)-1,i>>=-v,v+=x;v>0;L=L*256+A[g+r],r+=n,v-=8);for(h=L&(1<<-v)-1,L>>=-v,v+=T;v>0;h=h*256+A[g+r],r+=n,v-=8);if(L===0)L=1-o;else{if(L===t)return h?NaN:(i?-1:1)*(1/0);h=h+Math.pow(2,T),L=L-o}return(i?-1:1)*h*Math.pow(2,L-T)},Bf.write=function(A,g,m,T,O,L){var h,x,t,o=L*8-O-1,v=(1<<o)-1,r=v>>1,n=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=T?0:L-1,e=T?1:-1,a=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(x=isNaN(g)?1:0,h=v):(h=Math.floor(Math.log(g)/Math.LN2),g*(t=Math.pow(2,-h))<1&&(h--,t*=2),h+r>=1?g+=n/t:g+=n*Math.pow(2,1-r),g*t>=2&&(h++,t/=2),h+r>=v?(x=0,h=v):h+r>=1?(x=(g*t-1)*Math.pow(2,O),h=h+r):(x=g*Math.pow(2,r-1)*Math.pow(2,O),h=0));O>=8;A[m+i]=x&255,i+=e,x/=256,O-=8);for(h=h<<O|x,o+=O;o>0;A[m+i]=h&255,i+=e,h/=256,o-=8);A[m+i-e]|=a*128}),Bf}var BT;function tg(){return BT||(BT=1,(function(A){const g=zO(),m=GO(),T=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;A.Buffer=x,A.SlowBuffer=u,A.INSPECT_MAX_BYTES=50;const O=2147483647;A.kMaxLength=O,x.TYPED_ARRAY_SUPPORT=L(),!x.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function L(){try{const nt=new Uint8Array(1),$={foo:function(){return 42}};return Object.setPrototypeOf($,Uint8Array.prototype),Object.setPrototypeOf(nt,$),nt.foo()===42}catch{return!1}}Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.buffer}}),Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.byteOffset}});function h(nt){if(nt>O)throw new RangeError('The value "'+nt+'" is invalid for option "size"');const $=new Uint8Array(nt);return Object.setPrototypeOf($,x.prototype),$}function x(nt,$,_){if(typeof nt=="number"){if(typeof $=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return r(nt)}return t(nt,$,_)}x.poolSize=8192;function t(nt,$,_){if(typeof nt=="string")return n(nt,$);if(ArrayBuffer.isView(nt))return e(nt);if(nt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof nt);if(Ot(nt,ArrayBuffer)||nt&&Ot(nt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ot(nt,SharedArrayBuffer)||nt&&Ot(nt.buffer,SharedArrayBuffer)))return a(nt,$,_);if(typeof nt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const st=nt.valueOf&&nt.valueOf();if(st!=null&&st!==nt)return x.from(st,$,_);const ct=l(nt);if(ct)return ct;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof nt[Symbol.toPrimitive]=="function")return x.from(nt[Symbol.toPrimitive]("string"),$,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof nt)}x.from=function(nt,$,_){return t(nt,$,_)},Object.setPrototypeOf(x.prototype,Uint8Array.prototype),Object.setPrototypeOf(x,Uint8Array);function o(nt){if(typeof nt!="number")throw new TypeError('"size" argument must be of type number');if(nt<0)throw new RangeError('The value "'+nt+'" is invalid for option "size"')}function v(nt,$,_){return o(nt),nt<=0?h(nt):$!==void 0?typeof _=="string"?h(nt).fill($,_):h(nt).fill($):h(nt)}x.alloc=function(nt,$,_){return v(nt,$,_)};function r(nt){return o(nt),h(nt<0?0:s(nt)|0)}x.allocUnsafe=function(nt){return r(nt)},x.allocUnsafeSlow=function(nt){return r(nt)};function n(nt,$){if((typeof $!="string"||$==="")&&($="utf8"),!x.isEncoding($))throw new TypeError("Unknown encoding: "+$);const _=f(nt,$)|0;let st=h(_);const ct=st.write(nt,$);return ct!==_&&(st=st.slice(0,ct)),st}function i(nt){const $=nt.length<0?0:s(nt.length)|0,_=h($);for(let st=0;st<$;st+=1)_[st]=nt[st]&255;return _}function e(nt){if(Ot(nt,Uint8Array)){const $=new Uint8Array(nt);return a($.buffer,$.byteOffset,$.byteLength)}return i(nt)}function a(nt,$,_){if($<0||nt.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(nt.byteLength<$+(_||0))throw new RangeError('"length" is outside of buffer bounds');let st;return $===void 0&&_===void 0?st=new Uint8Array(nt):_===void 0?st=new Uint8Array(nt,$):st=new Uint8Array(nt,$,_),Object.setPrototypeOf(st,x.prototype),st}function l(nt){if(x.isBuffer(nt)){const $=s(nt.length)|0,_=h($);return _.length===0||nt.copy(_,0,0,$),_}if(nt.length!==void 0)return typeof nt.length!="number"||Bt(nt.length)?h(0):i(nt);if(nt.type==="Buffer"&&Array.isArray(nt.data))return i(nt.data)}function s(nt){if(nt>=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+O.toString(16)+" bytes");return nt|0}function u(nt){return+nt!=nt&&(nt=0),x.alloc(+nt)}x.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==x.prototype},x.compare=function($,_){if(Ot($,Uint8Array)&&($=x.from($,$.offset,$.byteLength)),Ot(_,Uint8Array)&&(_=x.from(_,_.offset,_.byteLength)),!x.isBuffer($)||!x.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===_)return 0;let st=$.length,ct=_.length;for(let pt=0,yt=Math.min(st,ct);pt<yt;++pt)if($[pt]!==_[pt]){st=$[pt],ct=_[pt];break}return st<ct?-1:ct<st?1:0},x.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function($,_){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return x.alloc(0);let st;if(_===void 0)for(_=0,st=0;st<$.length;++st)_+=$[st].length;const ct=x.allocUnsafe(_);let pt=0;for(st=0;st<$.length;++st){let yt=$[st];if(Ot(yt,Uint8Array))pt+yt.length>ct.length?(x.isBuffer(yt)||(yt=x.from(yt)),yt.copy(ct,pt)):Uint8Array.prototype.set.call(ct,yt,pt);else if(x.isBuffer(yt))yt.copy(ct,pt);else throw new TypeError('"list" argument must be an Array of Buffers');pt+=yt.length}return ct};function f(nt,$){if(x.isBuffer(nt))return nt.length;if(ArrayBuffer.isView(nt)||Ot(nt,ArrayBuffer))return nt.byteLength;if(typeof nt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof nt);const _=nt.length,st=arguments.length>2&&arguments[2]===!0;if(!st&&_===0)return 0;let ct=!1;for(;;)switch($){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return At(nt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return Ht(nt).length;default:if(ct)return st?-1:At(nt).length;$=(""+$).toLowerCase(),ct=!0}}x.byteLength=f;function c(nt,$,_){let st=!1;if(($===void 0||$<0)&&($=0),$>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,$>>>=0,_<=$))return"";for(nt||(nt="utf8");;)switch(nt){case"hex":return X(this,$,_);case"utf8":case"utf-8":return b(this,$,_);case"ascii":return z(this,$,_);case"latin1":case"binary":return H(this,$,_);case"base64":return B(this,$,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,$,_);default:if(st)throw new TypeError("Unknown encoding: "+nt);nt=(nt+"").toLowerCase(),st=!0}}x.prototype._isBuffer=!0;function d(nt,$,_){const st=nt[$];nt[$]=nt[_],nt[_]=st}x.prototype.swap16=function(){const $=this.length;if($%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<$;_+=2)d(this,_,_+1);return this},x.prototype.swap32=function(){const $=this.length;if($%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<$;_+=4)d(this,_,_+3),d(this,_+1,_+2);return this},x.prototype.swap64=function(){const $=this.length;if($%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<$;_+=8)d(this,_,_+7),d(this,_+1,_+6),d(this,_+2,_+5),d(this,_+3,_+4);return this},x.prototype.toString=function(){const $=this.length;return $===0?"":arguments.length===0?b(this,0,$):c.apply(this,arguments)},x.prototype.toLocaleString=x.prototype.toString,x.prototype.equals=function($){if(!x.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$?!0:x.compare(this,$)===0},x.prototype.inspect=function(){let $="";const _=A.INSPECT_MAX_BYTES;return $=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&($+=" ... "),"<Buffer "+$+">"},T&&(x.prototype[T]=x.prototype.inspect),x.prototype.compare=function($,_,st,ct,pt){if(Ot($,Uint8Array)&&($=x.from($,$.offset,$.byteLength)),!x.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(_===void 0&&(_=0),st===void 0&&(st=$?$.length:0),ct===void 0&&(ct=0),pt===void 0&&(pt=this.length),_<0||st>$.length||ct<0||pt>this.length)throw new RangeError("out of range index");if(ct>=pt&&_>=st)return 0;if(ct>=pt)return-1;if(_>=st)return 1;if(_>>>=0,st>>>=0,ct>>>=0,pt>>>=0,this===$)return 0;let yt=pt-ct,kt=st-_;const Jt=Math.min(yt,kt),qt=this.slice(ct,pt),xe=$.slice(_,st);for(let re=0;re<Jt;++re)if(qt[re]!==xe[re]){yt=qt[re],kt=xe[re];break}return yt<kt?-1:kt<yt?1:0};function p(nt,$,_,st,ct){if(nt.length===0)return-1;if(typeof _=="string"?(st=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,Bt(_)&&(_=ct?0:nt.length-1),_<0&&(_=nt.length+_),_>=nt.length){if(ct)return-1;_=nt.length-1}else if(_<0)if(ct)_=0;else return-1;if(typeof $=="string"&&($=x.from($,st)),x.isBuffer($))return $.length===0?-1:S(nt,$,_,st,ct);if(typeof $=="number")return $=$&255,typeof Uint8Array.prototype.indexOf=="function"?ct?Uint8Array.prototype.indexOf.call(nt,$,_):Uint8Array.prototype.lastIndexOf.call(nt,$,_):S(nt,[$],_,st,ct);throw new TypeError("val must be string, number or Buffer")}function S(nt,$,_,st,ct){let pt=1,yt=nt.length,kt=$.length;if(st!==void 0&&(st=String(st).toLowerCase(),st==="ucs2"||st==="ucs-2"||st==="utf16le"||st==="utf-16le")){if(nt.length<2||$.length<2)return-1;pt=2,yt/=2,kt/=2,_/=2}function Jt(xe,re){return pt===1?xe[re]:xe.readUInt16BE(re*pt)}let qt;if(ct){let xe=-1;for(qt=_;qt<yt;qt++)if(Jt(nt,qt)===Jt($,xe===-1?0:qt-xe)){if(xe===-1&&(xe=qt),qt-xe+1===kt)return xe*pt}else xe!==-1&&(qt-=qt-xe),xe=-1}else for(_+kt>yt&&(_=yt-kt),qt=_;qt>=0;qt--){let xe=!0;for(let re=0;re<kt;re++)if(Jt(nt,qt+re)!==Jt($,re)){xe=!1;break}if(xe)return qt}return-1}x.prototype.includes=function($,_,st){return this.indexOf($,_,st)!==-1},x.prototype.indexOf=function($,_,st){return p(this,$,_,st,!0)},x.prototype.lastIndexOf=function($,_,st){return p(this,$,_,st,!1)};function C(nt,$,_,st){_=Number(_)||0;const ct=nt.length-_;st?(st=Number(st),st>ct&&(st=ct)):st=ct;const pt=$.length;st>pt/2&&(st=pt/2);let yt;for(yt=0;yt<st;++yt){const kt=parseInt($.substr(yt*2,2),16);if(Bt(kt))return yt;nt[_+yt]=kt}return yt}function E(nt,$,_,st){return Gt(At($,nt.length-_),nt,_,st)}function R(nt,$,_,st){return Gt(gt($),nt,_,st)}function M(nt,$,_,st){return Gt(Ht($),nt,_,st)}function D(nt,$,_,st){return Gt(Wt($,nt.length-_),nt,_,st)}x.prototype.write=function($,_,st,ct){if(_===void 0)ct="utf8",st=this.length,_=0;else if(st===void 0&&typeof _=="string")ct=_,st=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(st)?(st=st>>>0,ct===void 0&&(ct="utf8")):(ct=st,st=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const pt=this.length-_;if((st===void 0||st>pt)&&(st=pt),$.length>0&&(st<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");ct||(ct="utf8");let yt=!1;for(;;)switch(ct){case"hex":return C(this,$,_,st);case"utf8":case"utf-8":return E(this,$,_,st);case"ascii":case"latin1":case"binary":return R(this,$,_,st);case"base64":return M(this,$,_,st);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,$,_,st);default:if(yt)throw new TypeError("Unknown encoding: "+ct);ct=(""+ct).toLowerCase(),yt=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(nt,$,_){return $===0&&_===nt.length?g.fromByteArray(nt):g.fromByteArray(nt.slice($,_))}function b(nt,$,_){_=Math.min(nt.length,_);const st=[];let ct=$;for(;ct<_;){const pt=nt[ct];let yt=null,kt=pt>239?4:pt>223?3:pt>191?2:1;if(ct+kt<=_){let Jt,qt,xe,re;switch(kt){case 1:pt<128&&(yt=pt);break;case 2:Jt=nt[ct+1],(Jt&192)===128&&(re=(pt&31)<<6|Jt&63,re>127&&(yt=re));break;case 3:Jt=nt[ct+1],qt=nt[ct+2],(Jt&192)===128&&(qt&192)===128&&(re=(pt&15)<<12|(Jt&63)<<6|qt&63,re>2047&&(re<55296||re>57343)&&(yt=re));break;case 4:Jt=nt[ct+1],qt=nt[ct+2],xe=nt[ct+3],(Jt&192)===128&&(qt&192)===128&&(xe&192)===128&&(re=(pt&15)<<18|(Jt&63)<<12|(qt&63)<<6|xe&63,re>65535&&re<1114112&&(yt=re))}}yt===null?(yt=65533,kt=1):yt>65535&&(yt-=65536,st.push(yt>>>10&1023|55296),yt=56320|yt&1023),st.push(yt),ct+=kt}return N(st)}const I=4096;function N(nt){const $=nt.length;if($<=I)return String.fromCharCode.apply(String,nt);let _="",st=0;for(;st<$;)_+=String.fromCharCode.apply(String,nt.slice(st,st+=I));return _}function z(nt,$,_){let st="";_=Math.min(nt.length,_);for(let ct=$;ct<_;++ct)st+=String.fromCharCode(nt[ct]&127);return st}function H(nt,$,_){let st="";_=Math.min(nt.length,_);for(let ct=$;ct<_;++ct)st+=String.fromCharCode(nt[ct]);return st}function X(nt,$,_){const st=nt.length;(!$||$<0)&&($=0),(!_||_<0||_>st)&&(_=st);let ct="";for(let pt=$;pt<_;++pt)ct+=Pt[nt[pt]];return ct}function W(nt,$,_){const st=nt.slice($,_);let ct="";for(let pt=0;pt<st.length-1;pt+=2)ct+=String.fromCharCode(st[pt]+st[pt+1]*256);return ct}x.prototype.slice=function($,_){const st=this.length;$=~~$,_=_===void 0?st:~~_,$<0?($+=st,$<0&&($=0)):$>st&&($=st),_<0?(_+=st,_<0&&(_=0)):_>st&&(_=st),_<$&&(_=$);const ct=this.subarray($,_);return Object.setPrototypeOf(ct,x.prototype),ct};function V(nt,$,_){if(nt%1!==0||nt<0)throw new RangeError("offset is not uint");if(nt+$>_)throw new RangeError("Trying to access beyond buffer length")}x.prototype.readUintLE=x.prototype.readUIntLE=function($,_,st){$=$>>>0,_=_>>>0,st||V($,_,this.length);let ct=this[$],pt=1,yt=0;for(;++yt<_&&(pt*=256);)ct+=this[$+yt]*pt;return ct},x.prototype.readUintBE=x.prototype.readUIntBE=function($,_,st){$=$>>>0,_=_>>>0,st||V($,_,this.length);let ct=this[$+--_],pt=1;for(;_>0&&(pt*=256);)ct+=this[$+--_]*pt;return ct},x.prototype.readUint8=x.prototype.readUInt8=function($,_){return $=$>>>0,_||V($,1,this.length),this[$]},x.prototype.readUint16LE=x.prototype.readUInt16LE=function($,_){return $=$>>>0,_||V($,2,this.length),this[$]|this[$+1]<<8},x.prototype.readUint16BE=x.prototype.readUInt16BE=function($,_){return $=$>>>0,_||V($,2,this.length),this[$]<<8|this[$+1]},x.prototype.readUint32LE=x.prototype.readUInt32LE=function($,_){return $=$>>>0,_||V($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+this[$+3]*16777216},x.prototype.readUint32BE=x.prototype.readUInt32BE=function($,_){return $=$>>>0,_||V($,4,this.length),this[$]*16777216+(this[$+1]<<16|this[$+2]<<8|this[$+3])},x.prototype.readBigUInt64LE=te(function($){$=$>>>0,ut($,"offset");const _=this[$],st=this[$+7];(_===void 0||st===void 0)&&dt($,this.length-8);const ct=_+this[++$]*2**8+this[++$]*2**16+this[++$]*2**24,pt=this[++$]+this[++$]*2**8+this[++$]*2**16+st*2**24;return BigInt(ct)+(BigInt(pt)<<BigInt(32))}),x.prototype.readBigUInt64BE=te(function($){$=$>>>0,ut($,"offset");const _=this[$],st=this[$+7];(_===void 0||st===void 0)&&dt($,this.length-8);const ct=_*2**24+this[++$]*2**16+this[++$]*2**8+this[++$],pt=this[++$]*2**24+this[++$]*2**16+this[++$]*2**8+st;return(BigInt(ct)<<BigInt(32))+BigInt(pt)}),x.prototype.readIntLE=function($,_,st){$=$>>>0,_=_>>>0,st||V($,_,this.length);let ct=this[$],pt=1,yt=0;for(;++yt<_&&(pt*=256);)ct+=this[$+yt]*pt;return pt*=128,ct>=pt&&(ct-=Math.pow(2,8*_)),ct},x.prototype.readIntBE=function($,_,st){$=$>>>0,_=_>>>0,st||V($,_,this.length);let ct=_,pt=1,yt=this[$+--ct];for(;ct>0&&(pt*=256);)yt+=this[$+--ct]*pt;return pt*=128,yt>=pt&&(yt-=Math.pow(2,8*_)),yt},x.prototype.readInt8=function($,_){return $=$>>>0,_||V($,1,this.length),this[$]&128?(255-this[$]+1)*-1:this[$]},x.prototype.readInt16LE=function($,_){$=$>>>0,_||V($,2,this.length);const st=this[$]|this[$+1]<<8;return st&32768?st|4294901760:st},x.prototype.readInt16BE=function($,_){$=$>>>0,_||V($,2,this.length);const st=this[$+1]|this[$]<<8;return st&32768?st|4294901760:st},x.prototype.readInt32LE=function($,_){return $=$>>>0,_||V($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},x.prototype.readInt32BE=function($,_){return $=$>>>0,_||V($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},x.prototype.readBigInt64LE=te(function($){$=$>>>0,ut($,"offset");const _=this[$],st=this[$+7];(_===void 0||st===void 0)&&dt($,this.length-8);const ct=this[$+4]+this[$+5]*2**8+this[$+6]*2**16+(st<<24);return(BigInt(ct)<<BigInt(32))+BigInt(_+this[++$]*2**8+this[++$]*2**16+this[++$]*2**24)}),x.prototype.readBigInt64BE=te(function($){$=$>>>0,ut($,"offset");const _=this[$],st=this[$+7];(_===void 0||st===void 0)&&dt($,this.length-8);const ct=(_<<24)+this[++$]*2**16+this[++$]*2**8+this[++$];return(BigInt(ct)<<BigInt(32))+BigInt(this[++$]*2**24+this[++$]*2**16+this[++$]*2**8+st)}),x.prototype.readFloatLE=function($,_){return $=$>>>0,_||V($,4,this.length),m.read(this,$,!0,23,4)},x.prototype.readFloatBE=function($,_){return $=$>>>0,_||V($,4,this.length),m.read(this,$,!1,23,4)},x.prototype.readDoubleLE=function($,_){return $=$>>>0,_||V($,8,this.length),m.read(this,$,!0,52,8)},x.prototype.readDoubleBE=function($,_){return $=$>>>0,_||V($,8,this.length),m.read(this,$,!1,52,8)};function U(nt,$,_,st,ct,pt){if(!x.isBuffer(nt))throw new TypeError('"buffer" argument must be a Buffer instance');if($>ct||$<pt)throw new RangeError('"value" argument is out of bounds');if(_+st>nt.length)throw new RangeError("Index out of range")}x.prototype.writeUintLE=x.prototype.writeUIntLE=function($,_,st,ct){if($=+$,_=_>>>0,st=st>>>0,!ct){const kt=Math.pow(2,8*st)-1;U(this,$,_,st,kt,0)}let pt=1,yt=0;for(this[_]=$&255;++yt<st&&(pt*=256);)this[_+yt]=$/pt&255;return _+st},x.prototype.writeUintBE=x.prototype.writeUIntBE=function($,_,st,ct){if($=+$,_=_>>>0,st=st>>>0,!ct){const kt=Math.pow(2,8*st)-1;U(this,$,_,st,kt,0)}let pt=st-1,yt=1;for(this[_+pt]=$&255;--pt>=0&&(yt*=256);)this[_+pt]=$/yt&255;return _+st},x.prototype.writeUint8=x.prototype.writeUInt8=function($,_,st){return $=+$,_=_>>>0,st||U(this,$,_,1,255,0),this[_]=$&255,_+1},x.prototype.writeUint16LE=x.prototype.writeUInt16LE=function($,_,st){return $=+$,_=_>>>0,st||U(this,$,_,2,65535,0),this[_]=$&255,this[_+1]=$>>>8,_+2},x.prototype.writeUint16BE=x.prototype.writeUInt16BE=function($,_,st){return $=+$,_=_>>>0,st||U(this,$,_,2,65535,0),this[_]=$>>>8,this[_+1]=$&255,_+2},x.prototype.writeUint32LE=x.prototype.writeUInt32LE=function($,_,st){return $=+$,_=_>>>0,st||U(this,$,_,4,4294967295,0),this[_+3]=$>>>24,this[_+2]=$>>>16,this[_+1]=$>>>8,this[_]=$&255,_+4},x.prototype.writeUint32BE=x.prototype.writeUInt32BE=function($,_,st){return $=+$,_=_>>>0,st||U(this,$,_,4,4294967295,0),this[_]=$>>>24,this[_+1]=$>>>16,this[_+2]=$>>>8,this[_+3]=$&255,_+4};function F(nt,$,_,st,ct){at($,st,ct,nt,_,7);let pt=Number($&BigInt(4294967295));nt[_++]=pt,pt=pt>>8,nt[_++]=pt,pt=pt>>8,nt[_++]=pt,pt=pt>>8,nt[_++]=pt;let yt=Number($>>BigInt(32)&BigInt(4294967295));return nt[_++]=yt,yt=yt>>8,nt[_++]=yt,yt=yt>>8,nt[_++]=yt,yt=yt>>8,nt[_++]=yt,_}function k(nt,$,_,st,ct){at($,st,ct,nt,_,7);let pt=Number($&BigInt(4294967295));nt[_+7]=pt,pt=pt>>8,nt[_+6]=pt,pt=pt>>8,nt[_+5]=pt,pt=pt>>8,nt[_+4]=pt;let yt=Number($>>BigInt(32)&BigInt(4294967295));return nt[_+3]=yt,yt=yt>>8,nt[_+2]=yt,yt=yt>>8,nt[_+1]=yt,yt=yt>>8,nt[_]=yt,_+8}x.prototype.writeBigUInt64LE=te(function($,_=0){return F(this,$,_,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeBigUInt64BE=te(function($,_=0){return k(this,$,_,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeIntLE=function($,_,st,ct){if($=+$,_=_>>>0,!ct){const Jt=Math.pow(2,8*st-1);U(this,$,_,st,Jt-1,-Jt)}let pt=0,yt=1,kt=0;for(this[_]=$&255;++pt<st&&(yt*=256);)$<0&&kt===0&&this[_+pt-1]!==0&&(kt=1),this[_+pt]=($/yt>>0)-kt&255;return _+st},x.prototype.writeIntBE=function($,_,st,ct){if($=+$,_=_>>>0,!ct){const Jt=Math.pow(2,8*st-1);U(this,$,_,st,Jt-1,-Jt)}let pt=st-1,yt=1,kt=0;for(this[_+pt]=$&255;--pt>=0&&(yt*=256);)$<0&&kt===0&&this[_+pt+1]!==0&&(kt=1),this[_+pt]=($/yt>>0)-kt&255;return _+st},x.prototype.writeInt8=function($,_,st){return $=+$,_=_>>>0,st||U(this,$,_,1,127,-128),$<0&&($=255+$+1),this[_]=$&255,_+1},x.prototype.writeInt16LE=function($,_,st){return $=+$,_=_>>>0,st||U(this,$,_,2,32767,-32768),this[_]=$&255,this[_+1]=$>>>8,_+2},x.prototype.writeInt16BE=function($,_,st){return $=+$,_=_>>>0,st||U(this,$,_,2,32767,-32768),this[_]=$>>>8,this[_+1]=$&255,_+2},x.prototype.writeInt32LE=function($,_,st){return $=+$,_=_>>>0,st||U(this,$,_,4,2147483647,-2147483648),this[_]=$&255,this[_+1]=$>>>8,this[_+2]=$>>>16,this[_+3]=$>>>24,_+4},x.prototype.writeInt32BE=function($,_,st){return $=+$,_=_>>>0,st||U(this,$,_,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),this[_]=$>>>24,this[_+1]=$>>>16,this[_+2]=$>>>8,this[_+3]=$&255,_+4},x.prototype.writeBigInt64LE=te(function($,_=0){return F(this,$,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),x.prototype.writeBigInt64BE=te(function($,_=0){return k(this,$,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Y(nt,$,_,st,ct,pt){if(_+st>nt.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function Z(nt,$,_,st,ct){return $=+$,_=_>>>0,ct||Y(nt,$,_,4),m.write(nt,$,_,st,23,4),_+4}x.prototype.writeFloatLE=function($,_,st){return Z(this,$,_,!0,st)},x.prototype.writeFloatBE=function($,_,st){return Z(this,$,_,!1,st)};function j(nt,$,_,st,ct){return $=+$,_=_>>>0,ct||Y(nt,$,_,8),m.write(nt,$,_,st,52,8),_+8}x.prototype.writeDoubleLE=function($,_,st){return j(this,$,_,!0,st)},x.prototype.writeDoubleBE=function($,_,st){return j(this,$,_,!1,st)},x.prototype.copy=function($,_,st,ct){if(!x.isBuffer($))throw new TypeError("argument should be a Buffer");if(st||(st=0),!ct&&ct!==0&&(ct=this.length),_>=$.length&&(_=$.length),_||(_=0),ct>0&&ct<st&&(ct=st),ct===st||$.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(st<0||st>=this.length)throw new RangeError("Index out of range");if(ct<0)throw new RangeError("sourceEnd out of bounds");ct>this.length&&(ct=this.length),$.length-_<ct-st&&(ct=$.length-_+st);const pt=ct-st;return this===$&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,st,ct):Uint8Array.prototype.set.call($,this.subarray(st,ct),_),pt},x.prototype.fill=function($,_,st,ct){if(typeof $=="string"){if(typeof _=="string"?(ct=_,_=0,st=this.length):typeof st=="string"&&(ct=st,st=this.length),ct!==void 0&&typeof ct!="string")throw new TypeError("encoding must be a string");if(typeof ct=="string"&&!x.isEncoding(ct))throw new TypeError("Unknown encoding: "+ct);if($.length===1){const yt=$.charCodeAt(0);(ct==="utf8"&&yt<128||ct==="latin1")&&($=yt)}}else typeof $=="number"?$=$&255:typeof $=="boolean"&&($=Number($));if(_<0||this.length<_||this.length<st)throw new RangeError("Out of range index");if(st<=_)return this;_=_>>>0,st=st===void 0?this.length:st>>>0,$||($=0);let pt;if(typeof $=="number")for(pt=_;pt<st;++pt)this[pt]=$;else{const yt=x.isBuffer($)?$:x.from($,ct),kt=yt.length;if(kt===0)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(pt=0;pt<st-_;++pt)this[pt+_]=yt[pt%kt]}return this};const J={};function q(nt,$,_){J[nt]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:$.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${nt}]`,this.stack,delete this.name}get code(){return nt}set code(ct){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ct,writable:!0})}toString(){return`${this.name} [${nt}]: ${this.message}`}}}q("ERR_BUFFER_OUT_OF_BOUNDS",function(nt){return nt?`${nt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function(nt,$){return`The "${nt}" argument must be of type number. Received type ${typeof $}`},TypeError),q("ERR_OUT_OF_RANGE",function(nt,$,_){let st=`The value of "${nt}" is out of range.`,ct=_;return Number.isInteger(_)&&Math.abs(_)>2**32?ct=et(String(_)):typeof _=="bigint"&&(ct=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(ct=et(ct)),ct+="n"),st+=` It must be ${$}. Received ${ct}`,st},RangeError);function et(nt){let $="",_=nt.length;const st=nt[0]==="-"?1:0;for(;_>=st+4;_-=3)$=`_${nt.slice(_-3,_)}${$}`;return`${nt.slice(0,_)}${$}`}function it(nt,$,_){ut($,"offset"),(nt[$]===void 0||nt[$+_]===void 0)&&dt($,nt.length-(_+1))}function at(nt,$,_,st,ct,pt){if(nt>_||nt<$){const yt=typeof $=="bigint"?"n":"";let kt;throw $===0||$===BigInt(0)?kt=`>= 0${yt} and < 2${yt} ** ${(pt+1)*8}${yt}`:kt=`>= -(2${yt} ** ${(pt+1)*8-1}${yt}) and < 2 ** ${(pt+1)*8-1}${yt}`,new J.ERR_OUT_OF_RANGE("value",kt,nt)}it(st,ct,pt)}function ut(nt,$){if(typeof nt!="number")throw new J.ERR_INVALID_ARG_TYPE($,"number",nt)}function dt(nt,$,_){throw Math.floor(nt)!==nt?(ut(nt,_),new J.ERR_OUT_OF_RANGE("offset","an integer",nt)):$<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${$}`,nt)}const ft=/[^+/0-9A-Za-z-_]/g;function xt(nt){if(nt=nt.split("=")[0],nt=nt.trim().replace(ft,""),nt.length<2)return"";for(;nt.length%4!==0;)nt=nt+"=";return nt}function At(nt,$){$=$||1/0;let _;const st=nt.length;let ct=null;const pt=[];for(let yt=0;yt<st;++yt){if(_=nt.charCodeAt(yt),_>55295&&_<57344){if(!ct){if(_>56319){($-=3)>-1&&pt.push(239,191,189);continue}else if(yt+1===st){($-=3)>-1&&pt.push(239,191,189);continue}ct=_;continue}if(_<56320){($-=3)>-1&&pt.push(239,191,189),ct=_;continue}_=(ct-55296<<10|_-56320)+65536}else ct&&($-=3)>-1&&pt.push(239,191,189);if(ct=null,_<128){if(($-=1)<0)break;pt.push(_)}else if(_<2048){if(($-=2)<0)break;pt.push(_>>6|192,_&63|128)}else if(_<65536){if(($-=3)<0)break;pt.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if(($-=4)<0)break;pt.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return pt}function gt(nt){const $=[];for(let _=0;_<nt.length;++_)$.push(nt.charCodeAt(_)&255);return $}function Wt(nt,$){let _,st,ct;const pt=[];for(let yt=0;yt<nt.length&&!(($-=2)<0);++yt)_=nt.charCodeAt(yt),st=_>>8,ct=_%256,pt.push(ct),pt.push(st);return pt}function Ht(nt){return g.toByteArray(xt(nt))}function Gt(nt,$,_,st){let ct;for(ct=0;ct<st&&!(ct+_>=$.length||ct>=nt.length);++ct)$[ct+_]=nt[ct];return ct}function Ot(nt,$){return nt instanceof $||nt!=null&&nt.constructor!=null&&nt.constructor.name!=null&&nt.constructor.name===$.name}function Bt(nt){return nt!==nt}const Pt=(function(){const nt="0123456789abcdef",$=new Array(256);for(let _=0;_<16;++_){const st=_*16;for(let ct=0;ct<16;++ct)$[st+ct]=nt[_]+nt[ct]}return $})();function te(nt){return typeof BigInt>"u"?_t:nt}function _t(){throw new Error("BigInt not supported")}})(B0)),B0}var ie=tg();const al=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function fh(A){return A instanceof Uint8Array||ArrayBuffer.isView(A)&&A.constructor.name==="Uint8Array"}function _u(A){if(!Number.isSafeInteger(A)||A<0)throw new Error("positive integer expected, got "+A)}function Ls(A,...g){if(!fh(A))throw new Error("Uint8Array expected");if(g.length>0&&!g.includes(A.length))throw new Error("Uint8Array expected of length "+g+", got length="+A.length)}function Xw(A){if(typeof A!="function"||typeof A.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");_u(A.outputLen),_u(A.blockLen)}function Ol(A,g=!0){if(A.destroyed)throw new Error("Hash instance has been destroyed");if(g&&A.finished)throw new Error("Hash#digest() has already been called")}function kw(A,g){Ls(A);const m=g.outputLen;if(A.length<m)throw new Error("digestInto() expects output buffer of length at least "+m)}function VO(A){return new Uint32Array(A.buffer,A.byteOffset,Math.floor(A.byteLength/4))}function wa(...A){for(let g=0;g<A.length;g++)A[g].fill(0)}function F0(A){return new DataView(A.buffer,A.byteOffset,A.byteLength)}function Dr(A,g){return A<<32-g|A>>>g}const HO=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function YO(A){return A<<24&4278190080|A<<8&16711680|A>>>8&65280|A>>>24&255}function WO(A){for(let g=0;g<A.length;g++)A[g]=YO(A[g]);return A}const FT=HO?A=>A:WO,jw=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",XO=Array.from({length:256},(A,g)=>g.toString(16).padStart(2,"0"));function fo(A){if(Ls(A),jw)return A.toHex();let g="";for(let m=0;m<A.length;m++)g+=XO[A[m]];return g}const cs={_0:48,_9:57,A:65,F:70,a:97,f:102};function UT(A){if(A>=cs._0&&A<=cs._9)return A-cs._0;if(A>=cs.A&&A<=cs.F)return A-(cs.A-10);if(A>=cs.a&&A<=cs.f)return A-(cs.a-10)}function Mc(A){if(typeof A!="string")throw new Error("hex string expected, got "+typeof A);if(jw)return Uint8Array.fromHex(A);const g=A.length,m=g/2;if(g%2)throw new Error("hex string expected, got unpadded hex of length "+g);const T=new Uint8Array(m);for(let O=0,L=0;O<m;O++,L+=2){const h=UT(A.charCodeAt(L)),x=UT(A.charCodeAt(L+1));if(h===void 0||x===void 0){const t=A[L]+A[L+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+L)}T[O]=h*16+x}return T}function kO(A){if(typeof A!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(A))}function Qc(A){return typeof A=="string"&&(A=kO(A)),Ls(A),A}function Gr(...A){let g=0;for(let T=0;T<A.length;T++){const O=A[T];Ls(O),g+=O.length}const m=new Uint8Array(g);for(let T=0,O=0;T<A.length;T++){const L=A[T];m.set(L,O),O+=L.length}return m}class eg{}function ig(A){const g=T=>A().update(Qc(T)).digest(),m=A();return g.outputLen=m.outputLen,g.blockLen=m.blockLen,g.create=()=>A(),g}function ng(A=32){if(al&&typeof al.getRandomValues=="function")return al.getRandomValues(new Uint8Array(A));if(al&&typeof al.randomBytes=="function")return Uint8Array.from(al.randomBytes(A));throw new Error("crypto.getRandomValues must be defined")}function jO(A,g,m,T){if(typeof A.setBigUint64=="function")return A.setBigUint64(g,m,T);const O=BigInt(32),L=BigInt(4294967295),h=Number(m>>O&L),x=Number(m&L),t=T?4:0,o=T?0:4;A.setUint32(g+t,h,T),A.setUint32(g+o,x,T)}function KO(A,g,m){return A&g^~A&m}function ZO(A,g,m){return A&g^A&m^g&m}class Kw extends eg{constructor(g,m,T,O){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=g,this.outputLen=m,this.padOffset=T,this.isLE=O,this.buffer=new Uint8Array(g),this.view=F0(this.buffer)}update(g){Ol(this),g=Qc(g),Ls(g);const{view:m,buffer:T,blockLen:O}=this,L=g.length;for(let h=0;h<L;){const x=Math.min(O-this.pos,L-h);if(x===O){const t=F0(g);for(;O<=L-h;h+=O)this.process(t,h);continue}T.set(g.subarray(h,h+x),this.pos),this.pos+=x,h+=x,this.pos===O&&(this.process(m,0),this.pos=0)}return this.length+=g.length,this.roundClean(),this}digestInto(g){Ol(this),kw(g,this),this.finished=!0;const{buffer:m,view:T,blockLen:O,isLE:L}=this;let{pos:h}=this;m[h++]=128,wa(this.buffer.subarray(h)),this.padOffset>O-h&&(this.process(T,0),h=0);for(let r=h;r<O;r++)m[r]=0;jO(T,O-8,BigInt(this.length*8),L),this.process(T,0);const x=F0(g),t=this.outputLen;if(t%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const o=t/4,v=this.get();if(o>v.length)throw new Error("_sha2: outputLen bigger than state");for(let r=0;r<o;r++)x.setUint32(4*r,v[r],L)}digest(){const{buffer:g,outputLen:m}=this;this.digestInto(g);const T=g.slice(0,m);return this.destroy(),T}_cloneInto(g){g||(g=new this.constructor),g.set(...this.get());const{blockLen:m,buffer:T,length:O,finished:L,destroyed:h,pos:x}=this;return g.destroyed=h,g.finished=L,g.length=O,g.pos=x,O%m&&g.buffer.set(T),g}clone(){return this._cloneInto()}}const oa=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Ff=BigInt(2**32-1),zT=BigInt(32);function QO(A,g=!1){return g?{h:Number(A&Ff),l:Number(A>>zT&Ff)}:{h:Number(A>>zT&Ff)|0,l:Number(A&Ff)|0}}function Zw(A,g=!1){const m=A.length;let T=new Uint32Array(m),O=new Uint32Array(m);for(let L=0;L<m;L++){const{h,l:x}=QO(A[L],g);[T[L],O[L]]=[h,x]}return[T,O]}const GT=(A,g,m)=>A>>>m,VT=(A,g,m)=>A<<32-m|g>>>m,ol=(A,g,m)=>A>>>m|g<<32-m,ll=(A,g,m)=>A<<32-m|g>>>m,Uf=(A,g,m)=>A<<64-m|g>>>m-32,zf=(A,g,m)=>A>>>m-32|g<<64-m,JO=(A,g,m)=>A<<m|g>>>32-m,$O=(A,g,m)=>g<<m|A>>>32-m,qO=(A,g,m)=>g<<m-32|A>>>64-m,_O=(A,g,m)=>A<<m-32|g>>>64-m;function ds(A,g,m,T){const O=(g>>>0)+(T>>>0);return{h:A+m+(O/2**32|0)|0,l:O|0}}const tb=(A,g,m)=>(A>>>0)+(g>>>0)+(m>>>0),eb=(A,g,m,T)=>g+m+T+(A/2**32|0)|0,ib=(A,g,m,T)=>(A>>>0)+(g>>>0)+(m>>>0)+(T>>>0),nb=(A,g,m,T,O)=>g+m+T+O+(A/2**32|0)|0,rb=(A,g,m,T,O)=>(A>>>0)+(g>>>0)+(m>>>0)+(T>>>0)+(O>>>0),sb=(A,g,m,T,O,L)=>g+m+T+O+L+(A/2**32|0)|0,ab=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),la=new Uint32Array(64);class ob extends Kw{constructor(g=32){super(64,g,8,!1),this.A=oa[0]|0,this.B=oa[1]|0,this.C=oa[2]|0,this.D=oa[3]|0,this.E=oa[4]|0,this.F=oa[5]|0,this.G=oa[6]|0,this.H=oa[7]|0}get(){const{A:g,B:m,C:T,D:O,E:L,F:h,G:x,H:t}=this;return[g,m,T,O,L,h,x,t]}set(g,m,T,O,L,h,x,t){this.A=g|0,this.B=m|0,this.C=T|0,this.D=O|0,this.E=L|0,this.F=h|0,this.G=x|0,this.H=t|0}process(g,m){for(let r=0;r<16;r++,m+=4)la[r]=g.getUint32(m,!1);for(let r=16;r<64;r++){const n=la[r-15],i=la[r-2],e=Dr(n,7)^Dr(n,18)^n>>>3,a=Dr(i,17)^Dr(i,19)^i>>>10;la[r]=a+la[r-7]+e+la[r-16]|0}let{A:T,B:O,C:L,D:h,E:x,F:t,G:o,H:v}=this;for(let r=0;r<64;r++){const n=Dr(x,6)^Dr(x,11)^Dr(x,25),i=v+n+KO(x,t,o)+ab[r]+la[r]|0,a=(Dr(T,2)^Dr(T,13)^Dr(T,22))+ZO(T,O,L)|0;v=o,o=t,t=x,x=h+i|0,h=L,L=O,O=T,T=i+a|0}T=T+this.A|0,O=O+this.B|0,L=L+this.C|0,h=h+this.D|0,x=x+this.E|0,t=t+this.F|0,o=o+this.G|0,v=v+this.H|0,this.set(T,O,L,h,x,t,o,v)}roundClean(){wa(la)}destroy(){this.set(0,0,0,0,0,0,0,0),wa(this.buffer)}}const Qw=Zw(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(A=>BigInt(A))),lb=Qw[0],ub=Qw[1],ua=new Uint32Array(80),ha=new Uint32Array(80);class hb extends Kw{constructor(g=64){super(128,g,16,!1),this.Ah=fn[0]|0,this.Al=fn[1]|0,this.Bh=fn[2]|0,this.Bl=fn[3]|0,this.Ch=fn[4]|0,this.Cl=fn[5]|0,this.Dh=fn[6]|0,this.Dl=fn[7]|0,this.Eh=fn[8]|0,this.El=fn[9]|0,this.Fh=fn[10]|0,this.Fl=fn[11]|0,this.Gh=fn[12]|0,this.Gl=fn[13]|0,this.Hh=fn[14]|0,this.Hl=fn[15]|0}get(){const{Ah:g,Al:m,Bh:T,Bl:O,Ch:L,Cl:h,Dh:x,Dl:t,Eh:o,El:v,Fh:r,Fl:n,Gh:i,Gl:e,Hh:a,Hl:l}=this;return[g,m,T,O,L,h,x,t,o,v,r,n,i,e,a,l]}set(g,m,T,O,L,h,x,t,o,v,r,n,i,e,a,l){this.Ah=g|0,this.Al=m|0,this.Bh=T|0,this.Bl=O|0,this.Ch=L|0,this.Cl=h|0,this.Dh=x|0,this.Dl=t|0,this.Eh=o|0,this.El=v|0,this.Fh=r|0,this.Fl=n|0,this.Gh=i|0,this.Gl=e|0,this.Hh=a|0,this.Hl=l|0}process(g,m){for(let f=0;f<16;f++,m+=4)ua[f]=g.getUint32(m),ha[f]=g.getUint32(m+=4);for(let f=16;f<80;f++){const c=ua[f-15]|0,d=ha[f-15]|0,p=ol(c,d,1)^ol(c,d,8)^GT(c,d,7),S=ll(c,d,1)^ll(c,d,8)^VT(c,d,7),C=ua[f-2]|0,E=ha[f-2]|0,R=ol(C,E,19)^Uf(C,E,61)^GT(C,E,6),M=ll(C,E,19)^zf(C,E,61)^VT(C,E,6),D=ib(S,M,ha[f-7],ha[f-16]),B=nb(D,p,R,ua[f-7],ua[f-16]);ua[f]=B|0,ha[f]=D|0}let{Ah:T,Al:O,Bh:L,Bl:h,Ch:x,Cl:t,Dh:o,Dl:v,Eh:r,El:n,Fh:i,Fl:e,Gh:a,Gl:l,Hh:s,Hl:u}=this;for(let f=0;f<80;f++){const c=ol(r,n,14)^ol(r,n,18)^Uf(r,n,41),d=ll(r,n,14)^ll(r,n,18)^zf(r,n,41),p=r&i^~r&a,S=n&e^~n&l,C=rb(u,d,S,ub[f],ha[f]),E=sb(C,s,c,p,lb[f],ua[f]),R=C|0,M=ol(T,O,28)^Uf(T,O,34)^Uf(T,O,39),D=ll(T,O,28)^zf(T,O,34)^zf(T,O,39),B=T&L^T&x^L&x,b=O&h^O&t^h&t;s=a|0,u=l|0,a=i|0,l=e|0,i=r|0,e=n|0,{h:r,l:n}=ds(o|0,v|0,E|0,R|0),o=x|0,v=t|0,x=L|0,t=h|0,L=T|0,h=O|0;const I=tb(R,D,b);T=eb(I,E,M,B),O=I|0}({h:T,l:O}=ds(this.Ah|0,this.Al|0,T|0,O|0)),{h:L,l:h}=ds(this.Bh|0,this.Bl|0,L|0,h|0),{h:x,l:t}=ds(this.Ch|0,this.Cl|0,x|0,t|0),{h:o,l:v}=ds(this.Dh|0,this.Dl|0,o|0,v|0),{h:r,l:n}=ds(this.Eh|0,this.El|0,r|0,n|0),{h:i,l:e}=ds(this.Fh|0,this.Fl|0,i|0,e|0),{h:a,l}=ds(this.Gh|0,this.Gl|0,a|0,l|0),{h:s,l:u}=ds(this.Hh|0,this.Hl|0,s|0,u|0),this.set(T,O,L,h,x,t,o,v,r,n,i,e,a,l,s,u)}roundClean(){wa(ua,ha)}destroy(){wa(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Jw=ig(()=>new ob),fb=ig(()=>new hb);const rg=BigInt(0),im=BigInt(1);function vo(A,g=""){if(typeof A!="boolean"){const m=g&&`"${g}"`;throw new Error(m+"expected boolean, got type="+typeof A)}return A}function Sr(A,g,m=""){const T=fh(A),O=A?.length,L=g!==void 0;if(!T||L&&O!==g){const h=m&&`"${m}" `,x=L?` of length ${g}`:"",t=T?`length=${O}`:`type=${typeof A}`;throw new Error(h+"expected Uint8Array"+x+", got "+t)}return A}function Gf(A){const g=A.toString(16);return g.length&1?"0"+g:g}function $w(A){if(typeof A!="string")throw new Error("hex string expected, got "+typeof A);return A===""?rg:BigInt("0x"+A)}function Jc(A){return $w(fo(A))}function th(A){return Ls(A),$w(fo(Uint8Array.from(A).reverse()))}function sg(A,g){return Mc(A.toString(16).padStart(g*2,"0"))}function qw(A,g){return sg(A,g).reverse()}function Oi(A,g,m){let T;if(typeof g=="string")try{T=Mc(g)}catch(L){throw new Error(A+" must be hex string or Uint8Array, cause: "+L)}else if(fh(g))T=Uint8Array.from(g);else throw new Error(A+" must be hex string or Uint8Array");const O=T.length;if(typeof m=="number"&&O!==m)throw new Error(A+" of length "+m+" expected, got "+O);return T}function HT(A){return Uint8Array.from(A)}const U0=A=>typeof A=="bigint"&&rg<=A;function cb(A,g,m){return U0(A)&&U0(g)&&U0(m)&&g<=A&&A<m}function nm(A,g,m,T){if(!cb(g,m,T))throw new Error("expected valid "+A+": "+m+" <= n < "+T+", got "+g)}function _w(A){let g;for(g=0;A>rg;A>>=im,g+=1);return g}const ch=A=>(im<<BigInt(A))-im;function db(A,g,m){if(typeof A!="number"||A<2)throw new Error("hashLen must be a number");if(typeof g!="number"||g<2)throw new Error("qByteLen must be a number");if(typeof m!="function")throw new Error("hmacFn must be a function");const T=i=>new Uint8Array(i),O=i=>Uint8Array.of(i);let L=T(A),h=T(A),x=0;const t=()=>{L.fill(1),h.fill(0),x=0},o=(...i)=>m(h,L,...i),v=(i=T(0))=>{h=o(O(0),i),L=o(),i.length!==0&&(h=o(O(1),i),L=o())},r=()=>{if(x++>=1e3)throw new Error("drbg: tried 1000 values");let i=0;const e=[];for(;i<g;){L=o();const a=L.slice();e.push(a),i+=L.length}return Gr(...e)};return(i,e)=>{t(),v(i);let a;for(;!(a=e(r()));)v();return t(),a}}function dh(A,g,m={}){if(!A||typeof A!="object")throw new Error("expected valid options object");function T(O,L,h){const x=A[O];if(h&&x===void 0)return;const t=typeof x;if(t!==L||x===null)throw new Error(`param "${O}" is invalid: expected ${L}, got ${t}`)}Object.entries(g).forEach(([O,L])=>T(O,L,!1)),Object.entries(m).forEach(([O,L])=>T(O,L,!0))}function Oc(A){const g=new WeakMap;return(m,...T)=>{const O=g.get(m);if(O!==void 0)return O;const L=A(m,...T);return g.set(m,L),L}}const Nn=BigInt(0),on=BigInt(1),_a=BigInt(2),tA=BigInt(3),eA=BigInt(4),iA=BigInt(5),vb=BigInt(7),nA=BigInt(8),pb=BigInt(9),rA=BigInt(16);function Hi(A,g){const m=A%g;return m>=Nn?m:g+m}function Mi(A,g,m){let T=A;for(;g-- >Nn;)T*=T,T%=m;return T}function YT(A,g){if(A===Nn)throw new Error("invert: expected non-zero number");if(g<=Nn)throw new Error("invert: expected positive modulus, got "+g);let m=Hi(A,g),T=g,O=Nn,L=on;for(;m!==Nn;){const x=T/m,t=T%m,o=O-L*x;T=m,m=t,O=L,L=o}if(T!==on)throw new Error("invert: does not exist");return Hi(O,g)}function ag(A,g,m){if(!A.eql(A.sqr(g),m))throw new Error("Cannot find square root")}function sA(A,g){const m=(A.ORDER+on)/eA,T=A.pow(g,m);return ag(A,T,g),T}function mb(A,g){const m=(A.ORDER-iA)/nA,T=A.mul(g,_a),O=A.pow(T,m),L=A.mul(g,O),h=A.mul(A.mul(L,_a),O),x=A.mul(L,A.sub(h,A.ONE));return ag(A,x,g),x}function gb(A){const g=So(A),m=aA(A),T=m(g,g.neg(g.ONE)),O=m(g,T),L=m(g,g.neg(T)),h=(A+vb)/rA;return(x,t)=>{let o=x.pow(t,h),v=x.mul(o,T);const r=x.mul(o,O),n=x.mul(o,L),i=x.eql(x.sqr(v),t),e=x.eql(x.sqr(r),t);o=x.cmov(o,v,i),v=x.cmov(n,r,e);const a=x.eql(x.sqr(v),t),l=x.cmov(o,v,a);return ag(x,l,t),l}}function aA(A){if(A<tA)throw new Error("sqrt is not defined for small field");let g=A-on,m=0;for(;g%_a===Nn;)g/=_a,m++;let T=_a;const O=So(A);for(;WT(O,T)===1;)if(T++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(m===1)return sA;let L=O.pow(T,g);const h=(g+on)/_a;return function(t,o){if(t.is0(o))return o;if(WT(t,o)!==1)throw new Error("Cannot find square root");let v=m,r=t.mul(t.ONE,L),n=t.pow(o,g),i=t.pow(o,h);for(;!t.eql(n,t.ONE);){if(t.is0(n))return t.ZERO;let e=1,a=t.sqr(n);for(;!t.eql(a,t.ONE);)if(e++,a=t.sqr(a),e===v)throw new Error("Cannot find square root");const l=on<<BigInt(v-e-1),s=t.pow(r,l);v=e,r=t.sqr(s),n=t.mul(n,r),i=t.mul(i,s)}return i}}function yb(A){return A%eA===tA?sA:A%nA===iA?mb:A%rA===pb?gb(A):aA(A)}const xb=(A,g)=>(Hi(A,g)&on)===on,Tb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Sb(A){const g={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},m=Tb.reduce((T,O)=>(T[O]="function",T),g);return dh(A,m),A}function Eb(A,g,m){if(m<Nn)throw new Error("invalid exponent, negatives unsupported");if(m===Nn)return A.ONE;if(m===on)return g;let T=A.ONE,O=g;for(;m>Nn;)m&on&&(T=A.mul(T,O)),O=A.sqr(O),m>>=on;return T}function oA(A,g,m=!1){const T=new Array(g.length).fill(m?A.ZERO:void 0),O=g.reduce((h,x,t)=>A.is0(x)?h:(T[t]=h,A.mul(h,x)),A.ONE),L=A.inv(O);return g.reduceRight((h,x,t)=>A.is0(x)?h:(T[t]=A.mul(h,T[t]),A.mul(h,x)),L),T}function WT(A,g){const m=(A.ORDER-on)/_a,T=A.pow(g,m),O=A.eql(T,A.ONE),L=A.eql(T,A.ZERO),h=A.eql(T,A.neg(A.ONE));if(!O&&!L&&!h)throw new Error("invalid Legendre symbol result");return O?1:L?0:-1}function lA(A,g){g!==void 0&&_u(g);const m=g!==void 0?g:A.toString(2).length,T=Math.ceil(m/8);return{nBitLength:m,nByteLength:T}}function So(A,g,m=!1,T={}){if(A<=Nn)throw new Error("invalid field: expected ORDER > 0, got "+A);let O,L,h=!1,x;if(typeof g=="object"&&g!=null){if(T.sqrt||m)throw new Error("cannot specify opts in two arguments");const n=g;n.BITS&&(O=n.BITS),n.sqrt&&(L=n.sqrt),typeof n.isLE=="boolean"&&(m=n.isLE),typeof n.modFromBytes=="boolean"&&(h=n.modFromBytes),x=n.allowedLengths}else typeof g=="number"&&(O=g),T.sqrt&&(L=T.sqrt);const{nBitLength:t,nByteLength:o}=lA(A,O);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let v;const r=Object.freeze({ORDER:A,isLE:m,BITS:t,BYTES:o,MASK:ch(t),ZERO:Nn,ONE:on,allowedLengths:x,create:n=>Hi(n,A),isValid:n=>{if(typeof n!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof n);return Nn<=n&&n<A},is0:n=>n===Nn,isValidNot0:n=>!r.is0(n)&&r.isValid(n),isOdd:n=>(n&on)===on,neg:n=>Hi(-n,A),eql:(n,i)=>n===i,sqr:n=>Hi(n*n,A),add:(n,i)=>Hi(n+i,A),sub:(n,i)=>Hi(n-i,A),mul:(n,i)=>Hi(n*i,A),pow:(n,i)=>Eb(r,n,i),div:(n,i)=>Hi(n*YT(i,A),A),sqrN:n=>n*n,addN:(n,i)=>n+i,subN:(n,i)=>n-i,mulN:(n,i)=>n*i,inv:n=>YT(n,A),sqrt:L||(n=>(v||(v=yb(A)),v(r,n))),toBytes:n=>m?qw(n,o):sg(n,o),fromBytes:(n,i=!0)=>{if(x){if(!x.includes(n.length)||n.length>o)throw new Error("Field.fromBytes: expected "+x+" bytes, got "+n.length);const a=new Uint8Array(o);a.set(n,m?0:a.length-n.length),n=a}if(n.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+n.length);let e=m?th(n):Jc(n);if(h&&(e=Hi(e,A)),!i&&!r.isValid(e))throw new Error("invalid field element: outside of range 0..ORDER");return e},invertBatch:n=>oA(r,n),cmov:(n,i,e)=>e?i:n});return Object.freeze(r)}function uA(A){if(typeof A!="bigint")throw new Error("field order must be bigint");const g=A.toString(2).length;return Math.ceil(g/8)}function hA(A){const g=uA(A);return g+Math.ceil(g/2)}function wb(A,g,m=!1){const T=A.length,O=uA(g),L=hA(g);if(T<16||T<L||T>1024)throw new Error("expected "+L+"-1024 bytes of input, got "+T);const h=m?th(A):Jc(A),x=Hi(h,g-on)+on;return m?qw(x,O):sg(x,O)}const bl=BigInt(0),to=BigInt(1);function bc(A,g){const m=g.negate();return A?m:g}function eo(A,g){const m=oA(A.Fp,g.map(T=>T.Z));return g.map((T,O)=>A.fromAffine(T.toAffine(m[O])))}function fA(A,g){if(!Number.isSafeInteger(A)||A<=0||A>g)throw new Error("invalid window size, expected [1.."+g+"], got W="+A)}function z0(A,g){fA(A,g);const m=Math.ceil(g/A)+1,T=2**(A-1),O=2**A,L=ch(A),h=BigInt(A);return{windows:m,windowSize:T,mask:L,maxNumber:O,shiftBy:h}}function XT(A,g,m){const{windowSize:T,mask:O,maxNumber:L,shiftBy:h}=m;let x=Number(A&O),t=A>>h;x>T&&(x-=L,t+=to);const o=g*T,v=o+Math.abs(x)-1,r=x===0,n=x<0,i=g%2!==0;return{nextN:t,offset:v,isZero:r,isNeg:n,isNegF:i,offsetF:o}}function Ab(A,g){if(!Array.isArray(A))throw new Error("array expected");A.forEach((m,T)=>{if(!(m instanceof g))throw new Error("invalid point at index "+T)})}function Cb(A,g){if(!Array.isArray(A))throw new Error("array of scalars expected");A.forEach((m,T)=>{if(!g.isValid(m))throw new Error("invalid scalar at index "+T)})}const G0=new WeakMap,cA=new WeakMap;function V0(A){return cA.get(A)||1}function kT(A){if(A!==bl)throw new Error("invalid wNAF")}class dA{constructor(g,m){this.BASE=g.BASE,this.ZERO=g.ZERO,this.Fn=g.Fn,this.bits=m}_unsafeLadder(g,m,T=this.ZERO){let O=g;for(;m>bl;)m&to&&(T=T.add(O)),O=O.double(),m>>=to;return T}precomputeWindow(g,m){const{windows:T,windowSize:O}=z0(m,this.bits),L=[];let h=g,x=h;for(let t=0;t<T;t++){x=h,L.push(x);for(let o=1;o<O;o++)x=x.add(h),L.push(x);h=x.double()}return L}wNAF(g,m,T){if(!this.Fn.isValid(T))throw new Error("invalid scalar");let O=this.ZERO,L=this.BASE;const h=z0(g,this.bits);for(let x=0;x<h.windows;x++){const{nextN:t,offset:o,isZero:v,isNeg:r,isNegF:n,offsetF:i}=XT(T,x,h);T=t,v?L=L.add(bc(n,m[i])):O=O.add(bc(r,m[o]))}return kT(T),{p:O,f:L}}wNAFUnsafe(g,m,T,O=this.ZERO){const L=z0(g,this.bits);for(let h=0;h<L.windows&&T!==bl;h++){const{nextN:x,offset:t,isZero:o,isNeg:v}=XT(T,h,L);if(T=x,!o){const r=m[t];O=O.add(v?r.negate():r)}}return kT(T),O}getPrecomputes(g,m,T){let O=G0.get(m);return O||(O=this.precomputeWindow(m,g),g!==1&&(typeof T=="function"&&(O=T(O)),G0.set(m,O))),O}cached(g,m,T){const O=V0(g);return this.wNAF(O,this.getPrecomputes(O,g,T),m)}unsafe(g,m,T,O){const L=V0(g);return L===1?this._unsafeLadder(g,m,O):this.wNAFUnsafe(L,this.getPrecomputes(L,g,T),m,O)}createCache(g,m){fA(m,this.bits),cA.set(g,m),G0.delete(g)}hasCache(g){return V0(g)!==1}}function Rb(A,g,m,T){let O=g,L=A.ZERO,h=A.ZERO;for(;m>bl||T>bl;)m&to&&(L=L.add(O)),T&to&&(h=h.add(O)),O=O.double(),m>>=to,T>>=to;return{p1:L,p2:h}}function vA(A,g,m,T){Ab(m,A),Cb(T,g);const O=m.length,L=T.length;if(O!==L)throw new Error("arrays of points and scalars must have equal length");const h=A.ZERO,x=_w(BigInt(O));let t=1;x>12?t=x-3:x>4?t=x-2:x>0&&(t=2);const o=ch(t),v=new Array(Number(o)+1).fill(h),r=Math.floor((g.BITS-1)/t)*t;let n=h;for(let i=r;i>=0;i-=t){v.fill(h);for(let a=0;a<L;a++){const l=T[a],s=Number(l>>BigInt(i)&o);v[s]=v[s].add(m[a])}let e=h;for(let a=v.length-1,l=h;a>0;a--)l=l.add(v[a]),e=e.add(l);if(n=n.add(e),i!==0)for(let a=0;a<t;a++)n=n.double()}return n}function jT(A,g,m){if(g){if(g.ORDER!==A)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Sb(g),g}else return So(A,{isLE:m})}function pA(A,g,m={},T){if(T===void 0&&(T=A==="edwards"),!g||typeof g!="object")throw new Error(`expected valid ${A} CURVE object`);for(const t of["p","n","h"]){const o=g[t];if(!(typeof o=="bigint"&&o>bl))throw new Error(`CURVE.${t} must be positive bigint`)}const O=jT(g.p,m.Fp,T),L=jT(g.n,m.Fn,T),x=["Gx","Gy","a",A==="weierstrass"?"b":"d"];for(const t of x)if(!O.isValid(g[t]))throw new Error(`CURVE.${t} must be valid field element of CURVE.Fp`);return g=Object.freeze(Object.assign({},g)),{CURVE:g,Fp:O,Fn:L}}const fa=BigInt(0),Ji=BigInt(1),H0=BigInt(2),Mb=BigInt(8);function Ob(A,g,m,T){const O=A.sqr(m),L=A.sqr(T),h=A.add(A.mul(g.a,O),L),x=A.add(A.ONE,A.mul(g.d,A.mul(O,L)));return A.eql(h,x)}function bb(A,g={}){const m=pA("edwards",A,g,g.FpFnLE),{Fp:T,Fn:O}=m;let L=m.CURVE;const{h}=L;dh(g,{},{uvRatio:"function"});const x=H0<<BigInt(O.BYTES*8)-Ji,t=l=>T.create(l),o=g.uvRatio||((l,s)=>{try{return{isValid:!0,value:T.sqrt(T.div(l,s))}}catch{return{isValid:!1,value:fa}}});if(!Ob(T,L,L.Gx,L.Gy))throw new Error("bad curve params: generator point");function v(l,s,u=!1){const f=u?Ji:fa;return nm("coordinate "+l,s,f,x),s}function r(l){if(!(l instanceof e))throw new Error("ExtendedPoint expected")}const n=Oc((l,s)=>{const{X:u,Y:f,Z:c}=l,d=l.is0();s==null&&(s=d?Mb:T.inv(c));const p=t(u*s),S=t(f*s),C=T.mul(c,s);if(d)return{x:fa,y:Ji};if(C!==Ji)throw new Error("invZ was invalid");return{x:p,y:S}}),i=Oc(l=>{const{a:s,d:u}=L;if(l.is0())throw new Error("bad point: ZERO");const{X:f,Y:c,Z:d,T:p}=l,S=t(f*f),C=t(c*c),E=t(d*d),R=t(E*E),M=t(S*s),D=t(E*t(M+C)),B=t(R+t(u*t(S*C)));if(D!==B)throw new Error("bad point: equation left != right (1)");const b=t(f*c),I=t(d*p);if(b!==I)throw new Error("bad point: equation left != right (2)");return!0});class e{constructor(s,u,f,c){this.X=v("x",s),this.Y=v("y",u),this.Z=v("z",f,!0),this.T=v("t",c),Object.freeze(this)}static CURVE(){return L}static fromAffine(s){if(s instanceof e)throw new Error("extended point not allowed");const{x:u,y:f}=s||{};return v("x",u),v("y",f),new e(u,f,Ji,t(u*f))}static fromBytes(s,u=!1){const f=T.BYTES,{a:c,d}=L;s=HT(Sr(s,f,"point")),vo(u,"zip215");const p=HT(s),S=s[f-1];p[f-1]=S&-129;const C=th(p),E=u?x:T.ORDER;nm("point.y",C,fa,E);const R=t(C*C),M=t(R-Ji),D=t(d*R-c);let{isValid:B,value:b}=o(M,D);if(!B)throw new Error("bad point: invalid y coordinate");const I=(b&Ji)===Ji,N=(S&128)!==0;if(!u&&b===fa&&N)throw new Error("bad point: x=0 and x_0=1");return N!==I&&(b=t(-b)),e.fromAffine({x:b,y:C})}static fromHex(s,u=!1){return e.fromBytes(Oi("point",s),u)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(s=8,u=!0){return a.createCache(this,s),u||this.multiply(H0),this}assertValidity(){i(this)}equals(s){r(s);const{X:u,Y:f,Z:c}=this,{X:d,Y:p,Z:S}=s,C=t(u*S),E=t(d*c),R=t(f*S),M=t(p*c);return C===E&&R===M}is0(){return this.equals(e.ZERO)}negate(){return new e(t(-this.X),this.Y,this.Z,t(-this.T))}double(){const{a:s}=L,{X:u,Y:f,Z:c}=this,d=t(u*u),p=t(f*f),S=t(H0*t(c*c)),C=t(s*d),E=u+f,R=t(t(E*E)-d-p),M=C+p,D=M-S,B=C-p,b=t(R*D),I=t(M*B),N=t(R*B),z=t(D*M);return new e(b,I,z,N)}add(s){r(s);const{a:u,d:f}=L,{X:c,Y:d,Z:p,T:S}=this,{X:C,Y:E,Z:R,T:M}=s,D=t(c*C),B=t(d*E),b=t(S*f*M),I=t(p*R),N=t((c+d)*(C+E)-D-B),z=I-b,H=I+b,X=t(B-u*D),W=t(N*z),V=t(H*X),U=t(N*X),F=t(z*H);return new e(W,V,F,U)}subtract(s){return this.add(s.negate())}multiply(s){if(!O.isValidNot0(s))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:u,f}=a.cached(this,s,c=>eo(e,c));return eo(e,[u,f])[0]}multiplyUnsafe(s,u=e.ZERO){if(!O.isValid(s))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return s===fa?e.ZERO:this.is0()||s===Ji?this:a.unsafe(this,s,f=>eo(e,f),u)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return a.unsafe(this,L.n).is0()}toAffine(s){return n(this,s)}clearCofactor(){return h===Ji?this:this.multiplyUnsafe(h)}toBytes(){const{x:s,y:u}=this.toAffine(),f=T.toBytes(u);return f[f.length-1]|=s&Ji?128:0,f}toHex(){return fo(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(s){return eo(e,s)}static msm(s,u){return vA(e,O,s,u)}_setWindowSize(s){this.precompute(s)}toRawBytes(){return this.toBytes()}}e.BASE=new e(L.Gx,L.Gy,Ji,t(L.Gx*L.Gy)),e.ZERO=new e(fa,Ji,Ji,fa),e.Fp=T,e.Fn=O;const a=new dA(e,O.BITS);return e.BASE.precompute(8),e}function Lb(A,g,m={}){if(typeof g!="function")throw new Error('"hash" function param is required');dh(m,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:T}=m,{BASE:O,Fp:L,Fn:h}=A,x=m.randomBytes||ng,t=m.adjustScalarBytes||(E=>E),o=m.domain||((E,R,M)=>{if(vo(M,"phflag"),R.length||M)throw new Error("Contexts/pre-hash are not supported");return E});function v(E){return h.create(th(E))}function r(E){const R=f.secretKey;E=Oi("private key",E,R);const M=Oi("hashed private key",g(E),2*R),D=t(M.slice(0,R)),B=M.slice(R,2*R),b=v(D);return{head:D,prefix:B,scalar:b}}function n(E){const{head:R,prefix:M,scalar:D}=r(E),B=O.multiply(D),b=B.toBytes();return{head:R,prefix:M,scalar:D,point:B,pointBytes:b}}function i(E){return n(E).pointBytes}function e(E=Uint8Array.of(),...R){const M=Gr(...R);return v(g(o(M,Oi("context",E),!!T)))}function a(E,R,M={}){E=Oi("message",E),T&&(E=T(E));const{prefix:D,scalar:B,pointBytes:b}=n(R),I=e(M.context,D,E),N=O.multiply(I).toBytes(),z=e(M.context,N,b,E),H=h.create(I+z*B);if(!h.isValid(H))throw new Error("sign failed: invalid s");const X=Gr(N,h.toBytes(H));return Sr(X,f.signature,"result")}const l={zip215:!0};function s(E,R,M,D=l){const{context:B,zip215:b}=D,I=f.signature;E=Oi("signature",E,I),R=Oi("message",R),M=Oi("publicKey",M,f.publicKey),b!==void 0&&vo(b,"zip215"),T&&(R=T(R));const N=I/2,z=E.subarray(0,N),H=th(E.subarray(N,I));let X,W,V;try{X=A.fromBytes(M,b),W=A.fromBytes(z,b),V=O.multiplyUnsafe(H)}catch{return!1}if(!b&&X.isSmallOrder())return!1;const U=e(B,W.toBytes(),X.toBytes(),R);return W.add(X.multiplyUnsafe(U)).subtract(V).clearCofactor().is0()}const u=L.BYTES,f={secretKey:u,publicKey:u,signature:2*u,seed:u};function c(E=x(f.seed)){return Sr(E,f.seed,"seed")}function d(E){const R=C.randomSecretKey(E);return{secretKey:R,publicKey:i(R)}}function p(E){return fh(E)&&E.length===h.BYTES}function S(E,R){try{return!!A.fromBytes(E,R)}catch{return!1}}const C={getExtendedPublicKey:n,randomSecretKey:c,isValidSecretKey:p,isValidPublicKey:S,toMontgomery(E){const{y:R}=A.fromBytes(E),M=f.publicKey,D=M===32;if(!D&&M!==57)throw new Error("only defined for 25519 and 448");const B=D?L.div(Ji+R,Ji-R):L.div(R-Ji,R+Ji);return L.toBytes(B)},toMontgomerySecret(E){const R=f.secretKey;Sr(E,R);const M=g(E.subarray(0,R));return t(M).subarray(0,R)},randomPrivateKey:c,precompute(E=8,R=A.BASE){return R.precompute(E,!1)}};return Object.freeze({keygen:d,getPublicKey:i,sign:a,verify:s,utils:C,Point:A,lengths:f})}function Ib(A){const g={a:A.a,d:A.d,p:A.Fp.ORDER,n:A.n,h:A.h,Gx:A.Gx,Gy:A.Gy},m=A.Fp,T=So(g.n,A.nBitLength,!0),O={Fp:m,Fn:T,uvRatio:A.uvRatio},L={randomBytes:A.randomBytes,adjustScalarBytes:A.adjustScalarBytes,domain:A.domain,prehash:A.prehash,mapToCurve:A.mapToCurve};return{CURVE:g,curveOpts:O,hash:A.hash,eddsaOpts:L}}function Pb(A,g){const m=g.Point;return Object.assign({},g,{ExtendedPoint:m,CURVE:A,nBitLength:m.Fn.BITS,nByteLength:m.Fn.BYTES})}function Nb(A){const{CURVE:g,curveOpts:m,hash:T,eddsaOpts:O}=Ib(A),L=bb(g,m),h=Lb(L,T,O);return Pb(A,h)}const Db=BigInt(1),KT=BigInt(2);BigInt(3);const Bb=BigInt(5),Fb=BigInt(8),og=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),mA={p:og,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Fb,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Ub(A){const g=BigInt(10),m=BigInt(20),T=BigInt(40),O=BigInt(80),L=og,x=A*A%L*A%L,t=Mi(x,KT,L)*x%L,o=Mi(t,Db,L)*A%L,v=Mi(o,Bb,L)*o%L,r=Mi(v,g,L)*v%L,n=Mi(r,m,L)*r%L,i=Mi(n,T,L)*n%L,e=Mi(i,O,L)*i%L,a=Mi(e,O,L)*i%L,l=Mi(a,g,L)*v%L;return{pow_p_5_8:Mi(l,KT,L)*A%L,b2:x}}function zb(A){return A[0]&=248,A[31]&=127,A[31]|=64,A}const ZT=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Gb(A,g){const m=og,T=Hi(g*g*g,m),O=Hi(T*T*g,m),L=Ub(A*O).pow_p_5_8;let h=Hi(A*T*L,m);const x=Hi(g*h*h,m),t=h,o=Hi(h*ZT,m),v=x===A,r=x===Hi(-A,m),n=x===Hi(-A*ZT,m);return v&&(h=t),(r||n)&&(h=o),xb(h,m)&&(h=Hi(-h,m)),{isValid:v||r,value:h}}const Vb=So(mA.p,{isLE:!0}),Hb={...mA,Fp:Vb,hash:fb,adjustScalarBytes:zb,uvRatio:Gb},Ul=Nb(Hb);var ic={exports:{}};const Yb={},Wb=Object.freeze(Object.defineProperty({__proto__:null,default:Yb},Symbol.toStringTag,{value:"Module"})),Xb=kc(Wb);var kb=ic.exports,QT;function lg(){return QT||(QT=1,(function(A){(function(g,m){function T(B,b){if(!B)throw new Error(b||"Assertion failed")}function O(B,b){B.super_=b;var I=function(){};I.prototype=b.prototype,B.prototype=new I,B.prototype.constructor=B}function L(B,b,I){if(L.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((b==="le"||b==="be")&&(I=b,b=10),this._init(B||0,b||10,I||"be"))}typeof g=="object"?g.exports=L:m.BN=L,L.BN=L,L.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=Xb.Buffer}catch{}L.isBN=function(b){return b instanceof L?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===L.wordSize&&Array.isArray(b.words)},L.max=function(b,I){return b.cmp(I)>0?b:I},L.min=function(b,I){return b.cmp(I)<0?b:I},L.prototype._init=function(b,I,N){if(typeof b=="number")return this._initNumber(b,I,N);if(typeof b=="object")return this._initArray(b,I,N);I==="hex"&&(I=16),T(I===(I|0)&&I>=2&&I<=36),b=b.toString().replace(/\s+/g,"");var z=0;b[0]==="-"&&(z++,this.negative=1),z<b.length&&(I===16?this._parseHex(b,z,N):(this._parseBase(b,I,z),N==="le"&&this._initArray(this.toArray(),I,N)))},L.prototype._initNumber=function(b,I,N){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(T(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),I,N)},L.prototype._initArray=function(b,I,N){if(T(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var H,X,W=0;if(N==="be")for(z=b.length-1,H=0;z>=0;z-=3)X=b[z]|b[z-1]<<8|b[z-2]<<16,this.words[H]|=X<<W&67108863,this.words[H+1]=X>>>26-W&67108863,W+=24,W>=26&&(W-=26,H++);else if(N==="le")for(z=0,H=0;z<b.length;z+=3)X=b[z]|b[z+1]<<8|b[z+2]<<16,this.words[H]|=X<<W&67108863,this.words[H+1]=X>>>26-W&67108863,W+=24,W>=26&&(W-=26,H++);return this._strip()};function x(B,b){var I=B.charCodeAt(b);if(I>=48&&I<=57)return I-48;if(I>=65&&I<=70)return I-55;if(I>=97&&I<=102)return I-87;T(!1,"Invalid character in "+B)}function t(B,b,I){var N=x(B,I);return I-1>=b&&(N|=x(B,I-1)<<4),N}L.prototype._parseHex=function(b,I,N){this.length=Math.ceil((b.length-I)/6),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var H=0,X=0,W;if(N==="be")for(z=b.length-1;z>=I;z-=2)W=t(b,I,z)<<H,this.words[X]|=W&67108863,H>=18?(H-=18,X+=1,this.words[X]|=W>>>26):H+=8;else{var V=b.length-I;for(z=V%2===0?I+1:I;z<b.length;z+=2)W=t(b,I,z)<<H,this.words[X]|=W&67108863,H>=18?(H-=18,X+=1,this.words[X]|=W>>>26):H+=8}this._strip()};function o(B,b,I,N){for(var z=0,H=0,X=Math.min(B.length,I),W=b;W<X;W++){var V=B.charCodeAt(W)-48;z*=N,V>=49?H=V-49+10:V>=17?H=V-17+10:H=V,T(V>=0&&H<N,"Invalid character"),z+=H}return z}L.prototype._parseBase=function(b,I,N){this.words=[0],this.length=1;for(var z=0,H=1;H<=67108863;H*=I)z++;z--,H=H/I|0;for(var X=b.length-N,W=X%z,V=Math.min(X,X-W)+N,U=0,F=N;F<V;F+=z)U=o(b,F,F+z,I),this.imuln(H),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(W!==0){var k=1;for(U=o(b,F,b.length,I),F=0;F<W;F++)k*=I;this.imuln(k),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}this._strip()},L.prototype.copy=function(b){b.words=new Array(this.length);for(var I=0;I<this.length;I++)b.words[I]=this.words[I];b.length=this.length,b.negative=this.negative,b.red=this.red};function v(B,b){B.words=b.words,B.length=b.length,B.negative=b.negative,B.red=b.red}if(L.prototype._move=function(b){v(b,this)},L.prototype.clone=function(){var b=new L(null);return this.copy(b),b},L.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},L.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},L.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{L.prototype[Symbol.for("nodejs.util.inspect.custom")]=r}catch{L.prototype.inspect=r}else L.prototype.inspect=r;function r(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var n=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],i=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],e=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];L.prototype.toString=function(b,I){b=b||10,I=I|0||1;var N;if(b===16||b==="hex"){N="";for(var z=0,H=0,X=0;X<this.length;X++){var W=this.words[X],V=((W<<z|H)&16777215).toString(16);H=W>>>24-z&16777215,z+=2,z>=26&&(z-=26,X--),H!==0||X!==this.length-1?N=n[6-V.length]+V+N:N=V+N}for(H!==0&&(N=H.toString(16)+N);N.length%I!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(b===(b|0)&&b>=2&&b<=36){var U=i[b],F=e[b];N="";var k=this.clone();for(k.negative=0;!k.isZero();){var Y=k.modrn(F).toString(b);k=k.idivn(F),k.isZero()?N=Y+N:N=n[U-Y.length]+Y+N}for(this.isZero()&&(N="0"+N);N.length%I!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}T(!1,"Base should be between 2 and 36")},L.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&T(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},L.prototype.toJSON=function(){return this.toString(16,2)},h&&(L.prototype.toBuffer=function(b,I){return this.toArrayLike(h,b,I)}),L.prototype.toArray=function(b,I){return this.toArrayLike(Array,b,I)};var a=function(b,I){return b.allocUnsafe?b.allocUnsafe(I):new b(I)};L.prototype.toArrayLike=function(b,I,N){this._strip();var z=this.byteLength(),H=N||Math.max(1,z);T(z<=H,"byte array longer than desired length"),T(H>0,"Requested array length <= 0");var X=a(b,H),W=I==="le"?"LE":"BE";return this["_toArrayLike"+W](X,z),X},L.prototype._toArrayLikeLE=function(b,I){for(var N=0,z=0,H=0,X=0;H<this.length;H++){var W=this.words[H]<<X|z;b[N++]=W&255,N<b.length&&(b[N++]=W>>8&255),N<b.length&&(b[N++]=W>>16&255),X===6?(N<b.length&&(b[N++]=W>>24&255),z=0,X=0):(z=W>>>24,X+=2)}if(N<b.length)for(b[N++]=z;N<b.length;)b[N++]=0},L.prototype._toArrayLikeBE=function(b,I){for(var N=b.length-1,z=0,H=0,X=0;H<this.length;H++){var W=this.words[H]<<X|z;b[N--]=W&255,N>=0&&(b[N--]=W>>8&255),N>=0&&(b[N--]=W>>16&255),X===6?(N>=0&&(b[N--]=W>>24&255),z=0,X=0):(z=W>>>24,X+=2)}if(N>=0)for(b[N--]=z;N>=0;)b[N--]=0},Math.clz32?L.prototype._countBits=function(b){return 32-Math.clz32(b)}:L.prototype._countBits=function(b){var I=b,N=0;return I>=4096&&(N+=13,I>>>=13),I>=64&&(N+=7,I>>>=7),I>=8&&(N+=4,I>>>=4),I>=2&&(N+=2,I>>>=2),N+I},L.prototype._zeroBits=function(b){if(b===0)return 26;var I=b,N=0;return(I&8191)===0&&(N+=13,I>>>=13),(I&127)===0&&(N+=7,I>>>=7),(I&15)===0&&(N+=4,I>>>=4),(I&3)===0&&(N+=2,I>>>=2),(I&1)===0&&N++,N},L.prototype.bitLength=function(){var b=this.words[this.length-1],I=this._countBits(b);return(this.length-1)*26+I};function l(B){for(var b=new Array(B.bitLength()),I=0;I<b.length;I++){var N=I/26|0,z=I%26;b[I]=B.words[N]>>>z&1}return b}L.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,I=0;I<this.length;I++){var N=this._zeroBits(this.words[I]);if(b+=N,N!==26)break}return b},L.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},L.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},L.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},L.prototype.isNeg=function(){return this.negative!==0},L.prototype.neg=function(){return this.clone().ineg()},L.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},L.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var I=0;I<b.length;I++)this.words[I]=this.words[I]|b.words[I];return this._strip()},L.prototype.ior=function(b){return T((this.negative|b.negative)===0),this.iuor(b)},L.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},L.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},L.prototype.iuand=function(b){var I;this.length>b.length?I=b:I=this;for(var N=0;N<I.length;N++)this.words[N]=this.words[N]&b.words[N];return this.length=I.length,this._strip()},L.prototype.iand=function(b){return T((this.negative|b.negative)===0),this.iuand(b)},L.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},L.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},L.prototype.iuxor=function(b){var I,N;this.length>b.length?(I=this,N=b):(I=b,N=this);for(var z=0;z<N.length;z++)this.words[z]=I.words[z]^N.words[z];if(this!==I)for(;z<I.length;z++)this.words[z]=I.words[z];return this.length=I.length,this._strip()},L.prototype.ixor=function(b){return T((this.negative|b.negative)===0),this.iuxor(b)},L.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},L.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},L.prototype.inotn=function(b){T(typeof b=="number"&&b>=0);var I=Math.ceil(b/26)|0,N=b%26;this._expand(I),N>0&&I--;for(var z=0;z<I;z++)this.words[z]=~this.words[z]&67108863;return N>0&&(this.words[z]=~this.words[z]&67108863>>26-N),this._strip()},L.prototype.notn=function(b){return this.clone().inotn(b)},L.prototype.setn=function(b,I){T(typeof b=="number"&&b>=0);var N=b/26|0,z=b%26;return this._expand(N+1),I?this.words[N]=this.words[N]|1<<z:this.words[N]=this.words[N]&~(1<<z),this._strip()},L.prototype.iadd=function(b){var I;if(this.negative!==0&&b.negative===0)return this.negative=0,I=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,I=this.isub(b),b.negative=1,I._normSign();var N,z;this.length>b.length?(N=this,z=b):(N=b,z=this);for(var H=0,X=0;X<z.length;X++)I=(N.words[X]|0)+(z.words[X]|0)+H,this.words[X]=I&67108863,H=I>>>26;for(;H!==0&&X<N.length;X++)I=(N.words[X]|0)+H,this.words[X]=I&67108863,H=I>>>26;if(this.length=N.length,H!==0)this.words[this.length]=H,this.length++;else if(N!==this)for(;X<N.length;X++)this.words[X]=N.words[X];return this},L.prototype.add=function(b){var I;return b.negative!==0&&this.negative===0?(b.negative=0,I=this.sub(b),b.negative^=1,I):b.negative===0&&this.negative!==0?(this.negative=0,I=b.sub(this),this.negative=1,I):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},L.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var I=this.iadd(b);return b.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var N=this.cmp(b);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var z,H;N>0?(z=this,H=b):(z=b,H=this);for(var X=0,W=0;W<H.length;W++)I=(z.words[W]|0)-(H.words[W]|0)+X,X=I>>26,this.words[W]=I&67108863;for(;X!==0&&W<z.length;W++)I=(z.words[W]|0)+X,X=I>>26,this.words[W]=I&67108863;if(X===0&&W<z.length&&z!==this)for(;W<z.length;W++)this.words[W]=z.words[W];return this.length=Math.max(this.length,W),z!==this&&(this.negative=1),this._strip()},L.prototype.sub=function(b){return this.clone().isub(b)};function s(B,b,I){I.negative=b.negative^B.negative;var N=B.length+b.length|0;I.length=N,N=N-1|0;var z=B.words[0]|0,H=b.words[0]|0,X=z*H,W=X&67108863,V=X/67108864|0;I.words[0]=W;for(var U=1;U<N;U++){for(var F=V>>>26,k=V&67108863,Y=Math.min(U,b.length-1),Z=Math.max(0,U-B.length+1);Z<=Y;Z++){var j=U-Z|0;z=B.words[j]|0,H=b.words[Z]|0,X=z*H+k,F+=X/67108864|0,k=X&67108863}I.words[U]=k|0,V=F|0}return V!==0?I.words[U]=V|0:I.length--,I._strip()}var u=function(b,I,N){var z=b.words,H=I.words,X=N.words,W=0,V,U,F,k=z[0]|0,Y=k&8191,Z=k>>>13,j=z[1]|0,J=j&8191,q=j>>>13,et=z[2]|0,it=et&8191,at=et>>>13,ut=z[3]|0,dt=ut&8191,ft=ut>>>13,xt=z[4]|0,At=xt&8191,gt=xt>>>13,Wt=z[5]|0,Ht=Wt&8191,Gt=Wt>>>13,Ot=z[6]|0,Bt=Ot&8191,Pt=Ot>>>13,te=z[7]|0,_t=te&8191,nt=te>>>13,$=z[8]|0,_=$&8191,st=$>>>13,ct=z[9]|0,pt=ct&8191,yt=ct>>>13,kt=H[0]|0,Jt=kt&8191,qt=kt>>>13,xe=H[1]|0,re=xe&8191,Ne=xe>>>13,Ni=H[2]|0,qe=Ni&8191,ke=Ni>>>13,Jn=H[3]|0,je=Jn&8191,Ke=Jn>>>13,ba=H[4]|0,ui=ba&8191,_e=ba>>>13,Rr=H[5]|0,di=Rr&8191,hi=Rr>>>13,La=H[6]|0,ei=La&8191,ii=La>>>13,Bs=H[7]|0,ni=Bs&8191,ri=Bs>>>13,Bn=H[8]|0,wt=Bn&8191,Vt=Bn>>>13,Ae=H[9]|0,fe=Ae&8191,ce=Ae>>>13;N.negative=b.negative^I.negative,N.length=19,V=Math.imul(Y,Jt),U=Math.imul(Y,qt),U=U+Math.imul(Z,Jt)|0,F=Math.imul(Z,qt);var Mr=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,V=Math.imul(J,Jt),U=Math.imul(J,qt),U=U+Math.imul(q,Jt)|0,F=Math.imul(q,qt),V=V+Math.imul(Y,re)|0,U=U+Math.imul(Y,Ne)|0,U=U+Math.imul(Z,re)|0,F=F+Math.imul(Z,Ne)|0;var si=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(si>>>26)|0,si&=67108863,V=Math.imul(it,Jt),U=Math.imul(it,qt),U=U+Math.imul(at,Jt)|0,F=Math.imul(at,qt),V=V+Math.imul(J,re)|0,U=U+Math.imul(J,Ne)|0,U=U+Math.imul(q,re)|0,F=F+Math.imul(q,Ne)|0,V=V+Math.imul(Y,qe)|0,U=U+Math.imul(Y,ke)|0,U=U+Math.imul(Z,qe)|0,F=F+Math.imul(Z,ke)|0;var ln=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(ln>>>26)|0,ln&=67108863,V=Math.imul(dt,Jt),U=Math.imul(dt,qt),U=U+Math.imul(ft,Jt)|0,F=Math.imul(ft,qt),V=V+Math.imul(it,re)|0,U=U+Math.imul(it,Ne)|0,U=U+Math.imul(at,re)|0,F=F+Math.imul(at,Ne)|0,V=V+Math.imul(J,qe)|0,U=U+Math.imul(J,ke)|0,U=U+Math.imul(q,qe)|0,F=F+Math.imul(q,ke)|0,V=V+Math.imul(Y,je)|0,U=U+Math.imul(Y,Ke)|0,U=U+Math.imul(Z,je)|0,F=F+Math.imul(Z,Ke)|0;var un=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(un>>>26)|0,un&=67108863,V=Math.imul(At,Jt),U=Math.imul(At,qt),U=U+Math.imul(gt,Jt)|0,F=Math.imul(gt,qt),V=V+Math.imul(dt,re)|0,U=U+Math.imul(dt,Ne)|0,U=U+Math.imul(ft,re)|0,F=F+Math.imul(ft,Ne)|0,V=V+Math.imul(it,qe)|0,U=U+Math.imul(it,ke)|0,U=U+Math.imul(at,qe)|0,F=F+Math.imul(at,ke)|0,V=V+Math.imul(J,je)|0,U=U+Math.imul(J,Ke)|0,U=U+Math.imul(q,je)|0,F=F+Math.imul(q,Ke)|0,V=V+Math.imul(Y,ui)|0,U=U+Math.imul(Y,_e)|0,U=U+Math.imul(Z,ui)|0,F=F+Math.imul(Z,_e)|0;var xi=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(xi>>>26)|0,xi&=67108863,V=Math.imul(Ht,Jt),U=Math.imul(Ht,qt),U=U+Math.imul(Gt,Jt)|0,F=Math.imul(Gt,qt),V=V+Math.imul(At,re)|0,U=U+Math.imul(At,Ne)|0,U=U+Math.imul(gt,re)|0,F=F+Math.imul(gt,Ne)|0,V=V+Math.imul(dt,qe)|0,U=U+Math.imul(dt,ke)|0,U=U+Math.imul(ft,qe)|0,F=F+Math.imul(ft,ke)|0,V=V+Math.imul(it,je)|0,U=U+Math.imul(it,Ke)|0,U=U+Math.imul(at,je)|0,F=F+Math.imul(at,Ke)|0,V=V+Math.imul(J,ui)|0,U=U+Math.imul(J,_e)|0,U=U+Math.imul(q,ui)|0,F=F+Math.imul(q,_e)|0,V=V+Math.imul(Y,di)|0,U=U+Math.imul(Y,hi)|0,U=U+Math.imul(Z,di)|0,F=F+Math.imul(Z,hi)|0;var $n=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+($n>>>26)|0,$n&=67108863,V=Math.imul(Bt,Jt),U=Math.imul(Bt,qt),U=U+Math.imul(Pt,Jt)|0,F=Math.imul(Pt,qt),V=V+Math.imul(Ht,re)|0,U=U+Math.imul(Ht,Ne)|0,U=U+Math.imul(Gt,re)|0,F=F+Math.imul(Gt,Ne)|0,V=V+Math.imul(At,qe)|0,U=U+Math.imul(At,ke)|0,U=U+Math.imul(gt,qe)|0,F=F+Math.imul(gt,ke)|0,V=V+Math.imul(dt,je)|0,U=U+Math.imul(dt,Ke)|0,U=U+Math.imul(ft,je)|0,F=F+Math.imul(ft,Ke)|0,V=V+Math.imul(it,ui)|0,U=U+Math.imul(it,_e)|0,U=U+Math.imul(at,ui)|0,F=F+Math.imul(at,_e)|0,V=V+Math.imul(J,di)|0,U=U+Math.imul(J,hi)|0,U=U+Math.imul(q,di)|0,F=F+Math.imul(q,hi)|0,V=V+Math.imul(Y,ei)|0,U=U+Math.imul(Y,ii)|0,U=U+Math.imul(Z,ei)|0,F=F+Math.imul(Z,ii)|0;var yn=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(yn>>>26)|0,yn&=67108863,V=Math.imul(_t,Jt),U=Math.imul(_t,qt),U=U+Math.imul(nt,Jt)|0,F=Math.imul(nt,qt),V=V+Math.imul(Bt,re)|0,U=U+Math.imul(Bt,Ne)|0,U=U+Math.imul(Pt,re)|0,F=F+Math.imul(Pt,Ne)|0,V=V+Math.imul(Ht,qe)|0,U=U+Math.imul(Ht,ke)|0,U=U+Math.imul(Gt,qe)|0,F=F+Math.imul(Gt,ke)|0,V=V+Math.imul(At,je)|0,U=U+Math.imul(At,Ke)|0,U=U+Math.imul(gt,je)|0,F=F+Math.imul(gt,Ke)|0,V=V+Math.imul(dt,ui)|0,U=U+Math.imul(dt,_e)|0,U=U+Math.imul(ft,ui)|0,F=F+Math.imul(ft,_e)|0,V=V+Math.imul(it,di)|0,U=U+Math.imul(it,hi)|0,U=U+Math.imul(at,di)|0,F=F+Math.imul(at,hi)|0,V=V+Math.imul(J,ei)|0,U=U+Math.imul(J,ii)|0,U=U+Math.imul(q,ei)|0,F=F+Math.imul(q,ii)|0,V=V+Math.imul(Y,ni)|0,U=U+Math.imul(Y,ri)|0,U=U+Math.imul(Z,ni)|0,F=F+Math.imul(Z,ri)|0;var qn=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(qn>>>26)|0,qn&=67108863,V=Math.imul(_,Jt),U=Math.imul(_,qt),U=U+Math.imul(st,Jt)|0,F=Math.imul(st,qt),V=V+Math.imul(_t,re)|0,U=U+Math.imul(_t,Ne)|0,U=U+Math.imul(nt,re)|0,F=F+Math.imul(nt,Ne)|0,V=V+Math.imul(Bt,qe)|0,U=U+Math.imul(Bt,ke)|0,U=U+Math.imul(Pt,qe)|0,F=F+Math.imul(Pt,ke)|0,V=V+Math.imul(Ht,je)|0,U=U+Math.imul(Ht,Ke)|0,U=U+Math.imul(Gt,je)|0,F=F+Math.imul(Gt,Ke)|0,V=V+Math.imul(At,ui)|0,U=U+Math.imul(At,_e)|0,U=U+Math.imul(gt,ui)|0,F=F+Math.imul(gt,_e)|0,V=V+Math.imul(dt,di)|0,U=U+Math.imul(dt,hi)|0,U=U+Math.imul(ft,di)|0,F=F+Math.imul(ft,hi)|0,V=V+Math.imul(it,ei)|0,U=U+Math.imul(it,ii)|0,U=U+Math.imul(at,ei)|0,F=F+Math.imul(at,ii)|0,V=V+Math.imul(J,ni)|0,U=U+Math.imul(J,ri)|0,U=U+Math.imul(q,ni)|0,F=F+Math.imul(q,ri)|0,V=V+Math.imul(Y,wt)|0,U=U+Math.imul(Y,Vt)|0,U=U+Math.imul(Z,wt)|0,F=F+Math.imul(Z,Vt)|0;var vi=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(vi>>>26)|0,vi&=67108863,V=Math.imul(pt,Jt),U=Math.imul(pt,qt),U=U+Math.imul(yt,Jt)|0,F=Math.imul(yt,qt),V=V+Math.imul(_,re)|0,U=U+Math.imul(_,Ne)|0,U=U+Math.imul(st,re)|0,F=F+Math.imul(st,Ne)|0,V=V+Math.imul(_t,qe)|0,U=U+Math.imul(_t,ke)|0,U=U+Math.imul(nt,qe)|0,F=F+Math.imul(nt,ke)|0,V=V+Math.imul(Bt,je)|0,U=U+Math.imul(Bt,Ke)|0,U=U+Math.imul(Pt,je)|0,F=F+Math.imul(Pt,Ke)|0,V=V+Math.imul(Ht,ui)|0,U=U+Math.imul(Ht,_e)|0,U=U+Math.imul(Gt,ui)|0,F=F+Math.imul(Gt,_e)|0,V=V+Math.imul(At,di)|0,U=U+Math.imul(At,hi)|0,U=U+Math.imul(gt,di)|0,F=F+Math.imul(gt,hi)|0,V=V+Math.imul(dt,ei)|0,U=U+Math.imul(dt,ii)|0,U=U+Math.imul(ft,ei)|0,F=F+Math.imul(ft,ii)|0,V=V+Math.imul(it,ni)|0,U=U+Math.imul(it,ri)|0,U=U+Math.imul(at,ni)|0,F=F+Math.imul(at,ri)|0,V=V+Math.imul(J,wt)|0,U=U+Math.imul(J,Vt)|0,U=U+Math.imul(q,wt)|0,F=F+Math.imul(q,Vt)|0,V=V+Math.imul(Y,fe)|0,U=U+Math.imul(Y,ce)|0,U=U+Math.imul(Z,fe)|0,F=F+Math.imul(Z,ce)|0;var fr=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(fr>>>26)|0,fr&=67108863,V=Math.imul(pt,re),U=Math.imul(pt,Ne),U=U+Math.imul(yt,re)|0,F=Math.imul(yt,Ne),V=V+Math.imul(_,qe)|0,U=U+Math.imul(_,ke)|0,U=U+Math.imul(st,qe)|0,F=F+Math.imul(st,ke)|0,V=V+Math.imul(_t,je)|0,U=U+Math.imul(_t,Ke)|0,U=U+Math.imul(nt,je)|0,F=F+Math.imul(nt,Ke)|0,V=V+Math.imul(Bt,ui)|0,U=U+Math.imul(Bt,_e)|0,U=U+Math.imul(Pt,ui)|0,F=F+Math.imul(Pt,_e)|0,V=V+Math.imul(Ht,di)|0,U=U+Math.imul(Ht,hi)|0,U=U+Math.imul(Gt,di)|0,F=F+Math.imul(Gt,hi)|0,V=V+Math.imul(At,ei)|0,U=U+Math.imul(At,ii)|0,U=U+Math.imul(gt,ei)|0,F=F+Math.imul(gt,ii)|0,V=V+Math.imul(dt,ni)|0,U=U+Math.imul(dt,ri)|0,U=U+Math.imul(ft,ni)|0,F=F+Math.imul(ft,ri)|0,V=V+Math.imul(it,wt)|0,U=U+Math.imul(it,Vt)|0,U=U+Math.imul(at,wt)|0,F=F+Math.imul(at,Vt)|0,V=V+Math.imul(J,fe)|0,U=U+Math.imul(J,ce)|0,U=U+Math.imul(q,fe)|0,F=F+Math.imul(q,ce)|0;var Fn=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,V=Math.imul(pt,qe),U=Math.imul(pt,ke),U=U+Math.imul(yt,qe)|0,F=Math.imul(yt,ke),V=V+Math.imul(_,je)|0,U=U+Math.imul(_,Ke)|0,U=U+Math.imul(st,je)|0,F=F+Math.imul(st,Ke)|0,V=V+Math.imul(_t,ui)|0,U=U+Math.imul(_t,_e)|0,U=U+Math.imul(nt,ui)|0,F=F+Math.imul(nt,_e)|0,V=V+Math.imul(Bt,di)|0,U=U+Math.imul(Bt,hi)|0,U=U+Math.imul(Pt,di)|0,F=F+Math.imul(Pt,hi)|0,V=V+Math.imul(Ht,ei)|0,U=U+Math.imul(Ht,ii)|0,U=U+Math.imul(Gt,ei)|0,F=F+Math.imul(Gt,ii)|0,V=V+Math.imul(At,ni)|0,U=U+Math.imul(At,ri)|0,U=U+Math.imul(gt,ni)|0,F=F+Math.imul(gt,ri)|0,V=V+Math.imul(dt,wt)|0,U=U+Math.imul(dt,Vt)|0,U=U+Math.imul(ft,wt)|0,F=F+Math.imul(ft,Vt)|0,V=V+Math.imul(it,fe)|0,U=U+Math.imul(it,ce)|0,U=U+Math.imul(at,fe)|0,F=F+Math.imul(at,ce)|0;var Di=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(Di>>>26)|0,Di&=67108863,V=Math.imul(pt,je),U=Math.imul(pt,Ke),U=U+Math.imul(yt,je)|0,F=Math.imul(yt,Ke),V=V+Math.imul(_,ui)|0,U=U+Math.imul(_,_e)|0,U=U+Math.imul(st,ui)|0,F=F+Math.imul(st,_e)|0,V=V+Math.imul(_t,di)|0,U=U+Math.imul(_t,hi)|0,U=U+Math.imul(nt,di)|0,F=F+Math.imul(nt,hi)|0,V=V+Math.imul(Bt,ei)|0,U=U+Math.imul(Bt,ii)|0,U=U+Math.imul(Pt,ei)|0,F=F+Math.imul(Pt,ii)|0,V=V+Math.imul(Ht,ni)|0,U=U+Math.imul(Ht,ri)|0,U=U+Math.imul(Gt,ni)|0,F=F+Math.imul(Gt,ri)|0,V=V+Math.imul(At,wt)|0,U=U+Math.imul(At,Vt)|0,U=U+Math.imul(gt,wt)|0,F=F+Math.imul(gt,Vt)|0,V=V+Math.imul(dt,fe)|0,U=U+Math.imul(dt,ce)|0,U=U+Math.imul(ft,fe)|0,F=F+Math.imul(ft,ce)|0;var _i=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(_i>>>26)|0,_i&=67108863,V=Math.imul(pt,ui),U=Math.imul(pt,_e),U=U+Math.imul(yt,ui)|0,F=Math.imul(yt,_e),V=V+Math.imul(_,di)|0,U=U+Math.imul(_,hi)|0,U=U+Math.imul(st,di)|0,F=F+Math.imul(st,hi)|0,V=V+Math.imul(_t,ei)|0,U=U+Math.imul(_t,ii)|0,U=U+Math.imul(nt,ei)|0,F=F+Math.imul(nt,ii)|0,V=V+Math.imul(Bt,ni)|0,U=U+Math.imul(Bt,ri)|0,U=U+Math.imul(Pt,ni)|0,F=F+Math.imul(Pt,ri)|0,V=V+Math.imul(Ht,wt)|0,U=U+Math.imul(Ht,Vt)|0,U=U+Math.imul(Gt,wt)|0,F=F+Math.imul(Gt,Vt)|0,V=V+Math.imul(At,fe)|0,U=U+Math.imul(At,ce)|0,U=U+Math.imul(gt,fe)|0,F=F+Math.imul(gt,ce)|0;var xn=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(xn>>>26)|0,xn&=67108863,V=Math.imul(pt,di),U=Math.imul(pt,hi),U=U+Math.imul(yt,di)|0,F=Math.imul(yt,hi),V=V+Math.imul(_,ei)|0,U=U+Math.imul(_,ii)|0,U=U+Math.imul(st,ei)|0,F=F+Math.imul(st,ii)|0,V=V+Math.imul(_t,ni)|0,U=U+Math.imul(_t,ri)|0,U=U+Math.imul(nt,ni)|0,F=F+Math.imul(nt,ri)|0,V=V+Math.imul(Bt,wt)|0,U=U+Math.imul(Bt,Vt)|0,U=U+Math.imul(Pt,wt)|0,F=F+Math.imul(Pt,Vt)|0,V=V+Math.imul(Ht,fe)|0,U=U+Math.imul(Ht,ce)|0,U=U+Math.imul(Gt,fe)|0,F=F+Math.imul(Gt,ce)|0;var Or=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(Or>>>26)|0,Or&=67108863,V=Math.imul(pt,ei),U=Math.imul(pt,ii),U=U+Math.imul(yt,ei)|0,F=Math.imul(yt,ii),V=V+Math.imul(_,ni)|0,U=U+Math.imul(_,ri)|0,U=U+Math.imul(st,ni)|0,F=F+Math.imul(st,ri)|0,V=V+Math.imul(_t,wt)|0,U=U+Math.imul(_t,Vt)|0,U=U+Math.imul(nt,wt)|0,F=F+Math.imul(nt,Vt)|0,V=V+Math.imul(Bt,fe)|0,U=U+Math.imul(Bt,ce)|0,U=U+Math.imul(Pt,fe)|0,F=F+Math.imul(Pt,ce)|0;var Kr=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,V=Math.imul(pt,ni),U=Math.imul(pt,ri),U=U+Math.imul(yt,ni)|0,F=Math.imul(yt,ri),V=V+Math.imul(_,wt)|0,U=U+Math.imul(_,Vt)|0,U=U+Math.imul(st,wt)|0,F=F+Math.imul(st,Vt)|0,V=V+Math.imul(_t,fe)|0,U=U+Math.imul(_t,ce)|0,U=U+Math.imul(nt,fe)|0,F=F+Math.imul(nt,ce)|0;var Fs=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(Fs>>>26)|0,Fs&=67108863,V=Math.imul(pt,wt),U=Math.imul(pt,Vt),U=U+Math.imul(yt,wt)|0,F=Math.imul(yt,Vt),V=V+Math.imul(_,fe)|0,U=U+Math.imul(_,ce)|0,U=U+Math.imul(st,fe)|0,F=F+Math.imul(st,ce)|0;var br=(W+V|0)+((U&8191)<<13)|0;W=(F+(U>>>13)|0)+(br>>>26)|0,br&=67108863,V=Math.imul(pt,fe),U=Math.imul(pt,ce),U=U+Math.imul(yt,fe)|0,F=Math.imul(yt,ce);var _n=(W+V|0)+((U&8191)<<13)|0;return W=(F+(U>>>13)|0)+(_n>>>26)|0,_n&=67108863,X[0]=Mr,X[1]=si,X[2]=ln,X[3]=un,X[4]=xi,X[5]=$n,X[6]=yn,X[7]=qn,X[8]=vi,X[9]=fr,X[10]=Fn,X[11]=Di,X[12]=_i,X[13]=xn,X[14]=Or,X[15]=Kr,X[16]=Fs,X[17]=br,X[18]=_n,W!==0&&(X[19]=W,N.length++),N};Math.imul||(u=s);function f(B,b,I){I.negative=b.negative^B.negative,I.length=B.length+b.length;for(var N=0,z=0,H=0;H<I.length-1;H++){var X=z;z=0;for(var W=N&67108863,V=Math.min(H,b.length-1),U=Math.max(0,H-B.length+1);U<=V;U++){var F=H-U,k=B.words[F]|0,Y=b.words[U]|0,Z=k*Y,j=Z&67108863;X=X+(Z/67108864|0)|0,j=j+W|0,W=j&67108863,X=X+(j>>>26)|0,z+=X>>>26,X&=67108863}I.words[H]=W,N=X,X=z}return N!==0?I.words[H]=N:I.length--,I._strip()}function c(B,b,I){return f(B,b,I)}L.prototype.mulTo=function(b,I){var N,z=this.length+b.length;return this.length===10&&b.length===10?N=u(this,b,I):z<63?N=s(this,b,I):z<1024?N=f(this,b,I):N=c(this,b,I),N},L.prototype.mul=function(b){var I=new L(null);return I.words=new Array(this.length+b.length),this.mulTo(b,I)},L.prototype.mulf=function(b){var I=new L(null);return I.words=new Array(this.length+b.length),c(this,b,I)},L.prototype.imul=function(b){return this.clone().mulTo(b,this)},L.prototype.imuln=function(b){var I=b<0;I&&(b=-b),T(typeof b=="number"),T(b<67108864);for(var N=0,z=0;z<this.length;z++){var H=(this.words[z]|0)*b,X=(H&67108863)+(N&67108863);N>>=26,N+=H/67108864|0,N+=X>>>26,this.words[z]=X&67108863}return N!==0&&(this.words[z]=N,this.length++),this.length=b===0?1:this.length,I?this.ineg():this},L.prototype.muln=function(b){return this.clone().imuln(b)},L.prototype.sqr=function(){return this.mul(this)},L.prototype.isqr=function(){return this.imul(this.clone())},L.prototype.pow=function(b){var I=l(b);if(I.length===0)return new L(1);for(var N=this,z=0;z<I.length&&I[z]===0;z++,N=N.sqr());if(++z<I.length)for(var H=N.sqr();z<I.length;z++,H=H.sqr())I[z]!==0&&(N=N.mul(H));return N},L.prototype.iushln=function(b){T(typeof b=="number"&&b>=0);var I=b%26,N=(b-I)/26,z=67108863>>>26-I<<26-I,H;if(I!==0){var X=0;for(H=0;H<this.length;H++){var W=this.words[H]&z,V=(this.words[H]|0)-W<<I;this.words[H]=V|X,X=W>>>26-I}X&&(this.words[H]=X,this.length++)}if(N!==0){for(H=this.length-1;H>=0;H--)this.words[H+N]=this.words[H];for(H=0;H<N;H++)this.words[H]=0;this.length+=N}return this._strip()},L.prototype.ishln=function(b){return T(this.negative===0),this.iushln(b)},L.prototype.iushrn=function(b,I,N){T(typeof b=="number"&&b>=0);var z;I?z=(I-I%26)/26:z=0;var H=b%26,X=Math.min((b-H)/26,this.length),W=67108863^67108863>>>H<<H,V=N;if(z-=X,z=Math.max(0,z),V){for(var U=0;U<X;U++)V.words[U]=this.words[U];V.length=X}if(X!==0)if(this.length>X)for(this.length-=X,U=0;U<this.length;U++)this.words[U]=this.words[U+X];else this.words[0]=0,this.length=1;var F=0;for(U=this.length-1;U>=0&&(F!==0||U>=z);U--){var k=this.words[U]|0;this.words[U]=F<<26-H|k>>>H,F=k&W}return V&&F!==0&&(V.words[V.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},L.prototype.ishrn=function(b,I,N){return T(this.negative===0),this.iushrn(b,I,N)},L.prototype.shln=function(b){return this.clone().ishln(b)},L.prototype.ushln=function(b){return this.clone().iushln(b)},L.prototype.shrn=function(b){return this.clone().ishrn(b)},L.prototype.ushrn=function(b){return this.clone().iushrn(b)},L.prototype.testn=function(b){T(typeof b=="number"&&b>=0);var I=b%26,N=(b-I)/26,z=1<<I;if(this.length<=N)return!1;var H=this.words[N];return!!(H&z)},L.prototype.imaskn=function(b){T(typeof b=="number"&&b>=0);var I=b%26,N=(b-I)/26;if(T(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(I!==0&&N++,this.length=Math.min(N,this.length),I!==0){var z=67108863^67108863>>>I<<I;this.words[this.length-1]&=z}return this.length===0&&(this.words[0]=0,this.length=1),this._strip()},L.prototype.maskn=function(b){return this.clone().imaskn(b)},L.prototype.iaddn=function(b){return T(typeof b=="number"),T(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},L.prototype._iaddn=function(b){this.words[0]+=b;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},L.prototype.isubn=function(b){if(T(typeof b=="number"),T(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this._strip()},L.prototype.addn=function(b){return this.clone().iaddn(b)},L.prototype.subn=function(b){return this.clone().isubn(b)},L.prototype.iabs=function(){return this.negative=0,this},L.prototype.abs=function(){return this.clone().iabs()},L.prototype._ishlnsubmul=function(b,I,N){var z=b.length+N,H;this._expand(z);var X,W=0;for(H=0;H<b.length;H++){X=(this.words[H+N]|0)+W;var V=(b.words[H]|0)*I;X-=V&67108863,W=(X>>26)-(V/67108864|0),this.words[H+N]=X&67108863}for(;H<this.length-N;H++)X=(this.words[H+N]|0)+W,W=X>>26,this.words[H+N]=X&67108863;if(W===0)return this._strip();for(T(W===-1),W=0,H=0;H<this.length;H++)X=-(this.words[H]|0)+W,W=X>>26,this.words[H]=X&67108863;return this.negative=1,this._strip()},L.prototype._wordDiv=function(b,I){var N=this.length-b.length,z=this.clone(),H=b,X=H.words[H.length-1]|0,W=this._countBits(X);N=26-W,N!==0&&(H=H.ushln(N),z.iushln(N),X=H.words[H.length-1]|0);var V=z.length-H.length,U;if(I!=="mod"){U=new L(null),U.length=V+1,U.words=new Array(U.length);for(var F=0;F<U.length;F++)U.words[F]=0}var k=z.clone()._ishlnsubmul(H,1,V);k.negative===0&&(z=k,U&&(U.words[V]=1));for(var Y=V-1;Y>=0;Y--){var Z=(z.words[H.length+Y]|0)*67108864+(z.words[H.length+Y-1]|0);for(Z=Math.min(Z/X|0,67108863),z._ishlnsubmul(H,Z,Y);z.negative!==0;)Z--,z.negative=0,z._ishlnsubmul(H,1,Y),z.isZero()||(z.negative^=1);U&&(U.words[Y]=Z)}return U&&U._strip(),z._strip(),I!=="div"&&N!==0&&z.iushrn(N),{div:U||null,mod:z}},L.prototype.divmod=function(b,I,N){if(T(!b.isZero()),this.isZero())return{div:new L(0),mod:new L(0)};var z,H,X;return this.negative!==0&&b.negative===0?(X=this.neg().divmod(b,I),I!=="mod"&&(z=X.div.neg()),I!=="div"&&(H=X.mod.neg(),N&&H.negative!==0&&H.iadd(b)),{div:z,mod:H}):this.negative===0&&b.negative!==0?(X=this.divmod(b.neg(),I),I!=="mod"&&(z=X.div.neg()),{div:z,mod:X.mod}):(this.negative&b.negative)!==0?(X=this.neg().divmod(b.neg(),I),I!=="div"&&(H=X.mod.neg(),N&&H.negative!==0&&H.isub(b)),{div:X.div,mod:H}):b.length>this.length||this.cmp(b)<0?{div:new L(0),mod:this}:b.length===1?I==="div"?{div:this.divn(b.words[0]),mod:null}:I==="mod"?{div:null,mod:new L(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new L(this.modrn(b.words[0]))}:this._wordDiv(b,I)},L.prototype.div=function(b){return this.divmod(b,"div",!1).div},L.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},L.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},L.prototype.divRound=function(b){var I=this.divmod(b);if(I.mod.isZero())return I.div;var N=I.div.negative!==0?I.mod.isub(b):I.mod,z=b.ushrn(1),H=b.andln(1),X=N.cmp(z);return X<0||H===1&&X===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},L.prototype.modrn=function(b){var I=b<0;I&&(b=-b),T(b<=67108863);for(var N=(1<<26)%b,z=0,H=this.length-1;H>=0;H--)z=(N*z+(this.words[H]|0))%b;return I?-z:z},L.prototype.modn=function(b){return this.modrn(b)},L.prototype.idivn=function(b){var I=b<0;I&&(b=-b),T(b<=67108863);for(var N=0,z=this.length-1;z>=0;z--){var H=(this.words[z]|0)+N*67108864;this.words[z]=H/b|0,N=H%b}return this._strip(),I?this.ineg():this},L.prototype.divn=function(b){return this.clone().idivn(b)},L.prototype.egcd=function(b){T(b.negative===0),T(!b.isZero());var I=this,N=b.clone();I.negative!==0?I=I.umod(b):I=I.clone();for(var z=new L(1),H=new L(0),X=new L(0),W=new L(1),V=0;I.isEven()&&N.isEven();)I.iushrn(1),N.iushrn(1),++V;for(var U=N.clone(),F=I.clone();!I.isZero();){for(var k=0,Y=1;(I.words[0]&Y)===0&&k<26;++k,Y<<=1);if(k>0)for(I.iushrn(k);k-- >0;)(z.isOdd()||H.isOdd())&&(z.iadd(U),H.isub(F)),z.iushrn(1),H.iushrn(1);for(var Z=0,j=1;(N.words[0]&j)===0&&Z<26;++Z,j<<=1);if(Z>0)for(N.iushrn(Z);Z-- >0;)(X.isOdd()||W.isOdd())&&(X.iadd(U),W.isub(F)),X.iushrn(1),W.iushrn(1);I.cmp(N)>=0?(I.isub(N),z.isub(X),H.isub(W)):(N.isub(I),X.isub(z),W.isub(H))}return{a:X,b:W,gcd:N.iushln(V)}},L.prototype._invmp=function(b){T(b.negative===0),T(!b.isZero());var I=this,N=b.clone();I.negative!==0?I=I.umod(b):I=I.clone();for(var z=new L(1),H=new L(0),X=N.clone();I.cmpn(1)>0&&N.cmpn(1)>0;){for(var W=0,V=1;(I.words[0]&V)===0&&W<26;++W,V<<=1);if(W>0)for(I.iushrn(W);W-- >0;)z.isOdd()&&z.iadd(X),z.iushrn(1);for(var U=0,F=1;(N.words[0]&F)===0&&U<26;++U,F<<=1);if(U>0)for(N.iushrn(U);U-- >0;)H.isOdd()&&H.iadd(X),H.iushrn(1);I.cmp(N)>=0?(I.isub(N),z.isub(H)):(N.isub(I),H.isub(z))}var k;return I.cmpn(1)===0?k=z:k=H,k.cmpn(0)<0&&k.iadd(b),k},L.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var I=this.clone(),N=b.clone();I.negative=0,N.negative=0;for(var z=0;I.isEven()&&N.isEven();z++)I.iushrn(1),N.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;N.isEven();)N.iushrn(1);var H=I.cmp(N);if(H<0){var X=I;I=N,N=X}else if(H===0||N.cmpn(1)===0)break;I.isub(N)}while(!0);return N.iushln(z)},L.prototype.invm=function(b){return this.egcd(b).a.umod(b)},L.prototype.isEven=function(){return(this.words[0]&1)===0},L.prototype.isOdd=function(){return(this.words[0]&1)===1},L.prototype.andln=function(b){return this.words[0]&b},L.prototype.bincn=function(b){T(typeof b=="number");var I=b%26,N=(b-I)/26,z=1<<I;if(this.length<=N)return this._expand(N+1),this.words[N]|=z,this;for(var H=z,X=N;H!==0&&X<this.length;X++){var W=this.words[X]|0;W+=H,H=W>>>26,W&=67108863,this.words[X]=W}return H!==0&&(this.words[X]=H,this.length++),this},L.prototype.isZero=function(){return this.length===1&&this.words[0]===0},L.prototype.cmpn=function(b){var I=b<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this._strip();var N;if(this.length>1)N=1;else{I&&(b=-b),T(b<=67108863,"Number is too big");var z=this.words[0]|0;N=z===b?0:z<b?-1:1}return this.negative!==0?-N|0:N},L.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var I=this.ucmp(b);return this.negative!==0?-I|0:I},L.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var I=0,N=this.length-1;N>=0;N--){var z=this.words[N]|0,H=b.words[N]|0;if(z!==H){z<H?I=-1:z>H&&(I=1);break}}return I},L.prototype.gtn=function(b){return this.cmpn(b)===1},L.prototype.gt=function(b){return this.cmp(b)===1},L.prototype.gten=function(b){return this.cmpn(b)>=0},L.prototype.gte=function(b){return this.cmp(b)>=0},L.prototype.ltn=function(b){return this.cmpn(b)===-1},L.prototype.lt=function(b){return this.cmp(b)===-1},L.prototype.lten=function(b){return this.cmpn(b)<=0},L.prototype.lte=function(b){return this.cmp(b)<=0},L.prototype.eqn=function(b){return this.cmpn(b)===0},L.prototype.eq=function(b){return this.cmp(b)===0},L.red=function(b){return new M(b)},L.prototype.toRed=function(b){return T(!this.red,"Already a number in reduction context"),T(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},L.prototype.fromRed=function(){return T(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},L.prototype._forceRed=function(b){return this.red=b,this},L.prototype.forceRed=function(b){return T(!this.red,"Already a number in reduction context"),this._forceRed(b)},L.prototype.redAdd=function(b){return T(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},L.prototype.redIAdd=function(b){return T(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},L.prototype.redSub=function(b){return T(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},L.prototype.redISub=function(b){return T(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},L.prototype.redShl=function(b){return T(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},L.prototype.redMul=function(b){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},L.prototype.redIMul=function(b){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},L.prototype.redSqr=function(){return T(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},L.prototype.redISqr=function(){return T(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},L.prototype.redSqrt=function(){return T(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},L.prototype.redInvm=function(){return T(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},L.prototype.redNeg=function(){return T(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},L.prototype.redPow=function(b){return T(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var d={k256:null,p224:null,p192:null,p25519:null};function p(B,b){this.name=B,this.p=new L(b,16),this.n=this.p.bitLength(),this.k=new L(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}p.prototype._tmp=function(){var b=new L(null);return b.words=new Array(Math.ceil(this.n/13)),b},p.prototype.ireduce=function(b){var I=b,N;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),N=I.bitLength();while(N>this.n);var z=N<this.n?-1:I.ucmp(this.p);return z===0?(I.words[0]=0,I.length=1):z>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},p.prototype.split=function(b,I){b.iushrn(this.n,0,I)},p.prototype.imulK=function(b){return b.imul(this.k)};function S(){p.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(S,p),S.prototype.split=function(b,I){for(var N=4194303,z=Math.min(b.length,9),H=0;H<z;H++)I.words[H]=b.words[H];if(I.length=z,b.length<=9){b.words[0]=0,b.length=1;return}var X=b.words[9];for(I.words[I.length++]=X&N,H=10;H<b.length;H++){var W=b.words[H]|0;b.words[H-10]=(W&N)<<4|X>>>22,X=W}X>>>=22,b.words[H-10]=X,X===0&&b.length>10?b.length-=10:b.length-=9},S.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var I=0,N=0;N<b.length;N++){var z=b.words[N]|0;I+=z*977,b.words[N]=I&67108863,I=z*64+(I/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function C(){p.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(C,p);function E(){p.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(E,p);function R(){p.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(R,p),R.prototype.imulK=function(b){for(var I=0,N=0;N<b.length;N++){var z=(b.words[N]|0)*19+I,H=z&67108863;z>>>=26,b.words[N]=H,I=z}return I!==0&&(b.words[b.length++]=I),b},L._prime=function(b){if(d[b])return d[b];var I;if(b==="k256")I=new S;else if(b==="p224")I=new C;else if(b==="p192")I=new E;else if(b==="p25519")I=new R;else throw new Error("Unknown prime "+b);return d[b]=I,I};function M(B){if(typeof B=="string"){var b=L._prime(B);this.m=b.p,this.prime=b}else T(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}M.prototype._verify1=function(b){T(b.negative===0,"red works only with positives"),T(b.red,"red works only with red numbers")},M.prototype._verify2=function(b,I){T((b.negative|I.negative)===0,"red works only with positives"),T(b.red&&b.red===I.red,"red works only with red numbers")},M.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(v(b,b.umod(this.m)._forceRed(this)),b)},M.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},M.prototype.add=function(b,I){this._verify2(b,I);var N=b.add(I);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},M.prototype.iadd=function(b,I){this._verify2(b,I);var N=b.iadd(I);return N.cmp(this.m)>=0&&N.isub(this.m),N},M.prototype.sub=function(b,I){this._verify2(b,I);var N=b.sub(I);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},M.prototype.isub=function(b,I){this._verify2(b,I);var N=b.isub(I);return N.cmpn(0)<0&&N.iadd(this.m),N},M.prototype.shl=function(b,I){return this._verify1(b),this.imod(b.ushln(I))},M.prototype.imul=function(b,I){return this._verify2(b,I),this.imod(b.imul(I))},M.prototype.mul=function(b,I){return this._verify2(b,I),this.imod(b.mul(I))},M.prototype.isqr=function(b){return this.imul(b,b.clone())},M.prototype.sqr=function(b){return this.mul(b,b)},M.prototype.sqrt=function(b){if(b.isZero())return b.clone();var I=this.m.andln(3);if(T(I%2===1),I===3){var N=this.m.add(new L(1)).iushrn(2);return this.pow(b,N)}for(var z=this.m.subn(1),H=0;!z.isZero()&&z.andln(1)===0;)H++,z.iushrn(1);T(!z.isZero());var X=new L(1).toRed(this),W=X.redNeg(),V=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new L(2*U*U).toRed(this);this.pow(U,V).cmp(W)!==0;)U.redIAdd(W);for(var F=this.pow(U,z),k=this.pow(b,z.addn(1).iushrn(1)),Y=this.pow(b,z),Z=H;Y.cmp(X)!==0;){for(var j=Y,J=0;j.cmp(X)!==0;J++)j=j.redSqr();T(J<Z);var q=this.pow(F,new L(1).iushln(Z-J-1));k=k.redMul(q),F=q.redSqr(),Y=Y.redMul(F),Z=J}return k},M.prototype.invm=function(b){var I=b._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},M.prototype.pow=function(b,I){if(I.isZero())return new L(1).toRed(this);if(I.cmpn(1)===0)return b.clone();var N=4,z=new Array(1<<N);z[0]=new L(1).toRed(this),z[1]=b;for(var H=2;H<z.length;H++)z[H]=this.mul(z[H-1],b);var X=z[0],W=0,V=0,U=I.bitLength()%26;for(U===0&&(U=26),H=I.length-1;H>=0;H--){for(var F=I.words[H],k=U-1;k>=0;k--){var Y=F>>k&1;if(X!==z[0]&&(X=this.sqr(X)),Y===0&&W===0){V=0;continue}W<<=1,W|=Y,V++,!(V!==N&&(H!==0||k!==0))&&(X=this.mul(X,z[W]),V=0,W=0)}U=26}return X},M.prototype.convertTo=function(b){var I=b.umod(this.m);return I===b?I.clone():I},M.prototype.convertFrom=function(b){var I=b.clone();return I.red=null,I},L.mont=function(b){return new D(b)};function D(B){M.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new L(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(D,M),D.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},D.prototype.convertFrom=function(b){var I=this.imod(b.mul(this.rinv));return I.red=null,I},D.prototype.imul=function(b,I){if(b.isZero()||I.isZero())return b.words[0]=0,b.length=1,b;var N=b.imul(I),z=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=N.isub(z).iushrn(this.shift),X=H;return H.cmp(this.m)>=0?X=H.isub(this.m):H.cmpn(0)<0&&(X=H.iadd(this.m)),X._forceRed(this)},D.prototype.mul=function(b,I){if(b.isZero()||I.isZero())return new L(0)._forceRed(this);var N=b.mul(I),z=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=N.isub(z).iushrn(this.shift),X=H;return H.cmp(this.m)>=0?X=H.isub(this.m):H.cmpn(0)<0&&(X=H.iadd(this.m)),X._forceRed(this)},D.prototype.invm=function(b){var I=this.imod(b._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(A,kb)})(ic)),ic.exports}var jb=lg();const Tr=Ra(jb);var Vf={exports:{}};var JT;function Kb(){return JT||(JT=1,(function(A,g){var m=tg(),T=m.Buffer;function O(h,x){for(var t in h)x[t]=h[t]}T.from&&T.alloc&&T.allocUnsafe&&T.allocUnsafeSlow?A.exports=m:(O(m,g),g.Buffer=L);function L(h,x,t){return T(h,x,t)}L.prototype=Object.create(T.prototype),O(T,L),L.from=function(h,x,t){if(typeof h=="number")throw new TypeError("Argument must not be a number");return T(h,x,t)},L.alloc=function(h,x,t){if(typeof h!="number")throw new TypeError("Argument must be a number");var o=T(h);return x!==void 0?typeof t=="string"?o.fill(x,t):o.fill(x):o.fill(0),o},L.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return T(h)},L.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(h)}})(Vf,Vf.exports)),Vf.exports}var Y0,$T;function Zb(){if($T)return Y0;$T=1;var A=Kb().Buffer;function g(m){if(m.length>=255)throw new TypeError("Alphabet too long");for(var T=new Uint8Array(256),O=0;O<T.length;O++)T[O]=255;for(var L=0;L<m.length;L++){var h=m.charAt(L),x=h.charCodeAt(0);if(T[x]!==255)throw new TypeError(h+" is ambiguous");T[x]=L}var t=m.length,o=m.charAt(0),v=Math.log(t)/Math.log(256),r=Math.log(256)/Math.log(t);function n(a){if((Array.isArray(a)||a instanceof Uint8Array)&&(a=A.from(a)),!A.isBuffer(a))throw new TypeError("Expected Buffer");if(a.length===0)return"";for(var l=0,s=0,u=0,f=a.length;u!==f&&a[u]===0;)u++,l++;for(var c=(f-u)*r+1>>>0,d=new Uint8Array(c);u!==f;){for(var p=a[u],S=0,C=c-1;(p!==0||S<s)&&C!==-1;C--,S++)p+=256*d[C]>>>0,d[C]=p%t>>>0,p=p/t>>>0;if(p!==0)throw new Error("Non-zero carry");s=S,u++}for(var E=c-s;E!==c&&d[E]===0;)E++;for(var R=o.repeat(l);E<c;++E)R+=m.charAt(d[E]);return R}function i(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return A.alloc(0);for(var l=0,s=0,u=0;a[l]===o;)s++,l++;for(var f=(a.length-l)*v+1>>>0,c=new Uint8Array(f);l<a.length;){var d=a.charCodeAt(l);if(d>255)return;var p=T[d];if(p===255)return;for(var S=0,C=f-1;(p!==0||S<u)&&C!==-1;C--,S++)p+=t*c[C]>>>0,c[C]=p%256>>>0,p=p/256>>>0;if(p!==0)throw new Error("Non-zero carry");u=S,l++}for(var E=f-u;E!==f&&c[E]===0;)E++;var R=A.allocUnsafe(s+(f-E));R.fill(0,0,s);for(var M=s;E!==f;)R[M++]=c[E++];return R}function e(a){var l=i(a);if(l)return l;throw new Error("Non-base"+t+" character")}return{encode:n,decodeUnsafe:i,decode:e}}return Y0=g,Y0}var W0,qT;function gA(){if(qT)return W0;qT=1;var A=Zb(),g="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return W0=A(g),W0}var Qb=gA();const Yi=Ra(Qb),_T=Jw;var We={};function Ts(A,g,m){return g<=A&&A<=m}function $c(A){if(A===void 0)return{};if(A===Object(A))return A;throw TypeError("Could not convert argument to dictionary")}function Jb(A){for(var g=String(A),m=g.length,T=0,O=[];T<m;){var L=g.charCodeAt(T);if(L<55296||L>57343)O.push(L);else if(56320<=L&&L<=57343)O.push(65533);else if(55296<=L&&L<=56319)if(T===m-1)O.push(65533);else{var h=A.charCodeAt(T+1);if(56320<=h&&h<=57343){var x=L&1023,t=h&1023;O.push(65536+(x<<10)+t),T+=1}else O.push(65533)}T+=1}return O}function $b(A){for(var g="",m=0;m<A.length;++m){var T=A[m];T<=65535?g+=String.fromCharCode(T):(T-=65536,g+=String.fromCharCode((T>>10)+55296,(T&1023)+56320))}return g}var Lc=-1;function ug(A){this.tokens=[].slice.call(A)}ug.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Lc},prepend:function(A){if(Array.isArray(A))for(var g=A;g.length;)this.tokens.unshift(g.pop());else this.tokens.unshift(A)},push:function(A){if(Array.isArray(A))for(var g=A;g.length;)this.tokens.push(g.shift());else this.tokens.push(A)}};var Ll=-1;function X0(A,g){if(A)throw TypeError("Decoder error");return g||65533}var Ic="utf-8";function Pc(A,g){if(!(this instanceof Pc))return new Pc(A,g);if(A=A!==void 0?String(A).toLowerCase():Ic,A!==Ic)throw new Error("Encoding not supported. Only utf-8 is supported");g=$c(g),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!g.fatal,this._ignoreBOM=!!g.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Pc.prototype={decode:function(g,m){var T;typeof g=="object"&&g instanceof ArrayBuffer?T=new Uint8Array(g):typeof g=="object"&&"buffer"in g&&g.buffer instanceof ArrayBuffer?T=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):T=new Uint8Array(0),m=$c(m),this._streaming||(this._decoder=new qb({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!m.stream;for(var O=new ug(T),L=[],h;!O.endOfStream()&&(h=this._decoder.handler(O,O.read()),h!==Ll);)h!==null&&(Array.isArray(h)?L.push.apply(L,h):L.push(h));if(!this._streaming){do{if(h=this._decoder.handler(O,O.read()),h===Ll)break;h!==null&&(Array.isArray(h)?L.push.apply(L,h):L.push(h))}while(!O.endOfStream());this._decoder=null}return L.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(L[0]===65279?(this._BOMseen=!0,L.shift()):this._BOMseen=!0),$b(L)}};function Nc(A,g){if(!(this instanceof Nc))return new Nc(A,g);if(A=A!==void 0?String(A).toLowerCase():Ic,A!==Ic)throw new Error("Encoding not supported. Only utf-8 is supported");g=$c(g),this._streaming=!1,this._encoder=null,this._options={fatal:!!g.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Nc.prototype={encode:function(g,m){g=g?String(g):"",m=$c(m),this._streaming||(this._encoder=new _b(this._options)),this._streaming=!!m.stream;for(var T=[],O=new ug(Jb(g)),L;!O.endOfStream()&&(L=this._encoder.handler(O,O.read()),L!==Ll);)Array.isArray(L)?T.push.apply(T,L):T.push(L);if(!this._streaming){for(;L=this._encoder.handler(O,O.read()),L!==Ll;)Array.isArray(L)?T.push.apply(T,L):T.push(L);this._encoder=null}return new Uint8Array(T)}};function qb(A){var g=A.fatal,m=0,T=0,O=0,L=128,h=191;this.handler=function(x,t){if(t===Lc&&O!==0)return O=0,X0(g);if(t===Lc)return Ll;if(O===0){if(Ts(t,0,127))return t;if(Ts(t,194,223))O=1,m=t-192;else if(Ts(t,224,239))t===224&&(L=160),t===237&&(h=159),O=2,m=t-224;else if(Ts(t,240,244))t===240&&(L=144),t===244&&(h=143),O=3,m=t-240;else return X0(g);return m=m<<6*O,null}if(!Ts(t,L,h))return m=O=T=0,L=128,h=191,x.prepend(t),X0(g);if(L=128,h=191,T+=1,m+=t-128<<6*(O-T),T!==O)return null;var o=m;return m=O=T=0,o}}function _b(A){A.fatal,this.handler=function(g,m){if(m===Lc)return Ll;if(Ts(m,0,127))return m;var T,O;Ts(m,128,2047)?(T=1,O=192):Ts(m,2048,65535)?(T=2,O=224):Ts(m,65536,1114111)&&(T=3,O=240);for(var L=[(m>>6*T)+O];T>0;){var h=m>>6*(T-1);L.push(128|h&63),T-=1}return L}}const t8=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Pc,TextEncoder:Nc},Symbol.toStringTag,{value:"Module"})),e8=kc(t8);var tS;function i8(){if(tS)return We;tS=1;var A=We&&We.__createBinding||(Object.create?(function(E,R,M,D){D===void 0&&(D=M),Object.defineProperty(E,D,{enumerable:!0,get:function(){return R[M]}})}):(function(E,R,M,D){D===void 0&&(D=M),E[D]=R[M]})),g=We&&We.__setModuleDefault||(Object.create?(function(E,R){Object.defineProperty(E,"default",{enumerable:!0,value:R})}):function(E,R){E.default=R}),m=We&&We.__decorate||function(E,R,M,D){var B=arguments.length,b=B<3?R:D===null?D=Object.getOwnPropertyDescriptor(R,M):D,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(E,R,M,D);else for(var N=E.length-1;N>=0;N--)(I=E[N])&&(b=(B<3?I(b):B>3?I(R,M,b):I(R,M))||b);return B>3&&b&&Object.defineProperty(R,M,b),b},T=We&&We.__importStar||function(E){if(E&&E.__esModule)return E;var R={};if(E!=null)for(var M in E)M!=="default"&&Object.hasOwnProperty.call(E,M)&&A(R,E,M);return g(R,E),R},O=We&&We.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(We,"__esModule",{value:!0}),We.deserializeUnchecked=We.deserialize=We.serialize=We.BinaryReader=We.BinaryWriter=We.BorshError=We.baseDecode=We.baseEncode=void 0;const L=O(lg()),h=O(gA()),x=T(e8),t=typeof TextDecoder!="function"?x.TextDecoder:TextDecoder,o=new t("utf-8",{fatal:!0});function v(E){return typeof E=="string"&&(E=Buffer.from(E,"utf8")),h.default.encode(Buffer.from(E))}We.baseEncode=v;function r(E){return Buffer.from(h.default.decode(E))}We.baseDecode=r;const n=1024;class i extends Error{constructor(R){super(R),this.fieldPath=[],this.originalMessage=R}addToFieldPath(R){this.fieldPath.splice(0,0,R),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}We.BorshError=i;class e{constructor(){this.buf=Buffer.alloc(n),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(n)]))}writeU8(R){this.maybeResize(),this.buf.writeUInt8(R,this.length),this.length+=1}writeU16(R){this.maybeResize(),this.buf.writeUInt16LE(R,this.length),this.length+=2}writeU32(R){this.maybeResize(),this.buf.writeUInt32LE(R,this.length),this.length+=4}writeU64(R){this.maybeResize(),this.writeBuffer(Buffer.from(new L.default(R).toArray("le",8)))}writeU128(R){this.maybeResize(),this.writeBuffer(Buffer.from(new L.default(R).toArray("le",16)))}writeU256(R){this.maybeResize(),this.writeBuffer(Buffer.from(new L.default(R).toArray("le",32)))}writeU512(R){this.maybeResize(),this.writeBuffer(Buffer.from(new L.default(R).toArray("le",64)))}writeBuffer(R){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),R,Buffer.alloc(n)]),this.length+=R.length}writeString(R){this.maybeResize();const M=Buffer.from(R,"utf8");this.writeU32(M.length),this.writeBuffer(M)}writeFixedArray(R){this.writeBuffer(Buffer.from(R))}writeArray(R,M){this.maybeResize(),this.writeU32(R.length);for(const D of R)this.maybeResize(),M(D)}toArray(){return this.buf.subarray(0,this.length)}}We.BinaryWriter=e;function a(E,R,M){const D=M.value;M.value=function(...B){try{return D.apply(this,B)}catch(b){if(b instanceof RangeError){const I=b.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(I)>=0)throw new i("Reached the end of buffer when deserializing")}throw b}}}class l{constructor(R){this.buf=R,this.offset=0}readU8(){const R=this.buf.readUInt8(this.offset);return this.offset+=1,R}readU16(){const R=this.buf.readUInt16LE(this.offset);return this.offset+=2,R}readU32(){const R=this.buf.readUInt32LE(this.offset);return this.offset+=4,R}readU64(){const R=this.readBuffer(8);return new L.default(R,"le")}readU128(){const R=this.readBuffer(16);return new L.default(R,"le")}readU256(){const R=this.readBuffer(32);return new L.default(R,"le")}readU512(){const R=this.readBuffer(64);return new L.default(R,"le")}readBuffer(R){if(this.offset+R>this.buf.length)throw new i(`Expected buffer length ${R} isn't within bounds`);const M=this.buf.slice(this.offset,this.offset+R);return this.offset+=R,M}readString(){const R=this.readU32(),M=this.readBuffer(R);try{return o.decode(M)}catch(D){throw new i(`Error decoding UTF-8 string: ${D}`)}}readFixedArray(R){return new Uint8Array(this.readBuffer(R))}readArray(R){const M=this.readU32(),D=Array();for(let B=0;B<M;++B)D.push(R());return D}}m([a],l.prototype,"readU8",null),m([a],l.prototype,"readU16",null),m([a],l.prototype,"readU32",null),m([a],l.prototype,"readU64",null),m([a],l.prototype,"readU128",null),m([a],l.prototype,"readU256",null),m([a],l.prototype,"readU512",null),m([a],l.prototype,"readString",null),m([a],l.prototype,"readFixedArray",null),m([a],l.prototype,"readArray",null),We.BinaryReader=l;function s(E){return E.charAt(0).toUpperCase()+E.slice(1)}function u(E,R,M,D,B){try{if(typeof D=="string")B[`write${s(D)}`](M);else if(D instanceof Array)if(typeof D[0]=="number"){if(M.length!==D[0])throw new i(`Expecting byte array of length ${D[0]}, but got ${M.length} bytes`);B.writeFixedArray(M)}else if(D.length===2&&typeof D[1]=="number"){if(M.length!==D[1])throw new i(`Expecting byte array of length ${D[1]}, but got ${M.length} bytes`);for(let b=0;b<D[1];b++)u(E,null,M[b],D[0],B)}else B.writeArray(M,b=>{u(E,R,b,D[0],B)});else if(D.kind!==void 0)switch(D.kind){case"option":{M==null?B.writeU8(0):(B.writeU8(1),u(E,R,M,D.type,B));break}case"map":{B.writeU32(M.size),M.forEach((b,I)=>{u(E,R,I,D.key,B),u(E,R,b,D.value,B)});break}default:throw new i(`FieldType ${D} unrecognized`)}else f(E,M,B)}catch(b){throw b instanceof i&&b.addToFieldPath(R),b}}function f(E,R,M){if(typeof R.borshSerialize=="function"){R.borshSerialize(M);return}const D=E.get(R.constructor);if(!D)throw new i(`Class ${R.constructor.name} is missing in schema`);if(D.kind==="struct")D.fields.map(([B,b])=>{u(E,B,R[B],b,M)});else if(D.kind==="enum"){const B=R[D.field];for(let b=0;b<D.values.length;++b){const[I,N]=D.values[b];if(I===B){M.writeU8(b),u(E,I,R[I],N,M);break}}}else throw new i(`Unexpected schema kind: ${D.kind} for ${R.constructor.name}`)}function c(E,R,M=e){const D=new M;return f(E,R,D),D.toArray()}We.serialize=c;function d(E,R,M,D){try{if(typeof M=="string")return D[`read${s(M)}`]();if(M instanceof Array){if(typeof M[0]=="number")return D.readFixedArray(M[0]);if(typeof M[1]=="number"){const B=[];for(let b=0;b<M[1];b++)B.push(d(E,null,M[0],D));return B}else return D.readArray(()=>d(E,R,M[0],D))}if(M.kind==="option")return D.readU8()?d(E,R,M.type,D):void 0;if(M.kind==="map"){let B=new Map;const b=D.readU32();for(let I=0;I<b;I++){const N=d(E,R,M.key,D),z=d(E,R,M.value,D);B.set(N,z)}return B}return p(E,M,D)}catch(B){throw B instanceof i&&B.addToFieldPath(R),B}}function p(E,R,M){if(typeof R.borshDeserialize=="function")return R.borshDeserialize(M);const D=E.get(R);if(!D)throw new i(`Class ${R.name} is missing in schema`);if(D.kind==="struct"){const B={};for(const[b,I]of E.get(R).fields)B[b]=d(E,b,I,M);return new R(B)}if(D.kind==="enum"){const B=M.readU8();if(B>=D.values.length)throw new i(`Enum index: ${B} is out of range`);const[b,I]=D.values[B],N=d(E,b,I,M);return new R({[b]:N})}throw new i(`Unexpected schema kind: ${D.kind} for ${R.constructor.name}`)}function S(E,R,M,D=l){const B=new D(M),b=p(E,R,B);if(B.offset<M.length)throw new i(`Unexpected ${M.length-B.offset} bytes after deserialized data`);return b}We.deserialize=S;function C(E,R,M,D=l){const B=new D(M);return p(E,R,B)}return We.deserializeUnchecked=C,We}var k0=i8(),Mt={},eS;function n8(){if(eS)return Mt;eS=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.s16=Mt.s8=Mt.nu64be=Mt.u48be=Mt.u40be=Mt.u32be=Mt.u24be=Mt.u16be=Mt.nu64=Mt.u48=Mt.u40=Mt.u32=Mt.u24=Mt.u16=Mt.u8=Mt.offset=Mt.greedy=Mt.Constant=Mt.UTF8=Mt.CString=Mt.Blob=Mt.Boolean=Mt.BitField=Mt.BitStructure=Mt.VariantLayout=Mt.Union=Mt.UnionLayoutDiscriminator=Mt.UnionDiscriminator=Mt.Structure=Mt.Sequence=Mt.DoubleBE=Mt.Double=Mt.FloatBE=Mt.Float=Mt.NearInt64BE=Mt.NearInt64=Mt.NearUInt64BE=Mt.NearUInt64=Mt.IntBE=Mt.Int=Mt.UIntBE=Mt.UInt=Mt.OffsetLayout=Mt.GreedyCount=Mt.ExternalLayout=Mt.bindConstructorLayout=Mt.nameWithProperty=Mt.Layout=Mt.uint8ArrayToBuffer=Mt.checkUint8Array=void 0,Mt.constant=Mt.utf8=Mt.cstr=Mt.blob=Mt.unionLayoutDiscriminator=Mt.union=Mt.seq=Mt.bits=Mt.struct=Mt.f64be=Mt.f64=Mt.f32be=Mt.f32=Mt.ns64be=Mt.s48be=Mt.s40be=Mt.s32be=Mt.s24be=Mt.s16be=Mt.ns64=Mt.s48=Mt.s40=Mt.s32=Mt.s24=void 0;const A=tg();function g(U){if(!(U instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Mt.checkUint8Array=g;function m(U){return g(U),A.Buffer.from(U.buffer,U.byteOffset,U.length)}Mt.uint8ArrayToBuffer=m;class T{constructor(F,k){if(!Number.isInteger(F))throw new TypeError("span must be an integer");this.span=F,this.property=k}makeDestinationObject(){return{}}getSpan(F,k){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(F){const k=Object.create(this.constructor.prototype);return Object.assign(k,this),k.property=F,k}fromArray(F){}}Mt.Layout=T;function O(U,F){return F.property?U+"["+F.property+"]":U}Mt.nameWithProperty=O;function L(U,F){if(typeof U!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(U,"layout_"))throw new Error("Class is already bound to a layout");if(!(F&&F instanceof T))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(F,"boundConstructor_"))throw new Error("layout is already bound to a constructor");U.layout_=F,F.boundConstructor_=U,F.makeDestinationObject=(()=>new U),Object.defineProperty(U.prototype,"encode",{value(k,Y){return F.encode(this,k,Y)},writable:!0}),Object.defineProperty(U,"decode",{value(k,Y){return F.decode(k,Y)},writable:!0})}Mt.bindConstructorLayout=L;class h extends T{isCount(){throw new Error("ExternalLayout is abstract")}}Mt.ExternalLayout=h;class x extends h{constructor(F=1,k){if(!Number.isInteger(F)||0>=F)throw new TypeError("elementSpan must be a (positive) integer");super(-1,k),this.elementSpan=F}isCount(){return!0}decode(F,k=0){g(F);const Y=F.length-k;return Math.floor(Y/this.elementSpan)}encode(F,k,Y){return 0}}Mt.GreedyCount=x;class t extends h{constructor(F,k=0,Y){if(!(F instanceof T))throw new TypeError("layout must be a Layout");if(!Number.isInteger(k))throw new TypeError("offset must be integer or undefined");super(F.span,Y||F.property),this.layout=F,this.offset=k}isCount(){return this.layout instanceof o||this.layout instanceof v}decode(F,k=0){return this.layout.decode(F,k+this.offset)}encode(F,k,Y=0){return this.layout.encode(F,k,Y+this.offset)}}Mt.OffsetLayout=t;class o extends T{constructor(F,k){if(super(F,k),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(F,k=0){return m(F).readUIntLE(k,this.span)}encode(F,k,Y=0){return m(k).writeUIntLE(F,Y,this.span),this.span}}Mt.UInt=o;class v extends T{constructor(F,k){if(super(F,k),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(F,k=0){return m(F).readUIntBE(k,this.span)}encode(F,k,Y=0){return m(k).writeUIntBE(F,Y,this.span),this.span}}Mt.UIntBE=v;class r extends T{constructor(F,k){if(super(F,k),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(F,k=0){return m(F).readIntLE(k,this.span)}encode(F,k,Y=0){return m(k).writeIntLE(F,Y,this.span),this.span}}Mt.Int=r;class n extends T{constructor(F,k){if(super(F,k),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(F,k=0){return m(F).readIntBE(k,this.span)}encode(F,k,Y=0){return m(k).writeIntBE(F,Y,this.span),this.span}}Mt.IntBE=n;const i=Math.pow(2,32);function e(U){const F=Math.floor(U/i),k=U-F*i;return{hi32:F,lo32:k}}function a(U,F){return U*i+F}class l extends T{constructor(F){super(8,F)}decode(F,k=0){const Y=m(F),Z=Y.readUInt32LE(k),j=Y.readUInt32LE(k+4);return a(j,Z)}encode(F,k,Y=0){const Z=e(F),j=m(k);return j.writeUInt32LE(Z.lo32,Y),j.writeUInt32LE(Z.hi32,Y+4),8}}Mt.NearUInt64=l;class s extends T{constructor(F){super(8,F)}decode(F,k=0){const Y=m(F),Z=Y.readUInt32BE(k),j=Y.readUInt32BE(k+4);return a(Z,j)}encode(F,k,Y=0){const Z=e(F),j=m(k);return j.writeUInt32BE(Z.hi32,Y),j.writeUInt32BE(Z.lo32,Y+4),8}}Mt.NearUInt64BE=s;class u extends T{constructor(F){super(8,F)}decode(F,k=0){const Y=m(F),Z=Y.readUInt32LE(k),j=Y.readInt32LE(k+4);return a(j,Z)}encode(F,k,Y=0){const Z=e(F),j=m(k);return j.writeUInt32LE(Z.lo32,Y),j.writeInt32LE(Z.hi32,Y+4),8}}Mt.NearInt64=u;class f extends T{constructor(F){super(8,F)}decode(F,k=0){const Y=m(F),Z=Y.readInt32BE(k),j=Y.readUInt32BE(k+4);return a(Z,j)}encode(F,k,Y=0){const Z=e(F),j=m(k);return j.writeInt32BE(Z.hi32,Y),j.writeUInt32BE(Z.lo32,Y+4),8}}Mt.NearInt64BE=f;class c extends T{constructor(F){super(4,F)}decode(F,k=0){return m(F).readFloatLE(k)}encode(F,k,Y=0){return m(k).writeFloatLE(F,Y),4}}Mt.Float=c;class d extends T{constructor(F){super(4,F)}decode(F,k=0){return m(F).readFloatBE(k)}encode(F,k,Y=0){return m(k).writeFloatBE(F,Y),4}}Mt.FloatBE=d;class p extends T{constructor(F){super(8,F)}decode(F,k=0){return m(F).readDoubleLE(k)}encode(F,k,Y=0){return m(k).writeDoubleLE(F,Y),8}}Mt.Double=p;class S extends T{constructor(F){super(8,F)}decode(F,k=0){return m(F).readDoubleBE(k)}encode(F,k,Y=0){return m(k).writeDoubleBE(F,Y),8}}Mt.DoubleBE=S;class C extends T{constructor(F,k,Y){if(!(F instanceof T))throw new TypeError("elementLayout must be a Layout");if(!(k instanceof h&&k.isCount()||Number.isInteger(k)&&0<=k))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let Z=-1;!(k instanceof h)&&0<F.span&&(Z=k*F.span),super(Z,Y),this.elementLayout=F,this.count=k}getSpan(F,k=0){if(0<=this.span)return this.span;let Y=0,Z=this.count;if(Z instanceof h&&(Z=Z.decode(F,k)),0<this.elementLayout.span)Y=Z*this.elementLayout.span;else{let j=0;for(;j<Z;)Y+=this.elementLayout.getSpan(F,k+Y),++j}return Y}decode(F,k=0){const Y=[];let Z=0,j=this.count;for(j instanceof h&&(j=j.decode(F,k));Z<j;)Y.push(this.elementLayout.decode(F,k)),k+=this.elementLayout.getSpan(F,k),Z+=1;return Y}encode(F,k,Y=0){const Z=this.elementLayout,j=F.reduce((J,q)=>J+Z.encode(q,k,Y+J),0);return this.count instanceof h&&this.count.encode(F.length,k,Y),j}}Mt.Sequence=C;class E extends T{constructor(F,k,Y){if(!(Array.isArray(F)&&F.reduce((j,J)=>j&&J instanceof T,!0)))throw new TypeError("fields must be array of Layout instances");typeof k=="boolean"&&Y===void 0&&(Y=k,k=void 0);for(const j of F)if(0>j.span&&j.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let Z=-1;try{Z=F.reduce((j,J)=>j+J.getSpan(),0)}catch{}super(Z,k),this.fields=F,this.decodePrefixes=!!Y}getSpan(F,k=0){if(0<=this.span)return this.span;let Y=0;try{Y=this.fields.reduce((Z,j)=>{const J=j.getSpan(F,k);return k+=J,Z+J},0)}catch{throw new RangeError("indeterminate span")}return Y}decode(F,k=0){g(F);const Y=this.makeDestinationObject();for(const Z of this.fields)if(Z.property!==void 0&&(Y[Z.property]=Z.decode(F,k)),k+=Z.getSpan(F,k),this.decodePrefixes&&F.length===k)break;return Y}encode(F,k,Y=0){const Z=Y;let j=0,J=0;for(const q of this.fields){let et=q.span;if(J=0<et?et:0,q.property!==void 0){const it=F[q.property];it!==void 0&&(J=q.encode(it,k,Y),0>et&&(et=q.getSpan(k,Y)))}j=Y,Y+=et}return j+J-Z}fromArray(F){const k=this.makeDestinationObject();for(const Y of this.fields)Y.property!==void 0&&0<F.length&&(k[Y.property]=F.shift());return k}layoutFor(F){if(typeof F!="string")throw new TypeError("property must be string");for(const k of this.fields)if(k.property===F)return k}offsetOf(F){if(typeof F!="string")throw new TypeError("property must be string");let k=0;for(const Y of this.fields){if(Y.property===F)return k;0>Y.span?k=-1:0<=k&&(k+=Y.span)}}}Mt.Structure=E;class R{constructor(F){this.property=F}decode(F,k){throw new Error("UnionDiscriminator is abstract")}encode(F,k,Y){throw new Error("UnionDiscriminator is abstract")}}Mt.UnionDiscriminator=R;class M extends R{constructor(F,k){if(!(F instanceof h&&F.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(k||F.property||"variant"),this.layout=F}decode(F,k){return this.layout.decode(F,k)}encode(F,k,Y){return this.layout.encode(F,k,Y)}}Mt.UnionLayoutDiscriminator=M;class D extends T{constructor(F,k,Y){let Z;if(F instanceof o||F instanceof v)Z=new M(new t(F));else if(F instanceof h&&F.isCount())Z=new M(F);else if(F instanceof R)Z=F;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(k===void 0&&(k=null),!(k===null||k instanceof T))throw new TypeError("defaultLayout must be null or a Layout");if(k!==null){if(0>k.span)throw new Error("defaultLayout must have constant span");k.property===void 0&&(k=k.replicate("content"))}let j=-1;k&&(j=k.span,0<=j&&(F instanceof o||F instanceof v)&&(j+=Z.layout.span)),super(j,Y),this.discriminator=Z,this.usesPrefixDiscriminator=F instanceof o||F instanceof v,this.defaultLayout=k,this.registry={};let J=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(q){return J(q)},this.configGetSourceVariant=function(q){J=q.bind(this)}}getSpan(F,k=0){if(0<=this.span)return this.span;const Y=this.getVariant(F,k);if(!Y)throw new Error("unable to determine span for unrecognized variant");return Y.getSpan(F,k)}defaultGetSourceVariant(F){if(Object.prototype.hasOwnProperty.call(F,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(F,this.defaultLayout.property))return;const k=this.registry[F[this.discriminator.property]];if(k&&(!k.layout||k.property&&Object.prototype.hasOwnProperty.call(F,k.property)))return k}else for(const k in this.registry){const Y=this.registry[k];if(Y.property&&Object.prototype.hasOwnProperty.call(F,Y.property))return Y}throw new Error("unable to infer src variant")}decode(F,k=0){let Y;const Z=this.discriminator,j=Z.decode(F,k),J=this.registry[j];if(J===void 0){const q=this.defaultLayout;let et=0;this.usesPrefixDiscriminator&&(et=Z.layout.span),Y=this.makeDestinationObject(),Y[Z.property]=j,Y[q.property]=q.decode(F,k+et)}else Y=J.decode(F,k);return Y}encode(F,k,Y=0){const Z=this.getSourceVariant(F);if(Z===void 0){const j=this.discriminator,J=this.defaultLayout;let q=0;return this.usesPrefixDiscriminator&&(q=j.layout.span),j.encode(F[j.property],k,Y),q+J.encode(F[J.property],k,Y+q)}return Z.encode(F,k,Y)}addVariant(F,k,Y){const Z=new B(this,F,k,Y);return this.registry[F]=Z,Z}getVariant(F,k=0){let Y;return F instanceof Uint8Array?Y=this.discriminator.decode(F,k):Y=F,this.registry[Y]}}Mt.Union=D;class B extends T{constructor(F,k,Y,Z){if(!(F instanceof D))throw new TypeError("union must be a Union");if(!Number.isInteger(k)||0>k)throw new TypeError("variant must be a (non-negative) integer");if(typeof Y=="string"&&Z===void 0&&(Z=Y,Y=null),Y){if(!(Y instanceof T))throw new TypeError("layout must be a Layout");if(F.defaultLayout!==null&&0<=Y.span&&Y.span>F.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof Z!="string")throw new TypeError("variant must have a String property")}let j=F.span;0>F.span&&(j=Y?Y.span:0,0<=j&&F.usesPrefixDiscriminator&&(j+=F.discriminator.layout.span)),super(j,Z),this.union=F,this.variant=k,this.layout=Y||null}getSpan(F,k=0){if(0<=this.span)return this.span;let Y=0;this.union.usesPrefixDiscriminator&&(Y=this.union.discriminator.layout.span);let Z=0;return this.layout&&(Z=this.layout.getSpan(F,k+Y)),Y+Z}decode(F,k=0){const Y=this.makeDestinationObject();if(this!==this.union.getVariant(F,k))throw new Error("variant mismatch");let Z=0;return this.union.usesPrefixDiscriminator&&(Z=this.union.discriminator.layout.span),this.layout?Y[this.property]=this.layout.decode(F,k+Z):this.property?Y[this.property]=!0:this.union.usesPrefixDiscriminator&&(Y[this.union.discriminator.property]=this.variant),Y}encode(F,k,Y=0){let Z=0;if(this.union.usesPrefixDiscriminator&&(Z=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(F,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,k,Y);let j=Z;if(this.layout&&(this.layout.encode(F[this.property],k,Y+Z),j+=this.layout.getSpan(k,Y+Z),0<=this.union.span&&j>this.union.span))throw new Error("encoded variant overruns containing union");return j}fromArray(F){if(this.layout)return this.layout.fromArray(F)}}Mt.VariantLayout=B;function b(U){return 0>U&&(U+=4294967296),U}class I extends T{constructor(F,k,Y){if(!(F instanceof o||F instanceof v))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof k=="string"&&Y===void 0&&(Y=k,k=!1),4<F.span)throw new RangeError("word cannot exceed 32 bits");super(F.span,Y),this.word=F,this.msb=!!k,this.fields=[];let Z=0;this._packedSetValue=function(j){return Z=b(j),this},this._packedGetValue=function(){return Z}}decode(F,k=0){const Y=this.makeDestinationObject(),Z=this.word.decode(F,k);this._packedSetValue(Z);for(const j of this.fields)j.property!==void 0&&(Y[j.property]=j.decode(F));return Y}encode(F,k,Y=0){const Z=this.word.decode(k,Y);this._packedSetValue(Z);for(const j of this.fields)if(j.property!==void 0){const J=F[j.property];J!==void 0&&j.encode(J)}return this.word.encode(this._packedGetValue(),k,Y)}addField(F,k){const Y=new N(this,F,k);return this.fields.push(Y),Y}addBoolean(F){const k=new z(this,F);return this.fields.push(k),k}fieldFor(F){if(typeof F!="string")throw new TypeError("property must be string");for(const k of this.fields)if(k.property===F)return k}}Mt.BitStructure=I;class N{constructor(F,k,Y){if(!(F instanceof I))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(k)||0>=k)throw new TypeError("bits must be positive integer");const Z=8*F.span,j=F.fields.reduce((J,q)=>J+q.bits,0);if(k+j>Z)throw new Error("bits too long for span remainder ("+(Z-j)+" of "+Z+" remain)");this.container=F,this.bits=k,this.valueMask=(1<<k)-1,k===32&&(this.valueMask=4294967295),this.start=j,this.container.msb&&(this.start=Z-j-k),this.wordMask=b(this.valueMask<<this.start),this.property=Y}decode(F,k){const Y=this.container._packedGetValue();return b(Y&this.wordMask)>>>this.start}encode(F){if(typeof F!="number"||!Number.isInteger(F)||F!==b(F&this.valueMask))throw new TypeError(O("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const k=this.container._packedGetValue(),Y=b(F<<this.start);this.container._packedSetValue(b(k&~this.wordMask)|Y)}}Mt.BitField=N;class z extends N{constructor(F,k){super(F,1,k)}decode(F,k){return!!super.decode(F,k)}encode(F){typeof F=="boolean"&&(F=+F),super.encode(F)}}Mt.Boolean=z;class H extends T{constructor(F,k){if(!(F instanceof h&&F.isCount()||Number.isInteger(F)&&0<=F))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let Y=-1;F instanceof h||(Y=F),super(Y,k),this.length=F}getSpan(F,k){let Y=this.span;return 0>Y&&(Y=this.length.decode(F,k)),Y}decode(F,k=0){let Y=this.span;return 0>Y&&(Y=this.length.decode(F,k)),m(F).slice(k,k+Y)}encode(F,k,Y){let Z=this.length;if(this.length instanceof h&&(Z=F.length),!(F instanceof Uint8Array&&Z===F.length))throw new TypeError(O("Blob.encode",this)+" requires (length "+Z+") Uint8Array as src");if(Y+Z>k.length)throw new RangeError("encoding overruns Uint8Array");const j=m(F);return m(k).write(j.toString("hex"),Y,Z,"hex"),this.length instanceof h&&this.length.encode(Z,k,Y),Z}}Mt.Blob=H;class X extends T{constructor(F){super(-1,F)}getSpan(F,k=0){g(F);let Y=k;for(;Y<F.length&&F[Y]!==0;)Y+=1;return 1+Y-k}decode(F,k=0){const Y=this.getSpan(F,k);return m(F).slice(k,k+Y-1).toString("utf-8")}encode(F,k,Y=0){typeof F!="string"&&(F=String(F));const Z=A.Buffer.from(F,"utf8"),j=Z.length;if(Y+j>k.length)throw new RangeError("encoding overruns Buffer");const J=m(k);return Z.copy(J,Y),J[Y+j]=0,j+1}}Mt.CString=X;class W extends T{constructor(F,k){if(typeof F=="string"&&k===void 0&&(k=F,F=void 0),F===void 0)F=-1;else if(!Number.isInteger(F))throw new TypeError("maxSpan must be an integer");super(-1,k),this.maxSpan=F}getSpan(F,k=0){return g(F),F.length-k}decode(F,k=0){const Y=this.getSpan(F,k);if(0<=this.maxSpan&&this.maxSpan<Y)throw new RangeError("text length exceeds maxSpan");return m(F).slice(k,k+Y).toString("utf-8")}encode(F,k,Y=0){typeof F!="string"&&(F=String(F));const Z=A.Buffer.from(F,"utf8"),j=Z.length;if(0<=this.maxSpan&&this.maxSpan<j)throw new RangeError("text length exceeds maxSpan");if(Y+j>k.length)throw new RangeError("encoding overruns Buffer");return Z.copy(m(k),Y),j}}Mt.UTF8=W;class V extends T{constructor(F,k){super(0,k),this.value=F}decode(F,k){return this.value}encode(F,k,Y){return 0}}return Mt.Constant=V,Mt.greedy=((U,F)=>new x(U,F)),Mt.offset=((U,F,k)=>new t(U,F,k)),Mt.u8=(U=>new o(1,U)),Mt.u16=(U=>new o(2,U)),Mt.u24=(U=>new o(3,U)),Mt.u32=(U=>new o(4,U)),Mt.u40=(U=>new o(5,U)),Mt.u48=(U=>new o(6,U)),Mt.nu64=(U=>new l(U)),Mt.u16be=(U=>new v(2,U)),Mt.u24be=(U=>new v(3,U)),Mt.u32be=(U=>new v(4,U)),Mt.u40be=(U=>new v(5,U)),Mt.u48be=(U=>new v(6,U)),Mt.nu64be=(U=>new s(U)),Mt.s8=(U=>new r(1,U)),Mt.s16=(U=>new r(2,U)),Mt.s24=(U=>new r(3,U)),Mt.s32=(U=>new r(4,U)),Mt.s40=(U=>new r(5,U)),Mt.s48=(U=>new r(6,U)),Mt.ns64=(U=>new u(U)),Mt.s16be=(U=>new n(2,U)),Mt.s24be=(U=>new n(3,U)),Mt.s32be=(U=>new n(4,U)),Mt.s40be=(U=>new n(5,U)),Mt.s48be=(U=>new n(6,U)),Mt.ns64be=(U=>new f(U)),Mt.f32=(U=>new c(U)),Mt.f32be=(U=>new d(U)),Mt.f64=(U=>new p(U)),Mt.f64be=(U=>new S(U)),Mt.struct=((U,F,k)=>new E(U,F,k)),Mt.bits=((U,F,k)=>new I(U,F,k)),Mt.seq=((U,F,k)=>new C(U,F,k)),Mt.union=((U,F,k)=>new D(U,F,k)),Mt.unionLayoutDiscriminator=((U,F)=>new M(U,F)),Mt.blob=((U,F)=>new H(U,F)),Mt.cstr=(U=>new X(U)),Mt.utf8=((U,F)=>new W(U,F)),Mt.constant=((U,F)=>new V(U,F)),Mt}var lt=n8(),r8=8078e3,s8=8078001,a8=8078004,o8=8078005,l8=8078006,u8=8078011;function yA(A){return Array.isArray(A)?"%5B"+A.map(yA).join("%2C%20")+"%5D":typeof A=="bigint"?`${A}n`:encodeURIComponent(String(A!=null&&Object.getPrototypeOf(A)===null?{...A}:A))}function h8([A,g]){return`${A}=${yA(g)}`}function f8(A){const g=Object.entries(A).map(h8).join("&");return btoa(g)}function c8(A,g={}){{let m=`Solana error #${A}; Decode this error by running \`npx @solana/errors decode -- ${A}`;return Object.keys(g).length&&(m+=` '${f8(g)}'`),`${m}\``}}var El=class extends Error{cause=this.cause;context;constructor(...[A,g]){let m,T;if(g){const{cause:L,...h}=g;L&&(T={cause:L}),Object.keys(h).length>0&&(m=h)}const O=c8(A,m);super(O,T),this.context={__code:A,...m},this.name="SolanaError"}};function d8(A,g){return"fixedSize"in g?g.fixedSize:g.getSizeFromValue(A)}function v8(A){return Object.freeze({...A,encode:g=>{const m=new Uint8Array(d8(g,A));return A.write(g,m,0),m}})}function p8(A){return Object.freeze({...A,decode:(g,m=0)=>A.read(g,m)[0]})}function ul(A){return"fixedSize"in A&&typeof A.fixedSize=="number"}function m8(A,g){if(ul(A)!==ul(g))throw new El(a8);if(ul(A)&&ul(g)&&A.fixedSize!==g.fixedSize)throw new El(o8,{decoderFixedSize:g.fixedSize,encoderFixedSize:A.fixedSize});if(!ul(A)&&!ul(g)&&A.maxSize!==g.maxSize)throw new El(l8,{decoderMaxSize:g.maxSize,encoderMaxSize:A.maxSize});return{...g,...A,decode:g.decode,encode:A.encode,read:g.read,write:A.write}}function g8(A,g,m=0){if(g.length-m<=0)throw new El(r8,{codecDescription:A})}function y8(A,g,m,T=0){const O=m.length-T;if(O<g)throw new El(s8,{bytesLength:O,codecDescription:A,expected:g})}function x8(A,g,m,T){if(T<g||T>m)throw new El(u8,{codecDescription:A,max:m,min:g,value:T})}function xA(A){return A?.endian!==1}function T8(A){return v8({fixedSize:A.size,write(g,m,T){A.range&&x8(A.name,A.range[0],A.range[1],g);const O=new ArrayBuffer(A.size);return A.set(new DataView(O),g,xA(A.config)),m.set(new Uint8Array(O),T),T+A.size}})}function S8(A){return p8({fixedSize:A.size,read(g,m=0){g8(A.name,g,m),y8(A.name,A.size,g,m);const T=new DataView(E8(g,m,A.size));return[A.get(T,xA(A.config)),m+A.size]}})}function E8(A,g,m){const T=A.byteOffset+(g??0),O=m??A.byteLength;return A.buffer.slice(T,T+O)}var TA=(A={})=>T8({config:A,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(g,m,T)=>g.setBigUint64(0,BigInt(m),T),size:8}),w8=(A={})=>S8({config:A,get:(g,m)=>g.getBigUint64(0,m),name:"u64",size:8}),A8=(A={})=>m8(TA(A),w8(A));let C8=class extends TypeError{constructor(g,m){let T;const{message:O,explanation:L,...h}=g,{path:x}=g,t=x.length===0?O:`At path: ${x.join(".")} -- ${O}`;super(L??t),L!=null&&(this.cause=t),Object.assign(this,h),this.name=this.constructor.name,this.failures=()=>T??(T=[g,...m()])}};function R8(A){return vh(A)&&typeof A[Symbol.iterator]=="function"}function vh(A){return typeof A=="object"&&A!=null}function Dc(A){return vh(A)&&!Array.isArray(A)}function Ar(A){return typeof A=="symbol"?A.toString():typeof A=="string"?JSON.stringify(A):`${A}`}function M8(A){const{done:g,value:m}=A.next();return g?void 0:m}function O8(A,g,m,T){if(A===!0)return;A===!1?A={}:typeof A=="string"&&(A={message:A});const{path:O,branch:L}=g,{type:h}=m,{refinement:x,message:t=`Expected a value of type \`${h}\`${x?` with refinement \`${x}\``:""}, but received: \`${Ar(T)}\``}=A;return{value:T,type:h,refinement:x,key:O[O.length-1],path:O,branch:L,...A,message:t}}function*iS(A,g,m,T){R8(A)||(A=[A]);for(const O of A){const L=O8(O,g,m,T);L&&(yield L)}}function*hg(A,g,m={}){const{path:T=[],branch:O=[A],coerce:L=!1,mask:h=!1}=m,x={path:T,branch:O,mask:h};L&&(A=g.coercer(A,x));let t="valid";for(const o of g.validator(A,x))o.explanation=m.message,t="not_valid",yield[o,void 0];for(let[o,v,r]of g.entries(A,x)){const n=hg(v,r,{path:o===void 0?T:[...T,o],branch:o===void 0?O:[...O,v],coerce:L,mask:h,message:m.message});for(const i of n)i[0]?(t=i[0].refinement!=null?"not_refined":"not_valid",yield[i[0],void 0]):L&&(v=i[1],o===void 0?A=v:A instanceof Map?A.set(o,v):A instanceof Set?A.add(v):vh(A)&&(v!==void 0||o in A)&&(A[o]=v))}if(t!=="not_valid")for(const o of g.refiner(A,x))o.explanation=m.message,t="not_refined",yield[o,void 0];t==="valid"&&(yield[void 0,A])}let jr=class{constructor(g){const{type:m,schema:T,validator:O,refiner:L,coercer:h=t=>t,entries:x=function*(){}}=g;this.type=m,this.schema=T,this.entries=x,this.coercer=h,O?this.validator=(t,o)=>{const v=O(t,o);return iS(v,o,this,t)}:this.validator=()=>[],L?this.refiner=(t,o)=>{const v=L(t,o);return iS(v,o,this,t)}:this.refiner=()=>[]}assert(g,m){return SA(g,this,m)}create(g,m){return jt(g,this,m)}is(g){return EA(g,this)}mask(g,m){return b8(g,this,m)}validate(g,m={}){return ph(g,this,m)}};function SA(A,g,m){const T=ph(A,g,{message:m});if(T[0])throw T[0]}function jt(A,g,m){const T=ph(A,g,{coerce:!0,message:m});if(T[0])throw T[0];return T[1]}function b8(A,g,m){const T=ph(A,g,{coerce:!0,mask:!0,message:m});if(T[0])throw T[0];return T[1]}function EA(A,g){return!ph(A,g)[0]}function ph(A,g,m={}){const T=hg(A,g,m),O=M8(T);return O[0]?[new C8(O[0],function*(){for(const h of T)h[0]&&(yield h[0])}),void 0]:[void 0,O[1]]}function Eo(A,g){return new jr({type:A,schema:null,validator:g})}function L8(){return Eo("any",()=>!0)}function Zt(A){return new jr({type:"array",schema:A,*entries(g){if(A&&Array.isArray(g))for(const[m,T]of g.entries())yield[m,T,A]},coercer(g){return Array.isArray(g)?g.slice():g},validator(g){return Array.isArray(g)||`Expected an array value, but received: ${Ar(g)}`}})}function kr(){return Eo("boolean",A=>typeof A=="boolean")}function fg(A){return Eo("instance",g=>g instanceof A||`Expected a \`${A.name}\` instance, but received: ${Ar(g)}`)}function Si(A){const g=Ar(A),m=typeof A;return new jr({type:"literal",schema:m==="string"||m==="number"||m==="boolean"?A:null,validator(T){return T===A||`Expected the literal \`${g}\`, but received: ${Ar(T)}`}})}function I8(){return Eo("never",()=>!1)}function Qt(A){return new jr({...A,validator:(g,m)=>g===null||A.validator(g,m),refiner:(g,m)=>g===null||A.refiner(g,m)})}function Tt(){return Eo("number",A=>typeof A=="number"&&!isNaN(A)||`Expected a number, but received: ${Ar(A)}`)}function le(A){return new jr({...A,validator:(g,m)=>g===void 0||A.validator(g,m),refiner:(g,m)=>g===void 0||A.refiner(g,m)})}function wA(A,g){return new jr({type:"record",schema:null,*entries(m){if(vh(m))for(const T in m){const O=m[T];yield[T,T,A],yield[T,O,g]}},validator(m){return Dc(m)||`Expected an object, but received: ${Ar(m)}`},coercer(m){return Dc(m)?{...m}:m}})}function Xt(){return Eo("string",A=>typeof A=="string"||`Expected a string, but received: ${Ar(A)}`)}function cg(A){const g=I8();return new jr({type:"tuple",schema:null,*entries(m){if(Array.isArray(m)){const T=Math.max(A.length,m.length);for(let O=0;O<T;O++)yield[O,m[O],A[O]||g]}},validator(m){return Array.isArray(m)||`Expected an array, but received: ${Ar(m)}`},coercer(m){return Array.isArray(m)?m.slice():m}})}function zt(A){const g=Object.keys(A);return new jr({type:"type",schema:A,*entries(m){if(vh(m))for(const T of g)yield[T,m[T],A[T]]},validator(m){return Dc(m)||`Expected an object, but received: ${Ar(m)}`},coercer(m){return Dc(m)?{...m}:m}})}function En(A){const g=A.map(m=>m.type).join(" | ");return new jr({type:"union",schema:null,coercer(m,T){for(const O of A){const[L,h]=O.validate(m,{coerce:!0,mask:T.mask});if(!L)return h}return m},validator(m,T){const O=[];for(const L of A){const[...h]=hg(m,L,T),[x]=h;if(x[0])for(const[t]of h)t&&O.push(t);else return[]}return[`Expected the value to satisfy a union of \`${g}\`, but received: ${Ar(m)}`,...O]}})}function zl(){return Eo("unknown",()=>!0)}function mh(A,g,m){return new jr({...A,coercer:(T,O)=>EA(T,g)?A.coercer(m(T,O),O):A.coercer(T,O)})}var Hf,P8=new Uint8Array(16);function AA(){if(!Hf&&(Hf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Hf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hf(P8)}const N8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qc(A){return typeof A=="string"&&N8.test(A)}var sn=[];for(var j0=0;j0<256;++j0)sn.push((j0+256).toString(16).substr(1));function _c(A){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=(sn[A[g+0]]+sn[A[g+1]]+sn[A[g+2]]+sn[A[g+3]]+"-"+sn[A[g+4]]+sn[A[g+5]]+"-"+sn[A[g+6]]+sn[A[g+7]]+"-"+sn[A[g+8]]+sn[A[g+9]]+"-"+sn[A[g+10]]+sn[A[g+11]]+sn[A[g+12]]+sn[A[g+13]]+sn[A[g+14]]+sn[A[g+15]]).toLowerCase();if(!qc(m))throw TypeError("Stringified UUID is invalid");return m}var nS,K0,Z0=0,Q0=0;function D8(A,g,m){var T=g&&m||0,O=g||new Array(16);A=A||{};var L=A.node||nS,h=A.clockseq!==void 0?A.clockseq:K0;if(L==null||h==null){var x=A.random||(A.rng||AA)();L==null&&(L=nS=[x[0]|1,x[1],x[2],x[3],x[4],x[5]]),h==null&&(h=K0=(x[6]<<8|x[7])&16383)}var t=A.msecs!==void 0?A.msecs:Date.now(),o=A.nsecs!==void 0?A.nsecs:Q0+1,v=t-Z0+(o-Q0)/1e4;if(v<0&&A.clockseq===void 0&&(h=h+1&16383),(v<0||t>Z0)&&A.nsecs===void 0&&(o=0),o>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Z0=t,Q0=o,K0=h,t+=122192928e5;var r=((t&268435455)*1e4+o)%4294967296;O[T++]=r>>>24&255,O[T++]=r>>>16&255,O[T++]=r>>>8&255,O[T++]=r&255;var n=t/4294967296*1e4&268435455;O[T++]=n>>>8&255,O[T++]=n&255,O[T++]=n>>>24&15|16,O[T++]=n>>>16&255,O[T++]=h>>>8|128,O[T++]=h&255;for(var i=0;i<6;++i)O[T+i]=L[i];return g||_c(O)}function CA(A){if(!qc(A))throw TypeError("Invalid UUID");var g,m=new Uint8Array(16);return m[0]=(g=parseInt(A.slice(0,8),16))>>>24,m[1]=g>>>16&255,m[2]=g>>>8&255,m[3]=g&255,m[4]=(g=parseInt(A.slice(9,13),16))>>>8,m[5]=g&255,m[6]=(g=parseInt(A.slice(14,18),16))>>>8,m[7]=g&255,m[8]=(g=parseInt(A.slice(19,23),16))>>>8,m[9]=g&255,m[10]=(g=parseInt(A.slice(24,36),16))/1099511627776&255,m[11]=g/4294967296&255,m[12]=g>>>24&255,m[13]=g>>>16&255,m[14]=g>>>8&255,m[15]=g&255,m}function B8(A){A=unescape(encodeURIComponent(A));for(var g=[],m=0;m<A.length;++m)g.push(A.charCodeAt(m));return g}var F8="6ba7b810-9dad-11d1-80b4-00c04fd430c8",U8="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function RA(A,g,m){function T(O,L,h,x){if(typeof O=="string"&&(O=B8(O)),typeof L=="string"&&(L=CA(L)),L.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var t=new Uint8Array(16+O.length);if(t.set(L),t.set(O,L.length),t=m(t),t[6]=t[6]&15|g,t[8]=t[8]&63|128,h){x=x||0;for(var o=0;o<16;++o)h[x+o]=t[o];return h}return _c(t)}try{T.name=A}catch{}return T.DNS=F8,T.URL=U8,T}function z8(A){if(typeof A=="string"){var g=unescape(encodeURIComponent(A));A=new Uint8Array(g.length);for(var m=0;m<g.length;++m)A[m]=g.charCodeAt(m)}return G8(V8(H8(A),A.length*8))}function G8(A){for(var g=[],m=A.length*32,T="0123456789abcdef",O=0;O<m;O+=8){var L=A[O>>5]>>>O%32&255,h=parseInt(T.charAt(L>>>4&15)+T.charAt(L&15),16);g.push(h)}return g}function MA(A){return(A+64>>>9<<4)+14+1}function V8(A,g){A[g>>5]|=128<<g%32,A[MA(g)-1]=g;for(var m=1732584193,T=-271733879,O=-1732584194,L=271733878,h=0;h<A.length;h+=16){var x=m,t=T,o=O,v=L;m=cn(m,T,O,L,A[h],7,-680876936),L=cn(L,m,T,O,A[h+1],12,-389564586),O=cn(O,L,m,T,A[h+2],17,606105819),T=cn(T,O,L,m,A[h+3],22,-1044525330),m=cn(m,T,O,L,A[h+4],7,-176418897),L=cn(L,m,T,O,A[h+5],12,1200080426),O=cn(O,L,m,T,A[h+6],17,-1473231341),T=cn(T,O,L,m,A[h+7],22,-45705983),m=cn(m,T,O,L,A[h+8],7,1770035416),L=cn(L,m,T,O,A[h+9],12,-1958414417),O=cn(O,L,m,T,A[h+10],17,-42063),T=cn(T,O,L,m,A[h+11],22,-1990404162),m=cn(m,T,O,L,A[h+12],7,1804603682),L=cn(L,m,T,O,A[h+13],12,-40341101),O=cn(O,L,m,T,A[h+14],17,-1502002290),T=cn(T,O,L,m,A[h+15],22,1236535329),m=dn(m,T,O,L,A[h+1],5,-165796510),L=dn(L,m,T,O,A[h+6],9,-1069501632),O=dn(O,L,m,T,A[h+11],14,643717713),T=dn(T,O,L,m,A[h],20,-373897302),m=dn(m,T,O,L,A[h+5],5,-701558691),L=dn(L,m,T,O,A[h+10],9,38016083),O=dn(O,L,m,T,A[h+15],14,-660478335),T=dn(T,O,L,m,A[h+4],20,-405537848),m=dn(m,T,O,L,A[h+9],5,568446438),L=dn(L,m,T,O,A[h+14],9,-1019803690),O=dn(O,L,m,T,A[h+3],14,-187363961),T=dn(T,O,L,m,A[h+8],20,1163531501),m=dn(m,T,O,L,A[h+13],5,-1444681467),L=dn(L,m,T,O,A[h+2],9,-51403784),O=dn(O,L,m,T,A[h+7],14,1735328473),T=dn(T,O,L,m,A[h+12],20,-1926607734),m=vn(m,T,O,L,A[h+5],4,-378558),L=vn(L,m,T,O,A[h+8],11,-2022574463),O=vn(O,L,m,T,A[h+11],16,1839030562),T=vn(T,O,L,m,A[h+14],23,-35309556),m=vn(m,T,O,L,A[h+1],4,-1530992060),L=vn(L,m,T,O,A[h+4],11,1272893353),O=vn(O,L,m,T,A[h+7],16,-155497632),T=vn(T,O,L,m,A[h+10],23,-1094730640),m=vn(m,T,O,L,A[h+13],4,681279174),L=vn(L,m,T,O,A[h],11,-358537222),O=vn(O,L,m,T,A[h+3],16,-722521979),T=vn(T,O,L,m,A[h+6],23,76029189),m=vn(m,T,O,L,A[h+9],4,-640364487),L=vn(L,m,T,O,A[h+12],11,-421815835),O=vn(O,L,m,T,A[h+15],16,530742520),T=vn(T,O,L,m,A[h+2],23,-995338651),m=pn(m,T,O,L,A[h],6,-198630844),L=pn(L,m,T,O,A[h+7],10,1126891415),O=pn(O,L,m,T,A[h+14],15,-1416354905),T=pn(T,O,L,m,A[h+5],21,-57434055),m=pn(m,T,O,L,A[h+12],6,1700485571),L=pn(L,m,T,O,A[h+3],10,-1894986606),O=pn(O,L,m,T,A[h+10],15,-1051523),T=pn(T,O,L,m,A[h+1],21,-2054922799),m=pn(m,T,O,L,A[h+8],6,1873313359),L=pn(L,m,T,O,A[h+15],10,-30611744),O=pn(O,L,m,T,A[h+6],15,-1560198380),T=pn(T,O,L,m,A[h+13],21,1309151649),m=pn(m,T,O,L,A[h+4],6,-145523070),L=pn(L,m,T,O,A[h+11],10,-1120210379),O=pn(O,L,m,T,A[h+2],15,718787259),T=pn(T,O,L,m,A[h+9],21,-343485551),m=xa(m,x),T=xa(T,t),O=xa(O,o),L=xa(L,v)}return[m,T,O,L]}function H8(A){if(A.length===0)return[];for(var g=A.length*8,m=new Uint32Array(MA(g)),T=0;T<g;T+=8)m[T>>5]|=(A[T/8]&255)<<T%32;return m}function xa(A,g){var m=(A&65535)+(g&65535),T=(A>>16)+(g>>16)+(m>>16);return T<<16|m&65535}function Y8(A,g){return A<<g|A>>>32-g}function td(A,g,m,T,O,L){return xa(Y8(xa(xa(g,A),xa(T,L)),O),m)}function cn(A,g,m,T,O,L,h){return td(g&m|~g&T,A,g,O,L,h)}function dn(A,g,m,T,O,L,h){return td(g&T|m&~T,A,g,O,L,h)}function vn(A,g,m,T,O,L,h){return td(g^m^T,A,g,O,L,h)}function pn(A,g,m,T,O,L,h){return td(m^(g|~T),A,g,O,L,h)}var W8=RA("v3",48,z8);function X8(A,g,m){A=A||{};var T=A.random||(A.rng||AA)();if(T[6]=T[6]&15|64,T[8]=T[8]&63|128,g){m=m||0;for(var O=0;O<16;++O)g[m+O]=T[O];return g}return _c(T)}function k8(A,g,m,T){switch(A){case 0:return g&m^~g&T;case 1:return g^m^T;case 2:return g&m^g&T^m&T;case 3:return g^m^T}}function J0(A,g){return A<<g|A>>>32-g}function j8(A){var g=[1518500249,1859775393,2400959708,3395469782],m=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof A=="string"){var T=unescape(encodeURIComponent(A));A=[];for(var O=0;O<T.length;++O)A.push(T.charCodeAt(O))}else Array.isArray(A)||(A=Array.prototype.slice.call(A));A.push(128);for(var L=A.length/4+2,h=Math.ceil(L/16),x=new Array(h),t=0;t<h;++t){for(var o=new Uint32Array(16),v=0;v<16;++v)o[v]=A[t*64+v*4]<<24|A[t*64+v*4+1]<<16|A[t*64+v*4+2]<<8|A[t*64+v*4+3];x[t]=o}x[h-1][14]=(A.length-1)*8/Math.pow(2,32),x[h-1][14]=Math.floor(x[h-1][14]),x[h-1][15]=(A.length-1)*8&4294967295;for(var r=0;r<h;++r){for(var n=new Uint32Array(80),i=0;i<16;++i)n[i]=x[r][i];for(var e=16;e<80;++e)n[e]=J0(n[e-3]^n[e-8]^n[e-14]^n[e-16],1);for(var a=m[0],l=m[1],s=m[2],u=m[3],f=m[4],c=0;c<80;++c){var d=Math.floor(c/20),p=J0(a,5)+k8(d,l,s,u)+f+g[d]+n[c]>>>0;f=u,u=s,s=J0(l,30)>>>0,l=a,a=p}m[0]=m[0]+a>>>0,m[1]=m[1]+l>>>0,m[2]=m[2]+s>>>0,m[3]=m[3]+u>>>0,m[4]=m[4]+f>>>0}return[m[0]>>24&255,m[0]>>16&255,m[0]>>8&255,m[0]&255,m[1]>>24&255,m[1]>>16&255,m[1]>>8&255,m[1]&255,m[2]>>24&255,m[2]>>16&255,m[2]>>8&255,m[2]&255,m[3]>>24&255,m[3]>>16&255,m[3]>>8&255,m[3]&255,m[4]>>24&255,m[4]>>16&255,m[4]>>8&255,m[4]&255]}var K8=RA("v5",80,j8);const Z8="00000000-0000-0000-0000-000000000000";function Q8(A){if(!qc(A))throw TypeError("Invalid UUID");return parseInt(A.substr(14,1),16)}const J8=Object.freeze(Object.defineProperty({__proto__:null,NIL:Z8,parse:CA,stringify:_c,v1:D8,v3:W8,v4:X8,v5:K8,validate:qc,version:Q8},Symbol.toStringTag,{value:"Module"})),OA=kc(J8);var $0,rS;function $8(){if(rS)return $0;rS=1;const A=OA.v4;return $0=function(m,T,O,L){if(typeof m!="string")throw new TypeError(m+" must be a string");L=L||{};const h=typeof L.version=="number"?L.version:2;if(h!==1&&h!==2)throw new TypeError(h+" must be 1 or 2");const x={method:m};if(h===2&&(x.jsonrpc="2.0"),T){if(typeof T!="object"&&!Array.isArray(T))throw new TypeError(T+" must be an object, array or omitted");x.params=T}if(typeof O>"u"){const t=typeof L.generator=="function"?L.generator:function(){return A()};x.id=t(x,L)}else h===2&&O===null?L.notificationIdNull&&(x.id=null):x.id=O;return x},$0}var q0,sS;function q8(){if(sS)return q0;sS=1;const A=OA.v4,g=$8(),m=function(T,O){if(!(this instanceof m))return new m(T,O);O||(O={}),this.options={reviver:typeof O.reviver<"u"?O.reviver:null,replacer:typeof O.replacer<"u"?O.replacer:null,generator:typeof O.generator<"u"?O.generator:function(){return A()},version:typeof O.version<"u"?O.version:2,notificationIdNull:typeof O.notificationIdNull=="boolean"?O.notificationIdNull:!1},this.callServer=T};return q0=m,m.prototype.request=function(T,O,L,h){const x=this;let t=null;const o=Array.isArray(T)&&typeof O=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&T&&typeof T=="object"&&typeof O=="function")h=O,t=T;else{typeof L=="function"&&(h=L,L=void 0);const n=typeof h=="function";try{t=g(T,O,L,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(i){if(n){h(i);return}throw i}if(!n)return t}let r;try{r=JSON.stringify(t,this.options.replacer)}catch(n){h(n);return}return this.callServer(r,function(n,i){x._parseResponse(n,i,h)}),t},m.prototype._parseResponse=function(T,O,L){if(T){L(T);return}if(!O){L();return}let h;try{h=JSON.parse(O,this.options.reviver)}catch(x){L(x);return}if(L.length===3)if(Array.isArray(h)){const x=function(o){return typeof o.error<"u"},t=function(o){return!x(o)};L(null,h.filter(x),h.filter(t));return}else{L(null,h.error,h.result);return}L(null,h)},q0}var _8=q8();const tL=Ra(_8);var _0={exports:{}},aS;function eL(){return aS||(aS=1,(function(A){var g=Object.prototype.hasOwnProperty,m="~";function T(){}Object.create&&(T.prototype=Object.create(null),new T().__proto__||(m=!1));function O(t,o,v){this.fn=t,this.context=o,this.once=v||!1}function L(t,o,v,r,n){if(typeof v!="function")throw new TypeError("The listener must be a function");var i=new O(v,r||t,n),e=m?m+o:o;return t._events[e]?t._events[e].fn?t._events[e]=[t._events[e],i]:t._events[e].push(i):(t._events[e]=i,t._eventsCount++),t}function h(t,o){--t._eventsCount===0?t._events=new T:delete t._events[o]}function x(){this._events=new T,this._eventsCount=0}x.prototype.eventNames=function(){var o=[],v,r;if(this._eventsCount===0)return o;for(r in v=this._events)g.call(v,r)&&o.push(m?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(v)):o},x.prototype.listeners=function(o){var v=m?m+o:o,r=this._events[v];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,e=new Array(i);n<i;n++)e[n]=r[n].fn;return e},x.prototype.listenerCount=function(o){var v=m?m+o:o,r=this._events[v];return r?r.fn?1:r.length:0},x.prototype.emit=function(o,v,r,n,i,e){var a=m?m+o:o;if(!this._events[a])return!1;var l=this._events[a],s=arguments.length,u,f;if(l.fn){switch(l.once&&this.removeListener(o,l.fn,void 0,!0),s){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,v),!0;case 3:return l.fn.call(l.context,v,r),!0;case 4:return l.fn.call(l.context,v,r,n),!0;case 5:return l.fn.call(l.context,v,r,n,i),!0;case 6:return l.fn.call(l.context,v,r,n,i,e),!0}for(f=1,u=new Array(s-1);f<s;f++)u[f-1]=arguments[f];l.fn.apply(l.context,u)}else{var c=l.length,d;for(f=0;f<c;f++)switch(l[f].once&&this.removeListener(o,l[f].fn,void 0,!0),s){case 1:l[f].fn.call(l[f].context);break;case 2:l[f].fn.call(l[f].context,v);break;case 3:l[f].fn.call(l[f].context,v,r);break;case 4:l[f].fn.call(l[f].context,v,r,n);break;default:if(!u)for(d=1,u=new Array(s-1);d<s;d++)u[d-1]=arguments[d];l[f].fn.apply(l[f].context,u)}}return!0},x.prototype.on=function(o,v,r){return L(this,o,v,r,!1)},x.prototype.once=function(o,v,r){return L(this,o,v,r,!0)},x.prototype.removeListener=function(o,v,r,n){var i=m?m+o:o;if(!this._events[i])return this;if(!v)return h(this,i),this;var e=this._events[i];if(e.fn)e.fn===v&&(!n||e.once)&&(!r||e.context===r)&&h(this,i);else{for(var a=0,l=[],s=e.length;a<s;a++)(e[a].fn!==v||n&&!e[a].once||r&&e[a].context!==r)&&l.push(e[a]);l.length?this._events[i]=l.length===1?l[0]:l:h(this,i)}return this},x.prototype.removeAllListeners=function(o){var v;return o?(v=m?m+o:o,this._events[v]&&h(this,v)):(this._events=new T,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=m,x.EventEmitter=x,A.exports=x})(_0)),_0.exports}var iL=eL();const dg=Ra(iL);var nL=class extends dg{socket;constructor(A,g){super(),this.socket=new window.WebSocket(A,g.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=m=>this.emit("message",m.data),this.socket.onerror=m=>this.emit("error",m),this.socket.onclose=m=>{this.emit("close",m.code,m.reason)}}send(A,g,m){const T=m||g;try{this.socket.send(A),T()}catch(O){T(O)}}close(A,g){this.socket.close(A,g)}addEventListener(A,g,m){this.socket.addEventListener(A,g,m)}};function rL(A,g){return new nL(A,g)}var sL=class{encode(A){return JSON.stringify(A)}decode(A){return JSON.parse(A)}},aL=class extends dg{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(A,g="ws://localhost:8080",{autoconnect:m=!0,reconnect:T=!0,reconnect_interval:O=1e3,max_reconnects:L=5,...h}={},x,t){super(),this.webSocketFactory=A,this.queue={},this.rpc_id=0,this.address=g,this.autoconnect=m,this.ready=!1,this.reconnect=T,this.reconnect_timer_id=void 0,this.reconnect_interval=O,this.max_reconnects=L,this.rest_options=h,this.current_reconnects=0,this.generate_request_id=x||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),t?this.dataPack=t:this.dataPack=new sL,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(A,g,m,T){return!T&&typeof m=="object"&&(T=m,m=null),new Promise((O,L)=>{if(!this.ready)return L(new Error("socket not ready"));const h=this.generate_request_id(A,g),x={jsonrpc:"2.0",method:A,params:g||void 0,id:h};this.socket.send(this.dataPack.encode(x),T,t=>{if(t)return L(t);this.queue[h]={promise:[O,L]},m&&(this.queue[h].timeout=setTimeout(()=>{delete this.queue[h],L(new Error("reply timeout"))},m))})})}async login(A){const g=await this.call("rpc.login",A);if(!g)throw new Error("authentication failed");return g}async listMethods(){return await this.call("__listMethods")}notify(A,g){return new Promise((m,T)=>{if(!this.ready)return T(new Error("socket not ready"));const O={jsonrpc:"2.0",method:A,params:g};this.socket.send(this.dataPack.encode(O),L=>{if(L)return T(L);m()})})}async subscribe(A){typeof A=="string"&&(A=[A]);const g=await this.call("rpc.on",A);if(typeof A=="string"&&g[A]!=="ok")throw new Error("Failed subscribing to an event '"+A+"' with: "+g[A]);return g}async unsubscribe(A){typeof A=="string"&&(A=[A]);const g=await this.call("rpc.off",A);if(typeof A=="string"&&g[A]!=="ok")throw new Error("Failed unsubscribing from an event with: "+g);return g}close(A,g){this.socket&&this.socket.close(A||1e3,g)}setAutoReconnect(A){this.reconnect=A}setReconnectInterval(A){this.reconnect_interval=A}setMaxReconnects(A){this.max_reconnects=A}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(A,g){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(A,g),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:m})=>{m instanceof ArrayBuffer&&(m=ie.Buffer.from(m).toString());try{m=this.dataPack.decode(m)}catch{return}if(m.notification&&this.listeners(m.notification).length){if(!Object.keys(m.params).length)return this.emit(m.notification);const T=[m.notification];if(m.params.constructor===Object)T.push(m.params);else for(let O=0;O<m.params.length;O++)T.push(m.params[O]);return Promise.resolve().then(()=>{this.emit.apply(this,T)})}if(!this.queue[m.id])return m.method?Promise.resolve().then(()=>{this.emit(m.method,m?.params)}):void 0;"error"in m=="result"in m&&this.queue[m.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[m.id].timeout&&clearTimeout(this.queue[m.id].timeout),m.error?this.queue[m.id].promise[1](m.error):this.queue[m.id].promise[0](m.result),delete this.queue[m.id]}),this.socket.addEventListener("error",m=>this.emit("error",m)),this.socket.addEventListener("close",({code:m,reason:T})=>{this.ready&&setTimeout(()=>this.emit("close",m,T),0),this.ready=!1,this.socket=void 0,m!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(A,g),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",m,T),1))})}};const oL=BigInt(0),Du=BigInt(1),lL=BigInt(2),uL=BigInt(7),hL=BigInt(256),fL=BigInt(113),bA=[],LA=[],IA=[];for(let A=0,g=Du,m=1,T=0;A<24;A++){[m,T]=[T,(2*m+3*T)%5],bA.push(2*(5*T+m)),LA.push((A+1)*(A+2)/2%64);let O=oL;for(let L=0;L<7;L++)g=(g<<Du^(g>>uL)*fL)%hL,g&lL&&(O^=Du<<(Du<<BigInt(L))-Du);IA.push(O)}const PA=Zw(IA,!0),cL=PA[0],dL=PA[1],oS=(A,g,m)=>m>32?qO(A,g,m):JO(A,g,m),lS=(A,g,m)=>m>32?_O(A,g,m):$O(A,g,m);function vL(A,g=24){const m=new Uint32Array(10);for(let T=24-g;T<24;T++){for(let h=0;h<10;h++)m[h]=A[h]^A[h+10]^A[h+20]^A[h+30]^A[h+40];for(let h=0;h<10;h+=2){const x=(h+8)%10,t=(h+2)%10,o=m[t],v=m[t+1],r=oS(o,v,1)^m[x],n=lS(o,v,1)^m[x+1];for(let i=0;i<50;i+=10)A[h+i]^=r,A[h+i+1]^=n}let O=A[2],L=A[3];for(let h=0;h<24;h++){const x=LA[h],t=oS(O,L,x),o=lS(O,L,x),v=bA[h];O=A[v],L=A[v+1],A[v]=t,A[v+1]=o}for(let h=0;h<50;h+=10){for(let x=0;x<10;x++)m[x]=A[h+x];for(let x=0;x<10;x++)A[h+x]^=~m[(x+2)%10]&m[(x+4)%10]}A[0]^=cL[T],A[1]^=dL[T]}wa(m)}class vg extends eg{constructor(g,m,T,O=!1,L=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=g,this.suffix=m,this.outputLen=T,this.enableXOF=O,this.rounds=L,_u(T),!(0<g&&g<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=VO(this.state)}clone(){return this._cloneInto()}keccak(){FT(this.state32),vL(this.state32,this.rounds),FT(this.state32),this.posOut=0,this.pos=0}update(g){Ol(this),g=Qc(g),Ls(g);const{blockLen:m,state:T}=this,O=g.length;for(let L=0;L<O;){const h=Math.min(m-this.pos,O-L);for(let x=0;x<h;x++)T[this.pos++]^=g[L++];this.pos===m&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:g,suffix:m,pos:T,blockLen:O}=this;g[T]^=m,(m&128)!==0&&T===O-1&&this.keccak(),g[O-1]^=128,this.keccak()}writeInto(g){Ol(this,!1),Ls(g),this.finish();const m=this.state,{blockLen:T}=this;for(let O=0,L=g.length;O<L;){this.posOut>=T&&this.keccak();const h=Math.min(T-this.posOut,L-O);g.set(m.subarray(this.posOut,this.posOut+h),O),this.posOut+=h,O+=h}return g}xofInto(g){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(g)}xof(g){return _u(g),this.xofInto(new Uint8Array(g))}digestInto(g){if(kw(g,this),this.finished)throw new Error("digest() was already called");return this.writeInto(g),this.destroy(),g}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,wa(this.state)}_cloneInto(g){const{blockLen:m,suffix:T,outputLen:O,rounds:L,enableXOF:h}=this;return g||(g=new vg(m,T,O,h,L)),g.state32.set(this.state32),g.pos=this.pos,g.posOut=this.posOut,g.finished=this.finished,g.rounds=L,g.suffix=T,g.outputLen=O,g.enableXOF=h,g.destroyed=this.destroyed,g}}const pL=(A,g,m)=>ig(()=>new vg(g,A,m)),uS=pL(1,136,256/8);class NA extends eg{constructor(g,m){super(),this.finished=!1,this.destroyed=!1,Xw(g);const T=Qc(m);if(this.iHash=g.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const O=this.blockLen,L=new Uint8Array(O);L.set(T.length>O?g.create().update(T).digest():T);for(let h=0;h<L.length;h++)L[h]^=54;this.iHash.update(L),this.oHash=g.create();for(let h=0;h<L.length;h++)L[h]^=106;this.oHash.update(L),wa(L)}update(g){return Ol(this),this.iHash.update(g),this}digestInto(g){Ol(this),Ls(g,this.outputLen),this.finished=!0,this.iHash.digestInto(g),this.oHash.update(g),this.oHash.digestInto(g),this.destroy()}digest(){const g=new Uint8Array(this.oHash.outputLen);return this.digestInto(g),g}_cloneInto(g){g||(g=Object.create(Object.getPrototypeOf(this),{}));const{oHash:m,iHash:T,finished:O,destroyed:L,blockLen:h,outputLen:x}=this;return g=g,g.finished=O,g.destroyed=L,g.blockLen=h,g.outputLen=x,g.oHash=m._cloneInto(g.oHash),g.iHash=T._cloneInto(g.iHash),g}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const DA=(A,g,m)=>new NA(A,g).update(m).digest();DA.create=(A,g)=>new NA(A,g);const hS=(A,g)=>(A+(A>=0?g:-g)/BA)/g;function mL(A,g,m){const[[T,O],[L,h]]=g,x=hS(h*A,m),t=hS(-O*A,m);let o=A-x*T-t*L,v=-x*O-t*h;const r=o<Cs,n=v<Cs;r&&(o=-o),n&&(v=-v);const i=ch(Math.ceil(_w(m)/2))+wl;if(o<Cs||o>=i||v<Cs||v>=i)throw new Error("splitScalar (endomorphism): failed, k="+A);return{k1neg:r,k1:o,k2neg:n,k2:v}}function rm(A){if(!["compact","recovered","der"].includes(A))throw new Error('Signature format must be "compact", "recovered", or "der"');return A}function tp(A,g){const m={};for(let T of Object.keys(g))m[T]=A[T]===void 0?g[T]:A[T];return vo(m.lowS,"lowS"),vo(m.prehash,"prehash"),m.format!==void 0&&rm(m.format),m}class gL extends Error{constructor(g=""){super(g)}}const gs={Err:gL,_tlv:{encode:(A,g)=>{const{Err:m}=gs;if(A<0||A>256)throw new m("tlv.encode: wrong tag");if(g.length&1)throw new m("tlv.encode: unpadded data");const T=g.length/2,O=Gf(T);if(O.length/2&128)throw new m("tlv.encode: long form length too big");const L=T>127?Gf(O.length/2|128):"";return Gf(A)+L+O+g},decode(A,g){const{Err:m}=gs;let T=0;if(A<0||A>256)throw new m("tlv.encode: wrong tag");if(g.length<2||g[T++]!==A)throw new m("tlv.decode: wrong tlv");const O=g[T++],L=!!(O&128);let h=0;if(!L)h=O;else{const t=O&127;if(!t)throw new m("tlv.decode(long): indefinite length not supported");if(t>4)throw new m("tlv.decode(long): byte length is too big");const o=g.subarray(T,T+t);if(o.length!==t)throw new m("tlv.decode: length bytes not complete");if(o[0]===0)throw new m("tlv.decode(long): zero leftmost byte");for(const v of o)h=h<<8|v;if(T+=t,h<128)throw new m("tlv.decode(long): not minimal encoding")}const x=g.subarray(T,T+h);if(x.length!==h)throw new m("tlv.decode: wrong value length");return{v:x,l:g.subarray(T+h)}}},_int:{encode(A){const{Err:g}=gs;if(A<Cs)throw new g("integer: negative integers are not allowed");let m=Gf(A);if(Number.parseInt(m[0],16)&8&&(m="00"+m),m.length&1)throw new g("unexpected DER parsing assertion: unpadded hex");return m},decode(A){const{Err:g}=gs;if(A[0]&128)throw new g("invalid signature integer: negative");if(A[0]===0&&!(A[1]&128))throw new g("invalid signature integer: unnecessary leading zero");return Jc(A)}},toSig(A){const{Err:g,_int:m,_tlv:T}=gs,O=Oi("signature",A),{v:L,l:h}=T.decode(48,O);if(h.length)throw new g("invalid signature: left bytes after parsing");const{v:x,l:t}=T.decode(2,L),{v:o,l:v}=T.decode(2,t);if(v.length)throw new g("invalid signature: left bytes after parsing");return{r:m.decode(x),s:m.decode(o)}},hexFromSig(A){const{_tlv:g,_int:m}=gs,T=g.encode(2,m.encode(A.r)),O=g.encode(2,m.encode(A.s)),L=T+O;return g.encode(48,L)}},Cs=BigInt(0),wl=BigInt(1),BA=BigInt(2),Yf=BigInt(3),yL=BigInt(4);function gl(A,g){const{BYTES:m}=A;let T;if(typeof g=="bigint")T=g;else{let O=Oi("private key",g);try{T=A.fromBytes(O)}catch{throw new Error(`invalid private key: expected ui8a of size ${m}, got ${typeof g}`)}}if(!A.isValidNot0(T))throw new Error("invalid private key: out of range [1..N-1]");return T}function xL(A,g={}){const m=pA("weierstrass",A,g),{Fp:T,Fn:O}=m;let L=m.CURVE;const{h,n:x}=L;dh(g,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:t}=g;if(t&&(!T.is0(L.a)||typeof t.beta!="bigint"||!Array.isArray(t.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const o=UA(T,O);function v(){if(!T.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function r(D,B,b){const{x:I,y:N}=B.toAffine(),z=T.toBytes(I);if(vo(b,"isCompressed"),b){v();const H=!T.isOdd(N);return Gr(FA(H),z)}else return Gr(Uint8Array.of(4),z,T.toBytes(N))}function n(D){Sr(D,void 0,"Point");const{publicKey:B,publicKeyUncompressed:b}=o,I=D.length,N=D[0],z=D.subarray(1);if(I===B&&(N===2||N===3)){const H=T.fromBytes(z);if(!T.isValid(H))throw new Error("bad point: is not on curve, wrong x");const X=a(H);let W;try{W=T.sqrt(X)}catch(F){const k=F instanceof Error?": "+F.message:"";throw new Error("bad point: is not on curve, sqrt error"+k)}v();const V=T.isOdd(W);return(N&1)===1!==V&&(W=T.neg(W)),{x:H,y:W}}else if(I===b&&N===4){const H=T.BYTES,X=T.fromBytes(z.subarray(0,H)),W=T.fromBytes(z.subarray(H,H*2));if(!l(X,W))throw new Error("bad point: is not on curve");return{x:X,y:W}}else throw new Error(`bad point: got length ${I}, expected compressed=${B} or uncompressed=${b}`)}const i=g.toBytes||r,e=g.fromBytes||n;function a(D){const B=T.sqr(D),b=T.mul(B,D);return T.add(T.add(b,T.mul(D,L.a)),L.b)}function l(D,B){const b=T.sqr(B),I=a(D);return T.eql(b,I)}if(!l(L.Gx,L.Gy))throw new Error("bad curve params: generator point");const s=T.mul(T.pow(L.a,Yf),yL),u=T.mul(T.sqr(L.b),BigInt(27));if(T.is0(T.add(s,u)))throw new Error("bad curve params: a or b");function f(D,B,b=!1){if(!T.isValid(B)||b&&T.is0(B))throw new Error(`bad point coordinate ${D}`);return B}function c(D){if(!(D instanceof E))throw new Error("ProjectivePoint expected")}function d(D){if(!t||!t.basises)throw new Error("no endo");return mL(D,t.basises,O.ORDER)}const p=Oc((D,B)=>{const{X:b,Y:I,Z:N}=D;if(T.eql(N,T.ONE))return{x:b,y:I};const z=D.is0();B==null&&(B=z?T.ONE:T.inv(N));const H=T.mul(b,B),X=T.mul(I,B),W=T.mul(N,B);if(z)return{x:T.ZERO,y:T.ZERO};if(!T.eql(W,T.ONE))throw new Error("invZ was invalid");return{x:H,y:X}}),S=Oc(D=>{if(D.is0()){if(g.allowInfinityPoint&&!T.is0(D.Y))return;throw new Error("bad point: ZERO")}const{x:B,y:b}=D.toAffine();if(!T.isValid(B)||!T.isValid(b))throw new Error("bad point: x or y not field elements");if(!l(B,b))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function C(D,B,b,I,N){return b=new E(T.mul(b.X,D),b.Y,b.Z),B=bc(I,B),b=bc(N,b),B.add(b)}class E{constructor(B,b,I){this.X=f("x",B),this.Y=f("y",b,!0),this.Z=f("z",I),Object.freeze(this)}static CURVE(){return L}static fromAffine(B){const{x:b,y:I}=B||{};if(!B||!T.isValid(b)||!T.isValid(I))throw new Error("invalid affine point");if(B instanceof E)throw new Error("projective point not allowed");return T.is0(b)&&T.is0(I)?E.ZERO:new E(b,I,T.ONE)}static fromBytes(B){const b=E.fromAffine(e(Sr(B,void 0,"point")));return b.assertValidity(),b}static fromHex(B){return E.fromBytes(Oi("pointHex",B))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(B=8,b=!0){return M.createCache(this,B),b||this.multiply(Yf),this}assertValidity(){S(this)}hasEvenY(){const{y:B}=this.toAffine();if(!T.isOdd)throw new Error("Field doesn't support isOdd");return!T.isOdd(B)}equals(B){c(B);const{X:b,Y:I,Z:N}=this,{X:z,Y:H,Z:X}=B,W=T.eql(T.mul(b,X),T.mul(z,N)),V=T.eql(T.mul(I,X),T.mul(H,N));return W&&V}negate(){return new E(this.X,T.neg(this.Y),this.Z)}double(){const{a:B,b}=L,I=T.mul(b,Yf),{X:N,Y:z,Z:H}=this;let X=T.ZERO,W=T.ZERO,V=T.ZERO,U=T.mul(N,N),F=T.mul(z,z),k=T.mul(H,H),Y=T.mul(N,z);return Y=T.add(Y,Y),V=T.mul(N,H),V=T.add(V,V),X=T.mul(B,V),W=T.mul(I,k),W=T.add(X,W),X=T.sub(F,W),W=T.add(F,W),W=T.mul(X,W),X=T.mul(Y,X),V=T.mul(I,V),k=T.mul(B,k),Y=T.sub(U,k),Y=T.mul(B,Y),Y=T.add(Y,V),V=T.add(U,U),U=T.add(V,U),U=T.add(U,k),U=T.mul(U,Y),W=T.add(W,U),k=T.mul(z,H),k=T.add(k,k),U=T.mul(k,Y),X=T.sub(X,U),V=T.mul(k,F),V=T.add(V,V),V=T.add(V,V),new E(X,W,V)}add(B){c(B);const{X:b,Y:I,Z:N}=this,{X:z,Y:H,Z:X}=B;let W=T.ZERO,V=T.ZERO,U=T.ZERO;const F=L.a,k=T.mul(L.b,Yf);let Y=T.mul(b,z),Z=T.mul(I,H),j=T.mul(N,X),J=T.add(b,I),q=T.add(z,H);J=T.mul(J,q),q=T.add(Y,Z),J=T.sub(J,q),q=T.add(b,N);let et=T.add(z,X);return q=T.mul(q,et),et=T.add(Y,j),q=T.sub(q,et),et=T.add(I,N),W=T.add(H,X),et=T.mul(et,W),W=T.add(Z,j),et=T.sub(et,W),U=T.mul(F,q),W=T.mul(k,j),U=T.add(W,U),W=T.sub(Z,U),U=T.add(Z,U),V=T.mul(W,U),Z=T.add(Y,Y),Z=T.add(Z,Y),j=T.mul(F,j),q=T.mul(k,q),Z=T.add(Z,j),j=T.sub(Y,j),j=T.mul(F,j),q=T.add(q,j),Y=T.mul(Z,q),V=T.add(V,Y),Y=T.mul(et,q),W=T.mul(J,W),W=T.sub(W,Y),Y=T.mul(J,Z),U=T.mul(et,U),U=T.add(U,Y),new E(W,V,U)}subtract(B){return this.add(B.negate())}is0(){return this.equals(E.ZERO)}multiply(B){const{endo:b}=g;if(!O.isValidNot0(B))throw new Error("invalid scalar: out of range");let I,N;const z=H=>M.cached(this,H,X=>eo(E,X));if(b){const{k1neg:H,k1:X,k2neg:W,k2:V}=d(B),{p:U,f:F}=z(X),{p:k,f:Y}=z(V);N=F.add(Y),I=C(b.beta,U,k,H,W)}else{const{p:H,f:X}=z(B);I=H,N=X}return eo(E,[I,N])[0]}multiplyUnsafe(B){const{endo:b}=g,I=this;if(!O.isValid(B))throw new Error("invalid scalar: out of range");if(B===Cs||I.is0())return E.ZERO;if(B===wl)return I;if(M.hasCache(this))return this.multiply(B);if(b){const{k1neg:N,k1:z,k2neg:H,k2:X}=d(B),{p1:W,p2:V}=Rb(E,I,z,X);return C(b.beta,W,V,N,H)}else return M.unsafe(I,B)}multiplyAndAddUnsafe(B,b,I){const N=this.multiplyUnsafe(b).add(B.multiplyUnsafe(I));return N.is0()?void 0:N}toAffine(B){return p(this,B)}isTorsionFree(){const{isTorsionFree:B}=g;return h===wl?!0:B?B(E,this):M.unsafe(this,x).is0()}clearCofactor(){const{clearCofactor:B}=g;return h===wl?this:B?B(E,this):this.multiplyUnsafe(h)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}toBytes(B=!0){return vo(B,"isCompressed"),this.assertValidity(),i(E,this,B)}toHex(B=!0){return fo(this.toBytes(B))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(B=!0){return this.toBytes(B)}_setWindowSize(B){this.precompute(B)}static normalizeZ(B){return eo(E,B)}static msm(B,b){return vA(E,O,B,b)}static fromPrivateKey(B){return E.BASE.multiply(gl(O,B))}}E.BASE=new E(L.Gx,L.Gy,T.ONE),E.ZERO=new E(T.ZERO,T.ONE,T.ZERO),E.Fp=T,E.Fn=O;const R=O.BITS,M=new dA(E,g.endo?Math.ceil(R/2):R);return E.BASE.precompute(8),E}function FA(A){return Uint8Array.of(A?2:3)}function UA(A,g){return{secretKey:g.BYTES,publicKey:1+A.BYTES,publicKeyUncompressed:1+2*A.BYTES,publicKeyHasPrefix:!0,signature:2*g.BYTES}}function TL(A,g={}){const{Fn:m}=A,T=g.randomBytes||ng,O=Object.assign(UA(A.Fp,m),{seed:hA(m.ORDER)});function L(i){try{return!!gl(m,i)}catch{return!1}}function h(i,e){const{publicKey:a,publicKeyUncompressed:l}=O;try{const s=i.length;return e===!0&&s!==a||e===!1&&s!==l?!1:!!A.fromBytes(i)}catch{return!1}}function x(i=T(O.seed)){return wb(Sr(i,O.seed,"seed"),m.ORDER)}function t(i,e=!0){return A.BASE.multiply(gl(m,i)).toBytes(e)}function o(i){const e=x(i);return{secretKey:e,publicKey:t(e)}}function v(i){if(typeof i=="bigint")return!1;if(i instanceof A)return!0;const{secretKey:e,publicKey:a,publicKeyUncompressed:l}=O;if(m.allowedLengths||e===a)return;const s=Oi("key",i).length;return s===a||s===l}function r(i,e,a=!0){if(v(i)===!0)throw new Error("first arg must be private key");if(v(e)===!1)throw new Error("second arg must be public key");const l=gl(m,i);return A.fromHex(e).multiply(l).toBytes(a)}return Object.freeze({getPublicKey:t,getSharedSecret:r,keygen:o,Point:A,utils:{isValidSecretKey:L,isValidPublicKey:h,randomSecretKey:x,isValidPrivateKey:L,randomPrivateKey:x,normPrivateKeyToScalar:i=>gl(m,i),precompute(i=8,e=A.BASE){return e.precompute(i,!1)}},lengths:O})}function SL(A,g,m={}){Xw(g),dh(m,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const T=m.randomBytes||ng,O=m.hmac||((b,...I)=>DA(g,b,Gr(...I))),{Fp:L,Fn:h}=A,{ORDER:x,BITS:t}=h,{keygen:o,getPublicKey:v,getSharedSecret:r,utils:n,lengths:i}=TL(A,m),e={prehash:!1,lowS:typeof m.lowS=="boolean"?m.lowS:!1,format:void 0,extraEntropy:!1},a="compact";function l(b){const I=x>>wl;return b>I}function s(b,I){if(!h.isValidNot0(I))throw new Error(`invalid signature ${b}: out of range 1..Point.Fn.ORDER`);return I}function u(b,I){rm(I);const N=i.signature,z=I==="compact"?N:I==="recovered"?N+1:void 0;return Sr(b,z,`${I} signature`)}class f{constructor(I,N,z){this.r=s("r",I),this.s=s("s",N),z!=null&&(this.recovery=z),Object.freeze(this)}static fromBytes(I,N=a){u(I,N);let z;if(N==="der"){const{r:V,s:U}=gs.toSig(Sr(I));return new f(V,U)}N==="recovered"&&(z=I[0],N="compact",I=I.subarray(1));const H=h.BYTES,X=I.subarray(0,H),W=I.subarray(H,H*2);return new f(h.fromBytes(X),h.fromBytes(W),z)}static fromHex(I,N){return this.fromBytes(Mc(I),N)}addRecoveryBit(I){return new f(this.r,this.s,I)}recoverPublicKey(I){const N=L.ORDER,{r:z,s:H,recovery:X}=this;if(X==null||![0,1,2,3].includes(X))throw new Error("recovery id invalid");if(x*BA<N&&X>1)throw new Error("recovery id is ambiguous for h>1 curve");const V=X===2||X===3?z+x:z;if(!L.isValid(V))throw new Error("recovery id 2 or 3 invalid");const U=L.toBytes(V),F=A.fromBytes(Gr(FA((X&1)===0),U)),k=h.inv(V),Y=d(Oi("msgHash",I)),Z=h.create(-Y*k),j=h.create(H*k),J=A.BASE.multiplyUnsafe(Z).add(F.multiplyUnsafe(j));if(J.is0())throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return l(this.s)}toBytes(I=a){if(rm(I),I==="der")return Mc(gs.hexFromSig(this));const N=h.toBytes(this.r),z=h.toBytes(this.s);if(I==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Gr(Uint8Array.of(this.recovery),N,z)}return Gr(N,z)}toHex(I){return fo(this.toBytes(I))}assertValidity(){}static fromCompact(I){return f.fromBytes(Oi("sig",I),"compact")}static fromDER(I){return f.fromBytes(Oi("sig",I),"der")}normalizeS(){return this.hasHighS()?new f(this.r,h.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return fo(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return fo(this.toBytes("compact"))}}const c=m.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const N=Jc(I),z=I.length*8-t;return z>0?N>>BigInt(z):N},d=m.bits2int_modN||function(I){return h.create(c(I))},p=ch(t);function S(b){return nm("num < 2^"+t,b,Cs,p),h.toBytes(b)}function C(b,I){return Sr(b,void 0,"message"),I?Sr(g(b),void 0,"prehashed message"):b}function E(b,I,N){if(["recovered","canonical"].some(Z=>Z in N))throw new Error("sign() legacy options not supported");const{lowS:z,prehash:H,extraEntropy:X}=tp(N,e);b=C(b,H);const W=d(b),V=gl(h,I),U=[S(V),S(W)];if(X!=null&&X!==!1){const Z=X===!0?T(i.secretKey):X;U.push(Oi("extraEntropy",Z))}const F=Gr(...U),k=W;function Y(Z){const j=c(Z);if(!h.isValidNot0(j))return;const J=h.inv(j),q=A.BASE.multiply(j).toAffine(),et=h.create(q.x);if(et===Cs)return;const it=h.create(J*h.create(k+et*V));if(it===Cs)return;let at=(q.x===et?0:2)|Number(q.y&wl),ut=it;return z&&l(it)&&(ut=h.neg(it),at^=1),new f(et,ut,at)}return{seed:F,k2sig:Y}}function R(b,I,N={}){b=Oi("message",b);const{seed:z,k2sig:H}=E(b,I,N);return db(g.outputLen,h.BYTES,O)(z,H)}function M(b){let I;const N=typeof b=="string"||fh(b),z=!N&&b!==null&&typeof b=="object"&&typeof b.r=="bigint"&&typeof b.s=="bigint";if(!N&&!z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(z)I=new f(b.r,b.s);else if(N){try{I=f.fromBytes(Oi("sig",b),"der")}catch(H){if(!(H instanceof gs.Err))throw H}if(!I)try{I=f.fromBytes(Oi("sig",b),"compact")}catch{return!1}}return I||!1}function D(b,I,N,z={}){const{lowS:H,prehash:X,format:W}=tp(z,e);if(N=Oi("publicKey",N),I=C(Oi("message",I),X),"strict"in z)throw new Error("options.strict was renamed to lowS");const V=W===void 0?M(b):f.fromBytes(Oi("sig",b),W);if(V===!1)return!1;try{const U=A.fromBytes(N);if(H&&V.hasHighS())return!1;const{r:F,s:k}=V,Y=d(I),Z=h.inv(k),j=h.create(Y*Z),J=h.create(F*Z),q=A.BASE.multiplyUnsafe(j).add(U.multiplyUnsafe(J));return q.is0()?!1:h.create(q.x)===F}catch{return!1}}function B(b,I,N={}){const{prehash:z}=tp(N,e);return I=C(I,z),f.fromBytes(b,"recovered").recoverPublicKey(I).toBytes()}return Object.freeze({keygen:o,getPublicKey:v,getSharedSecret:r,utils:n,lengths:i,Point:A,sign:R,verify:D,recoverPublicKey:B,Signature:f,hash:g})}function EL(A){const g={a:A.a,b:A.b,p:A.Fp.ORDER,n:A.n,h:A.h,Gx:A.Gx,Gy:A.Gy},m=A.Fp;let T=A.allowedPrivateKeyLengths?Array.from(new Set(A.allowedPrivateKeyLengths.map(h=>Math.ceil(h/2)))):void 0;const O=So(g.n,{BITS:A.nBitLength,allowedLengths:T,modFromBytes:A.wrapPrivateKey}),L={Fp:m,Fn:O,allowInfinityPoint:A.allowInfinityPoint,endo:A.endo,isTorsionFree:A.isTorsionFree,clearCofactor:A.clearCofactor,fromBytes:A.fromBytes,toBytes:A.toBytes};return{CURVE:g,curveOpts:L}}function wL(A){const{CURVE:g,curveOpts:m}=EL(A),T={hmac:A.hmac,randomBytes:A.randomBytes,lowS:A.lowS,bits2int:A.bits2int,bits2int_modN:A.bits2int_modN};return{CURVE:g,curveOpts:m,hash:A.hash,ecdsaOpts:T}}function AL(A,g){const m=g.Point;return Object.assign({},g,{ProjectivePoint:m,CURVE:Object.assign({},A,lA(m.Fn.ORDER,m.Fn.BITS))})}function CL(A){const{CURVE:g,curveOpts:m,hash:T,ecdsaOpts:O}=wL(A),L=xL(g,m),h=SL(L,T,O);return AL(A,h)}function RL(A,g){const m=T=>CL({...A,hash:T});return{...m(g),create:m}}const pg={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},ML={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},fS=BigInt(2);function OL(A){const g=pg.p,m=BigInt(3),T=BigInt(6),O=BigInt(11),L=BigInt(22),h=BigInt(23),x=BigInt(44),t=BigInt(88),o=A*A*A%g,v=o*o*A%g,r=Mi(v,m,g)*v%g,n=Mi(r,m,g)*v%g,i=Mi(n,fS,g)*o%g,e=Mi(i,O,g)*i%g,a=Mi(e,L,g)*e%g,l=Mi(a,x,g)*a%g,s=Mi(l,t,g)*l%g,u=Mi(s,x,g)*a%g,f=Mi(u,m,g)*v%g,c=Mi(f,h,g)*e%g,d=Mi(c,T,g)*o%g,p=Mi(d,fS,g);if(!sm.eql(sm.sqr(p),A))throw new Error("Cannot find square root");return p}const sm=So(pg.p,{sqrt:OL}),mg=RL({...pg,Fp:sm,lowS:!0,endo:ML},Jw),bL=Ul.utils.randomPrivateKey,cS=()=>{const A=Ul.utils.randomPrivateKey(),g=Bc(A),m=new Uint8Array(64);return m.set(A),m.set(g,32),{publicKey:g,secretKey:m}},Bc=Ul.getPublicKey;function dS(A){try{return Ul.ExtendedPoint.fromHex(A),!0}catch{return!1}}const gg=(A,g)=>Ul.sign(A,g.slice(0,32)),LL=Ul.verify,ye=A=>ie.Buffer.isBuffer(A)?A:A instanceof Uint8Array?ie.Buffer.from(A.buffer,A.byteOffset,A.byteLength):ie.Buffer.from(A);let yg=class{constructor(g){Object.assign(this,g)}encode(){return ie.Buffer.from(k0.serialize(Ku,this))}static decode(g){return k0.deserialize(Ku,this,g)}static decodeUnchecked(g){return k0.deserializeUnchecked(Ku,this,g)}};class IL extends yg{constructor(g){if(super(g),this.enum="",Object.keys(g).length!==1)throw new Error("Enum can only take single value");Object.keys(g).map(m=>{this.enum=m})}}const Ku=new Map;var zA;const GA=32,Wr=32;function PL(A){return A._bn!==void 0}let vS=1;class Ut extends yg{constructor(g){if(super({}),this._bn=void 0,PL(g))this._bn=g._bn;else{if(typeof g=="string"){const m=Yi.decode(g);if(m.length!=Wr)throw new Error("Invalid public key input");this._bn=new Tr(m)}else this._bn=new Tr(g);if(this._bn.byteLength()>Wr)throw new Error("Invalid public key input")}}static unique(){const g=new Ut(vS);return vS+=1,new Ut(g.toBuffer())}equals(g){return this._bn.eq(g._bn)}toBase58(){return Yi.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const g=this.toBuffer();return new Uint8Array(g.buffer,g.byteOffset,g.byteLength)}toBuffer(){const g=this._bn.toArrayLike(ie.Buffer);if(g.length===Wr)return g;const m=ie.Buffer.alloc(32);return g.copy(m,32-g.length),m}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(g,m,T){const O=ie.Buffer.concat([g.toBuffer(),ie.Buffer.from(m),T.toBuffer()]),L=_T(O);return new Ut(L)}static createProgramAddressSync(g,m){let T=ie.Buffer.alloc(0);g.forEach(function(L){if(L.length>GA)throw new TypeError("Max seed length exceeded");T=ie.Buffer.concat([T,ye(L)])}),T=ie.Buffer.concat([T,m.toBuffer(),ie.Buffer.from("ProgramDerivedAddress")]);const O=_T(T);if(dS(O))throw new Error("Invalid seeds, address must fall off the curve");return new Ut(O)}static async createProgramAddress(g,m){return this.createProgramAddressSync(g,m)}static findProgramAddressSync(g,m){let T=255,O;for(;T!=0;){try{const L=g.concat(ie.Buffer.from([T]));O=this.createProgramAddressSync(L,m)}catch(L){if(L instanceof TypeError)throw L;T--;continue}return[O,T]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(g,m){return this.findProgramAddressSync(g,m)}static isOnCurve(g){const m=new Ut(g);return dS(m.toBytes())}}zA=Ut;Ut.default=new zA("11111111111111111111111111111111");Ku.set(Ut,{kind:"struct",fields:[["_bn","u256"]]});class NL{constructor(g){if(this._publicKey=void 0,this._secretKey=void 0,g){const m=ye(g);if(g.length!==64)throw new Error("bad secret key size");this._publicKey=m.slice(32,64),this._secretKey=m.slice(0,32)}else this._secretKey=ye(bL()),this._publicKey=ye(Bc(this._secretKey))}get publicKey(){return new Ut(this._publicKey)}get secretKey(){return ie.Buffer.concat([this._secretKey,this._publicKey],64)}}const DL=new Ut("BPFLoader1111111111111111111111111111111111"),Ta=1232,ed=127,eh=64;class xg extends Error{constructor(g){super(`Signature ${g} has expired: block height exceeded.`),this.signature=void 0,this.signature=g}}Object.defineProperty(xg.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Tg extends Error{constructor(g,m){super(`Transaction was not confirmed in ${m.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${g} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=g}}Object.defineProperty(Tg.prototype,"name",{value:"TransactionExpiredTimeoutError"});class yl extends Error{constructor(g){super(`Signature ${g} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=g}}Object.defineProperty(yl.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ih{constructor(g,m){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=g,this.accountKeysFromLookups=m}keySegments(){const g=[this.staticAccountKeys];return this.accountKeysFromLookups&&(g.push(this.accountKeysFromLookups.writable),g.push(this.accountKeysFromLookups.readonly)),g}get(g){for(const m of this.keySegments()){if(g<m.length)return m[g];g-=m.length}}get length(){return this.keySegments().flat().length}compileInstructions(g){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const T=new Map;this.keySegments().flat().forEach((L,h)=>{T.set(L.toBase58(),h)});const O=L=>{const h=T.get(L.toBase58());if(h===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return h};return g.map(L=>({programIdIndex:O(L.programId),accountKeyIndexes:L.keys.map(h=>O(h.pubkey)),data:L.data}))}}const we=(A="publicKey")=>lt.blob(32,A),BL=(A="signature")=>lt.blob(64,A),io=(A="string")=>{const g=lt.struct([lt.u32("length"),lt.u32("lengthPadding"),lt.blob(lt.offset(lt.u32(),-8),"chars")],A),m=g.decode.bind(g),T=g.encode.bind(g),O=g;return O.decode=(L,h)=>m(L,h).chars.toString(),O.encode=(L,h,x)=>{const t={chars:ie.Buffer.from(L,"utf8")};return T(t,h,x)},O.alloc=L=>lt.u32().span+lt.u32().span+ie.Buffer.from(L,"utf8").length,O},FL=(A="authorized")=>lt.struct([we("staker"),we("withdrawer")],A),UL=(A="lockup")=>lt.struct([lt.ns64("unixTimestamp"),lt.ns64("epoch"),we("custodian")],A),zL=(A="voteInit")=>lt.struct([we("nodePubkey"),we("authorizedVoter"),we("authorizedWithdrawer"),lt.u8("commission")],A),GL=(A="voteAuthorizeWithSeedArgs")=>lt.struct([lt.u32("voteAuthorizationType"),we("currentAuthorityDerivedKeyOwnerPubkey"),io("currentAuthorityDerivedKeySeed"),we("newAuthorized")],A);function VA(A,g){const m=O=>{if(O.span>=0)return O.span;if(typeof O.alloc=="function")return O.alloc(g[O.property]);if("count"in O&&"elementLayout"in O){const L=g[O.property];if(Array.isArray(L))return L.length*m(O.elementLayout)}else if("fields"in O)return VA({layout:O},g[O.property]);return 0};let T=0;return A.layout.fields.forEach(O=>{T+=m(O)}),T}function In(A){let g=0,m=0;for(;;){let T=A.shift();if(g|=(T&127)<<m*7,m+=1,(T&128)===0)break}return g}function Zn(A,g){let m=g;for(;;){let T=m&127;if(m>>=7,m==0){A.push(T);break}else T|=128,A.push(T)}}function ze(A,g){if(!A)throw new Error(g||"Assertion failed")}class id{constructor(g,m){this.payer=void 0,this.keyMetaMap=void 0,this.payer=g,this.keyMetaMap=m}static compile(g,m){const T=new Map,O=h=>{const x=h.toBase58();let t=T.get(x);return t===void 0&&(t={isSigner:!1,isWritable:!1,isInvoked:!1},T.set(x,t)),t},L=O(m);L.isSigner=!0,L.isWritable=!0;for(const h of g){O(h.programId).isInvoked=!0;for(const x of h.keys){const t=O(x.pubkey);t.isSigner||=x.isSigner,t.isWritable||=x.isWritable}}return new id(m,T)}getMessageComponents(){const g=[...this.keyMetaMap.entries()];ze(g.length<=256,"Max static account keys length exceeded");const m=g.filter(([,t])=>t.isSigner&&t.isWritable),T=g.filter(([,t])=>t.isSigner&&!t.isWritable),O=g.filter(([,t])=>!t.isSigner&&t.isWritable),L=g.filter(([,t])=>!t.isSigner&&!t.isWritable),h={numRequiredSignatures:m.length+T.length,numReadonlySignedAccounts:T.length,numReadonlyUnsignedAccounts:L.length};{ze(m.length>0,"Expected at least one writable signer key");const[t]=m[0];ze(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const x=[...m.map(([t])=>new Ut(t)),...T.map(([t])=>new Ut(t)),...O.map(([t])=>new Ut(t)),...L.map(([t])=>new Ut(t))];return[h,x]}extractTableLookup(g){const[m,T]=this.drainKeysFoundInLookupTable(g.state.addresses,h=>!h.isSigner&&!h.isInvoked&&h.isWritable),[O,L]=this.drainKeysFoundInLookupTable(g.state.addresses,h=>!h.isSigner&&!h.isInvoked&&!h.isWritable);if(!(m.length===0&&O.length===0))return[{accountKey:g.key,writableIndexes:m,readonlyIndexes:O},{writable:T,readonly:L}]}drainKeysFoundInLookupTable(g,m){const T=new Array,O=new Array;for(const[L,h]of this.keyMetaMap.entries())if(m(h)){const x=new Ut(L),t=g.findIndex(o=>o.equals(x));t>=0&&(ze(t<256,"Max lookup table index exceeded"),T.push(t),O.push(x),this.keyMetaMap.delete(L))}return[T,O]}}const HA="Reached end of buffer unexpectedly";function Vr(A){if(A.length===0)throw new Error(HA);return A.shift()}function Pn(A,...g){const[m]=g;if(g.length===2?m+(g[1]??0)>A.length:m>=A.length)throw new Error(HA);return A.splice(...g)}class Cr{constructor(g){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=g.header,this.accountKeys=g.accountKeys.map(m=>new Ut(m)),this.recentBlockhash=g.recentBlockhash,this.instructions=g.instructions,this.instructions.forEach(m=>this.indexToProgramIds.set(m.programIdIndex,this.accountKeys[m.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(g=>({programIdIndex:g.programIdIndex,accountKeyIndexes:g.accounts,data:Yi.decode(g.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ih(this.staticAccountKeys)}static compile(g){const m=id.compile(g.instructions,g.payerKey),[T,O]=m.getMessageComponents(),h=new ih(O).compileInstructions(g.instructions).map(x=>({programIdIndex:x.programIdIndex,accounts:x.accountKeyIndexes,data:Yi.encode(x.data)}));return new Cr({header:T,accountKeys:O,recentBlockhash:g.recentBlockhash,instructions:h})}isAccountSigner(g){return g<this.header.numRequiredSignatures}isAccountWritable(g){const m=this.header.numRequiredSignatures;if(g>=this.header.numRequiredSignatures){const T=g-m,L=this.accountKeys.length-m-this.header.numReadonlyUnsignedAccounts;return T<L}else{const T=m-this.header.numReadonlySignedAccounts;return g<T}}isProgramId(g){return this.indexToProgramIds.has(g)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((g,m)=>!this.isProgramId(m))}serialize(){const g=this.accountKeys.length;let m=[];Zn(m,g);const T=this.instructions.map(r=>{const{accounts:n,programIdIndex:i}=r,e=Array.from(Yi.decode(r.data));let a=[];Zn(a,n.length);let l=[];return Zn(l,e.length),{programIdIndex:i,keyIndicesCount:ie.Buffer.from(a),keyIndices:n,dataLength:ie.Buffer.from(l),data:e}});let O=[];Zn(O,T.length);let L=ie.Buffer.alloc(Ta);ie.Buffer.from(O).copy(L);let h=O.length;T.forEach(r=>{const i=lt.struct([lt.u8("programIdIndex"),lt.blob(r.keyIndicesCount.length,"keyIndicesCount"),lt.seq(lt.u8("keyIndex"),r.keyIndices.length,"keyIndices"),lt.blob(r.dataLength.length,"dataLength"),lt.seq(lt.u8("userdatum"),r.data.length,"data")]).encode(r,L,h);h+=i}),L=L.slice(0,h);const x=lt.struct([lt.blob(1,"numRequiredSignatures"),lt.blob(1,"numReadonlySignedAccounts"),lt.blob(1,"numReadonlyUnsignedAccounts"),lt.blob(m.length,"keyCount"),lt.seq(we("key"),g,"keys"),we("recentBlockhash")]),t={numRequiredSignatures:ie.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ie.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ie.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ie.Buffer.from(m),keys:this.accountKeys.map(r=>ye(r.toBytes())),recentBlockhash:Yi.decode(this.recentBlockhash)};let o=ie.Buffer.alloc(2048);const v=x.encode(t,o);return L.copy(o,v),o.slice(0,v+L.length)}static from(g){let m=[...g];const T=Vr(m);if(T!==(T&ed))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const O=Vr(m),L=Vr(m),h=In(m);let x=[];for(let n=0;n<h;n++){const i=Pn(m,0,Wr);x.push(new Ut(ie.Buffer.from(i)))}const t=Pn(m,0,Wr),o=In(m);let v=[];for(let n=0;n<o;n++){const i=Vr(m),e=In(m),a=Pn(m,0,e),l=In(m),s=Pn(m,0,l),u=Yi.encode(ie.Buffer.from(s));v.push({programIdIndex:i,accounts:a,data:u})}const r={header:{numRequiredSignatures:T,numReadonlySignedAccounts:O,numReadonlyUnsignedAccounts:L},recentBlockhash:Yi.encode(ie.Buffer.from(t)),accountKeys:x,instructions:v};return new Cr(r)}}class po{constructor(g){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=g.header,this.staticAccountKeys=g.staticAccountKeys,this.recentBlockhash=g.recentBlockhash,this.compiledInstructions=g.compiledInstructions,this.addressTableLookups=g.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let g=0;for(const m of this.addressTableLookups)g+=m.readonlyIndexes.length+m.writableIndexes.length;return g}getAccountKeys(g){let m;if(g&&"accountKeysFromLookups"in g&&g.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=g.accountKeysFromLookups.writable.length+g.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");m=g.accountKeysFromLookups}else if(g&&"addressLookupTableAccounts"in g&&g.addressLookupTableAccounts)m=this.resolveAddressTableLookups(g.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ih(this.staticAccountKeys,m)}isAccountSigner(g){return g<this.header.numRequiredSignatures}isAccountWritable(g){const m=this.header.numRequiredSignatures,T=this.staticAccountKeys.length;if(g>=T){const O=g-T,L=this.addressTableLookups.reduce((h,x)=>h+x.writableIndexes.length,0);return O<L}else if(g>=this.header.numRequiredSignatures){const O=g-m,h=T-m-this.header.numReadonlyUnsignedAccounts;return O<h}else{const O=m-this.header.numReadonlySignedAccounts;return g<O}}resolveAddressTableLookups(g){const m={writable:[],readonly:[]};for(const T of this.addressTableLookups){const O=g.find(L=>L.key.equals(T.accountKey));if(!O)throw new Error(`Failed to find address lookup table account for table key ${T.accountKey.toBase58()}`);for(const L of T.writableIndexes)if(L<O.state.addresses.length)m.writable.push(O.state.addresses[L]);else throw new Error(`Failed to find address for index ${L} in address lookup table ${T.accountKey.toBase58()}`);for(const L of T.readonlyIndexes)if(L<O.state.addresses.length)m.readonly.push(O.state.addresses[L]);else throw new Error(`Failed to find address for index ${L} in address lookup table ${T.accountKey.toBase58()}`)}return m}static compile(g){const m=id.compile(g.instructions,g.payerKey),T=new Array,O={writable:new Array,readonly:new Array},L=g.addressLookupTableAccounts||[];for(const v of L){const r=m.extractTableLookup(v);if(r!==void 0){const[n,{writable:i,readonly:e}]=r;T.push(n),O.writable.push(...i),O.readonly.push(...e)}}const[h,x]=m.getMessageComponents(),o=new ih(x,O).compileInstructions(g.instructions);return new po({header:h,staticAccountKeys:x,recentBlockhash:g.recentBlockhash,compiledInstructions:o,addressTableLookups:T})}serialize(){const g=Array();Zn(g,this.staticAccountKeys.length);const m=this.serializeInstructions(),T=Array();Zn(T,this.compiledInstructions.length);const O=this.serializeAddressTableLookups(),L=Array();Zn(L,this.addressTableLookups.length);const h=lt.struct([lt.u8("prefix"),lt.struct([lt.u8("numRequiredSignatures"),lt.u8("numReadonlySignedAccounts"),lt.u8("numReadonlyUnsignedAccounts")],"header"),lt.blob(g.length,"staticAccountKeysLength"),lt.seq(we(),this.staticAccountKeys.length,"staticAccountKeys"),we("recentBlockhash"),lt.blob(T.length,"instructionsLength"),lt.blob(m.length,"serializedInstructions"),lt.blob(L.length,"addressTableLookupsLength"),lt.blob(O.length,"serializedAddressTableLookups")]),x=new Uint8Array(Ta),o=h.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(g),staticAccountKeys:this.staticAccountKeys.map(v=>v.toBytes()),recentBlockhash:Yi.decode(this.recentBlockhash),instructionsLength:new Uint8Array(T),serializedInstructions:m,addressTableLookupsLength:new Uint8Array(L),serializedAddressTableLookups:O},x);return x.slice(0,o)}serializeInstructions(){let g=0;const m=new Uint8Array(Ta);for(const T of this.compiledInstructions){const O=Array();Zn(O,T.accountKeyIndexes.length);const L=Array();Zn(L,T.data.length);const h=lt.struct([lt.u8("programIdIndex"),lt.blob(O.length,"encodedAccountKeyIndexesLength"),lt.seq(lt.u8(),T.accountKeyIndexes.length,"accountKeyIndexes"),lt.blob(L.length,"encodedDataLength"),lt.blob(T.data.length,"data")]);g+=h.encode({programIdIndex:T.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(O),accountKeyIndexes:T.accountKeyIndexes,encodedDataLength:new Uint8Array(L),data:T.data},m,g)}return m.slice(0,g)}serializeAddressTableLookups(){let g=0;const m=new Uint8Array(Ta);for(const T of this.addressTableLookups){const O=Array();Zn(O,T.writableIndexes.length);const L=Array();Zn(L,T.readonlyIndexes.length);const h=lt.struct([we("accountKey"),lt.blob(O.length,"encodedWritableIndexesLength"),lt.seq(lt.u8(),T.writableIndexes.length,"writableIndexes"),lt.blob(L.length,"encodedReadonlyIndexesLength"),lt.seq(lt.u8(),T.readonlyIndexes.length,"readonlyIndexes")]);g+=h.encode({accountKey:T.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(O),writableIndexes:T.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(L),readonlyIndexes:T.readonlyIndexes},m,g)}return m.slice(0,g)}static deserialize(g){let m=[...g];const T=Vr(m),O=T&ed;ze(T!==O,"Expected versioned message but received legacy message");const L=O;ze(L===0,`Expected versioned message with version 0 but found version ${L}`);const h={numRequiredSignatures:Vr(m),numReadonlySignedAccounts:Vr(m),numReadonlyUnsignedAccounts:Vr(m)},x=[],t=In(m);for(let e=0;e<t;e++)x.push(new Ut(Pn(m,0,Wr)));const o=Yi.encode(Pn(m,0,Wr)),v=In(m),r=[];for(let e=0;e<v;e++){const a=Vr(m),l=In(m),s=Pn(m,0,l),u=In(m),f=new Uint8Array(Pn(m,0,u));r.push({programIdIndex:a,accountKeyIndexes:s,data:f})}const n=In(m),i=[];for(let e=0;e<n;e++){const a=new Ut(Pn(m,0,Wr)),l=In(m),s=Pn(m,0,l),u=In(m),f=Pn(m,0,u);i.push({accountKey:a,writableIndexes:s,readonlyIndexes:f})}return new po({header:h,staticAccountKeys:x,recentBlockhash:o,compiledInstructions:r,addressTableLookups:i})}}const nd={deserializeMessageVersion(A){const g=A[0],m=g&ed;return m===g?"legacy":m},deserialize:A=>{const g=nd.deserializeMessageVersion(A);if(g==="legacy")return Cr.from(A);if(g===0)return po.deserialize(A);throw new Error(`Transaction message version ${g} deserialization is not supported`)}};let ps=(function(A){return A[A.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",A[A.PROCESSED=1]="PROCESSED",A[A.TIMED_OUT=2]="TIMED_OUT",A[A.NONCE_INVALID=3]="NONCE_INVALID",A})({});const VL=ie.Buffer.alloc(eh).fill(0);class $e{constructor(g){this.keys=void 0,this.programId=void 0,this.data=ie.Buffer.alloc(0),this.programId=g.programId,this.keys=g.keys,g.data&&(this.data=g.data)}toJSON(){return{keys:this.keys.map(({pubkey:g,isSigner:m,isWritable:T})=>({pubkey:g.toJSON(),isSigner:m,isWritable:T})),programId:this.programId.toJSON(),data:[...this.data]}}}class Le{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(g){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!g)if(g.feePayer&&(this.feePayer=g.feePayer),g.signatures&&(this.signatures=g.signatures),Object.prototype.hasOwnProperty.call(g,"nonceInfo")){const{minContextSlot:m,nonceInfo:T}=g;this.minNonceContextSlot=m,this.nonceInfo=T}else if(Object.prototype.hasOwnProperty.call(g,"lastValidBlockHeight")){const{blockhash:m,lastValidBlockHeight:T}=g;this.recentBlockhash=m,this.lastValidBlockHeight=T}else{const{recentBlockhash:m,nonceInfo:T}=g;T&&(this.nonceInfo=T),this.recentBlockhash=m}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(g=>g.toJSON()),signers:this.signatures.map(({publicKey:g})=>g.toJSON())}}add(...g){if(g.length===0)throw new Error("No instructions");return g.forEach(m=>{"instructions"in m?this.instructions=this.instructions.concat(m.instructions):"data"in m&&"programId"in m&&"keys"in m?this.instructions.push(m):this.instructions.push(new $e(m))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let g,m;if(this.nonceInfo?(g=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?m=[this.nonceInfo.nonceInstruction,...this.instructions]:m=this.instructions):(g=this.recentBlockhash,m=this.instructions),!g)throw new Error("Transaction recentBlockhash required");m.length<1&&console.warn("No instructions provided");let T;if(this.feePayer)T=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)T=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let a=0;a<m.length;a++)if(m[a].programId===void 0)throw new Error(`Transaction instruction index ${a} has undefined program id`);const O=[],L=[];m.forEach(a=>{a.keys.forEach(s=>{L.push({...s})});const l=a.programId.toString();O.includes(l)||O.push(l)}),O.forEach(a=>{L.push({pubkey:new Ut(a),isSigner:!1,isWritable:!1})});const h=[];L.forEach(a=>{const l=a.pubkey.toString(),s=h.findIndex(u=>u.pubkey.toString()===l);s>-1?(h[s].isWritable=h[s].isWritable||a.isWritable,h[s].isSigner=h[s].isSigner||a.isSigner):h.push(a)}),h.sort(function(a,l){if(a.isSigner!==l.isSigner)return a.isSigner?-1:1;if(a.isWritable!==l.isWritable)return a.isWritable?-1:1;const s={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return a.pubkey.toBase58().localeCompare(l.pubkey.toBase58(),"en",s)});const x=h.findIndex(a=>a.pubkey.equals(T));if(x>-1){const[a]=h.splice(x,1);a.isSigner=!0,a.isWritable=!0,h.unshift(a)}else h.unshift({pubkey:T,isSigner:!0,isWritable:!0});for(const a of this.signatures){const l=h.findIndex(s=>s.pubkey.equals(a.publicKey));if(l>-1)h[l].isSigner||(h[l].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${a.publicKey.toString()}`)}let t=0,o=0,v=0;const r=[],n=[];h.forEach(({pubkey:a,isSigner:l,isWritable:s})=>{l?(r.push(a.toString()),t+=1,s||(o+=1)):(n.push(a.toString()),s||(v+=1))});const i=r.concat(n),e=m.map(a=>{const{data:l,programId:s}=a;return{programIdIndex:i.indexOf(s.toString()),accounts:a.keys.map(u=>i.indexOf(u.pubkey.toString())),data:Yi.encode(l)}});return e.forEach(a=>{ze(a.programIdIndex>=0),a.accounts.forEach(l=>ze(l>=0))}),new Cr({header:{numRequiredSignatures:t,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:v},accountKeys:i,recentBlockhash:g,instructions:e})}_compile(){const g=this.compileMessage(),m=g.accountKeys.slice(0,g.header.numRequiredSignatures);return this.signatures.length===m.length&&this.signatures.every((O,L)=>m[L].equals(O.publicKey))||(this.signatures=m.map(T=>({signature:null,publicKey:T}))),g}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(g){return(await g.getFeeForMessage(this.compileMessage())).value}setSigners(...g){if(g.length===0)throw new Error("No signers");const m=new Set;this.signatures=g.filter(T=>{const O=T.toString();return m.has(O)?!1:(m.add(O),!0)}).map(T=>({signature:null,publicKey:T}))}sign(...g){if(g.length===0)throw new Error("No signers");const m=new Set,T=[];for(const L of g){const h=L.publicKey.toString();m.has(h)||(m.add(h),T.push(L))}this.signatures=T.map(L=>({signature:null,publicKey:L.publicKey}));const O=this._compile();this._partialSign(O,...T)}partialSign(...g){if(g.length===0)throw new Error("No signers");const m=new Set,T=[];for(const L of g){const h=L.publicKey.toString();m.has(h)||(m.add(h),T.push(L))}const O=this._compile();this._partialSign(O,...T)}_partialSign(g,...m){const T=g.serialize();m.forEach(O=>{const L=gg(T,O.secretKey);this._addSignature(O.publicKey,ye(L))})}addSignature(g,m){this._compile(),this._addSignature(g,m)}_addSignature(g,m){ze(m.length===64);const T=this.signatures.findIndex(O=>g.equals(O.publicKey));if(T<0)throw new Error(`unknown signer: ${g.toString()}`);this.signatures[T].signature=ie.Buffer.from(m)}verifySignatures(g=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),g)}_getMessageSignednessErrors(g,m){const T={};for(const{signature:O,publicKey:L}of this.signatures)O===null?m&&(T.missing||=[]).push(L):LL(O,g,L.toBytes())||(T.invalid||=[]).push(L);return T.invalid||T.missing?T:void 0}serialize(g){const{requireAllSignatures:m,verifySignatures:T}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},g),O=this.serializeMessage();if(T){const L=this._getMessageSignednessErrors(O,m);if(L){let h="Signature verification failed.";throw L.invalid&&(h+=`
Invalid signature for public key${L.invalid.length===1?"":"(s)"} [\`${L.invalid.map(x=>x.toBase58()).join("`, `")}\`].`),L.missing&&(h+=`
Missing signature for public key${L.missing.length===1?"":"(s)"} [\`${L.missing.map(x=>x.toBase58()).join("`, `")}\`].`),new Error(h)}}return this._serialize(O)}_serialize(g){const{signatures:m}=this,T=[];Zn(T,m.length);const O=T.length+m.length*64+g.length,L=ie.Buffer.alloc(O);return ze(m.length<256),ie.Buffer.from(T).copy(L,0),m.forEach(({signature:h},x)=>{h!==null&&(ze(h.length===64,"signature has invalid length"),ie.Buffer.from(h).copy(L,T.length+x*64))}),g.copy(L,T.length+m.length*64),ze(L.length<=Ta,`Transaction too large: ${L.length} > ${Ta}`),L}get keys(){return ze(this.instructions.length===1),this.instructions[0].keys.map(g=>g.pubkey)}get programId(){return ze(this.instructions.length===1),this.instructions[0].programId}get data(){return ze(this.instructions.length===1),this.instructions[0].data}static from(g){let m=[...g];const T=In(m);let O=[];for(let L=0;L<T;L++){const h=Pn(m,0,eh);O.push(Yi.encode(ie.Buffer.from(h)))}return Le.populate(Cr.from(m),O)}static populate(g,m=[]){const T=new Le;return T.recentBlockhash=g.recentBlockhash,g.header.numRequiredSignatures>0&&(T.feePayer=g.accountKeys[0]),m.forEach((O,L)=>{const h={signature:O==Yi.encode(VL)?null:Yi.decode(O),publicKey:g.accountKeys[L]};T.signatures.push(h)}),g.instructions.forEach(O=>{const L=O.accounts.map(h=>{const x=g.accountKeys[h];return{pubkey:x,isSigner:T.signatures.some(t=>t.publicKey.toString()===x.toString())||g.isAccountSigner(h),isWritable:g.isAccountWritable(h)}});T.instructions.push(new $e({keys:L,programId:g.accountKeys[O.programIdIndex],data:Yi.decode(O.data)}))}),T._message=g,T._json=T.toJSON(),T}}class Sg{constructor(g){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=g.payerKey,this.instructions=g.instructions,this.recentBlockhash=g.recentBlockhash}static decompile(g,m){const{header:T,compiledInstructions:O,recentBlockhash:L}=g,{numRequiredSignatures:h,numReadonlySignedAccounts:x,numReadonlyUnsignedAccounts:t}=T,o=h-x;ze(o>0,"Message header is invalid");const v=g.staticAccountKeys.length-h-t;ze(v>=0,"Message header is invalid");const r=g.getAccountKeys(m),n=r.get(0);if(n===void 0)throw new Error("Failed to decompile message because no account keys were found");const i=[];for(const e of O){const a=[];for(const s of e.accountKeyIndexes){const u=r.get(s);if(u===void 0)throw new Error(`Failed to find key for account key index ${s}`);const f=s<h;let c;f?c=s<o:s<r.staticAccountKeys.length?c=s-h<v:c=s-r.staticAccountKeys.length<r.accountKeysFromLookups.writable.length,a.push({pubkey:u,isSigner:s<T.numRequiredSignatures,isWritable:c})}const l=r.get(e.programIdIndex);if(l===void 0)throw new Error(`Failed to find program id for program id index ${e.programIdIndex}`);i.push(new $e({programId:l,data:ye(e.data),keys:a}))}return new Sg({payerKey:n,instructions:i,recentBlockhash:L})}compileToLegacyMessage(){return Cr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(g){return po.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:g})}}class Il{get version(){return this.message.version}constructor(g,m){if(this.signatures=void 0,this.message=void 0,m!==void 0)ze(m.length===g.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=m;else{const T=[];for(let O=0;O<g.header.numRequiredSignatures;O++)T.push(new Uint8Array(eh));this.signatures=T}this.message=g}serialize(){const g=this.message.serialize(),m=Array();Zn(m,this.signatures.length);const T=lt.struct([lt.blob(m.length,"encodedSignaturesLength"),lt.seq(BL(),this.signatures.length,"signatures"),lt.blob(g.length,"serializedMessage")]),O=new Uint8Array(2048),L=T.encode({encodedSignaturesLength:new Uint8Array(m),signatures:this.signatures,serializedMessage:g},O);return O.slice(0,L)}static deserialize(g){let m=[...g];const T=[],O=In(m);for(let h=0;h<O;h++)T.push(new Uint8Array(Pn(m,0,eh)));const L=nd.deserialize(new Uint8Array(m));return new Il(L,T)}sign(g){const m=this.message.serialize(),T=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const O of g){const L=T.findIndex(h=>h.equals(O.publicKey));ze(L>=0,`Cannot sign with non signer key ${O.publicKey.toBase58()}`),this.signatures[L]=gg(m,O.secretKey)}}addSignature(g,m){ze(m.byteLength===64,"Signature must be 64 bytes long");const O=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(L=>L.equals(g));ze(O>=0,`Can not add signature; \`${g.toBase58()}\` is not required to sign this transaction`),this.signatures[O]=m}}const HL=160,YL=64,WL=HL/YL,YA=1e3/WL,zr=new Ut("SysvarC1ock11111111111111111111111111111111"),XL=new Ut("SysvarEpochSchedu1e111111111111111111111111"),kL=new Ut("Sysvar1nstructions1111111111111111111111111"),nc=new Ut("SysvarRecentB1ockHashes11111111111111111111"),Pl=new Ut("SysvarRent111111111111111111111111111111111"),jL=new Ut("SysvarRewards111111111111111111111111111111"),KL=new Ut("SysvarS1otHashes111111111111111111111111111"),ZL=new Ut("SysvarS1otHistory11111111111111111111111111"),rc=new Ut("SysvarStakeHistory1111111111111111111111111");class Aa extends Error{constructor({action:g,signature:m,transactionMessage:T,logs:O}){const L=O?`Logs: 
${JSON.stringify(O.slice(-10),null,2)}. `:"",h="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let x;switch(g){case"send":x=`Transaction ${m} resulted in an error. 
${T}. `+L+h;break;case"simulate":x=`Simulation failed. 
Message: ${T}. 
`+L+h;break;default:x=`Unknown action '${(t=>t)(g)}'`}super(x),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=m,this.transactionMessage=T,this.transactionLogs=O||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const g=this.transactionLogs;if(!(g!=null&&typeof g=="object"&&"then"in g))return g}async getLogs(g){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((m,T)=>{g.getTransaction(this.signature).then(O=>{if(O&&O.meta&&O.meta.logMessages){const L=O.meta.logMessages;this.transactionLogs=L,m(L)}else T(new Error("Log messages not found"))}).catch(T)})),await this.transactionLogs}}const QL={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ae extends Error{constructor({code:g,message:m,data:T},O){super(O!=null?`${O}: ${m}`:m),this.code=void 0,this.data=void 0,this.code=g,this.data=T,this.name="SolanaJSONRPCError"}}async function am(A,g,m,T){const O=T&&{skipPreflight:T.skipPreflight,preflightCommitment:T.preflightCommitment||T.commitment,maxRetries:T.maxRetries,minContextSlot:T.minContextSlot},L=await A.sendTransaction(g,m,O);let h;if(g.recentBlockhash!=null&&g.lastValidBlockHeight!=null)h=(await A.confirmTransaction({abortSignal:T?.abortSignal,signature:L,blockhash:g.recentBlockhash,lastValidBlockHeight:g.lastValidBlockHeight},T&&T.commitment)).value;else if(g.minNonceContextSlot!=null&&g.nonceInfo!=null){const{nonceInstruction:x}=g.nonceInfo,t=x.keys[0].pubkey;h=(await A.confirmTransaction({abortSignal:T?.abortSignal,minContextSlot:g.minNonceContextSlot,nonceAccountPubkey:t,nonceValue:g.nonceInfo.nonce,signature:L},T&&T.commitment)).value}else T?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),h=(await A.confirmTransaction(L,T&&T.commitment)).value;if(h.err)throw L!=null?new Aa({action:"send",signature:L,transactionMessage:`Status: (${JSON.stringify(h)})`}):new Error(`Transaction ${L} failed (${JSON.stringify(h)})`);return L}function qa(A){return new Promise(g=>setTimeout(g,A))}function Pe(A,g){const m=A.layout.span>=0?A.layout.span:VA(A,g),T=ie.Buffer.alloc(m),O=Object.assign({instruction:A.index},g);return A.layout.encode(O,T),T}function Ve(A,g){let m;try{m=A.layout.decode(g)}catch(T){throw new Error("invalid instruction; "+T)}if(m.instruction!==A.index)throw new Error(`invalid instruction; instruction index mismatch ${m.instruction} != ${A.index}`);return m}const WA=lt.nu64("lamportsPerSignature"),XA=lt.struct([lt.u32("version"),lt.u32("state"),we("authorizedPubkey"),we("nonce"),lt.struct([WA],"feeCalculator")]),om=XA.span;class rd{constructor(g){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=g.authorizedPubkey,this.nonce=g.nonce,this.feeCalculator=g.feeCalculator}static fromAccountData(g){const m=XA.decode(ye(g),0);return new rd({authorizedPubkey:new Ut(m.authorizedPubkey),nonce:new Ut(m.nonce).toString(),feeCalculator:m.feeCalculator})}}function Nl(A){const g=lt.blob(8,A),m=g.decode.bind(g),T=g.encode.bind(g),O=g,L=A8();return O.decode=(h,x)=>{const t=m(h,x);return L.decode(t)},O.encode=(h,x,t)=>{const o=L.encode(h);return T(o,x,t)},O}class JL{constructor(){}static decodeInstructionType(g){this.checkProgramId(g.programId);const T=lt.u32("instruction").decode(g.data);let O;for(const[L,h]of Object.entries(li))if(h.index==T){O=L;break}if(!O)throw new Error("Instruction type incorrect; not a SystemInstruction");return O}static decodeCreateAccount(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,2);const{lamports:m,space:T,programId:O}=Ve(li.Create,g.data);return{fromPubkey:g.keys[0].pubkey,newAccountPubkey:g.keys[1].pubkey,lamports:m,space:T,programId:new Ut(O)}}static decodeTransfer(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,2);const{lamports:m}=Ve(li.Transfer,g.data);return{fromPubkey:g.keys[0].pubkey,toPubkey:g.keys[1].pubkey,lamports:m}}static decodeTransferWithSeed(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,3);const{lamports:m,seed:T,programId:O}=Ve(li.TransferWithSeed,g.data);return{fromPubkey:g.keys[0].pubkey,basePubkey:g.keys[1].pubkey,toPubkey:g.keys[2].pubkey,lamports:m,seed:T,programId:new Ut(O)}}static decodeAllocate(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,1);const{space:m}=Ve(li.Allocate,g.data);return{accountPubkey:g.keys[0].pubkey,space:m}}static decodeAllocateWithSeed(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,1);const{base:m,seed:T,space:O,programId:L}=Ve(li.AllocateWithSeed,g.data);return{accountPubkey:g.keys[0].pubkey,basePubkey:new Ut(m),seed:T,space:O,programId:new Ut(L)}}static decodeAssign(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,1);const{programId:m}=Ve(li.Assign,g.data);return{accountPubkey:g.keys[0].pubkey,programId:new Ut(m)}}static decodeAssignWithSeed(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,1);const{base:m,seed:T,programId:O}=Ve(li.AssignWithSeed,g.data);return{accountPubkey:g.keys[0].pubkey,basePubkey:new Ut(m),seed:T,programId:new Ut(O)}}static decodeCreateWithSeed(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,2);const{base:m,seed:T,lamports:O,space:L,programId:h}=Ve(li.CreateWithSeed,g.data);return{fromPubkey:g.keys[0].pubkey,newAccountPubkey:g.keys[1].pubkey,basePubkey:new Ut(m),seed:T,lamports:O,space:L,programId:new Ut(h)}}static decodeNonceInitialize(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,3);const{authorized:m}=Ve(li.InitializeNonceAccount,g.data);return{noncePubkey:g.keys[0].pubkey,authorizedPubkey:new Ut(m)}}static decodeNonceAdvance(g){return this.checkProgramId(g.programId),this.checkKeyLength(g.keys,3),Ve(li.AdvanceNonceAccount,g.data),{noncePubkey:g.keys[0].pubkey,authorizedPubkey:g.keys[2].pubkey}}static decodeNonceWithdraw(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,5);const{lamports:m}=Ve(li.WithdrawNonceAccount,g.data);return{noncePubkey:g.keys[0].pubkey,toPubkey:g.keys[1].pubkey,authorizedPubkey:g.keys[4].pubkey,lamports:m}}static decodeNonceAuthorize(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,2);const{authorized:m}=Ve(li.AuthorizeNonceAccount,g.data);return{noncePubkey:g.keys[0].pubkey,authorizedPubkey:g.keys[1].pubkey,newAuthorizedPubkey:new Ut(m)}}static checkProgramId(g){if(!g.equals(ji.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(g,m){if(g.length<m)throw new Error(`invalid instruction; found ${g.length} keys, expected at least ${m}`)}}const li=Object.freeze({Create:{index:0,layout:lt.struct([lt.u32("instruction"),lt.ns64("lamports"),lt.ns64("space"),we("programId")])},Assign:{index:1,layout:lt.struct([lt.u32("instruction"),we("programId")])},Transfer:{index:2,layout:lt.struct([lt.u32("instruction"),Nl("lamports")])},CreateWithSeed:{index:3,layout:lt.struct([lt.u32("instruction"),we("base"),io("seed"),lt.ns64("lamports"),lt.ns64("space"),we("programId")])},AdvanceNonceAccount:{index:4,layout:lt.struct([lt.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:lt.struct([lt.u32("instruction"),lt.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:lt.struct([lt.u32("instruction"),we("authorized")])},AuthorizeNonceAccount:{index:7,layout:lt.struct([lt.u32("instruction"),we("authorized")])},Allocate:{index:8,layout:lt.struct([lt.u32("instruction"),lt.ns64("space")])},AllocateWithSeed:{index:9,layout:lt.struct([lt.u32("instruction"),we("base"),io("seed"),lt.ns64("space"),we("programId")])},AssignWithSeed:{index:10,layout:lt.struct([lt.u32("instruction"),we("base"),io("seed"),we("programId")])},TransferWithSeed:{index:11,layout:lt.struct([lt.u32("instruction"),Nl("lamports"),io("seed"),we("programId")])},UpgradeNonceAccount:{index:12,layout:lt.struct([lt.u32("instruction")])}});class ji{constructor(){}static createAccount(g){const m=li.Create,T=Pe(m,{lamports:g.lamports,space:g.space,programId:ye(g.programId.toBuffer())});return new $e({keys:[{pubkey:g.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:g.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:T})}static transfer(g){let m,T;if("basePubkey"in g){const O=li.TransferWithSeed;m=Pe(O,{lamports:BigInt(g.lamports),seed:g.seed,programId:ye(g.programId.toBuffer())}),T=[{pubkey:g.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:g.basePubkey,isSigner:!0,isWritable:!1},{pubkey:g.toPubkey,isSigner:!1,isWritable:!0}]}else{const O=li.Transfer;m=Pe(O,{lamports:BigInt(g.lamports)}),T=[{pubkey:g.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:g.toPubkey,isSigner:!1,isWritable:!0}]}return new $e({keys:T,programId:this.programId,data:m})}static assign(g){let m,T;if("basePubkey"in g){const O=li.AssignWithSeed;m=Pe(O,{base:ye(g.basePubkey.toBuffer()),seed:g.seed,programId:ye(g.programId.toBuffer())}),T=[{pubkey:g.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:g.basePubkey,isSigner:!0,isWritable:!1}]}else{const O=li.Assign;m=Pe(O,{programId:ye(g.programId.toBuffer())}),T=[{pubkey:g.accountPubkey,isSigner:!0,isWritable:!0}]}return new $e({keys:T,programId:this.programId,data:m})}static createAccountWithSeed(g){const m=li.CreateWithSeed,T=Pe(m,{base:ye(g.basePubkey.toBuffer()),seed:g.seed,lamports:g.lamports,space:g.space,programId:ye(g.programId.toBuffer())});let O=[{pubkey:g.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:g.newAccountPubkey,isSigner:!1,isWritable:!0}];return g.basePubkey.equals(g.fromPubkey)||O.push({pubkey:g.basePubkey,isSigner:!0,isWritable:!1}),new $e({keys:O,programId:this.programId,data:T})}static createNonceAccount(g){const m=new Le;"basePubkey"in g&&"seed"in g?m.add(ji.createAccountWithSeed({fromPubkey:g.fromPubkey,newAccountPubkey:g.noncePubkey,basePubkey:g.basePubkey,seed:g.seed,lamports:g.lamports,space:om,programId:this.programId})):m.add(ji.createAccount({fromPubkey:g.fromPubkey,newAccountPubkey:g.noncePubkey,lamports:g.lamports,space:om,programId:this.programId}));const T={noncePubkey:g.noncePubkey,authorizedPubkey:g.authorizedPubkey};return m.add(this.nonceInitialize(T)),m}static nonceInitialize(g){const m=li.InitializeNonceAccount,T=Pe(m,{authorized:ye(g.authorizedPubkey.toBuffer())}),O={keys:[{pubkey:g.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:nc,isSigner:!1,isWritable:!1},{pubkey:Pl,isSigner:!1,isWritable:!1}],programId:this.programId,data:T};return new $e(O)}static nonceAdvance(g){const m=li.AdvanceNonceAccount,T=Pe(m),O={keys:[{pubkey:g.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:nc,isSigner:!1,isWritable:!1},{pubkey:g.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:T};return new $e(O)}static nonceWithdraw(g){const m=li.WithdrawNonceAccount,T=Pe(m,{lamports:g.lamports});return new $e({keys:[{pubkey:g.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:g.toPubkey,isSigner:!1,isWritable:!0},{pubkey:nc,isSigner:!1,isWritable:!1},{pubkey:Pl,isSigner:!1,isWritable:!1},{pubkey:g.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:T})}static nonceAuthorize(g){const m=li.AuthorizeNonceAccount,T=Pe(m,{authorized:ye(g.newAuthorizedPubkey.toBuffer())});return new $e({keys:[{pubkey:g.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:g.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:T})}static allocate(g){let m,T;if("basePubkey"in g){const O=li.AllocateWithSeed;m=Pe(O,{base:ye(g.basePubkey.toBuffer()),seed:g.seed,space:g.space,programId:ye(g.programId.toBuffer())}),T=[{pubkey:g.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:g.basePubkey,isSigner:!0,isWritable:!1}]}else{const O=li.Allocate;m=Pe(O,{space:g.space}),T=[{pubkey:g.accountPubkey,isSigner:!0,isWritable:!0}]}return new $e({keys:T,programId:this.programId,data:m})}}ji.programId=new Ut("11111111111111111111111111111111");const $L=Ta-300;class mo{constructor(){}static getMinNumSignatures(g){return 2*(Math.ceil(g/mo.chunkSize)+1+1)}static async load(g,m,T,O,L){{const r=await g.getMinimumBalanceForRentExemption(L.length),n=await g.getAccountInfo(T.publicKey,"confirmed");let i=null;if(n!==null){if(n.executable)return console.error("Program load failed, account is already executable"),!1;n.data.length!==L.length&&(i=i||new Le,i.add(ji.allocate({accountPubkey:T.publicKey,space:L.length}))),n.owner.equals(O)||(i=i||new Le,i.add(ji.assign({accountPubkey:T.publicKey,programId:O}))),n.lamports<r&&(i=i||new Le,i.add(ji.transfer({fromPubkey:m.publicKey,toPubkey:T.publicKey,lamports:r-n.lamports})))}else i=new Le().add(ji.createAccount({fromPubkey:m.publicKey,newAccountPubkey:T.publicKey,lamports:r>0?r:1,space:L.length,programId:O}));i!==null&&await am(g,i,[m,T],{commitment:"confirmed"})}const h=lt.struct([lt.u32("instruction"),lt.u32("offset"),lt.u32("bytesLength"),lt.u32("bytesLengthPadding"),lt.seq(lt.u8("byte"),lt.offset(lt.u32(),-8),"bytes")]),x=mo.chunkSize;let t=0,o=L,v=[];for(;o.length>0;){const r=o.slice(0,x),n=ie.Buffer.alloc(x+16);h.encode({instruction:0,offset:t,bytes:r,bytesLength:0,bytesLengthPadding:0},n);const i=new Le().add({keys:[{pubkey:T.publicKey,isSigner:!0,isWritable:!0}],programId:O,data:n});v.push(am(g,i,[m,T],{commitment:"confirmed"})),g._rpcEndpoint.includes("solana.com")&&await qa(1e3/4),t+=x,o=o.slice(x)}await Promise.all(v);{const r=lt.struct([lt.u32("instruction")]),n=ie.Buffer.alloc(r.span);r.encode({instruction:1},n);const i=new Le().add({keys:[{pubkey:T.publicKey,isSigner:!0,isWritable:!0},{pubkey:Pl,isSigner:!1,isWritable:!1}],programId:O,data:n}),e="processed",a=await g.sendTransaction(i,[m,T],{preflightCommitment:e}),{context:l,value:s}=await g.confirmTransaction({signature:a,lastValidBlockHeight:i.lastValidBlockHeight,blockhash:i.recentBlockhash},e);if(s.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(s)})`);for(;;){try{if(await g.getSlot({commitment:e})>l.slot)break}catch{}await new Promise(u=>setTimeout(u,Math.round(YA/2)))}}return!0}}mo.chunkSize=$L;const qL=new Ut("BPFLoader2111111111111111111111111111111111");class _L{static getMinNumSignatures(g){return mo.getMinNumSignatures(g)}static load(g,m,T,O,L){return mo.load(g,m,T,L,O)}}function t6(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}var ep,pS;function e6(){if(pS)return ep;pS=1;var A=Object.prototype.toString,g=Object.keys||function(T){var O=[];for(var L in T)O.push(L);return O};function m(T,O){var L,h,x,t,o,v,r;if(T===!0)return"true";if(T===!1)return"false";switch(typeof T){case"object":if(T===null)return null;if(T.toJSON&&typeof T.toJSON=="function")return m(T.toJSON(),O);if(r=A.call(T),r==="[object Array]"){for(x="[",h=T.length-1,L=0;L<h;L++)x+=m(T[L],!0)+",";return h>-1&&(x+=m(T[L],!0)),x+"]"}else if(r==="[object Object]"){for(t=g(T).sort(),h=t.length,x="",L=0;L<h;)o=t[L],v=m(T[o],!1),v!==void 0&&(x&&(x+=","),x+=JSON.stringify(o)+":"+v),L++;return"{"+x+"}"}else return JSON.stringify(T);case"function":case"undefined":return O?null:void 0;case"string":return JSON.stringify(T);default:return isFinite(T)?T:null}}return ep=function(T){var O=m(T,!1);if(O!==void 0)return""+O},ep}var i6=e6(),mS=t6(i6);const Bu=32;function ip(A){let g=0;for(;A>1;)A/=2,g++;return g}function n6(A){return A===0?1:(A--,A|=A>>1,A|=A>>2,A|=A>>4,A|=A>>8,A|=A>>16,A|=A>>32,A+1)}class kA{constructor(g,m,T,O,L){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=g,this.leaderScheduleSlotOffset=m,this.warmup=T,this.firstNormalEpoch=O,this.firstNormalSlot=L}getEpoch(g){return this.getEpochAndSlotIndex(g)[0]}getEpochAndSlotIndex(g){if(g<this.firstNormalSlot){const m=ip(n6(g+Bu+1))-ip(Bu)-1,T=this.getSlotsInEpoch(m),O=g-(T-Bu);return[m,O]}else{const m=g-this.firstNormalSlot,T=Math.floor(m/this.slotsPerEpoch),O=this.firstNormalEpoch+T,L=m%this.slotsPerEpoch;return[O,L]}}getFirstSlotInEpoch(g){return g<=this.firstNormalEpoch?(Math.pow(2,g)-1)*Bu:(g-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(g){return this.getFirstSlotInEpoch(g)+this.getSlotsInEpoch(g)-1}getSlotsInEpoch(g){return g<this.firstNormalEpoch?Math.pow(2,g+ip(Bu)):this.slotsPerEpoch}}var r6=globalThis.fetch;class s6 extends aL{constructor(g,m,T){const O=L=>{const h=rL(L,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...m});return"socket"in h?this.underlyingSocket=h.socket:this.underlyingSocket=h,h};super(O,g,m,T),this.underlyingSocket=void 0}call(...g){const m=this.underlyingSocket?.readyState;return m===1?super.call(...g):Promise.reject(new Error("Tried to call a JSON-RPC method `"+g[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+m+")"))}notify(...g){const m=this.underlyingSocket?.readyState;return m===1?super.notify(...g):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+g[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+m+")"))}}function a6(A,g){let m;try{m=A.layout.decode(g)}catch(T){throw new Error("invalid instruction; "+T)}if(m.typeIndex!==A.index)throw new Error(`invalid account data; account type mismatch ${m.typeIndex} != ${A.index}`);return m}const gS=56;class lm{constructor(g){this.key=void 0,this.state=void 0,this.key=g.key,this.state=g.state}isActive(){const g=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===g}static deserialize(g){const m=a6(o6,g),T=g.length-gS;ze(T>=0,"lookup table is invalid"),ze(T%32===0,"lookup table is invalid");const O=T/32,{addresses:L}=lt.struct([lt.seq(we(),O,"addresses")]).decode(g.slice(gS));return{deactivationSlot:m.deactivationSlot,lastExtendedSlot:m.lastExtendedSlot,lastExtendedSlotStartIndex:m.lastExtendedStartIndex,authority:m.authority.length!==0?new Ut(m.authority[0]):void 0,addresses:L.map(h=>new Ut(h))}}}const o6={index:1,layout:lt.struct([lt.u32("typeIndex"),Nl("deactivationSlot"),lt.nu64("lastExtendedSlot"),lt.u8("lastExtendedStartIndex"),lt.u8(),lt.seq(we(),lt.offset(lt.u8(),-1),"authority")])},l6=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function u6(A){const g=A.match(l6);if(g==null)throw TypeError(`Failed to validate endpoint URL \`${A}\``);const[m,T,O,L]=g,h=A.startsWith("https:")?"wss:":"ws:",x=O==null?null:parseInt(O.slice(1),10),t=x==null?"":`:${x+1}`;return`${h}//${T}${t}${L}`}const wi=mh(fg(Ut),Xt(),A=>new Ut(A)),jA=cg([Xt(),Si("base64")]),Eg=mh(fg(ie.Buffer),jA,A=>ie.Buffer.from(A[0],"base64")),KA=30*1e3;function h6(A){if(/^https?:/.test(A)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return A}function ai(A){let g,m;if(typeof A=="string")g=A;else if(A){const{commitment:T,...O}=A;g=T,m=O}return{commitment:g,config:m}}function yS(A){return A.map(g=>"memcmp"in g?{...g,memcmp:{...g.memcmp,encoding:g.memcmp.encoding??"base58"}}:g)}function ZA(A){return En([zt({jsonrpc:Si("2.0"),id:Xt(),result:A}),zt({jsonrpc:Si("2.0"),id:Xt(),error:zt({code:zl(),message:Xt(),data:le(L8())})})])}const f6=ZA(zl());function ge(A){return mh(ZA(A),f6,g=>"error"in g?g:{...g,result:jt(g.result,A)})}function Ii(A){return ge(zt({context:zt({slot:Tt()}),value:A}))}function sd(A){return zt({context:zt({slot:Tt()}),value:A})}function np(A,g){return A===0?new po({header:g.header,staticAccountKeys:g.accountKeys.map(m=>new Ut(m)),recentBlockhash:g.recentBlockhash,compiledInstructions:g.instructions.map(m=>({programIdIndex:m.programIdIndex,accountKeyIndexes:m.accounts,data:Yi.decode(m.data)})),addressTableLookups:g.addressTableLookups}):new Cr(g)}const c6=zt({foundation:Tt(),foundationTerm:Tt(),initial:Tt(),taper:Tt(),terminal:Tt()}),d6=ge(Zt(Qt(zt({epoch:Tt(),effectiveSlot:Tt(),amount:Tt(),postBalance:Tt(),commission:le(Qt(Tt()))})))),v6=Zt(zt({slot:Tt(),prioritizationFee:Tt()})),p6=zt({total:Tt(),validator:Tt(),foundation:Tt(),epoch:Tt()}),m6=zt({epoch:Tt(),slotIndex:Tt(),slotsInEpoch:Tt(),absoluteSlot:Tt(),blockHeight:le(Tt()),transactionCount:le(Tt())}),g6=zt({slotsPerEpoch:Tt(),leaderScheduleSlotOffset:Tt(),warmup:kr(),firstNormalEpoch:Tt(),firstNormalSlot:Tt()}),y6=wA(Xt(),Zt(Tt())),wo=Qt(En([zt({}),Xt()])),x6=zt({err:wo}),T6=Si("receivedSignature"),S6=zt({"solana-core":Xt(),"feature-set":le(Tt())}),E6=zt({program:Xt(),programId:wi,parsed:zl()}),w6=zt({programId:wi,accounts:Zt(wi),data:Xt()}),xS=Ii(zt({err:Qt(En([zt({}),Xt()])),logs:Qt(Zt(Xt())),accounts:le(Qt(Zt(Qt(zt({executable:kr(),owner:Xt(),lamports:Tt(),data:Zt(Xt()),rentEpoch:le(Tt())}))))),unitsConsumed:le(Tt()),returnData:le(Qt(zt({programId:Xt(),data:cg([Xt(),Si("base64")])}))),innerInstructions:le(Qt(Zt(zt({index:Tt(),instructions:Zt(En([E6,w6]))}))))})),A6=Ii(zt({byIdentity:wA(Xt(),Zt(Tt())),range:zt({firstSlot:Tt(),lastSlot:Tt()})}));function C6(A,g,m,T,O,L){const h=m||r6;let x;L!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let t;return T&&(t=async(v,r)=>{const n=await new Promise((i,e)=>{try{T(v,r,(a,l)=>i([a,l]))}catch(a){e(a)}});return await h(...n)}),new tL(async(v,r)=>{const n={method:"POST",body:v,agent:x,headers:Object.assign({"Content-Type":"application/json"},g||{},C9)};try{let i=5,e,a=500;for(;t?e=await t(A,n):e=await h(A,n),!(e.status!==429||O===!0||(i-=1,i===0));)console.error(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${a}ms delay...`),await qa(a),a*=2;const l=await e.text();e.ok?r(null,l):r(new Error(`${e.status} ${e.statusText}: ${l}`))}catch(i){i instanceof Error&&r(i)}},{})}function R6(A){return(g,m)=>new Promise((T,O)=>{A.request(g,m,(L,h)=>{if(L){O(L);return}T(h)})})}function M6(A){return g=>new Promise((m,T)=>{g.length===0&&m([]);const O=g.map(L=>A.request(L.methodName,L.args));A.request(O,(L,h)=>{if(L){T(L);return}m(h)})})}const O6=ge(c6),b6=ge(p6),L6=ge(v6),I6=ge(m6),P6=ge(g6),N6=ge(y6),D6=ge(Tt()),B6=Ii(zt({total:Tt(),circulating:Tt(),nonCirculating:Tt(),nonCirculatingAccounts:Zt(wi)})),um=zt({amount:Xt(),uiAmount:Qt(Tt()),decimals:Tt(),uiAmountString:le(Xt())}),F6=Ii(Zt(zt({address:wi,amount:Xt(),uiAmount:Qt(Tt()),decimals:Tt(),uiAmountString:le(Xt())}))),U6=Ii(Zt(zt({pubkey:wi,account:zt({executable:kr(),owner:wi,lamports:Tt(),data:Eg,rentEpoch:Tt()})}))),hm=zt({program:Xt(),parsed:zl(),space:Tt()}),z6=Ii(Zt(zt({pubkey:wi,account:zt({executable:kr(),owner:wi,lamports:Tt(),data:hm,rentEpoch:Tt()})}))),G6=Ii(Zt(zt({lamports:Tt(),address:wi}))),nh=zt({executable:kr(),owner:wi,lamports:Tt(),data:Eg,rentEpoch:Tt()}),V6=zt({pubkey:wi,account:nh}),H6=mh(En([fg(ie.Buffer),hm]),En([jA,hm]),A=>Array.isArray(A)?jt(A,Eg):A),fm=zt({executable:kr(),owner:wi,lamports:Tt(),data:H6,rentEpoch:Tt()}),Y6=zt({pubkey:wi,account:fm}),W6=zt({state:En([Si("active"),Si("inactive"),Si("activating"),Si("deactivating")]),active:Tt(),inactive:Tt()}),X6=ge(Zt(zt({signature:Xt(),slot:Tt(),err:wo,memo:Qt(Xt()),blockTime:le(Qt(Tt()))}))),k6=ge(Zt(zt({signature:Xt(),slot:Tt(),err:wo,memo:Qt(Xt()),blockTime:le(Qt(Tt()))}))),j6=zt({subscription:Tt(),result:sd(nh)}),K6=zt({pubkey:wi,account:nh}),Z6=zt({subscription:Tt(),result:sd(K6)}),Q6=zt({parent:Tt(),slot:Tt(),root:Tt()}),J6=zt({subscription:Tt(),result:Q6}),$6=En([zt({type:En([Si("firstShredReceived"),Si("completed"),Si("optimisticConfirmation"),Si("root")]),slot:Tt(),timestamp:Tt()}),zt({type:Si("createdBank"),parent:Tt(),slot:Tt(),timestamp:Tt()}),zt({type:Si("frozen"),slot:Tt(),timestamp:Tt(),stats:zt({numTransactionEntries:Tt(),numSuccessfulTransactions:Tt(),numFailedTransactions:Tt(),maxTransactionsPerEntry:Tt()})}),zt({type:Si("dead"),slot:Tt(),timestamp:Tt(),err:Xt()})]),q6=zt({subscription:Tt(),result:$6}),_6=zt({subscription:Tt(),result:sd(En([x6,T6]))}),t9=zt({subscription:Tt(),result:Tt()}),e9=zt({pubkey:Xt(),gossip:Qt(Xt()),tpu:Qt(Xt()),rpc:Qt(Xt()),version:Qt(Xt())}),TS=zt({votePubkey:Xt(),nodePubkey:Xt(),activatedStake:Tt(),epochVoteAccount:kr(),epochCredits:Zt(cg([Tt(),Tt(),Tt()])),commission:Tt(),lastVote:Tt(),rootSlot:Qt(Tt())}),i9=ge(zt({current:Zt(TS),delinquent:Zt(TS)})),n9=En([Si("processed"),Si("confirmed"),Si("finalized")]),r9=zt({slot:Tt(),confirmations:Qt(Tt()),err:wo,confirmationStatus:le(n9)}),s9=Ii(Zt(Qt(r9))),a9=ge(Tt()),QA=zt({accountKey:wi,writableIndexes:Zt(Tt()),readonlyIndexes:Zt(Tt())}),wg=zt({signatures:Zt(Xt()),message:zt({accountKeys:Zt(Xt()),header:zt({numRequiredSignatures:Tt(),numReadonlySignedAccounts:Tt(),numReadonlyUnsignedAccounts:Tt()}),instructions:Zt(zt({accounts:Zt(Tt()),data:Xt(),programIdIndex:Tt()})),recentBlockhash:Xt(),addressTableLookups:le(Zt(QA))})}),JA=zt({pubkey:wi,signer:kr(),writable:kr(),source:le(En([Si("transaction"),Si("lookupTable")]))}),$A=zt({accountKeys:Zt(JA),signatures:Zt(Xt())}),qA=zt({parsed:zl(),program:Xt(),programId:wi}),_A=zt({accounts:Zt(wi),data:Xt(),programId:wi}),o9=En([_A,qA]),l9=En([zt({parsed:zl(),program:Xt(),programId:Xt()}),zt({accounts:Zt(Xt()),data:Xt(),programId:Xt()})]),tC=mh(o9,l9,A=>"accounts"in A?jt(A,_A):jt(A,qA)),eC=zt({signatures:Zt(Xt()),message:zt({accountKeys:Zt(JA),instructions:Zt(tC),recentBlockhash:Xt(),addressTableLookups:le(Qt(Zt(QA)))})}),Fc=zt({accountIndex:Tt(),mint:Xt(),owner:le(Xt()),programId:le(Xt()),uiTokenAmount:um}),iC=zt({writable:Zt(wi),readonly:Zt(wi)}),ad=zt({err:wo,fee:Tt(),innerInstructions:le(Qt(Zt(zt({index:Tt(),instructions:Zt(zt({accounts:Zt(Tt()),data:Xt(),programIdIndex:Tt()}))})))),preBalances:Zt(Tt()),postBalances:Zt(Tt()),logMessages:le(Qt(Zt(Xt()))),preTokenBalances:le(Qt(Zt(Fc))),postTokenBalances:le(Qt(Zt(Fc))),loadedAddresses:le(iC),computeUnitsConsumed:le(Tt()),costUnits:le(Tt())}),Ag=zt({err:wo,fee:Tt(),innerInstructions:le(Qt(Zt(zt({index:Tt(),instructions:Zt(tC)})))),preBalances:Zt(Tt()),postBalances:Zt(Tt()),logMessages:le(Qt(Zt(Xt()))),preTokenBalances:le(Qt(Zt(Fc))),postTokenBalances:le(Qt(Zt(Fc))),loadedAddresses:le(iC),computeUnitsConsumed:le(Tt()),costUnits:le(Tt())}),Gl=En([Si(0),Si("legacy")]),Ao=zt({pubkey:Xt(),lamports:Tt(),postBalance:Qt(Tt()),rewardType:Qt(Xt()),commission:le(Qt(Tt()))}),u9=ge(Qt(zt({blockhash:Xt(),previousBlockhash:Xt(),parentSlot:Tt(),transactions:Zt(zt({transaction:wg,meta:Qt(ad),version:le(Gl)})),rewards:le(Zt(Ao)),blockTime:Qt(Tt()),blockHeight:Qt(Tt())}))),h9=ge(Qt(zt({blockhash:Xt(),previousBlockhash:Xt(),parentSlot:Tt(),rewards:le(Zt(Ao)),blockTime:Qt(Tt()),blockHeight:Qt(Tt())}))),f9=ge(Qt(zt({blockhash:Xt(),previousBlockhash:Xt(),parentSlot:Tt(),transactions:Zt(zt({transaction:$A,meta:Qt(ad),version:le(Gl)})),rewards:le(Zt(Ao)),blockTime:Qt(Tt()),blockHeight:Qt(Tt())}))),c9=ge(Qt(zt({blockhash:Xt(),previousBlockhash:Xt(),parentSlot:Tt(),transactions:Zt(zt({transaction:eC,meta:Qt(Ag),version:le(Gl)})),rewards:le(Zt(Ao)),blockTime:Qt(Tt()),blockHeight:Qt(Tt())}))),d9=ge(Qt(zt({blockhash:Xt(),previousBlockhash:Xt(),parentSlot:Tt(),transactions:Zt(zt({transaction:$A,meta:Qt(Ag),version:le(Gl)})),rewards:le(Zt(Ao)),blockTime:Qt(Tt()),blockHeight:Qt(Tt())}))),v9=ge(Qt(zt({blockhash:Xt(),previousBlockhash:Xt(),parentSlot:Tt(),rewards:le(Zt(Ao)),blockTime:Qt(Tt()),blockHeight:Qt(Tt())}))),p9=ge(Qt(zt({blockhash:Xt(),previousBlockhash:Xt(),parentSlot:Tt(),transactions:Zt(zt({transaction:wg,meta:Qt(ad)})),rewards:le(Zt(Ao)),blockTime:Qt(Tt())}))),SS=ge(Qt(zt({blockhash:Xt(),previousBlockhash:Xt(),parentSlot:Tt(),signatures:Zt(Xt()),blockTime:Qt(Tt())}))),rp=ge(Qt(zt({slot:Tt(),meta:Qt(ad),blockTime:le(Qt(Tt())),transaction:wg,version:le(Gl)}))),Wf=ge(Qt(zt({slot:Tt(),transaction:eC,meta:Qt(Ag),blockTime:le(Qt(Tt())),version:le(Gl)}))),m9=Ii(zt({blockhash:Xt(),lastValidBlockHeight:Tt()})),g9=Ii(kr()),y9=zt({slot:Tt(),numTransactions:Tt(),numSlots:Tt(),samplePeriodSecs:Tt()}),x9=ge(Zt(y9)),T9=Ii(Qt(zt({feeCalculator:zt({lamportsPerSignature:Tt()})}))),S9=ge(Xt()),E9=ge(Xt()),w9=zt({err:wo,logs:Zt(Xt()),signature:Xt()}),A9=zt({result:sd(w9),subscription:Tt()}),C9={"solana-client":"js/1.0.0-maintenance"};class nC{constructor(g,m){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const o={};return async v=>{const{commitment:r,config:n}=ai(v),i=this._buildArgs([],r,void 0,n),e=mS(i);return o[e]=o[e]??(async()=>{try{const a=await this._rpcRequest("getBlockHeight",i),l=jt(a,ge(Tt()));if("error"in l)throw new ae(l.error,"failed to get block height information");return l.result}finally{delete o[e]}})(),await o[e]}})();let T,O,L,h,x,t;m&&typeof m=="string"?this._commitment=m:m&&(this._commitment=m.commitment,this._confirmTransactionInitialTimeout=m.confirmTransactionInitialTimeout,T=m.wsEndpoint,O=m.httpHeaders,L=m.fetch,h=m.fetchMiddleware,x=m.disableRetryOnRateLimit,t=m.httpAgent),this._rpcEndpoint=h6(g),this._rpcWsEndpoint=T||u6(g),this._rpcClient=C6(g,O,L,h,x,t),this._rpcRequest=R6(this._rpcClient),this._rpcBatchRequest=M6(this._rpcClient),this._rpcWebSocket=new s6(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(g,m){const{commitment:T,config:O}=ai(m),L=this._buildArgs([g.toBase58()],T,void 0,O),h=await this._rpcRequest("getBalance",L),x=jt(h,Ii(Tt()));if("error"in x)throw new ae(x.error,`failed to get balance for ${g.toBase58()}`);return x.result}async getBalance(g,m){return await this.getBalanceAndContext(g,m).then(T=>T.value).catch(T=>{throw new Error("failed to get balance of account "+g.toBase58()+": "+T)})}async getBlockTime(g){const m=await this._rpcRequest("getBlockTime",[g]),T=jt(m,ge(Qt(Tt())));if("error"in T)throw new ae(T.error,`failed to get block time for slot ${g}`);return T.result}async getMinimumLedgerSlot(){const g=await this._rpcRequest("minimumLedgerSlot",[]),m=jt(g,ge(Tt()));if("error"in m)throw new ae(m.error,"failed to get minimum ledger slot");return m.result}async getFirstAvailableBlock(){const g=await this._rpcRequest("getFirstAvailableBlock",[]),m=jt(g,D6);if("error"in m)throw new ae(m.error,"failed to get first available block");return m.result}async getSupply(g){let m={};typeof g=="string"?m={commitment:g}:g?m={...g,commitment:g&&g.commitment||this.commitment}:m={commitment:this.commitment};const T=await this._rpcRequest("getSupply",[m]),O=jt(T,B6);if("error"in O)throw new ae(O.error,"failed to get supply");return O.result}async getTokenSupply(g,m){const T=this._buildArgs([g.toBase58()],m),O=await this._rpcRequest("getTokenSupply",T),L=jt(O,Ii(um));if("error"in L)throw new ae(L.error,"failed to get token supply");return L.result}async getTokenAccountBalance(g,m){const T=this._buildArgs([g.toBase58()],m),O=await this._rpcRequest("getTokenAccountBalance",T),L=jt(O,Ii(um));if("error"in L)throw new ae(L.error,"failed to get token account balance");return L.result}async getTokenAccountsByOwner(g,m,T){const{commitment:O,config:L}=ai(T);let h=[g.toBase58()];"mint"in m?h.push({mint:m.mint.toBase58()}):h.push({programId:m.programId.toBase58()});const x=this._buildArgs(h,O,"base64",L),t=await this._rpcRequest("getTokenAccountsByOwner",x),o=jt(t,U6);if("error"in o)throw new ae(o.error,`failed to get token accounts owned by account ${g.toBase58()}`);return o.result}async getParsedTokenAccountsByOwner(g,m,T){let O=[g.toBase58()];"mint"in m?O.push({mint:m.mint.toBase58()}):O.push({programId:m.programId.toBase58()});const L=this._buildArgs(O,T,"jsonParsed"),h=await this._rpcRequest("getTokenAccountsByOwner",L),x=jt(h,z6);if("error"in x)throw new ae(x.error,`failed to get token accounts owned by account ${g.toBase58()}`);return x.result}async getLargestAccounts(g){const m={...g,commitment:g&&g.commitment||this.commitment},T=m.filter||m.commitment?[m]:[],O=await this._rpcRequest("getLargestAccounts",T),L=jt(O,G6);if("error"in L)throw new ae(L.error,"failed to get largest accounts");return L.result}async getTokenLargestAccounts(g,m){const T=this._buildArgs([g.toBase58()],m),O=await this._rpcRequest("getTokenLargestAccounts",T),L=jt(O,F6);if("error"in L)throw new ae(L.error,"failed to get token largest accounts");return L.result}async getAccountInfoAndContext(g,m){const{commitment:T,config:O}=ai(m),L=this._buildArgs([g.toBase58()],T,"base64",O),h=await this._rpcRequest("getAccountInfo",L),x=jt(h,Ii(Qt(nh)));if("error"in x)throw new ae(x.error,`failed to get info about account ${g.toBase58()}`);return x.result}async getParsedAccountInfo(g,m){const{commitment:T,config:O}=ai(m),L=this._buildArgs([g.toBase58()],T,"jsonParsed",O),h=await this._rpcRequest("getAccountInfo",L),x=jt(h,Ii(Qt(fm)));if("error"in x)throw new ae(x.error,`failed to get info about account ${g.toBase58()}`);return x.result}async getAccountInfo(g,m){try{return(await this.getAccountInfoAndContext(g,m)).value}catch(T){throw new Error("failed to get info about account "+g.toBase58()+": "+T)}}async getMultipleParsedAccounts(g,m){const{commitment:T,config:O}=ai(m),L=g.map(o=>o.toBase58()),h=this._buildArgs([L],T,"jsonParsed",O),x=await this._rpcRequest("getMultipleAccounts",h),t=jt(x,Ii(Zt(Qt(fm))));if("error"in t)throw new ae(t.error,`failed to get info for accounts ${L}`);return t.result}async getMultipleAccountsInfoAndContext(g,m){const{commitment:T,config:O}=ai(m),L=g.map(o=>o.toBase58()),h=this._buildArgs([L],T,"base64",O),x=await this._rpcRequest("getMultipleAccounts",h),t=jt(x,Ii(Zt(Qt(nh))));if("error"in t)throw new ae(t.error,`failed to get info for accounts ${L}`);return t.result}async getMultipleAccountsInfo(g,m){return(await this.getMultipleAccountsInfoAndContext(g,m)).value}async getStakeActivation(g,m,T){const{commitment:O,config:L}=ai(m),h=this._buildArgs([g.toBase58()],O,void 0,{...L,epoch:T??L?.epoch}),x=await this._rpcRequest("getStakeActivation",h),t=jt(x,ge(W6));if("error"in t)throw new ae(t.error,`failed to get Stake Activation ${g.toBase58()}`);return t.result}async getProgramAccounts(g,m){const{commitment:T,config:O}=ai(m),{encoding:L,...h}=O||{},x=this._buildArgs([g.toBase58()],T,L||"base64",{...h,...h.filters?{filters:yS(h.filters)}:null}),t=await this._rpcRequest("getProgramAccounts",x),o=Zt(V6),v=h.withContext===!0?jt(t,Ii(o)):jt(t,ge(o));if("error"in v)throw new ae(v.error,`failed to get accounts owned by program ${g.toBase58()}`);return v.result}async getParsedProgramAccounts(g,m){const{commitment:T,config:O}=ai(m),L=this._buildArgs([g.toBase58()],T,"jsonParsed",O),h=await this._rpcRequest("getProgramAccounts",L),x=jt(h,ge(Zt(Y6)));if("error"in x)throw new ae(x.error,`failed to get accounts owned by program ${g.toBase58()}`);return x.result}async confirmTransaction(g,m){let T;if(typeof g=="string")T=g;else{const L=g;if(L.abortSignal?.aborted)return Promise.reject(L.abortSignal.reason);T=L.signature}let O;try{O=Yi.decode(T)}catch{throw new Error("signature must be base58 encoded: "+T)}return ze(O.length===64,"signature has invalid length"),typeof g=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:m||this.commitment,signature:T}):"lastValidBlockHeight"in g?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:m||this.commitment,strategy:g}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:m||this.commitment,strategy:g})}getCancellationPromise(g){return new Promise((m,T)=>{g!=null&&(g.aborted?T(g.reason):g.addEventListener("abort",()=>{T(g.reason)}))})}getTransactionConfirmationPromise({commitment:g,signature:m}){let T,O,L=!1;const h=new Promise((t,o)=>{try{T=this.onSignature(m,(r,n)=>{T=void 0;const i={context:n,value:r};t({__type:ps.PROCESSED,response:i})},g);const v=new Promise(r=>{T==null?r():O=this._onSubscriptionStateChange(T,n=>{n==="subscribed"&&r()})});(async()=>{if(await v,L)return;const r=await this.getSignatureStatus(m);if(L||r==null)return;const{context:n,value:i}=r;if(i!=null)if(i?.err)o(i.err);else{switch(g){case"confirmed":case"single":case"singleGossip":{if(i.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(i.confirmationStatus==="processed"||i.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}L=!0,t({__type:ps.PROCESSED,response:{context:n,value:i}})}})()}catch(v){o(v)}});return{abortConfirmation:()=>{O&&(O(),O=void 0),T!=null&&(this.removeSignatureListener(T),T=void 0)},confirmationPromise:h}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:g,strategy:{abortSignal:m,lastValidBlockHeight:T,signature:O}}){let L=!1;const h=new Promise(r=>{const n=async()=>{try{return await this.getBlockHeight(g)}catch{return-1}};(async()=>{let i=await n();if(!L){for(;i<=T;)if(await qa(1e3),L||(i=await n(),L))return;r({__type:ps.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:x,confirmationPromise:t}=this.getTransactionConfirmationPromise({commitment:g,signature:O}),o=this.getCancellationPromise(m);let v;try{const r=await Promise.race([o,t,h]);if(r.__type===ps.PROCESSED)v=r.response;else throw new xg(O)}finally{L=!0,x()}return v}async confirmTransactionUsingDurableNonceStrategy({commitment:g,strategy:{abortSignal:m,minContextSlot:T,nonceAccountPubkey:O,nonceValue:L,signature:h}}){let x=!1;const t=new Promise(i=>{let e=L,a=null;const l=async()=>{try{const{context:s,value:u}=await this.getNonceAndContext(O,{commitment:g,minContextSlot:T});return a=s.slot,u?.nonce}catch{return e}};(async()=>{if(e=await l(),!x)for(;;){if(L!==e){i({__type:ps.NONCE_INVALID,slotInWhichNonceDidAdvance:a});return}if(await qa(2e3),x||(e=await l(),x))return}})()}),{abortConfirmation:o,confirmationPromise:v}=this.getTransactionConfirmationPromise({commitment:g,signature:h}),r=this.getCancellationPromise(m);let n;try{const i=await Promise.race([r,v,t]);if(i.__type===ps.PROCESSED)n=i.response;else{let e;for(;;){const a=await this.getSignatureStatus(h);if(a==null)break;if(a.context.slot<(i.slotInWhichNonceDidAdvance??T)){await qa(400);continue}e=a;break}if(e?.value){const a=g||"finalized",{confirmationStatus:l}=e.value;switch(a){case"processed":case"recent":if(l!=="processed"&&l!=="confirmed"&&l!=="finalized")throw new yl(h);break;case"confirmed":case"single":case"singleGossip":if(l!=="confirmed"&&l!=="finalized")throw new yl(h);break;case"finalized":case"max":case"root":if(l!=="finalized")throw new yl(h);break;default:}n={context:e.context,value:{err:e.value.err}}}else throw new yl(h)}}finally{x=!0,o()}return n}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:g,signature:m}){let T;const O=new Promise(t=>{let o=this._confirmTransactionInitialTimeout||6e4;switch(g){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{o=this._confirmTransactionInitialTimeout||3e4;break}}T=setTimeout(()=>t({__type:ps.TIMED_OUT,timeoutMs:o}),o)}),{abortConfirmation:L,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:g,signature:m});let x;try{const t=await Promise.race([h,O]);if(t.__type===ps.PROCESSED)x=t.response;else throw new Tg(m,t.timeoutMs/1e3)}finally{clearTimeout(T),L()}return x}async getClusterNodes(){const g=await this._rpcRequest("getClusterNodes",[]),m=jt(g,ge(Zt(e9)));if("error"in m)throw new ae(m.error,"failed to get cluster nodes");return m.result}async getVoteAccounts(g){const m=this._buildArgs([],g),T=await this._rpcRequest("getVoteAccounts",m),O=jt(T,i9);if("error"in O)throw new ae(O.error,"failed to get vote accounts");return O.result}async getSlot(g){const{commitment:m,config:T}=ai(g),O=this._buildArgs([],m,void 0,T),L=await this._rpcRequest("getSlot",O),h=jt(L,ge(Tt()));if("error"in h)throw new ae(h.error,"failed to get slot");return h.result}async getSlotLeader(g){const{commitment:m,config:T}=ai(g),O=this._buildArgs([],m,void 0,T),L=await this._rpcRequest("getSlotLeader",O),h=jt(L,ge(Xt()));if("error"in h)throw new ae(h.error,"failed to get slot leader");return h.result}async getSlotLeaders(g,m){const T=[g,m],O=await this._rpcRequest("getSlotLeaders",T),L=jt(O,ge(Zt(wi)));if("error"in L)throw new ae(L.error,"failed to get slot leaders");return L.result}async getSignatureStatus(g,m){const{context:T,value:O}=await this.getSignatureStatuses([g],m);ze(O.length===1);const L=O[0];return{context:T,value:L}}async getSignatureStatuses(g,m){const T=[g];m&&T.push(m);const O=await this._rpcRequest("getSignatureStatuses",T),L=jt(O,s9);if("error"in L)throw new ae(L.error,"failed to get signature status");return L.result}async getTransactionCount(g){const{commitment:m,config:T}=ai(g),O=this._buildArgs([],m,void 0,T),L=await this._rpcRequest("getTransactionCount",O),h=jt(L,ge(Tt()));if("error"in h)throw new ae(h.error,"failed to get transaction count");return h.result}async getTotalSupply(g){return(await this.getSupply({commitment:g,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(g){const m=this._buildArgs([],g),T=await this._rpcRequest("getInflationGovernor",m),O=jt(T,O6);if("error"in O)throw new ae(O.error,"failed to get inflation");return O.result}async getInflationReward(g,m,T){const{commitment:O,config:L}=ai(T),h=this._buildArgs([g.map(o=>o.toBase58())],O,void 0,{...L,epoch:m??L?.epoch}),x=await this._rpcRequest("getInflationReward",h),t=jt(x,d6);if("error"in t)throw new ae(t.error,"failed to get inflation reward");return t.result}async getInflationRate(){const g=await this._rpcRequest("getInflationRate",[]),m=jt(g,b6);if("error"in m)throw new ae(m.error,"failed to get inflation rate");return m.result}async getEpochInfo(g){const{commitment:m,config:T}=ai(g),O=this._buildArgs([],m,void 0,T),L=await this._rpcRequest("getEpochInfo",O),h=jt(L,I6);if("error"in h)throw new ae(h.error,"failed to get epoch info");return h.result}async getEpochSchedule(){const g=await this._rpcRequest("getEpochSchedule",[]),m=jt(g,P6);if("error"in m)throw new ae(m.error,"failed to get epoch schedule");const T=m.result;return new kA(T.slotsPerEpoch,T.leaderScheduleSlotOffset,T.warmup,T.firstNormalEpoch,T.firstNormalSlot)}async getLeaderSchedule(){const g=await this._rpcRequest("getLeaderSchedule",[]),m=jt(g,N6);if("error"in m)throw new ae(m.error,"failed to get leader schedule");return m.result}async getMinimumBalanceForRentExemption(g,m){const T=this._buildArgs([g],m),O=await this._rpcRequest("getMinimumBalanceForRentExemption",T),L=jt(O,a9);return"error"in L?(console.warn("Unable to fetch minimum balance for rent exemption"),0):L.result}async getRecentBlockhashAndContext(g){const{context:m,value:{blockhash:T}}=await this.getLatestBlockhashAndContext(g);return{context:m,value:{blockhash:T,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(g){const m=await this._rpcRequest("getRecentPerformanceSamples",g?[g]:[]),T=jt(m,x9);if("error"in T)throw new ae(T.error,"failed to get recent performance samples");return T.result}async getFeeCalculatorForBlockhash(g,m){const T=this._buildArgs([g],m),O=await this._rpcRequest("getFeeCalculatorForBlockhash",T),L=jt(O,T9);if("error"in L)throw new ae(L.error,"failed to get fee calculator");const{context:h,value:x}=L.result;return{context:h,value:x!==null?x.feeCalculator:null}}async getFeeForMessage(g,m){const T=ye(g.serialize()).toString("base64"),O=this._buildArgs([T],m),L=await this._rpcRequest("getFeeForMessage",O),h=jt(L,Ii(Qt(Tt())));if("error"in h)throw new ae(h.error,"failed to get fee for message");if(h.result===null)throw new Error("invalid blockhash");return h.result}async getRecentPrioritizationFees(g){const m=g?.lockedWritableAccounts?.map(h=>h.toBase58()),T=m?.length?[m]:[],O=await this._rpcRequest("getRecentPrioritizationFees",T),L=jt(O,L6);if("error"in L)throw new ae(L.error,"failed to get recent prioritization fees");return L.result}async getRecentBlockhash(g){try{return(await this.getRecentBlockhashAndContext(g)).value}catch(m){throw new Error("failed to get recent blockhash: "+m)}}async getLatestBlockhash(g){try{return(await this.getLatestBlockhashAndContext(g)).value}catch(m){throw new Error("failed to get recent blockhash: "+m)}}async getLatestBlockhashAndContext(g){const{commitment:m,config:T}=ai(g),O=this._buildArgs([],m,void 0,T),L=await this._rpcRequest("getLatestBlockhash",O),h=jt(L,m9);if("error"in h)throw new ae(h.error,"failed to get latest blockhash");return h.result}async isBlockhashValid(g,m){const{commitment:T,config:O}=ai(m),L=this._buildArgs([g],T,void 0,O),h=await this._rpcRequest("isBlockhashValid",L),x=jt(h,g9);if("error"in x)throw new ae(x.error,"failed to determine if the blockhash `"+g+"`is valid");return x.result}async getVersion(){const g=await this._rpcRequest("getVersion",[]),m=jt(g,ge(S6));if("error"in m)throw new ae(m.error,"failed to get version");return m.result}async getGenesisHash(){const g=await this._rpcRequest("getGenesisHash",[]),m=jt(g,ge(Xt()));if("error"in m)throw new ae(m.error,"failed to get genesis hash");return m.result}async getBlock(g,m){const{commitment:T,config:O}=ai(m),L=this._buildArgsAtLeastConfirmed([g],T,void 0,O),h=await this._rpcRequest("getBlock",L);try{switch(O?.transactionDetails){case"accounts":{const x=jt(h,f9);if("error"in x)throw x.error;return x.result}case"none":{const x=jt(h,h9);if("error"in x)throw x.error;return x.result}default:{const x=jt(h,u9);if("error"in x)throw x.error;const{result:t}=x;return t?{...t,transactions:t.transactions.map(({transaction:o,meta:v,version:r})=>({meta:v,transaction:{...o,message:np(r,o.message)},version:r}))}:null}}}catch(x){throw new ae(x,"failed to get confirmed block")}}async getParsedBlock(g,m){const{commitment:T,config:O}=ai(m),L=this._buildArgsAtLeastConfirmed([g],T,"jsonParsed",O),h=await this._rpcRequest("getBlock",L);try{switch(O?.transactionDetails){case"accounts":{const x=jt(h,d9);if("error"in x)throw x.error;return x.result}case"none":{const x=jt(h,v9);if("error"in x)throw x.error;return x.result}default:{const x=jt(h,c9);if("error"in x)throw x.error;return x.result}}}catch(x){throw new ae(x,"failed to get block")}}async getBlockProduction(g){let m,T;if(typeof g=="string")T=g;else if(g){const{commitment:x,...t}=g;T=x,m=t}const O=this._buildArgs([],T,"base64",m),L=await this._rpcRequest("getBlockProduction",O),h=jt(L,A6);if("error"in h)throw new ae(h.error,"failed to get block production information");return h.result}async getTransaction(g,m){const{commitment:T,config:O}=ai(m),L=this._buildArgsAtLeastConfirmed([g],T,void 0,O),h=await this._rpcRequest("getTransaction",L),x=jt(h,rp);if("error"in x)throw new ae(x.error,"failed to get transaction");const t=x.result;return t&&{...t,transaction:{...t.transaction,message:np(t.version,t.transaction.message)}}}async getParsedTransaction(g,m){const{commitment:T,config:O}=ai(m),L=this._buildArgsAtLeastConfirmed([g],T,"jsonParsed",O),h=await this._rpcRequest("getTransaction",L),x=jt(h,Wf);if("error"in x)throw new ae(x.error,"failed to get transaction");return x.result}async getParsedTransactions(g,m){const{commitment:T,config:O}=ai(m),L=g.map(t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],T,"jsonParsed",O)}));return(await this._rpcBatchRequest(L)).map(t=>{const o=jt(t,Wf);if("error"in o)throw new ae(o.error,"failed to get transactions");return o.result})}async getTransactions(g,m){const{commitment:T,config:O}=ai(m),L=g.map(t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],T,void 0,O)}));return(await this._rpcBatchRequest(L)).map(t=>{const o=jt(t,rp);if("error"in o)throw new ae(o.error,"failed to get transactions");const v=o.result;return v&&{...v,transaction:{...v.transaction,message:np(v.version,v.transaction.message)}}})}async getConfirmedBlock(g,m){const T=this._buildArgsAtLeastConfirmed([g],m),O=await this._rpcRequest("getBlock",T),L=jt(O,p9);if("error"in L)throw new ae(L.error,"failed to get confirmed block");const h=L.result;if(!h)throw new Error("Confirmed block "+g+" not found");const x={...h,transactions:h.transactions.map(({transaction:t,meta:o})=>{const v=new Cr(t.message);return{meta:o,transaction:{...t,message:v}}})};return{...x,transactions:x.transactions.map(({transaction:t,meta:o})=>({meta:o,transaction:Le.populate(t.message,t.signatures)}))}}async getBlocks(g,m,T){const O=this._buildArgsAtLeastConfirmed(m!==void 0?[g,m]:[g],T),L=await this._rpcRequest("getBlocks",O),h=jt(L,ge(Zt(Tt())));if("error"in h)throw new ae(h.error,"failed to get blocks");return h.result}async getBlockSignatures(g,m){const T=this._buildArgsAtLeastConfirmed([g],m,void 0,{transactionDetails:"signatures",rewards:!1}),O=await this._rpcRequest("getBlock",T),L=jt(O,SS);if("error"in L)throw new ae(L.error,"failed to get block");const h=L.result;if(!h)throw new Error("Block "+g+" not found");return h}async getConfirmedBlockSignatures(g,m){const T=this._buildArgsAtLeastConfirmed([g],m,void 0,{transactionDetails:"signatures",rewards:!1}),O=await this._rpcRequest("getBlock",T),L=jt(O,SS);if("error"in L)throw new ae(L.error,"failed to get confirmed block");const h=L.result;if(!h)throw new Error("Confirmed block "+g+" not found");return h}async getConfirmedTransaction(g,m){const T=this._buildArgsAtLeastConfirmed([g],m),O=await this._rpcRequest("getTransaction",T),L=jt(O,rp);if("error"in L)throw new ae(L.error,"failed to get transaction");const h=L.result;if(!h)return h;const x=new Cr(h.transaction.message),t=h.transaction.signatures;return{...h,transaction:Le.populate(x,t)}}async getParsedConfirmedTransaction(g,m){const T=this._buildArgsAtLeastConfirmed([g],m,"jsonParsed"),O=await this._rpcRequest("getTransaction",T),L=jt(O,Wf);if("error"in L)throw new ae(L.error,"failed to get confirmed transaction");return L.result}async getParsedConfirmedTransactions(g,m){const T=g.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],m,"jsonParsed")}));return(await this._rpcBatchRequest(T)).map(h=>{const x=jt(h,Wf);if("error"in x)throw new ae(x.error,"failed to get confirmed transactions");return x.result})}async getConfirmedSignaturesForAddress(g,m,T){let O={},L=await this.getFirstAvailableBlock();for(;!("until"in O)&&(m--,!(m<=0||m<L));)try{const t=await this.getConfirmedBlockSignatures(m,"finalized");t.signatures.length>0&&(O.until=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}let h=await this.getSlot("finalized");for(;!("before"in O)&&(T++,!(T>h));)try{const t=await this.getConfirmedBlockSignatures(T);t.signatures.length>0&&(O.before=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}return(await this.getConfirmedSignaturesForAddress2(g,O)).map(t=>t.signature)}async getConfirmedSignaturesForAddress2(g,m,T){const O=this._buildArgsAtLeastConfirmed([g.toBase58()],T,void 0,m),L=await this._rpcRequest("getConfirmedSignaturesForAddress2",O),h=jt(L,X6);if("error"in h)throw new ae(h.error,"failed to get confirmed signatures for address");return h.result}async getSignaturesForAddress(g,m,T){const O=this._buildArgsAtLeastConfirmed([g.toBase58()],T,void 0,m),L=await this._rpcRequest("getSignaturesForAddress",O),h=jt(L,k6);if("error"in h)throw new ae(h.error,"failed to get signatures for address");return h.result}async getAddressLookupTable(g,m){const{context:T,value:O}=await this.getAccountInfoAndContext(g,m);let L=null;return O!==null&&(L=new lm({key:g,state:lm.deserialize(O.data)})),{context:T,value:L}}async getNonceAndContext(g,m){const{context:T,value:O}=await this.getAccountInfoAndContext(g,m);let L=null;return O!==null&&(L=rd.fromAccountData(O.data)),{context:T,value:L}}async getNonce(g,m){return await this.getNonceAndContext(g,m).then(T=>T.value).catch(T=>{throw new Error("failed to get nonce for account "+g.toBase58()+": "+T)})}async requestAirdrop(g,m){const T=await this._rpcRequest("requestAirdrop",[g.toBase58(),m]),O=jt(T,S9);if("error"in O)throw new ae(O.error,`airdrop to ${g.toBase58()} failed`);return O.result}async _blockhashWithExpiryBlockHeight(g){if(!g){for(;this._pollingBlockhash;)await qa(100);const T=Date.now()-this._blockhashInfo.lastFetch>=KA;if(this._blockhashInfo.latestBlockhash!==null&&!T)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const g=Date.now(),m=this._blockhashInfo.latestBlockhash,T=m?m.blockhash:null;for(let O=0;O<50;O++){const L=await this.getLatestBlockhash("finalized");if(T!==L.blockhash)return this._blockhashInfo={latestBlockhash:L,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},L;await qa(YA/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-g}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(g){const{commitment:m,config:T}=ai(g),O=this._buildArgs([],m,"base64",T),L=await this._rpcRequest("getStakeMinimumDelegation",O),h=jt(L,Ii(Tt()));if("error"in h)throw new ae(h.error,"failed to get stake minimum delegation");return h.result}async simulateTransaction(g,m,T){if("message"in g){const a=g.serialize(),l=ie.Buffer.from(a).toString("base64");if(Array.isArray(m)||T!==void 0)throw new Error("Invalid arguments");const s=m||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment),m&&typeof m=="object"&&"innerInstructions"in m&&(s.innerInstructions=m.innerInstructions);const u=[l,s],f=await this._rpcRequest("simulateTransaction",u),c=jt(f,xS);if("error"in c)throw new Error("failed to simulate transaction: "+c.error.message);return c.result}let O;if(g instanceof Le){let e=g;O=new Le,O.feePayer=e.feePayer,O.instructions=g.instructions,O.nonceInfo=e.nonceInfo,O.signatures=e.signatures}else O=Le.populate(g),O._message=O._json=void 0;if(m!==void 0&&!Array.isArray(m))throw new Error("Invalid arguments");const L=m;if(O.nonceInfo&&L)O.sign(...L);else{let e=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(e);if(O.lastValidBlockHeight=a.lastValidBlockHeight,O.recentBlockhash=a.blockhash,!L)break;if(O.sign(...L),!O.signature)throw new Error("!signature");const l=O.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(l)&&!this._blockhashInfo.transactionSignatures.includes(l)){this._blockhashInfo.simulatedSignatures.push(l);break}else e=!0}}const h=O._compile(),x=h.serialize(),o=O._serialize(x).toString("base64"),v={encoding:"base64",commitment:this.commitment};if(T){const e=(Array.isArray(T)?T:h.nonProgramIds()).map(a=>a.toBase58());v.accounts={encoding:"base64",addresses:e}}L&&(v.sigVerify=!0),m&&typeof m=="object"&&"innerInstructions"in m&&(v.innerInstructions=m.innerInstructions);const r=[o,v],n=await this._rpcRequest("simulateTransaction",r),i=jt(n,xS);if("error"in i){let e;if("data"in i.error&&(e=i.error.data.logs,e&&Array.isArray(e))){const a=`
    `,l=a+e.join(a);console.error(i.error.message,l)}throw new Aa({action:"simulate",signature:"",transactionMessage:i.error.message,logs:e})}return i.result}async sendTransaction(g,m,T){if("version"in g){if(m&&Array.isArray(m))throw new Error("Invalid arguments");const h=g.serialize();return await this.sendRawTransaction(h,m)}if(m===void 0||!Array.isArray(m))throw new Error("Invalid arguments");const O=m;if(g.nonceInfo)g.sign(...O);else{let h=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(h);if(g.lastValidBlockHeight=x.lastValidBlockHeight,g.recentBlockhash=x.blockhash,g.sign(...O),!g.signature)throw new Error("!signature");const t=g.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(t))h=!0;else{this._blockhashInfo.transactionSignatures.push(t);break}}}const L=g.serialize();return await this.sendRawTransaction(L,T)}async sendRawTransaction(g,m){const T=ye(g).toString("base64");return await this.sendEncodedTransaction(T,m)}async sendEncodedTransaction(g,m){const T={encoding:"base64"},O=m&&m.skipPreflight,L=O===!0?"processed":m&&m.preflightCommitment||this.commitment;m&&m.maxRetries!=null&&(T.maxRetries=m.maxRetries),m&&m.minContextSlot!=null&&(T.minContextSlot=m.minContextSlot),O&&(T.skipPreflight=O),L&&(T.preflightCommitment=L);const h=[g,T],x=await this._rpcRequest("sendTransaction",h),t=jt(x,E9);if("error"in t){let o;throw"data"in t.error&&(o=t.error.data.logs),new Aa({action:O?"send":"simulate",signature:"",transactionMessage:t.error.message,logs:o})}return t.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(g){this._rpcWebSocketConnected=!1,console.error("ws error:",g.message)}_wsOnClose(g){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),g===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([m,T])=>{this._setSubscription(m,{...T,state:"pending"})})}_setSubscription(g,m){const T=this._subscriptionsByHash[g]?.state;if(this._subscriptionsByHash[g]=m,T!==m.state){const O=this._subscriptionStateChangeCallbacksByHash[g];O&&O.forEach(L=>{try{L(m.state)}catch{}})}}_onSubscriptionStateChange(g,m){const T=this._subscriptionHashByClientSubscriptionId[g];if(T==null)return()=>{};const O=this._subscriptionStateChangeCallbacksByHash[T]||=new Set;return O.add(m),()=>{O.delete(m),O.size===0&&delete this._subscriptionStateChangeCallbacksByHash[T]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(T){T instanceof Error&&console.log(`Error when closing socket connection: ${T.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const g=this._rpcWebSocketGeneration,m=()=>g===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async T=>{const O=this._subscriptionsByHash[T];if(O!==void 0)switch(O.state){case"pending":case"unsubscribed":if(O.callbacks.size===0){delete this._subscriptionsByHash[T],O.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[O.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:L,method:h}=O;try{this._setSubscription(T,{...O,state:"subscribing"});const x=await this._rpcWebSocket.call(h,L);this._setSubscription(T,{...O,serverSubscriptionId:x,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[x]=O.callbacks,await this._updateSubscriptions()}catch(x){if(console.error(`Received ${x instanceof Error?"":"JSON-RPC "}error calling \`${h}\``,{args:L,error:x}),!m())return;this._setSubscription(T,{...O,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":O.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:L,unsubscribeMethod:h}=O;if(this._subscriptionsAutoDisposedByRpc.has(L))this._subscriptionsAutoDisposedByRpc.delete(L);else{this._setSubscription(T,{...O,state:"unsubscribing"}),this._setSubscription(T,{...O,state:"unsubscribing"});try{await this._rpcWebSocket.call(h,[L])}catch(x){if(x instanceof Error&&console.error(`${h} error:`,x.message),!m())return;this._setSubscription(T,{...O,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(T,{...O,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(g,m){const T=this._subscriptionCallbacksByServerSubscriptionId[g];T!==void 0&&T.forEach(O=>{try{O(...m)}catch(L){console.error(L)}})}_wsOnAccountNotification(g){const{result:m,subscription:T}=jt(g,j6);this._handleServerNotification(T,[m.value,m.context])}_makeSubscription(g,m){const T=this._nextClientSubscriptionId++,O=mS([g.method,m]),L=this._subscriptionsByHash[O];return L===void 0?this._subscriptionsByHash[O]={...g,args:m,callbacks:new Set([g.callback]),state:"pending"}:L.callbacks.add(g.callback),this._subscriptionHashByClientSubscriptionId[T]=O,this._subscriptionDisposeFunctionsByClientSubscriptionId[T]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[T],delete this._subscriptionHashByClientSubscriptionId[T];const h=this._subscriptionsByHash[O];ze(h!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${T}`),h.callbacks.delete(g.callback),await this._updateSubscriptions()},this._updateSubscriptions(),T}onAccountChange(g,m,T){const{commitment:O,config:L}=ai(T),h=this._buildArgs([g.toBase58()],O||this._commitment||"finalized","base64",L);return this._makeSubscription({callback:m,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},h)}async removeAccountChangeListener(g){await this._unsubscribeClientSubscription(g,"account change")}_wsOnProgramAccountNotification(g){const{result:m,subscription:T}=jt(g,Z6);this._handleServerNotification(T,[{accountId:m.value.pubkey,accountInfo:m.value.account},m.context])}onProgramAccountChange(g,m,T,O){const{commitment:L,config:h}=ai(T),x=this._buildArgs([g.toBase58()],L||this._commitment||"finalized","base64",h||(O?{filters:yS(O)}:void 0));return this._makeSubscription({callback:m,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},x)}async removeProgramAccountChangeListener(g){await this._unsubscribeClientSubscription(g,"program account change")}onLogs(g,m,T){const O=this._buildArgs([typeof g=="object"?{mentions:[g.toString()]}:g],T||this._commitment||"finalized");return this._makeSubscription({callback:m,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},O)}async removeOnLogsListener(g){await this._unsubscribeClientSubscription(g,"logs")}_wsOnLogsNotification(g){const{result:m,subscription:T}=jt(g,A9);this._handleServerNotification(T,[m.value,m.context])}_wsOnSlotNotification(g){const{result:m,subscription:T}=jt(g,J6);this._handleServerNotification(T,[m])}onSlotChange(g){return this._makeSubscription({callback:g,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(g){await this._unsubscribeClientSubscription(g,"slot change")}_wsOnSlotUpdatesNotification(g){const{result:m,subscription:T}=jt(g,q6);this._handleServerNotification(T,[m])}onSlotUpdate(g){return this._makeSubscription({callback:g,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(g){await this._unsubscribeClientSubscription(g,"slot update")}async _unsubscribeClientSubscription(g,m){const T=this._subscriptionDisposeFunctionsByClientSubscriptionId[g];T?await T():console.warn(`Ignored unsubscribe request because an active subscription with id \`${g}\` for '${m}' events could not be found.`)}_buildArgs(g,m,T,O){const L=m||this._commitment;if(L||T||O){let h={};T&&(h.encoding=T),L&&(h.commitment=L),O&&(h=Object.assign(h,O)),g.push(h)}return g}_buildArgsAtLeastConfirmed(g,m,T,O){const L=m||this._commitment;if(L&&!["confirmed","finalized"].includes(L))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(g,m,T,O)}_wsOnSignatureNotification(g){const{result:m,subscription:T}=jt(g,_6);m.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(T),this._handleServerNotification(T,m.value==="receivedSignature"?[{type:"received"},m.context]:[{type:"status",result:m.value},m.context])}onSignature(g,m,T){const O=this._buildArgs([g],T||this._commitment||"finalized"),L=this._makeSubscription({callback:(h,x)=>{if(h.type==="status"){m(h.result,x);try{this.removeSignatureListener(L)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},O);return L}onSignatureWithOptions(g,m,T){const{commitment:O,...L}={...T,commitment:T&&T.commitment||this._commitment||"finalized"},h=this._buildArgs([g],O,void 0,L),x=this._makeSubscription({callback:(t,o)=>{m(t,o);try{this.removeSignatureListener(x)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},h);return x}async removeSignatureListener(g){await this._unsubscribeClientSubscription(g,"signature result")}_wsOnRootNotification(g){const{result:m,subscription:T}=jt(g,t9);this._handleServerNotification(T,[m])}onRootChange(g){return this._makeSubscription({callback:g,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(g){await this._unsubscribeClientSubscription(g,"root change")}}class Al{constructor(g){this._keypair=void 0,this._keypair=g??cS()}static generate(){return new Al(cS())}static fromSecretKey(g,m){if(g.byteLength!==64)throw new Error("bad secret key size");const T=g.slice(32,64);if(!m||!m.skipValidation){const O=g.slice(0,32),L=Bc(O);for(let h=0;h<32;h++)if(T[h]!==L[h])throw new Error("provided secretKey is invalid")}return new Al({publicKey:T,secretKey:g})}static fromSeed(g){const m=Bc(g),T=new Uint8Array(64);return T.set(g),T.set(m,32),new Al({publicKey:m,secretKey:T})}get publicKey(){return new Ut(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ss=Object.freeze({CreateLookupTable:{index:0,layout:lt.struct([lt.u32("instruction"),Nl("recentSlot"),lt.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:lt.struct([lt.u32("instruction")])},ExtendLookupTable:{index:2,layout:lt.struct([lt.u32("instruction"),Nl(),lt.seq(we(),lt.offset(lt.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:lt.struct([lt.u32("instruction")])},CloseLookupTable:{index:4,layout:lt.struct([lt.u32("instruction")])}});class R9{constructor(){}static decodeInstructionType(g){this.checkProgramId(g.programId);const T=lt.u32("instruction").decode(g.data);let O;for(const[L,h]of Object.entries(Ss))if(h.index==T){O=L;break}if(!O)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return O}static decodeCreateLookupTable(g){this.checkProgramId(g.programId),this.checkKeysLength(g.keys,4);const{recentSlot:m}=Ve(Ss.CreateLookupTable,g.data);return{authority:g.keys[1].pubkey,payer:g.keys[2].pubkey,recentSlot:Number(m)}}static decodeExtendLookupTable(g){if(this.checkProgramId(g.programId),g.keys.length<2)throw new Error(`invalid instruction; found ${g.keys.length} keys, expected at least 2`);const{addresses:m}=Ve(Ss.ExtendLookupTable,g.data);return{lookupTable:g.keys[0].pubkey,authority:g.keys[1].pubkey,payer:g.keys.length>2?g.keys[2].pubkey:void 0,addresses:m.map(T=>new Ut(T))}}static decodeCloseLookupTable(g){return this.checkProgramId(g.programId),this.checkKeysLength(g.keys,3),{lookupTable:g.keys[0].pubkey,authority:g.keys[1].pubkey,recipient:g.keys[2].pubkey}}static decodeFreezeLookupTable(g){return this.checkProgramId(g.programId),this.checkKeysLength(g.keys,2),{lookupTable:g.keys[0].pubkey,authority:g.keys[1].pubkey}}static decodeDeactivateLookupTable(g){return this.checkProgramId(g.programId),this.checkKeysLength(g.keys,2),{lookupTable:g.keys[0].pubkey,authority:g.keys[1].pubkey}}static checkProgramId(g){if(!g.equals(Cg.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(g,m){if(g.length<m)throw new Error(`invalid instruction; found ${g.length} keys, expected at least ${m}`)}}class Cg{constructor(){}static createLookupTable(g){const[m,T]=Ut.findProgramAddressSync([g.authority.toBuffer(),TA().encode(g.recentSlot)],this.programId),O=Ss.CreateLookupTable,L=Pe(O,{recentSlot:BigInt(g.recentSlot),bumpSeed:T}),h=[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g.authority,isSigner:!0,isWritable:!1},{pubkey:g.payer,isSigner:!0,isWritable:!0},{pubkey:ji.programId,isSigner:!1,isWritable:!1}];return[new $e({programId:this.programId,keys:h,data:L}),m]}static freezeLookupTable(g){const m=Ss.FreezeLookupTable,T=Pe(m),O=[{pubkey:g.lookupTable,isSigner:!1,isWritable:!0},{pubkey:g.authority,isSigner:!0,isWritable:!1}];return new $e({programId:this.programId,keys:O,data:T})}static extendLookupTable(g){const m=Ss.ExtendLookupTable,T=Pe(m,{addresses:g.addresses.map(L=>L.toBytes())}),O=[{pubkey:g.lookupTable,isSigner:!1,isWritable:!0},{pubkey:g.authority,isSigner:!0,isWritable:!1}];return g.payer&&O.push({pubkey:g.payer,isSigner:!0,isWritable:!0},{pubkey:ji.programId,isSigner:!1,isWritable:!1}),new $e({programId:this.programId,keys:O,data:T})}static deactivateLookupTable(g){const m=Ss.DeactivateLookupTable,T=Pe(m),O=[{pubkey:g.lookupTable,isSigner:!1,isWritable:!0},{pubkey:g.authority,isSigner:!0,isWritable:!1}];return new $e({programId:this.programId,keys:O,data:T})}static closeLookupTable(g){const m=Ss.CloseLookupTable,T=Pe(m),O=[{pubkey:g.lookupTable,isSigner:!1,isWritable:!0},{pubkey:g.authority,isSigner:!0,isWritable:!1},{pubkey:g.recipient,isSigner:!1,isWritable:!0}];return new $e({programId:this.programId,keys:O,data:T})}}Cg.programId=new Ut("AddressLookupTab1e1111111111111111111111111");class M9{constructor(){}static decodeInstructionType(g){this.checkProgramId(g.programId);const T=lt.u8("instruction").decode(g.data);let O;for(const[L,h]of Object.entries(Hr))if(h.index==T){O=L;break}if(!O)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return O}static decodeRequestUnits(g){this.checkProgramId(g.programId);const{units:m,additionalFee:T}=Ve(Hr.RequestUnits,g.data);return{units:m,additionalFee:T}}static decodeRequestHeapFrame(g){this.checkProgramId(g.programId);const{bytes:m}=Ve(Hr.RequestHeapFrame,g.data);return{bytes:m}}static decodeSetComputeUnitLimit(g){this.checkProgramId(g.programId);const{units:m}=Ve(Hr.SetComputeUnitLimit,g.data);return{units:m}}static decodeSetComputeUnitPrice(g){this.checkProgramId(g.programId);const{microLamports:m}=Ve(Hr.SetComputeUnitPrice,g.data);return{microLamports:m}}static checkProgramId(g){if(!g.equals(Rg.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Hr=Object.freeze({RequestUnits:{index:0,layout:lt.struct([lt.u8("instruction"),lt.u32("units"),lt.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:lt.struct([lt.u8("instruction"),lt.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:lt.struct([lt.u8("instruction"),lt.u32("units")])},SetComputeUnitPrice:{index:3,layout:lt.struct([lt.u8("instruction"),Nl("microLamports")])}});class Rg{constructor(){}static requestUnits(g){const m=Hr.RequestUnits,T=Pe(m,g);return new $e({keys:[],programId:this.programId,data:T})}static requestHeapFrame(g){const m=Hr.RequestHeapFrame,T=Pe(m,g);return new $e({keys:[],programId:this.programId,data:T})}static setComputeUnitLimit(g){const m=Hr.SetComputeUnitLimit,T=Pe(m,g);return new $e({keys:[],programId:this.programId,data:T})}static setComputeUnitPrice(g){const m=Hr.SetComputeUnitPrice,T=Pe(m,{microLamports:BigInt(g.microLamports)});return new $e({keys:[],programId:this.programId,data:T})}}Rg.programId=new Ut("ComputeBudget111111111111111111111111111111");const ES=64,wS=32,AS=64,CS=lt.struct([lt.u8("numSignatures"),lt.u8("padding"),lt.u16("signatureOffset"),lt.u16("signatureInstructionIndex"),lt.u16("publicKeyOffset"),lt.u16("publicKeyInstructionIndex"),lt.u16("messageDataOffset"),lt.u16("messageDataSize"),lt.u16("messageInstructionIndex")]);class od{constructor(){}static createInstructionWithPublicKey(g){const{publicKey:m,message:T,signature:O,instructionIndex:L}=g;ze(m.length===wS,`Public Key must be ${wS} bytes but received ${m.length} bytes`),ze(O.length===AS,`Signature must be ${AS} bytes but received ${O.length} bytes`);const h=CS.span,x=h+m.length,t=x+O.length,o=1,v=ie.Buffer.alloc(t+T.length),r=L??65535;return CS.encode({numSignatures:o,padding:0,signatureOffset:x,signatureInstructionIndex:r,publicKeyOffset:h,publicKeyInstructionIndex:r,messageDataOffset:t,messageDataSize:T.length,messageInstructionIndex:r},v),v.fill(m,h),v.fill(O,x),v.fill(T,t),new $e({keys:[],programId:od.programId,data:v})}static createInstructionWithPrivateKey(g){const{privateKey:m,message:T,instructionIndex:O}=g;ze(m.length===ES,`Private key must be ${ES} bytes but received ${m.length} bytes`);try{const L=Al.fromSecretKey(m),h=L.publicKey.toBytes(),x=gg(T,L.secretKey);return this.createInstructionWithPublicKey({publicKey:h,message:T,signature:x,instructionIndex:O})}catch(L){throw new Error(`Error creating instruction; ${L}`)}}}od.programId=new Ut("Ed25519SigVerify111111111111111111111111111");const O9=(A,g)=>{const m=mg.sign(A,g);return[m.toCompactRawBytes(),m.recovery]};mg.utils.isValidPrivateKey;const b9=mg.getPublicKey,RS=32,sp=20,MS=64,L9=11,ap=lt.struct([lt.u8("numSignatures"),lt.u16("signatureOffset"),lt.u8("signatureInstructionIndex"),lt.u16("ethAddressOffset"),lt.u8("ethAddressInstructionIndex"),lt.u16("messageDataOffset"),lt.u16("messageDataSize"),lt.u8("messageInstructionIndex"),lt.blob(20,"ethAddress"),lt.blob(64,"signature"),lt.u8("recoveryId")]);class Cl{constructor(){}static publicKeyToEthAddress(g){ze(g.length===MS,`Public key must be ${MS} bytes but received ${g.length} bytes`);try{return ie.Buffer.from(uS(ye(g))).slice(-sp)}catch(m){throw new Error(`Error constructing Ethereum address: ${m}`)}}static createInstructionWithPublicKey(g){const{publicKey:m,message:T,signature:O,recoveryId:L,instructionIndex:h}=g;return Cl.createInstructionWithEthAddress({ethAddress:Cl.publicKeyToEthAddress(m),message:T,signature:O,recoveryId:L,instructionIndex:h})}static createInstructionWithEthAddress(g){const{ethAddress:m,message:T,signature:O,recoveryId:L,instructionIndex:h=0}=g;let x;typeof m=="string"?m.startsWith("0x")?x=ie.Buffer.from(m.substr(2),"hex"):x=ie.Buffer.from(m,"hex"):x=m,ze(x.length===sp,`Address must be ${sp} bytes but received ${x.length} bytes`);const t=1+L9,o=t,v=t+x.length,r=v+O.length+1,n=1,i=ie.Buffer.alloc(ap.span+T.length);return ap.encode({numSignatures:n,signatureOffset:v,signatureInstructionIndex:h,ethAddressOffset:o,ethAddressInstructionIndex:h,messageDataOffset:r,messageDataSize:T.length,messageInstructionIndex:h,signature:ye(O),ethAddress:ye(x),recoveryId:L},i),i.fill(ye(T),ap.span),new $e({keys:[],programId:Cl.programId,data:i})}static createInstructionWithPrivateKey(g){const{privateKey:m,message:T,instructionIndex:O}=g;ze(m.length===RS,`Private key must be ${RS} bytes but received ${m.length} bytes`);try{const L=ye(m),h=b9(L,!1).slice(1),x=ie.Buffer.from(uS(ye(T))),[t,o]=O9(x,L);return this.createInstructionWithPublicKey({publicKey:h,message:T,signature:t,recoveryId:o,instructionIndex:O})}catch(L){throw new Error(`Error creating instruction; ${L}`)}}}Cl.programId=new Ut("KeccakSecp256k11111111111111111111111111111");var rC;const sC=new Ut("StakeConfig11111111111111111111111111111111");class aC{constructor(g,m){this.staker=void 0,this.withdrawer=void 0,this.staker=g,this.withdrawer=m}}class gh{constructor(g,m,T){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=g,this.epoch=m,this.custodian=T}}rC=gh;gh.default=new rC(0,0,Ut.default);class I9{constructor(){}static decodeInstructionType(g){this.checkProgramId(g.programId);const T=lt.u32("instruction").decode(g.data);let O;for(const[L,h]of Object.entries($i))if(h.index==T){O=L;break}if(!O)throw new Error("Instruction type incorrect; not a StakeInstruction");return O}static decodeInitialize(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,2);const{authorized:m,lockup:T}=Ve($i.Initialize,g.data);return{stakePubkey:g.keys[0].pubkey,authorized:new aC(new Ut(m.staker),new Ut(m.withdrawer)),lockup:new gh(T.unixTimestamp,T.epoch,new Ut(T.custodian))}}static decodeDelegate(g){return this.checkProgramId(g.programId),this.checkKeyLength(g.keys,6),Ve($i.Delegate,g.data),{stakePubkey:g.keys[0].pubkey,votePubkey:g.keys[1].pubkey,authorizedPubkey:g.keys[5].pubkey}}static decodeAuthorize(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,3);const{newAuthorized:m,stakeAuthorizationType:T}=Ve($i.Authorize,g.data),O={stakePubkey:g.keys[0].pubkey,authorizedPubkey:g.keys[2].pubkey,newAuthorizedPubkey:new Ut(m),stakeAuthorizationType:{index:T}};return g.keys.length>3&&(O.custodianPubkey=g.keys[3].pubkey),O}static decodeAuthorizeWithSeed(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,2);const{newAuthorized:m,stakeAuthorizationType:T,authoritySeed:O,authorityOwner:L}=Ve($i.AuthorizeWithSeed,g.data),h={stakePubkey:g.keys[0].pubkey,authorityBase:g.keys[1].pubkey,authoritySeed:O,authorityOwner:new Ut(L),newAuthorizedPubkey:new Ut(m),stakeAuthorizationType:{index:T}};return g.keys.length>3&&(h.custodianPubkey=g.keys[3].pubkey),h}static decodeSplit(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,3);const{lamports:m}=Ve($i.Split,g.data);return{stakePubkey:g.keys[0].pubkey,splitStakePubkey:g.keys[1].pubkey,authorizedPubkey:g.keys[2].pubkey,lamports:m}}static decodeMerge(g){return this.checkProgramId(g.programId),this.checkKeyLength(g.keys,3),Ve($i.Merge,g.data),{stakePubkey:g.keys[0].pubkey,sourceStakePubKey:g.keys[1].pubkey,authorizedPubkey:g.keys[4].pubkey}}static decodeWithdraw(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,5);const{lamports:m}=Ve($i.Withdraw,g.data),T={stakePubkey:g.keys[0].pubkey,toPubkey:g.keys[1].pubkey,authorizedPubkey:g.keys[4].pubkey,lamports:m};return g.keys.length>5&&(T.custodianPubkey=g.keys[5].pubkey),T}static decodeDeactivate(g){return this.checkProgramId(g.programId),this.checkKeyLength(g.keys,3),Ve($i.Deactivate,g.data),{stakePubkey:g.keys[0].pubkey,authorizedPubkey:g.keys[2].pubkey}}static checkProgramId(g){if(!g.equals(ld.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(g,m){if(g.length<m)throw new Error(`invalid instruction; found ${g.length} keys, expected at least ${m}`)}}const $i=Object.freeze({Initialize:{index:0,layout:lt.struct([lt.u32("instruction"),FL(),UL()])},Authorize:{index:1,layout:lt.struct([lt.u32("instruction"),we("newAuthorized"),lt.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:lt.struct([lt.u32("instruction")])},Split:{index:3,layout:lt.struct([lt.u32("instruction"),lt.ns64("lamports")])},Withdraw:{index:4,layout:lt.struct([lt.u32("instruction"),lt.ns64("lamports")])},Deactivate:{index:5,layout:lt.struct([lt.u32("instruction")])},Merge:{index:7,layout:lt.struct([lt.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:lt.struct([lt.u32("instruction"),we("newAuthorized"),lt.u32("stakeAuthorizationType"),io("authoritySeed"),we("authorityOwner")])}}),P9=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class ld{constructor(){}static initialize(g){const{stakePubkey:m,authorized:T,lockup:O}=g,L=O||gh.default,h=$i.Initialize,x=Pe(h,{authorized:{staker:ye(T.staker.toBuffer()),withdrawer:ye(T.withdrawer.toBuffer())},lockup:{unixTimestamp:L.unixTimestamp,epoch:L.epoch,custodian:ye(L.custodian.toBuffer())}}),t={keys:[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:Pl,isSigner:!1,isWritable:!1}],programId:this.programId,data:x};return new $e(t)}static createAccountWithSeed(g){const m=new Le;m.add(ji.createAccountWithSeed({fromPubkey:g.fromPubkey,newAccountPubkey:g.stakePubkey,basePubkey:g.basePubkey,seed:g.seed,lamports:g.lamports,space:this.space,programId:this.programId}));const{stakePubkey:T,authorized:O,lockup:L}=g;return m.add(this.initialize({stakePubkey:T,authorized:O,lockup:L}))}static createAccount(g){const m=new Le;m.add(ji.createAccount({fromPubkey:g.fromPubkey,newAccountPubkey:g.stakePubkey,lamports:g.lamports,space:this.space,programId:this.programId}));const{stakePubkey:T,authorized:O,lockup:L}=g;return m.add(this.initialize({stakePubkey:T,authorized:O,lockup:L}))}static delegate(g){const{stakePubkey:m,authorizedPubkey:T,votePubkey:O}=g,L=$i.Delegate,h=Pe(L);return new Le().add({keys:[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:rc,isSigner:!1,isWritable:!1},{pubkey:sC,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!0,isWritable:!1}],programId:this.programId,data:h})}static authorize(g){const{stakePubkey:m,authorizedPubkey:T,newAuthorizedPubkey:O,stakeAuthorizationType:L,custodianPubkey:h}=g,x=$i.Authorize,t=Pe(x,{newAuthorized:ye(O.toBuffer()),stakeAuthorizationType:L.index}),o=[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!0,isWritable:!1}];return h&&o.push({pubkey:h,isSigner:!0,isWritable:!1}),new Le().add({keys:o,programId:this.programId,data:t})}static authorizeWithSeed(g){const{stakePubkey:m,authorityBase:T,authoritySeed:O,authorityOwner:L,newAuthorizedPubkey:h,stakeAuthorizationType:x,custodianPubkey:t}=g,o=$i.AuthorizeWithSeed,v=Pe(o,{newAuthorized:ye(h.toBuffer()),stakeAuthorizationType:x.index,authoritySeed:O,authorityOwner:ye(L.toBuffer())}),r=[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!0,isWritable:!1},{pubkey:zr,isSigner:!1,isWritable:!1}];return t&&r.push({pubkey:t,isSigner:!0,isWritable:!1}),new Le().add({keys:r,programId:this.programId,data:v})}static splitInstruction(g){const{stakePubkey:m,authorizedPubkey:T,splitStakePubkey:O,lamports:L}=g,h=$i.Split,x=Pe(h,{lamports:L});return new $e({keys:[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!0,isWritable:!1}],programId:this.programId,data:x})}static split(g,m){const T=new Le;return T.add(ji.createAccount({fromPubkey:g.authorizedPubkey,newAccountPubkey:g.splitStakePubkey,lamports:m,space:this.space,programId:this.programId})),T.add(this.splitInstruction(g))}static splitWithSeed(g,m){const{stakePubkey:T,authorizedPubkey:O,splitStakePubkey:L,basePubkey:h,seed:x,lamports:t}=g,o=new Le;return o.add(ji.allocate({accountPubkey:L,basePubkey:h,seed:x,space:this.space,programId:this.programId})),m&&m>0&&o.add(ji.transfer({fromPubkey:g.authorizedPubkey,toPubkey:L,lamports:m})),o.add(this.splitInstruction({stakePubkey:T,authorizedPubkey:O,splitStakePubkey:L,lamports:t}))}static merge(g){const{stakePubkey:m,sourceStakePubKey:T,authorizedPubkey:O}=g,L=$i.Merge,h=Pe(L);return new Le().add({keys:[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:rc,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!0,isWritable:!1}],programId:this.programId,data:h})}static withdraw(g){const{stakePubkey:m,authorizedPubkey:T,toPubkey:O,lamports:L,custodianPubkey:h}=g,x=$i.Withdraw,t=Pe(x,{lamports:L}),o=[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:rc,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!0,isWritable:!1}];return h&&o.push({pubkey:h,isSigner:!0,isWritable:!1}),new Le().add({keys:o,programId:this.programId,data:t})}static deactivate(g){const{stakePubkey:m,authorizedPubkey:T}=g,O=$i.Deactivate,L=Pe(O);return new Le().add({keys:[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!0,isWritable:!1}],programId:this.programId,data:L})}}ld.programId=new Ut("Stake11111111111111111111111111111111111111");ld.space=200;class oC{constructor(g,m,T,O){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=g,this.authorizedVoter=m,this.authorizedWithdrawer=T,this.commission=O}}class N9{constructor(){}static decodeInstructionType(g){this.checkProgramId(g.programId);const T=lt.u32("instruction").decode(g.data);let O;for(const[L,h]of Object.entries(Yr))if(h.index==T){O=L;break}if(!O)throw new Error("Instruction type incorrect; not a VoteInstruction");return O}static decodeInitializeAccount(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,4);const{voteInit:m}=Ve(Yr.InitializeAccount,g.data);return{votePubkey:g.keys[0].pubkey,nodePubkey:g.keys[3].pubkey,voteInit:new oC(new Ut(m.nodePubkey),new Ut(m.authorizedVoter),new Ut(m.authorizedWithdrawer),m.commission)}}static decodeAuthorize(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,3);const{newAuthorized:m,voteAuthorizationType:T}=Ve(Yr.Authorize,g.data);return{votePubkey:g.keys[0].pubkey,authorizedPubkey:g.keys[2].pubkey,newAuthorizedPubkey:new Ut(m),voteAuthorizationType:{index:T}}}static decodeAuthorizeWithSeed(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:m,currentAuthorityDerivedKeySeed:T,newAuthorized:O,voteAuthorizationType:L}}=Ve(Yr.AuthorizeWithSeed,g.data);return{currentAuthorityDerivedKeyBasePubkey:g.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ut(m),currentAuthorityDerivedKeySeed:T,newAuthorizedPubkey:new Ut(O),voteAuthorizationType:{index:L},votePubkey:g.keys[0].pubkey}}static decodeWithdraw(g){this.checkProgramId(g.programId),this.checkKeyLength(g.keys,3);const{lamports:m}=Ve(Yr.Withdraw,g.data);return{votePubkey:g.keys[0].pubkey,authorizedWithdrawerPubkey:g.keys[2].pubkey,lamports:m,toPubkey:g.keys[1].pubkey}}static checkProgramId(g){if(!g.equals(Vl.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(g,m){if(g.length<m)throw new Error(`invalid instruction; found ${g.length} keys, expected at least ${m}`)}}const Yr=Object.freeze({InitializeAccount:{index:0,layout:lt.struct([lt.u32("instruction"),zL()])},Authorize:{index:1,layout:lt.struct([lt.u32("instruction"),we("newAuthorized"),lt.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:lt.struct([lt.u32("instruction"),lt.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:lt.struct([lt.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:lt.struct([lt.u32("instruction"),GL()])}}),D9=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Vl{constructor(){}static initializeAccount(g){const{votePubkey:m,nodePubkey:T,voteInit:O}=g,L=Yr.InitializeAccount,h=Pe(L,{voteInit:{nodePubkey:ye(O.nodePubkey.toBuffer()),authorizedVoter:ye(O.authorizedVoter.toBuffer()),authorizedWithdrawer:ye(O.authorizedWithdrawer.toBuffer()),commission:O.commission}}),x={keys:[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:Pl,isSigner:!1,isWritable:!1},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!0,isWritable:!1}],programId:this.programId,data:h};return new $e(x)}static createAccount(g){const m=new Le;return m.add(ji.createAccount({fromPubkey:g.fromPubkey,newAccountPubkey:g.votePubkey,lamports:g.lamports,space:this.space,programId:this.programId})),m.add(this.initializeAccount({votePubkey:g.votePubkey,nodePubkey:g.voteInit.nodePubkey,voteInit:g.voteInit}))}static authorize(g){const{votePubkey:m,authorizedPubkey:T,newAuthorizedPubkey:O,voteAuthorizationType:L}=g,h=Yr.Authorize,x=Pe(h,{newAuthorized:ye(O.toBuffer()),voteAuthorizationType:L.index}),t=[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!0,isWritable:!1}];return new Le().add({keys:t,programId:this.programId,data:x})}static authorizeWithSeed(g){const{currentAuthorityDerivedKeyBasePubkey:m,currentAuthorityDerivedKeyOwnerPubkey:T,currentAuthorityDerivedKeySeed:O,newAuthorizedPubkey:L,voteAuthorizationType:h,votePubkey:x}=g,t=Yr.AuthorizeWithSeed,o=Pe(t,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:ye(T.toBuffer()),currentAuthorityDerivedKeySeed:O,newAuthorized:ye(L.toBuffer()),voteAuthorizationType:h.index}}),v=[{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1}];return new Le().add({keys:v,programId:this.programId,data:o})}static withdraw(g){const{votePubkey:m,authorizedWithdrawerPubkey:T,lamports:O,toPubkey:L}=g,h=Yr.Withdraw,x=Pe(h,{lamports:O}),t=[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!0,isWritable:!1}];return new Le().add({keys:t,programId:this.programId,data:x})}static safeWithdraw(g,m,T){if(g.lamports>m-T)throw new Error("Withdraw will leave vote account with insufficient funds.");return Vl.withdraw(g)}static updateValidatorIdentity(g){const{votePubkey:m,authorizedWithdrawerPubkey:T,nodePubkey:O}=g,L=Yr.UpdateValidatorIdentity,h=Pe(L),x=[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!0,isWritable:!1},{pubkey:T,isSigner:!0,isWritable:!1}];return new Le().add({keys:x,programId:this.programId,data:h})}}Vl.programId=new Ut("Vote111111111111111111111111111111111111111");Vl.space=3762;const lC=new Ut("Va1idator1nfo111111111111111111111111111111"),B9=zt({name:Xt(),website:le(Xt()),details:le(Xt()),iconUrl:le(Xt()),keybaseUsername:le(Xt())});class Mg{constructor(g,m){this.key=void 0,this.info=void 0,this.key=g,this.info=m}static fromConfigData(g){let m=[...g];if(In(m)!==2)return null;const O=[];for(let L=0;L<2;L++){const h=new Ut(Pn(m,0,Wr)),x=Vr(m)===1;O.push({publicKey:h,isSigner:x})}if(O[0].publicKey.equals(lC)&&O[1].isSigner){const L=io().decode(ie.Buffer.from(m)),h=JSON.parse(L);return SA(h,B9),new Mg(O[1].publicKey,h)}return null}}const F9=new Ut("Vote111111111111111111111111111111111111111"),U9=lt.struct([we("nodePubkey"),we("authorizedWithdrawer"),lt.u8("commission"),lt.nu64(),lt.seq(lt.struct([lt.nu64("slot"),lt.u32("confirmationCount")]),lt.offset(lt.u32(),-8),"votes"),lt.u8("rootSlotValid"),lt.nu64("rootSlot"),lt.nu64(),lt.seq(lt.struct([lt.nu64("epoch"),we("authorizedVoter")]),lt.offset(lt.u32(),-8),"authorizedVoters"),lt.struct([lt.seq(lt.struct([we("authorizedPubkey"),lt.nu64("epochOfLastAuthorizedSwitch"),lt.nu64("targetEpoch")]),32,"buf"),lt.nu64("idx"),lt.u8("isEmpty")],"priorVoters"),lt.nu64(),lt.seq(lt.struct([lt.nu64("epoch"),lt.nu64("credits"),lt.nu64("prevCredits")]),lt.offset(lt.u32(),-8),"epochCredits"),lt.struct([lt.nu64("slot"),lt.nu64("timestamp")],"lastTimestamp")]);class Og{constructor(g){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=g.nodePubkey,this.authorizedWithdrawer=g.authorizedWithdrawer,this.commission=g.commission,this.rootSlot=g.rootSlot,this.votes=g.votes,this.authorizedVoters=g.authorizedVoters,this.priorVoters=g.priorVoters,this.epochCredits=g.epochCredits,this.lastTimestamp=g.lastTimestamp}static fromAccountData(g){const T=U9.decode(ye(g),4);let O=T.rootSlot;return T.rootSlotValid||(O=null),new Og({nodePubkey:new Ut(T.nodePubkey),authorizedWithdrawer:new Ut(T.authorizedWithdrawer),commission:T.commission,votes:T.votes,rootSlot:O,authorizedVoters:T.authorizedVoters.map(z9),priorVoters:G9(T.priorVoters),epochCredits:T.epochCredits,lastTimestamp:T.lastTimestamp})}}function z9({authorizedVoter:A,epoch:g}){return{epoch:g,authorizedVoter:new Ut(A)}}function OS({authorizedPubkey:A,epochOfLastAuthorizedSwitch:g,targetEpoch:m}){return{authorizedPubkey:new Ut(A),epochOfLastAuthorizedSwitch:g,targetEpoch:m}}function G9({buf:A,idx:g,isEmpty:m}){return m?[]:[...A.slice(g+1).map(OS),...A.slice(0,g).map(OS)]}const bS={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function uC(A,g){const m=g===!1?"http":"https";if(!A)return bS[m].devnet;const T=bS[m][A];if(!T)throw new Error(`Unknown ${m} cluster: ${A}`);return T}async function V9(A,g,m,T){let O,L;m&&Object.prototype.hasOwnProperty.call(m,"lastValidBlockHeight")||m&&Object.prototype.hasOwnProperty.call(m,"nonceValue")?(O=m,L=T):L=m;const h=L&&{skipPreflight:L.skipPreflight,preflightCommitment:L.preflightCommitment||L.commitment,minContextSlot:L.minContextSlot},x=await A.sendRawTransaction(g,h),t=L&&L.commitment,v=(await(O?A.confirmTransaction(O,t):A.confirmTransaction(x,t))).value;if(v.err)throw x!=null?new Aa({action:h?.skipPreflight?"send":"simulate",signature:x,transactionMessage:`Status: (${JSON.stringify(v)})`}):new Error(`Raw transaction ${x} failed (${JSON.stringify(v)})`);return x}const H9=1e9,Y9=Object.freeze(Object.defineProperty({__proto__:null,Account:NL,AddressLookupTableAccount:lm,AddressLookupTableInstruction:R9,AddressLookupTableProgram:Cg,Authorized:aC,BLOCKHASH_CACHE_TIMEOUT_MS:KA,BPF_LOADER_DEPRECATED_PROGRAM_ID:DL,BPF_LOADER_PROGRAM_ID:qL,BpfLoader:_L,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Hr,ComputeBudgetInstruction:M9,ComputeBudgetProgram:Rg,Connection:nC,Ed25519Program:od,Enum:IL,EpochSchedule:kA,FeeCalculatorLayout:WA,Keypair:Al,LAMPORTS_PER_SOL:H9,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ss,Loader:mo,Lockup:gh,MAX_SEED_LENGTH:GA,Message:Cr,MessageAccountKeys:ih,MessageV0:po,NONCE_ACCOUNT_LENGTH:om,NonceAccount:rd,PACKET_DATA_SIZE:Ta,PUBLIC_KEY_LENGTH:Wr,PublicKey:Ut,SIGNATURE_LENGTH_IN_BYTES:eh,SOLANA_SCHEMA:Ku,STAKE_CONFIG_ID:sC,STAKE_INSTRUCTION_LAYOUTS:$i,SYSTEM_INSTRUCTION_LAYOUTS:li,SYSVAR_CLOCK_PUBKEY:zr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:XL,SYSVAR_INSTRUCTIONS_PUBKEY:kL,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:nc,SYSVAR_RENT_PUBKEY:Pl,SYSVAR_REWARDS_PUBKEY:jL,SYSVAR_SLOT_HASHES_PUBKEY:KL,SYSVAR_SLOT_HISTORY_PUBKEY:ZL,SYSVAR_STAKE_HISTORY_PUBKEY:rc,Secp256k1Program:Cl,SendTransactionError:Aa,SolanaJSONRPCError:ae,SolanaJSONRPCErrorCode:QL,StakeAuthorizationLayout:P9,StakeInstruction:I9,StakeProgram:ld,Struct:yg,SystemInstruction:JL,SystemProgram:ji,Transaction:Le,TransactionExpiredBlockheightExceededError:xg,TransactionExpiredNonceInvalidError:yl,TransactionExpiredTimeoutError:Tg,TransactionInstruction:$e,TransactionMessage:Sg,TransactionStatus:ps,VALIDATOR_INFO_KEY:lC,VERSION_PREFIX_MASK:ed,VOTE_PROGRAM_ID:F9,ValidatorInfo:Mg,VersionedMessage:nd,VersionedTransaction:Il,VoteAccount:Og,VoteAuthorizationLayout:D9,VoteInit:oC,VoteInstruction:N9,VoteProgram:Vl,clusterApiUrl:uC,sendAndConfirmRawTransaction:V9,sendAndConfirmTransaction:am},Symbol.toStringTag,{value:"Module"})),hC=ot.createContext({});function fC(){return ot.useContext(hC)}const W9=({children:A,endpoint:g,config:m={commitment:"confirmed"}})=>{const T=ot.useMemo(()=>new nC(g,m),[g,m]);return Yt.createElement(hC.Provider,{value:{connection:T}},A)};class qi extends Error{constructor(g,m){super(g),this.error=m}}class go extends qi{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class X9 extends qi{constructor(){super(...arguments),this.name="WalletLoadError"}}class xl extends qi{constructor(){super(...arguments),this.name="WalletConfigError"}}class yo extends qi{constructor(){super(...arguments),this.name="WalletConnectionError"}}class bg extends qi{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Lg extends qi{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class no extends qi{constructor(){super(...arguments),this.name="WalletAccountError"}}class Dl extends qi{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Pi extends qi{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Rs extends qi{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Er extends qi{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class ud extends qi{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class LS extends qi{constructor(){super(...arguments),this.name="WalletSignInError"}}var Te;(function(A){A.Installed="Installed",A.NotDetected="NotDetected",A.Loadable="Loadable",A.Unsupported="Unsupported"})(Te||(Te={}));class cC extends dg{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(g,m,T={}){const O=this.publicKey;if(!O)throw new Pi;return g.feePayer=g.feePayer||O,g.recentBlockhash=g.recentBlockhash||(await m.getLatestBlockhash({commitment:T.preflightCommitment,minContextSlot:T.minContextSlot})).blockhash,g}}function dC(A){if(typeof window>"u"||typeof document>"u")return;const g=[];function m(){if(A())for(const L of g)L()}const T=setInterval(m,1e3);g.push(()=>clearInterval(T)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",m,{once:!0}),g.push(()=>document.removeEventListener("DOMContentLoaded",m))),document.readyState!=="complete"&&(window.addEventListener("load",m,{once:!0}),g.push(()=>window.removeEventListener("load",m))),m()}function cm(){if(!navigator)return!1;const A=navigator.userAgent.toLowerCase(),g=A.includes("iphone")||A.includes("ipad"),m=A.includes("safari");return g&&m}function Ms(A){return"version"in A}class k9 extends cC{async sendTransaction(g,m,T={}){let O=!0;try{if(Ms(g)){if(!this.supportedTransactionVersions)throw new Rs("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(g.version))throw new Rs(`Sending transaction version ${g.version} isn't supported by this wallet`);try{g=await this.signTransaction(g);const L=g.serialize();return await m.sendRawTransaction(L,T)}catch(L){throw L instanceof Er?(O=!1,L):new Rs(L?.message,L)}}else try{const{signers:L,...h}=T;g=await this.prepareTransaction(g,m,h),L?.length&&g.partialSign(...L),g=await this.signTransaction(g);const x=g.serialize();return await m.sendRawTransaction(x,h)}catch(L){throw L instanceof Er?(O=!1,L):new Rs(L?.message,L)}}catch(L){throw O&&this.emit("error",L),L}}async signAllTransactions(g){for(const T of g)if(Ms(T)){if(!this.supportedTransactionVersions)throw new Er("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(T.version))throw new Er(`Signing transaction version ${T.version} isn't supported by this wallet`)}const m=[];for(const T of g)m.push(await this.signTransaction(T));return m}}class Ig extends k9{}class j9 extends Ig{}const Sn="solana:signAndSendTransaction",co="solana:signIn",Es="solana:signMessage",yi="solana:signTransaction",hd="standard:connect",Uc="standard:disconnect",fd="standard:events";function K9(A){return hd in A.features&&fd in A.features&&(Sn in A.features||yi in A.features)}class IS extends qi{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const Z9=[],cd={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){xr("call","select")},connect(){return Promise.reject(xr("call","connect"))},disconnect(){return Promise.reject(xr("call","disconnect"))},sendTransaction(){return Promise.reject(xr("call","sendTransaction"))},signTransaction(){return Promise.reject(xr("call","signTransaction"))},signAllTransactions(){return Promise.reject(xr("call","signAllTransactions"))},signMessage(){return Promise.reject(xr("call","signMessage"))},signIn(){return Promise.reject(xr("call","signIn"))}};Object.defineProperty(cd,"wallets",{get(){return xr("read","wallets"),Z9}});Object.defineProperty(cd,"wallet",{get(){return xr("read","wallet"),null}});Object.defineProperty(cd,"publicKey",{get(){return xr("read","publicKey"),null}});function xr(A,g){const m=new Error(`You have tried to ${A} "${g}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(m),m}const vC=ot.createContext(cd);function yh(){return ot.useContext(vC)}function Q9(A,g){const m=ot.useState(()=>{try{const L=localStorage.getItem(A);if(L)return JSON.parse(L)}catch(L){typeof window<"u"&&console.error(L)}return g}),T=m[0],O=ot.useRef(!0);return ot.useEffect(()=>{if(O.current){O.current=!1;return}try{T===null?localStorage.removeItem(A):localStorage.setItem(A,JSON.stringify(T))}catch(L){typeof window<"u"&&console.error(L)}},[T,A]),m}var hl={},op,PS;function J9(){return PS||(PS=1,op=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),op}var lp={},ca={},NS;function Co(){if(NS)return ca;NS=1;let A;const g=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ca.getSymbolSize=function(T){if(!T)throw new Error('"version" cannot be null or undefined');if(T<1||T>40)throw new Error('"version" should be in range from 1 to 40');return T*4+17},ca.getSymbolTotalCodewords=function(T){return g[T]},ca.getBCHDigit=function(m){let T=0;for(;m!==0;)T++,m>>>=1;return T},ca.setToSJISFunction=function(T){if(typeof T!="function")throw new Error('"toSJISFunc" is not a valid function.');A=T},ca.isKanjiModeEnabled=function(){return typeof A<"u"},ca.toSJIS=function(T){return A(T)},ca}var up={},DS;function Pg(){return DS||(DS=1,(function(A){A.L={bit:1},A.M={bit:0},A.Q={bit:3},A.H={bit:2};function g(m){if(typeof m!="string")throw new Error("Param is not a string");switch(m.toLowerCase()){case"l":case"low":return A.L;case"m":case"medium":return A.M;case"q":case"quartile":return A.Q;case"h":case"high":return A.H;default:throw new Error("Unknown EC Level: "+m)}}A.isValid=function(T){return T&&typeof T.bit<"u"&&T.bit>=0&&T.bit<4},A.from=function(T,O){if(A.isValid(T))return T;try{return g(T)}catch{return O}}})(up)),up}var hp,BS;function $9(){if(BS)return hp;BS=1;function A(){this.buffer=[],this.length=0}return A.prototype={get:function(g){const m=Math.floor(g/8);return(this.buffer[m]>>>7-g%8&1)===1},put:function(g,m){for(let T=0;T<m;T++)this.putBit((g>>>m-T-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(g){const m=Math.floor(this.length/8);this.buffer.length<=m&&this.buffer.push(0),g&&(this.buffer[m]|=128>>>this.length%8),this.length++}},hp=A,hp}var fp,FS;function q9(){if(FS)return fp;FS=1;function A(g){if(!g||g<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=g,this.data=new Uint8Array(g*g),this.reservedBit=new Uint8Array(g*g)}return A.prototype.set=function(g,m,T,O){const L=g*this.size+m;this.data[L]=T,O&&(this.reservedBit[L]=!0)},A.prototype.get=function(g,m){return this.data[g*this.size+m]},A.prototype.xor=function(g,m,T){this.data[g*this.size+m]^=T},A.prototype.isReserved=function(g,m){return this.reservedBit[g*this.size+m]},fp=A,fp}var cp={},US;function _9(){return US||(US=1,(function(A){const g=Co().getSymbolSize;A.getRowColCoords=function(T){if(T===1)return[];const O=Math.floor(T/7)+2,L=g(T),h=L===145?26:Math.ceil((L-13)/(2*O-2))*2,x=[L-7];for(let t=1;t<O-1;t++)x[t]=x[t-1]-h;return x.push(6),x.reverse()},A.getPositions=function(T){const O=[],L=A.getRowColCoords(T),h=L.length;for(let x=0;x<h;x++)for(let t=0;t<h;t++)x===0&&t===0||x===0&&t===h-1||x===h-1&&t===0||O.push([L[x],L[t]]);return O}})(cp)),cp}var dp={},zS;function tI(){if(zS)return dp;zS=1;const A=Co().getSymbolSize,g=7;return dp.getPositions=function(T){const O=A(T);return[[0,0],[O-g,0],[0,O-g]]},dp}var vp={},GS;function eI(){return GS||(GS=1,(function(A){A.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const g={N1:3,N2:3,N3:40,N4:10};A.isValid=function(O){return O!=null&&O!==""&&!isNaN(O)&&O>=0&&O<=7},A.from=function(O){return A.isValid(O)?parseInt(O,10):void 0},A.getPenaltyN1=function(O){const L=O.size;let h=0,x=0,t=0,o=null,v=null;for(let r=0;r<L;r++){x=t=0,o=v=null;for(let n=0;n<L;n++){let i=O.get(r,n);i===o?x++:(x>=5&&(h+=g.N1+(x-5)),o=i,x=1),i=O.get(n,r),i===v?t++:(t>=5&&(h+=g.N1+(t-5)),v=i,t=1)}x>=5&&(h+=g.N1+(x-5)),t>=5&&(h+=g.N1+(t-5))}return h},A.getPenaltyN2=function(O){const L=O.size;let h=0;for(let x=0;x<L-1;x++)for(let t=0;t<L-1;t++){const o=O.get(x,t)+O.get(x,t+1)+O.get(x+1,t)+O.get(x+1,t+1);(o===4||o===0)&&h++}return h*g.N2},A.getPenaltyN3=function(O){const L=O.size;let h=0,x=0,t=0;for(let o=0;o<L;o++){x=t=0;for(let v=0;v<L;v++)x=x<<1&2047|O.get(o,v),v>=10&&(x===1488||x===93)&&h++,t=t<<1&2047|O.get(v,o),v>=10&&(t===1488||t===93)&&h++}return h*g.N3},A.getPenaltyN4=function(O){let L=0;const h=O.data.length;for(let t=0;t<h;t++)L+=O.data[t];return Math.abs(Math.ceil(L*100/h/5)-10)*g.N4};function m(T,O,L){switch(T){case A.Patterns.PATTERN000:return(O+L)%2===0;case A.Patterns.PATTERN001:return O%2===0;case A.Patterns.PATTERN010:return L%3===0;case A.Patterns.PATTERN011:return(O+L)%3===0;case A.Patterns.PATTERN100:return(Math.floor(O/2)+Math.floor(L/3))%2===0;case A.Patterns.PATTERN101:return O*L%2+O*L%3===0;case A.Patterns.PATTERN110:return(O*L%2+O*L%3)%2===0;case A.Patterns.PATTERN111:return(O*L%3+(O+L)%2)%2===0;default:throw new Error("bad maskPattern:"+T)}}A.applyMask=function(O,L){const h=L.size;for(let x=0;x<h;x++)for(let t=0;t<h;t++)L.isReserved(t,x)||L.xor(t,x,m(O,t,x))},A.getBestMask=function(O,L){const h=Object.keys(A.Patterns).length;let x=0,t=1/0;for(let o=0;o<h;o++){L(o),A.applyMask(o,O);const v=A.getPenaltyN1(O)+A.getPenaltyN2(O)+A.getPenaltyN3(O)+A.getPenaltyN4(O);A.applyMask(o,O),v<t&&(t=v,x=o)}return x}})(vp)),vp}var Xf={},VS;function pC(){if(VS)return Xf;VS=1;const A=Pg(),g=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],m=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Xf.getBlocksCount=function(O,L){switch(L){case A.L:return g[(O-1)*4+0];case A.M:return g[(O-1)*4+1];case A.Q:return g[(O-1)*4+2];case A.H:return g[(O-1)*4+3];default:return}},Xf.getTotalCodewordsCount=function(O,L){switch(L){case A.L:return m[(O-1)*4+0];case A.M:return m[(O-1)*4+1];case A.Q:return m[(O-1)*4+2];case A.H:return m[(O-1)*4+3];default:return}},Xf}var pp={},Fu={},HS;function iI(){if(HS)return Fu;HS=1;const A=new Uint8Array(512),g=new Uint8Array(256);return(function(){let T=1;for(let O=0;O<255;O++)A[O]=T,g[T]=O,T<<=1,T&256&&(T^=285);for(let O=255;O<512;O++)A[O]=A[O-255]})(),Fu.log=function(T){if(T<1)throw new Error("log("+T+")");return g[T]},Fu.exp=function(T){return A[T]},Fu.mul=function(T,O){return T===0||O===0?0:A[g[T]+g[O]]},Fu}var YS;function nI(){return YS||(YS=1,(function(A){const g=iI();A.mul=function(T,O){const L=new Uint8Array(T.length+O.length-1);for(let h=0;h<T.length;h++)for(let x=0;x<O.length;x++)L[h+x]^=g.mul(T[h],O[x]);return L},A.mod=function(T,O){let L=new Uint8Array(T);for(;L.length-O.length>=0;){const h=L[0];for(let t=0;t<O.length;t++)L[t]^=g.mul(O[t],h);let x=0;for(;x<L.length&&L[x]===0;)x++;L=L.slice(x)}return L},A.generateECPolynomial=function(T){let O=new Uint8Array([1]);for(let L=0;L<T;L++)O=A.mul(O,new Uint8Array([1,g.exp(L)]));return O}})(pp)),pp}var mp,WS;function rI(){if(WS)return mp;WS=1;const A=nI();function g(m){this.genPoly=void 0,this.degree=m,this.degree&&this.initialize(this.degree)}return g.prototype.initialize=function(T){this.degree=T,this.genPoly=A.generateECPolynomial(this.degree)},g.prototype.encode=function(T){if(!this.genPoly)throw new Error("Encoder not initialized");const O=new Uint8Array(T.length+this.degree);O.set(T);const L=A.mod(O,this.genPoly),h=this.degree-L.length;if(h>0){const x=new Uint8Array(this.degree);return x.set(L,h),x}return L},mp=g,mp}var gp={},yp={},xp={},XS;function mC(){return XS||(XS=1,xp.isValid=function(g){return!isNaN(g)&&g>=1&&g<=40}),xp}var Br={},kS;function gC(){if(kS)return Br;kS=1;const A="[0-9]+",g="[A-Z $%*+\\-./:]+";let m="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";m=m.replace(/u/g,"\\u");const T="(?:(?![A-Z0-9 $%*+\\-./:]|"+m+`)(?:.|[\r
]))+`;Br.KANJI=new RegExp(m,"g"),Br.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Br.BYTE=new RegExp(T,"g"),Br.NUMERIC=new RegExp(A,"g"),Br.ALPHANUMERIC=new RegExp(g,"g");const O=new RegExp("^"+m+"$"),L=new RegExp("^"+A+"$"),h=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Br.testKanji=function(t){return O.test(t)},Br.testNumeric=function(t){return L.test(t)},Br.testAlphanumeric=function(t){return h.test(t)},Br}var jS;function Ro(){return jS||(jS=1,(function(A){const g=mC(),m=gC();A.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},A.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},A.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},A.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},A.MIXED={bit:-1},A.getCharCountIndicator=function(L,h){if(!L.ccBits)throw new Error("Invalid mode: "+L);if(!g.isValid(h))throw new Error("Invalid version: "+h);return h>=1&&h<10?L.ccBits[0]:h<27?L.ccBits[1]:L.ccBits[2]},A.getBestModeForData=function(L){return m.testNumeric(L)?A.NUMERIC:m.testAlphanumeric(L)?A.ALPHANUMERIC:m.testKanji(L)?A.KANJI:A.BYTE},A.toString=function(L){if(L&&L.id)return L.id;throw new Error("Invalid mode")},A.isValid=function(L){return L&&L.bit&&L.ccBits};function T(O){if(typeof O!="string")throw new Error("Param is not a string");switch(O.toLowerCase()){case"numeric":return A.NUMERIC;case"alphanumeric":return A.ALPHANUMERIC;case"kanji":return A.KANJI;case"byte":return A.BYTE;default:throw new Error("Unknown mode: "+O)}}A.from=function(L,h){if(A.isValid(L))return L;try{return T(L)}catch{return h}}})(yp)),yp}var KS;function sI(){return KS||(KS=1,(function(A){const g=Co(),m=pC(),T=Pg(),O=Ro(),L=mC(),h=7973,x=g.getBCHDigit(h);function t(n,i,e){for(let a=1;a<=40;a++)if(i<=A.getCapacity(a,e,n))return a}function o(n,i){return O.getCharCountIndicator(n,i)+4}function v(n,i){let e=0;return n.forEach(function(a){const l=o(a.mode,i);e+=l+a.getBitsLength()}),e}function r(n,i){for(let e=1;e<=40;e++)if(v(n,e)<=A.getCapacity(e,i,O.MIXED))return e}A.from=function(i,e){return L.isValid(i)?parseInt(i,10):e},A.getCapacity=function(i,e,a){if(!L.isValid(i))throw new Error("Invalid QR Code version");typeof a>"u"&&(a=O.BYTE);const l=g.getSymbolTotalCodewords(i),s=m.getTotalCodewordsCount(i,e),u=(l-s)*8;if(a===O.MIXED)return u;const f=u-o(a,i);switch(a){case O.NUMERIC:return Math.floor(f/10*3);case O.ALPHANUMERIC:return Math.floor(f/11*2);case O.KANJI:return Math.floor(f/13);case O.BYTE:default:return Math.floor(f/8)}},A.getBestVersionForData=function(i,e){let a;const l=T.from(e,T.M);if(Array.isArray(i)){if(i.length>1)return r(i,l);if(i.length===0)return 1;a=i[0]}else a=i;return t(a.mode,a.getLength(),l)},A.getEncodedBits=function(i){if(!L.isValid(i)||i<7)throw new Error("Invalid QR Code version");let e=i<<12;for(;g.getBCHDigit(e)-x>=0;)e^=h<<g.getBCHDigit(e)-x;return i<<12|e}})(gp)),gp}var Tp={},ZS;function aI(){if(ZS)return Tp;ZS=1;const A=Co(),g=1335,m=21522,T=A.getBCHDigit(g);return Tp.getEncodedBits=function(L,h){const x=L.bit<<3|h;let t=x<<10;for(;A.getBCHDigit(t)-T>=0;)t^=g<<A.getBCHDigit(t)-T;return(x<<10|t)^m},Tp}var Sp={},Ep,QS;function oI(){if(QS)return Ep;QS=1;const A=Ro();function g(m){this.mode=A.NUMERIC,this.data=m.toString()}return g.getBitsLength=function(T){return 10*Math.floor(T/3)+(T%3?T%3*3+1:0)},g.prototype.getLength=function(){return this.data.length},g.prototype.getBitsLength=function(){return g.getBitsLength(this.data.length)},g.prototype.write=function(T){let O,L,h;for(O=0;O+3<=this.data.length;O+=3)L=this.data.substr(O,3),h=parseInt(L,10),T.put(h,10);const x=this.data.length-O;x>0&&(L=this.data.substr(O),h=parseInt(L,10),T.put(h,x*3+1))},Ep=g,Ep}var wp,JS;function lI(){if(JS)return wp;JS=1;const A=Ro(),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function m(T){this.mode=A.ALPHANUMERIC,this.data=T}return m.getBitsLength=function(O){return 11*Math.floor(O/2)+6*(O%2)},m.prototype.getLength=function(){return this.data.length},m.prototype.getBitsLength=function(){return m.getBitsLength(this.data.length)},m.prototype.write=function(O){let L;for(L=0;L+2<=this.data.length;L+=2){let h=g.indexOf(this.data[L])*45;h+=g.indexOf(this.data[L+1]),O.put(h,11)}this.data.length%2&&O.put(g.indexOf(this.data[L]),6)},wp=m,wp}var Ap,$S;function uI(){if($S)return Ap;$S=1;const A=Ro();function g(m){this.mode=A.BYTE,typeof m=="string"?this.data=new TextEncoder().encode(m):this.data=new Uint8Array(m)}return g.getBitsLength=function(T){return T*8},g.prototype.getLength=function(){return this.data.length},g.prototype.getBitsLength=function(){return g.getBitsLength(this.data.length)},g.prototype.write=function(m){for(let T=0,O=this.data.length;T<O;T++)m.put(this.data[T],8)},Ap=g,Ap}var Cp,qS;function hI(){if(qS)return Cp;qS=1;const A=Ro(),g=Co();function m(T){this.mode=A.KANJI,this.data=T}return m.getBitsLength=function(O){return O*13},m.prototype.getLength=function(){return this.data.length},m.prototype.getBitsLength=function(){return m.getBitsLength(this.data.length)},m.prototype.write=function(T){let O;for(O=0;O<this.data.length;O++){let L=g.toSJIS(this.data[O]);if(L>=33088&&L<=40956)L-=33088;else if(L>=57408&&L<=60351)L-=49472;else throw new Error("Invalid SJIS character: "+this.data[O]+`
Make sure your charset is UTF-8`);L=(L>>>8&255)*192+(L&255),T.put(L,13)}},Cp=m,Cp}var Rp={exports:{}},_S;function fI(){return _S||(_S=1,(function(A){var g={single_source_shortest_paths:function(m,T,O){var L={},h={};h[T]=0;var x=g.PriorityQueue.make();x.push(T,0);for(var t,o,v,r,n,i,e,a,l;!x.empty();){t=x.pop(),o=t.value,r=t.cost,n=m[o]||{};for(v in n)n.hasOwnProperty(v)&&(i=n[v],e=r+i,a=h[v],l=typeof h[v]>"u",(l||a>e)&&(h[v]=e,x.push(v,e),L[v]=o))}if(typeof O<"u"&&typeof h[O]>"u"){var s=["Could not find a path from ",T," to ",O,"."].join("");throw new Error(s)}return L},extract_shortest_path_from_predecessor_list:function(m,T){for(var O=[],L=T;L;)O.push(L),m[L],L=m[L];return O.reverse(),O},find_path:function(m,T,O){var L=g.single_source_shortest_paths(m,T,O);return g.extract_shortest_path_from_predecessor_list(L,O)},PriorityQueue:{make:function(m){var T=g.PriorityQueue,O={},L;m=m||{};for(L in T)T.hasOwnProperty(L)&&(O[L]=T[L]);return O.queue=[],O.sorter=m.sorter||T.default_sorter,O},default_sorter:function(m,T){return m.cost-T.cost},push:function(m,T){var O={value:m,cost:T};this.queue.push(O),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};A.exports=g})(Rp)),Rp.exports}var tE;function cI(){return tE||(tE=1,(function(A){const g=Ro(),m=oI(),T=lI(),O=uI(),L=hI(),h=gC(),x=Co(),t=fI();function o(s){return unescape(encodeURIComponent(s)).length}function v(s,u,f){const c=[];let d;for(;(d=s.exec(f))!==null;)c.push({data:d[0],index:d.index,mode:u,length:d[0].length});return c}function r(s){const u=v(h.NUMERIC,g.NUMERIC,s),f=v(h.ALPHANUMERIC,g.ALPHANUMERIC,s);let c,d;return x.isKanjiModeEnabled()?(c=v(h.BYTE,g.BYTE,s),d=v(h.KANJI,g.KANJI,s)):(c=v(h.BYTE_KANJI,g.BYTE,s),d=[]),u.concat(f,c,d).sort(function(S,C){return S.index-C.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function n(s,u){switch(u){case g.NUMERIC:return m.getBitsLength(s);case g.ALPHANUMERIC:return T.getBitsLength(s);case g.KANJI:return L.getBitsLength(s);case g.BYTE:return O.getBitsLength(s)}}function i(s){return s.reduce(function(u,f){const c=u.length-1>=0?u[u.length-1]:null;return c&&c.mode===f.mode?(u[u.length-1].data+=f.data,u):(u.push(f),u)},[])}function e(s){const u=[];for(let f=0;f<s.length;f++){const c=s[f];switch(c.mode){case g.NUMERIC:u.push([c,{data:c.data,mode:g.ALPHANUMERIC,length:c.length},{data:c.data,mode:g.BYTE,length:c.length}]);break;case g.ALPHANUMERIC:u.push([c,{data:c.data,mode:g.BYTE,length:c.length}]);break;case g.KANJI:u.push([c,{data:c.data,mode:g.BYTE,length:o(c.data)}]);break;case g.BYTE:u.push([{data:c.data,mode:g.BYTE,length:o(c.data)}])}}return u}function a(s,u){const f={},c={start:{}};let d=["start"];for(let p=0;p<s.length;p++){const S=s[p],C=[];for(let E=0;E<S.length;E++){const R=S[E],M=""+p+E;C.push(M),f[M]={node:R,lastCount:0},c[M]={};for(let D=0;D<d.length;D++){const B=d[D];f[B]&&f[B].node.mode===R.mode?(c[B][M]=n(f[B].lastCount+R.length,R.mode)-n(f[B].lastCount,R.mode),f[B].lastCount+=R.length):(f[B]&&(f[B].lastCount=R.length),c[B][M]=n(R.length,R.mode)+4+g.getCharCountIndicator(R.mode,u))}}d=C}for(let p=0;p<d.length;p++)c[d[p]].end=0;return{map:c,table:f}}function l(s,u){let f;const c=g.getBestModeForData(s);if(f=g.from(u,c),f!==g.BYTE&&f.bit<c.bit)throw new Error('"'+s+'" cannot be encoded with mode '+g.toString(f)+`.
 Suggested mode is: `+g.toString(c));switch(f===g.KANJI&&!x.isKanjiModeEnabled()&&(f=g.BYTE),f){case g.NUMERIC:return new m(s);case g.ALPHANUMERIC:return new T(s);case g.KANJI:return new L(s);case g.BYTE:return new O(s)}}A.fromArray=function(u){return u.reduce(function(f,c){return typeof c=="string"?f.push(l(c,null)):c.data&&f.push(l(c.data,c.mode)),f},[])},A.fromString=function(u,f){const c=r(u,x.isKanjiModeEnabled()),d=e(c),p=a(d,f),S=t.find_path(p.map,"start","end"),C=[];for(let E=1;E<S.length-1;E++)C.push(p.table[S[E]].node);return A.fromArray(i(C))},A.rawSplit=function(u){return A.fromArray(r(u,x.isKanjiModeEnabled()))}})(Sp)),Sp}var eE;function dI(){if(eE)return lp;eE=1;const A=Co(),g=Pg(),m=$9(),T=q9(),O=_9(),L=tI(),h=eI(),x=pC(),t=rI(),o=sI(),v=aI(),r=Ro(),n=cI();function i(p,S){const C=p.size,E=L.getPositions(S);for(let R=0;R<E.length;R++){const M=E[R][0],D=E[R][1];for(let B=-1;B<=7;B++)if(!(M+B<=-1||C<=M+B))for(let b=-1;b<=7;b++)D+b<=-1||C<=D+b||(B>=0&&B<=6&&(b===0||b===6)||b>=0&&b<=6&&(B===0||B===6)||B>=2&&B<=4&&b>=2&&b<=4?p.set(M+B,D+b,!0,!0):p.set(M+B,D+b,!1,!0))}}function e(p){const S=p.size;for(let C=8;C<S-8;C++){const E=C%2===0;p.set(C,6,E,!0),p.set(6,C,E,!0)}}function a(p,S){const C=O.getPositions(S);for(let E=0;E<C.length;E++){const R=C[E][0],M=C[E][1];for(let D=-2;D<=2;D++)for(let B=-2;B<=2;B++)D===-2||D===2||B===-2||B===2||D===0&&B===0?p.set(R+D,M+B,!0,!0):p.set(R+D,M+B,!1,!0)}}function l(p,S){const C=p.size,E=o.getEncodedBits(S);let R,M,D;for(let B=0;B<18;B++)R=Math.floor(B/3),M=B%3+C-8-3,D=(E>>B&1)===1,p.set(R,M,D,!0),p.set(M,R,D,!0)}function s(p,S,C){const E=p.size,R=v.getEncodedBits(S,C);let M,D;for(M=0;M<15;M++)D=(R>>M&1)===1,M<6?p.set(M,8,D,!0):M<8?p.set(M+1,8,D,!0):p.set(E-15+M,8,D,!0),M<8?p.set(8,E-M-1,D,!0):M<9?p.set(8,15-M-1+1,D,!0):p.set(8,15-M-1,D,!0);p.set(E-8,8,1,!0)}function u(p,S){const C=p.size;let E=-1,R=C-1,M=7,D=0;for(let B=C-1;B>0;B-=2)for(B===6&&B--;;){for(let b=0;b<2;b++)if(!p.isReserved(R,B-b)){let I=!1;D<S.length&&(I=(S[D]>>>M&1)===1),p.set(R,B-b,I),M--,M===-1&&(D++,M=7)}if(R+=E,R<0||C<=R){R-=E,E=-E;break}}}function f(p,S,C){const E=new m;C.forEach(function(b){E.put(b.mode.bit,4),E.put(b.getLength(),r.getCharCountIndicator(b.mode,p)),b.write(E)});const R=A.getSymbolTotalCodewords(p),M=x.getTotalCodewordsCount(p,S),D=(R-M)*8;for(E.getLengthInBits()+4<=D&&E.put(0,4);E.getLengthInBits()%8!==0;)E.putBit(0);const B=(D-E.getLengthInBits())/8;for(let b=0;b<B;b++)E.put(b%2?17:236,8);return c(E,p,S)}function c(p,S,C){const E=A.getSymbolTotalCodewords(S),R=x.getTotalCodewordsCount(S,C),M=E-R,D=x.getBlocksCount(S,C),B=E%D,b=D-B,I=Math.floor(E/D),N=Math.floor(M/D),z=N+1,H=I-N,X=new t(H);let W=0;const V=new Array(D),U=new Array(D);let F=0;const k=new Uint8Array(p.buffer);for(let q=0;q<D;q++){const et=q<b?N:z;V[q]=k.slice(W,W+et),U[q]=X.encode(V[q]),W+=et,F=Math.max(F,et)}const Y=new Uint8Array(E);let Z=0,j,J;for(j=0;j<F;j++)for(J=0;J<D;J++)j<V[J].length&&(Y[Z++]=V[J][j]);for(j=0;j<H;j++)for(J=0;J<D;J++)Y[Z++]=U[J][j];return Y}function d(p,S,C,E){let R;if(Array.isArray(p))R=n.fromArray(p);else if(typeof p=="string"){let I=S;if(!I){const N=n.rawSplit(p);I=o.getBestVersionForData(N,C)}R=n.fromString(p,I||40)}else throw new Error("Invalid data");const M=o.getBestVersionForData(R,C);if(!M)throw new Error("The amount of data is too big to be stored in a QR Code");if(!S)S=M;else if(S<M)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+M+`.
`);const D=f(S,C,R),B=A.getSymbolSize(S),b=new T(B);return i(b,S),e(b),a(b,S),s(b,C,0),S>=7&&l(b,S),u(b,D),isNaN(E)&&(E=h.getBestMask(b,s.bind(null,b,C))),h.applyMask(E,b),s(b,C,E),{modules:b,version:S,errorCorrectionLevel:C,maskPattern:E,segments:R}}return lp.create=function(S,C){if(typeof S>"u"||S==="")throw new Error("No input text");let E=g.M,R,M;return typeof C<"u"&&(E=g.from(C.errorCorrectionLevel,g.M),R=o.from(C.version),M=h.from(C.maskPattern),C.toSJISFunc&&A.setToSJISFunction(C.toSJISFunc)),d(S,R,E,M)},lp}var Mp={},Op={},iE;function yC(){return iE||(iE=1,(function(A){function g(m){if(typeof m=="number"&&(m=m.toString()),typeof m!="string")throw new Error("Color should be defined as hex string");let T=m.slice().replace("#","").split("");if(T.length<3||T.length===5||T.length>8)throw new Error("Invalid hex color: "+m);(T.length===3||T.length===4)&&(T=Array.prototype.concat.apply([],T.map(function(L){return[L,L]}))),T.length===6&&T.push("F","F");const O=parseInt(T.join(""),16);return{r:O>>24&255,g:O>>16&255,b:O>>8&255,a:O&255,hex:"#"+T.slice(0,6).join("")}}A.getOptions=function(T){T||(T={}),T.color||(T.color={});const O=typeof T.margin>"u"||T.margin===null||T.margin<0?4:T.margin,L=T.width&&T.width>=21?T.width:void 0,h=T.scale||4;return{width:L,scale:L?4:h,margin:O,color:{dark:g(T.color.dark||"#000000ff"),light:g(T.color.light||"#ffffffff")},type:T.type,rendererOpts:T.rendererOpts||{}}},A.getScale=function(T,O){return O.width&&O.width>=T+O.margin*2?O.width/(T+O.margin*2):O.scale},A.getImageWidth=function(T,O){const L=A.getScale(T,O);return Math.floor((T+O.margin*2)*L)},A.qrToImageData=function(T,O,L){const h=O.modules.size,x=O.modules.data,t=A.getScale(h,L),o=Math.floor((h+L.margin*2)*t),v=L.margin*t,r=[L.color.light,L.color.dark];for(let n=0;n<o;n++)for(let i=0;i<o;i++){let e=(n*o+i)*4,a=L.color.light;if(n>=v&&i>=v&&n<o-v&&i<o-v){const l=Math.floor((n-v)/t),s=Math.floor((i-v)/t);a=r[x[l*h+s]?1:0]}T[e++]=a.r,T[e++]=a.g,T[e++]=a.b,T[e]=a.a}}})(Op)),Op}var nE;function vI(){return nE||(nE=1,(function(A){const g=yC();function m(O,L,h){O.clearRect(0,0,L.width,L.height),L.style||(L.style={}),L.height=h,L.width=h,L.style.height=h+"px",L.style.width=h+"px"}function T(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}A.render=function(L,h,x){let t=x,o=h;typeof t>"u"&&(!h||!h.getContext)&&(t=h,h=void 0),h||(o=T()),t=g.getOptions(t);const v=g.getImageWidth(L.modules.size,t),r=o.getContext("2d"),n=r.createImageData(v,v);return g.qrToImageData(n.data,L,t),m(r,o,v),r.putImageData(n,0,0),o},A.renderToDataURL=function(L,h,x){let t=x;typeof t>"u"&&(!h||!h.getContext)&&(t=h,h=void 0),t||(t={});const o=A.render(L,h,t),v=t.type||"image/png",r=t.rendererOpts||{};return o.toDataURL(v,r.quality)}})(Mp)),Mp}var bp={},rE;function pI(){if(rE)return bp;rE=1;const A=yC();function g(O,L){const h=O.a/255,x=L+'="'+O.hex+'"';return h<1?x+" "+L+'-opacity="'+h.toFixed(2).slice(1)+'"':x}function m(O,L,h){let x=O+L;return typeof h<"u"&&(x+=" "+h),x}function T(O,L,h){let x="",t=0,o=!1,v=0;for(let r=0;r<O.length;r++){const n=Math.floor(r%L),i=Math.floor(r/L);!n&&!o&&(o=!0),O[r]?(v++,r>0&&n>0&&O[r-1]||(x+=o?m("M",n+h,.5+i+h):m("m",t,0),t=0,o=!1),n+1<L&&O[r+1]||(x+=m("h",v),v=0)):t++}return x}return bp.render=function(L,h,x){const t=A.getOptions(h),o=L.modules.size,v=L.modules.data,r=o+t.margin*2,n=t.color.light.a?"<path "+g(t.color.light,"fill")+' d="M0 0h'+r+"v"+r+'H0z"/>':"",i="<path "+g(t.color.dark,"stroke")+' d="'+T(v,o,t.margin)+'"/>',e='viewBox="0 0 '+r+" "+r+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(t.width?'width="'+t.width+'" height="'+t.width+'" ':"")+e+' shape-rendering="crispEdges">'+n+i+`</svg>
`;return typeof x=="function"&&x(null,l),l},bp}var sE;function mI(){if(sE)return hl;sE=1;const A=J9(),g=dI(),m=vI(),T=pI();function O(L,h,x,t,o){const v=[].slice.call(arguments,1),r=v.length,n=typeof v[r-1]=="function";if(!n&&!A())throw new Error("Callback required as last argument");if(n){if(r<2)throw new Error("Too few arguments provided");r===2?(o=x,x=h,h=t=void 0):r===3&&(h.getContext&&typeof o>"u"?(o=t,t=void 0):(o=t,t=x,x=h,h=void 0))}else{if(r<1)throw new Error("Too few arguments provided");return r===1?(x=h,h=t=void 0):r===2&&!h.getContext&&(t=x,x=h,h=void 0),new Promise(function(i,e){try{const a=g.create(x,t);i(L(a,h,t))}catch(a){e(a)}})}try{const i=g.create(x,t);o(null,L(i,h,t))}catch(i){o(i)}}return hl.create=g.create,hl.toCanvas=O.bind(null,m.render),hl.toDataURL=O.bind(null,m.renderToDataURL),hl.toString=O.bind(null,function(L,h,x){return T.render(L,x)}),hl}mI();function Lp(A){switch(A){case"processed":case"confirmed":case"finalized":case void 0:return A;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const rh="solana:mainnet",xC="solana:devnet",TC="solana:testnet",gI="solana:localnet",yI="https://api.mainnet-beta.solana.com";function xI(A){return A.includes(yI)?rh:/\bdevnet\b/i.test(A)?xC:/\btestnet\b/i.test(A)?TC:/\blocalhost\b/i.test(A)||/\b127\.0\.0\.1\b/.test(A)?gI:rh}function TI(A){let g=`${A.domain} wants you to sign in with your Solana account:
`;g+=`${A.address}`,A.statement&&(g+=`

${A.statement}`);const m=[];if(A.uri&&m.push(`URI: ${A.uri}`),A.version&&m.push(`Version: ${A.version}`),A.chainId&&m.push(`Chain ID: ${A.chainId}`),A.nonce&&m.push(`Nonce: ${A.nonce}`),A.issuedAt&&m.push(`Issued At: ${A.issuedAt}`),A.expirationTime&&m.push(`Expiration Time: ${A.expirationTime}`),A.notBefore&&m.push(`Not Before: ${A.notBefore}`),A.requestId&&m.push(`Request ID: ${A.requestId}`),A.resources){m.push("Resources:");for(const T of A.resources)m.push(`- ${T}`)}return m.length&&(g+=`

${m.join(`
`)}`),g}function SI(A){return Object.freeze({...A,decode:(g,m=0)=>A.read(g,m)[0]})}var EI=A=>SI({read(g,m){const T=m===0?g:g.slice(m);if(T.length===0)return["",0];let O=T.findIndex(t=>t!==0);O=O===-1?T.length:O;const L=A[0].repeat(O);if(O===T.length)return[L,g.length];const h=T.slice(O).reduce((t,o)=>t*256n+BigInt(o),0n),x=wI(h,A);return[L+x,g.length]}});function wI(A,g){const m=BigInt(g.length),T=[];for(;A>0n;)T.unshift(g[Number(A%m)]),A/=m;return T.join("")}var AI="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",CI=()=>EI(AI);const Is={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Ps extends Error{constructor(...g){const[m,T,O]=g;super(T),this.code=m,this.data=O,this.name="SolanaMobileWalletAdapterError"}}class SC extends Error{constructor(...g){const[m,T,O,L]=g;super(O),this.code=T,this.data=L,this.jsonRpcMessageId=m,this.name="SolanaMobileWalletAdapterProtocolError"}}function Wi(A,g,m,T){function O(L){return L instanceof m?L:new m(function(h){h(L)})}return new(m||(m=Promise))(function(L,h){function x(v){try{o(T.next(v))}catch(r){h(r)}}function t(v){try{o(T.throw(v))}catch(r){h(r)}}function o(v){v.done?L(v.value):O(v.value).then(x,t)}o((T=T.apply(A,[])).next())})}function RI(A){return window.btoa(A)}function aE(A,g){return window.btoa(String.fromCharCode.call(null,...A))}function EC(A){return new Uint8Array(window.atob(A).split("").map(g=>g.charCodeAt(0)))}function Ip(A,g){return Wi(this,void 0,void 0,function*(){const m=yield crypto.subtle.exportKey("raw",A),T=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},g,m),O=new Uint8Array(m.byteLength+T.byteLength);return O.set(new Uint8Array(m),0),O.set(new Uint8Array(T),m.byteLength),O})}function MI(A){return TI(A)}function OI(A){return RI(MI(A)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const bI="solana:signTransactions",oE="solana:cloneAuthorization";function LI(A){return CI().decode(A)}function II(A){return LI(EC(A))}function PI(A,g){return new Proxy({},{get(m,T){return T==="then"?null:(m[T]==null&&(m[T]=function(O){return Wi(this,void 0,void 0,function*(){const{method:L,params:h}=NI(T,O,A),x=yield g(L,h);return L==="authorize"&&h.sign_in_payload&&!x.sign_in_result&&(x.sign_in_result=yield BI(h.sign_in_payload,x,g)),DI(T,x,A)})}),m[T])},defineProperty(){return!1},deleteProperty(){return!1}})}function NI(A,g,m){let T=g,O=A.toString().replace(/[A-Z]/g,L=>`_${L.toLowerCase()}`).toLowerCase();switch(A){case"authorize":{let{chain:L}=T;if(m==="legacy"){switch(L){case"solana:testnet":{L="testnet";break}case"solana:devnet":{L="devnet";break}case"solana:mainnet":{L="mainnet-beta";break}default:L=T.cluster}T.cluster=L}else{switch(L){case"testnet":case"devnet":{L=`solana:${L}`;break}case"mainnet-beta":{L="solana:mainnet";break}}T.chain=L}}case"reauthorize":{const{auth_token:L,identity:h}=T;L&&(m==="legacy"?(O="reauthorize",T={auth_token:L,identity:h}):O="authorize");break}}return{method:O,params:T}}function DI(A,g,m){switch(A){case"getCapabilities":{const T=g;switch(m){case"legacy":{const O=[bI];return T.supports_clone_authorization===!0&&O.push(oE),Object.assign(Object.assign({},T),{features:O})}case"v1":return Object.assign(Object.assign({},T),{supports_sign_and_send_transactions:!0,supports_clone_authorization:T.features.includes(oE)})}}}return g}function BI(A,g,m){var T;return Wi(this,void 0,void 0,function*(){const O=(T=A.domain)!==null&&T!==void 0?T:window.location.host,L=g.accounts[0].address,h=OI(Object.assign(Object.assign({},A),{domain:O,address:II(L)})),x=yield m("sign_messages",{addresses:[L],payloads:[h]}),t=EC(x.signed_payloads[0]),o=aE(t.slice(0,t.length-64)),v=aE(t.slice(t.length-64));return{address:L,signed_message:o.length==0?h:o,signature:v}})}const ro=4;function FI(A){if(A>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const g=new ArrayBuffer(ro);return new DataView(g).setUint32(0,A,!1),new Uint8Array(g)}const dm=12,wC=65;function UI(A,g,m){return Wi(this,void 0,void 0,function*(){const T=FI(g),O=new Uint8Array(dm);crypto.getRandomValues(O);const L=yield crypto.subtle.encrypt(CC(T,O),m,new TextEncoder().encode(A)),h=new Uint8Array(T.byteLength+O.byteLength+L.byteLength);return h.set(new Uint8Array(T),0),h.set(new Uint8Array(O),T.byteLength),h.set(new Uint8Array(L),T.byteLength+O.byteLength),h})}function AC(A,g){return Wi(this,void 0,void 0,function*(){const m=A.slice(0,ro),T=A.slice(ro,ro+dm),O=A.slice(ro+dm),L=yield crypto.subtle.decrypt(CC(m,T),g,O);return zI().decode(L)})}function CC(A,g){return{additionalData:A,iv:g,name:"AES-GCM",tagLength:128}}let Pp;function zI(){return Pp===void 0&&(Pp=new TextDecoder("utf-8")),Pp}function GI(){return Wi(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Np(){return Wi(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function VI(A){let g="";const m=new Uint8Array(A),T=m.byteLength;for(let O=0;O<T;O++)g+=String.fromCharCode(m[O]);return window.btoa(g)}function HI(){return RC(49152+Math.floor(Math.random()*16384))}function RC(A){if(A<49152||A>65535)throw new Ps(Is.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${A} given.`,{port:A});return A}function YI(A){return A.replace(/[/+=]/g,g=>({"/":"_","+":"-","=":"."})[g])}const WI="solana-wallet";function lE(A){return A.replace(/(^\/+|\/+$)/g,"").split("/")}function XI(A,g){let m=null;if(g){try{m=new URL(g)}catch{}if(m?.protocol!=="https:")throw new Ps(Is.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}m||(m=new URL(`${WI}:/`));const T=A.startsWith("/")?A:[...lE(m.pathname),...lE(A)].join("/");return new URL(T,m)}function kI(A,g,m,T=["v1"]){return Wi(this,void 0,void 0,function*(){const O=RC(g),L=yield crypto.subtle.exportKey("raw",A),h=VI(L),x=XI("v1/associate/local",m);return x.searchParams.set("association",YI(h)),x.searchParams.set("port",`${O}`),T.forEach(t=>{x.searchParams.set("v",t)}),x})}function jI(A,g){return Wi(this,void 0,void 0,function*(){const m=JSON.stringify(A),T=A.id;return UI(m,T,g)})}function KI(A,g){return Wi(this,void 0,void 0,function*(){const m=yield AC(A,g),T=JSON.parse(m);if(Object.hasOwnProperty.call(T,"error"))throw new SC(T.id,T.error.code,T.error.message);return T})}function ZI(A,g,m){return Wi(this,void 0,void 0,function*(){const[T,O]=yield Promise.all([crypto.subtle.exportKey("raw",g),crypto.subtle.importKey("raw",A.slice(0,wC),{name:"ECDH",namedCurve:"P-256"},!1,[])]),L=yield crypto.subtle.deriveBits({name:"ECDH",public:O},m,256),h=yield crypto.subtle.importKey("raw",L,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(T),info:new Uint8Array},h,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function QI(A,g){return Wi(this,void 0,void 0,function*(){const m=yield AC(A,g),T=JSON.parse(m);let O="legacy";if(Object.hasOwnProperty.call(T,"v"))switch(T.v){case 1:case"1":case"v1":O="v1";break;case"legacy":O="legacy";break;default:throw new Ps(Is.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${T.v}`)}return{protocol_version:O}})}const zc={Firefox:0,Other:1};function JI(){return navigator.userAgent.indexOf("Firefox/")!==-1?zc.Firefox:zc.Other}function $I(){return new Promise((A,g)=>{function m(){clearTimeout(O),window.removeEventListener("blur",T)}function T(){m(),A()}window.addEventListener("blur",T);const O=setTimeout(()=>{m(),g()},3e3)})}let Uu=null;function qI(A){Uu==null&&(Uu=document.createElement("iframe"),Uu.style.display="none",document.body.appendChild(Uu)),Uu.contentWindow.location.href=A.toString()}function _I(A){return Wi(this,void 0,void 0,function*(){if(A.protocol==="https:")window.location.assign(A);else try{const g=JI();switch(g){case zc.Firefox:qI(A);break;case zc.Other:{const m=$I();window.location.assign(A),yield m;break}default:}}catch{throw new Ps(Is.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function tP(A,g){return Wi(this,void 0,void 0,function*(){const m=HI(),T=yield kI(A,m,g);return yield _I(T),m})}const uE={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},eP="com.solana.mobilewalletadapter.v1";function iP(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Ps(Is.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function nP(A){let g;try{g=new URL(A)}catch{throw new Ps(Is.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(g.protocol!=="https:")throw new Ps(Is.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function hE(A){return new DataView(A).getUint32(0,!1)}function rP(A,g){return Wi(this,void 0,void 0,function*(){iP();const m=yield GI(),O=`ws://localhost:${yield tP(m.publicKey,g?.baseUri)}/solana-wallet`;let L;const h=(()=>{const v=[...uE.retryDelayScheduleMs];return()=>v.length>1?v.shift():v[0]})();let x=1,t=0,o={__type:"disconnected"};return new Promise((v,r)=>{let n;const i={},e=()=>Wi(this,void 0,void 0,function*(){if(o.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${o.__type}\`.`);return}n.removeEventListener("open",e);const{associationKeypair:d}=o,p=yield Np();n.send(yield Ip(p.publicKey,d.privateKey)),o={__type:"hello_req_sent",associationPublicKey:d.publicKey,ecdhPrivateKey:p.privateKey}}),a=d=>{d.wasClean?o={__type:"disconnected"}:r(new Ps(Is.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${d.code}: ${d.reason}).`,{closeEvent:d})),u()},l=d=>Wi(this,void 0,void 0,function*(){u(),Date.now()-L>=uE.timeoutMs?r(new Ps(Is.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${O}.`)):(yield new Promise(p=>{const S=h();f=window.setTimeout(p,S)}),c())}),s=d=>Wi(this,void 0,void 0,function*(){const p=yield d.data.arrayBuffer();switch(o.__type){case"connecting":if(p.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const S=yield Np();n.send(yield Ip(S.publicKey,m.privateKey)),o={__type:"hello_req_sent",associationPublicKey:m.publicKey,ecdhPrivateKey:S.privateKey};break;case"connected":try{const C=p.slice(0,ro),E=hE(C);if(E!==t+1)throw new Error("Encrypted message has invalid sequence number");t=E;const R=yield KI(p,o.sharedSecret),M=i[R.id];delete i[R.id],M.resolve(R.result)}catch(C){if(C instanceof SC){const E=i[C.jsonRpcMessageId];delete i[C.jsonRpcMessageId],E.reject(C)}else throw C}break;case"hello_req_sent":{if(p.byteLength===0){const D=yield Np();n.send(yield Ip(D.publicKey,m.privateKey)),o={__type:"hello_req_sent",associationPublicKey:m.publicKey,ecdhPrivateKey:D.privateKey};break}const C=yield ZI(p,o.associationPublicKey,o.ecdhPrivateKey),E=p.slice(wC),R=E.byteLength!==0?yield Wi(this,void 0,void 0,function*(){const D=E.slice(0,ro),B=hE(D);if(B!==t+1)throw new Error("Encrypted message has invalid sequence number");return t=B,QI(E,C)}):{protocol_version:"legacy"};o={__type:"connected",sharedSecret:C,sessionProperties:R};const M=PI(R.protocol_version,(D,B)=>Wi(this,void 0,void 0,function*(){const b=x++;return n.send(yield jI({id:b,jsonrpc:"2.0",method:D,params:B??{}},C)),new Promise((I,N)=>{i[b]={resolve(z){switch(D){case"authorize":case"reauthorize":{const{wallet_uri_base:H}=z;if(H!=null)try{nP(H)}catch(X){N(X);return}break}}I(z)},reject:N}})}));try{v(yield A(M))}catch(D){r(D)}finally{u(),n.close()}break}}});let u,f;const c=()=>{u&&u(),o={__type:"connecting",associationKeypair:m},L===void 0&&(L=Date.now()),n=new WebSocket(O,[eP]),n.addEventListener("open",e),n.addEventListener("close",a),n.addEventListener("error",l),n.addEventListener("message",s),u=()=>{window.clearTimeout(f),n.removeEventListener("open",e),n.removeEventListener("close",a),n.removeEventListener("error",l),n.removeEventListener("message",s)}};c()})})}var Dp,fE;function sP(){if(fE)return Dp;fE=1;function A(g){if(g.length>=255)throw new TypeError("Alphabet too long");for(var m=new Uint8Array(256),T=0;T<m.length;T++)m[T]=255;for(var O=0;O<g.length;O++){var L=g.charAt(O),h=L.charCodeAt(0);if(m[h]!==255)throw new TypeError(L+" is ambiguous");m[h]=O}var x=g.length,t=g.charAt(0),o=Math.log(x)/Math.log(256),v=Math.log(256)/Math.log(x);function r(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length===0)return"";for(var a=0,l=0,s=0,u=e.length;s!==u&&e[s]===0;)s++,a++;for(var f=(u-s)*v+1>>>0,c=new Uint8Array(f);s!==u;){for(var d=e[s],p=0,S=f-1;(d!==0||p<l)&&S!==-1;S--,p++)d+=256*c[S]>>>0,c[S]=d%x>>>0,d=d/x>>>0;if(d!==0)throw new Error("Non-zero carry");l=p,s++}for(var C=f-l;C!==f&&c[C]===0;)C++;for(var E=t.repeat(a);C<f;++C)E+=g.charAt(c[C]);return E}function n(e){if(typeof e!="string")throw new TypeError("Expected String");if(e.length===0)return new Uint8Array;for(var a=0,l=0,s=0;e[a]===t;)l++,a++;for(var u=(e.length-a)*o+1>>>0,f=new Uint8Array(u);e[a];){var c=e.charCodeAt(a);if(c>255)return;var d=m[c];if(d===255)return;for(var p=0,S=u-1;(d!==0||p<s)&&S!==-1;S--,p++)d+=x*f[S]>>>0,f[S]=d%256>>>0,d=d/256>>>0;if(d!==0)throw new Error("Non-zero carry");s=p,a++}for(var C=u-s;C!==u&&f[C]===0;)C++;for(var E=new Uint8Array(l+(u-C)),R=l;C!==u;)E[R++]=f[C++];return E}function i(e){var a=n(e);if(a)return a;throw new Error("Non-base"+x+" character")}return{encode:r,decodeUnsafe:n,decode:i}}return Dp=A,Dp}var Bp,cE;function aP(){return cE||(cE=1,Bp=sP()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Bp}var oP=aP();const vm=Ra(oP);function gi(A,g,m,T){function O(L){return L instanceof m?L:new m(function(h){h(L)})}return new(m||(m=Promise))(function(L,h){function x(v){try{o(T.next(v))}catch(r){h(r)}}function t(v){try{o(T.throw(v))}catch(r){h(r)}}function o(v){v.done?L(v.value):O(v.value).then(x,t)}o((T=T.apply(A,[])).next())})}function Ft(A,g,m,T){if(m==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?A!==g||!T:!g.has(A))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?T:m==="a"?T.call(A):T?T.value:g.get(A)}function Gi(A,g,m,T,O){if(typeof g=="function"?A!==g||!0:!g.has(A))throw new TypeError("Cannot write private member to an object whose class did not declare it");return g.set(A,m),m}var Hu,ki,Za,cl,MC,OC,bC,sc;const lP=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,uP=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,hP=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class fP{constructor(){Hu.add(this),ki.set(this,null),Za.set(this,{}),cl.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),Ft(this,Hu,"m",OC).call(this),Ft(this,ki,"f")&&(Ft(this,ki,"f").style.display="flex")},this.close=(g=void 0)=>{var m;console.debug("Modal close"),Ft(this,Hu,"m",bC).call(this),Ft(this,ki,"f")&&(Ft(this,ki,"f").style.display="none"),(m=Ft(this,Za,"f").close)===null||m===void 0||m.forEach(T=>T(g))},sc.set(this,g=>{g.key==="Escape"&&this.close(g)}),this.init=this.init.bind(this),Gi(this,ki,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return gi(this,void 0,void 0,function*(){console.log("Injecting modal"),Ft(this,Hu,"m",MC).call(this)})}addEventListener(g,m){var T;return!((T=Ft(this,Za,"f")[g])===null||T===void 0)&&T.push(m)||(Ft(this,Za,"f")[g]=[m]),()=>this.removeEventListener(g,m)}removeEventListener(g,m){var T;Ft(this,Za,"f")[g]=(T=Ft(this,Za,"f")[g])===null||T===void 0?void 0:T.filter(O=>m!==O)}}ki=new WeakMap,Za=new WeakMap,cl=new WeakMap,sc=new WeakMap,Hu=new WeakSet,MC=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){Ft(this,ki,"f")||Gi(this,ki,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Gi(this,ki,document.createElement("div")),Ft(this,ki,"f").id="mobile-wallet-adapter-embedded-root-ui",Ft(this,ki,"f").innerHTML=lP,Ft(this,ki,"f").style.display="none";const g=Ft(this,ki,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");g&&(g.innerHTML=this.contentHtml);const m=document.createElement("style");m.id="mobile-wallet-adapter-embedded-modal-styles",m.textContent=uP+this.contentStyles;const T=document.createElement("div");T.innerHTML=hP,this.dom=T.attachShadow({mode:"closed"}),this.dom.appendChild(m),this.dom.appendChild(Ft(this,ki,"f")),document.body.appendChild(T)},OC=function(){if(!Ft(this,ki,"f")||Ft(this,cl,"f"))return;[...Ft(this,ki,"f").querySelectorAll("[data-modal-close]")].forEach(m=>m?.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",Ft(this,sc,"f")),Gi(this,cl,!0)},bC=function(){if(!Ft(this,cl,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",Ft(this,sc,"f")),!Ft(this,ki,"f")))return;[...Ft(this,ki,"f").querySelectorAll("[data-modal-close]")].forEach(m=>m?.removeEventListener("click",this.close)),Gi(this,cl,!1)};const cP="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function kf(A){return window.btoa(String.fromCharCode.call(null,...A))}function da(A){return new Uint8Array(window.atob(A).split("").map(g=>g.charCodeAt(0)))}var dl,so,pm,mm,gm,ym,Yu,mn,ms,va,vl,Qa,ac,Wu,oc,xm,lc,LC,Tm,uc,pl,hc,Xu,fc,ml,ku,cc,Sm,Em,dc,vc,wm,Am,pc;const IC="Mobile Wallet Adapter",dP=64,vP=[Sn,yi,Es,co];class pP{constructor(g){dl.add(this),so.set(this,{}),pm.set(this,"1.0.0"),mm.set(this,IC),gm.set(this,"https://solanamobile.com/wallets"),ym.set(this,cP),Yu.set(this,void 0),mn.set(this,void 0),ms.set(this,void 0),va.set(this,!1),vl.set(this,0),Qa.set(this,[]),ac.set(this,void 0),Wu.set(this,void 0),oc.set(this,void 0),xm.set(this,(m,T)=>{var O;return!((O=Ft(this,so,"f")[m])===null||O===void 0)&&O.push(T)||(Ft(this,so,"f")[m]=[T]),()=>Ft(this,dl,"m",LC).call(this,m,T)}),Tm.set(this,({silent:m}={})=>gi(this,void 0,void 0,function*(){if(Ft(this,va,"f")||this.connected)return{accounts:this.accounts};Gi(this,va,!0);try{if(m){const T=yield Ft(this,ms,"f").get();if(T)yield Ft(this,hc,"f").call(this,T.capabilities),yield Ft(this,pl,"f").call(this,T);else return{accounts:this.accounts}}else yield Ft(this,uc,"f").call(this)}catch(T){throw new Error(T instanceof Error&&T.message||"Unknown error")}finally{Gi(this,va,!1)}return{accounts:this.accounts}})),uc.set(this,m=>gi(this,void 0,void 0,function*(){try{const T=yield Ft(this,ms,"f").get();if(T)return Ft(this,pl,"f").call(this,T),T;const O=yield Ft(this,ac,"f").select(Ft(this,Qa,"f"));return yield Ft(this,ml,"f").call(this,L=>gi(this,void 0,void 0,function*(){const[h,x]=yield Promise.all([L.getCapabilities(),L.authorize({chain:O,identity:Ft(this,Yu,"f"),sign_in_payload:m})]),t=Ft(this,cc,"f").call(this,x.accounts),o=Object.assign(Object.assign({},x),{accounts:t,chain:O,capabilities:h});return Promise.all([Ft(this,hc,"f").call(this,h),Ft(this,ms,"f").set(o),Ft(this,pl,"f").call(this,o)]),o}))}catch(T){throw new Error(T instanceof Error&&T.message||"Unknown error")}})),pl.set(this,m=>gi(this,void 0,void 0,function*(){var T;const O=Ft(this,mn,"f")==null||((T=Ft(this,mn,"f"))===null||T===void 0?void 0:T.accounts.length)!==m.accounts.length||Ft(this,mn,"f").accounts.some((L,h)=>L.address!==m.accounts[h].address);Gi(this,mn,m),O&&Ft(this,dl,"m",lc).call(this,"change",{accounts:this.accounts})})),hc.set(this,m=>gi(this,void 0,void 0,function*(){const T=m.features.includes("solana:signTransactions"),O=m.supports_sign_and_send_transactions,L=Sn in this.features!==O||yi in this.features!==T;Gi(this,Wu,Object.assign(Object.assign({},(O||!O&&!T)&&{[Sn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Ft(this,dc,"f")}}),T&&{[yi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Ft(this,vc,"f")}})),L&&Ft(this,dl,"m",lc).call(this,"change",{features:this.features})})),Xu.set(this,(m,T,O)=>gi(this,void 0,void 0,function*(){var L,h;try{const[x,t]=yield Promise.all([(h=(L=Ft(this,mn,"f"))===null||L===void 0?void 0:L.capabilities)!==null&&h!==void 0?h:yield m.getCapabilities(),m.authorize({auth_token:T,identity:Ft(this,Yu,"f"),chain:O})]),o=Ft(this,cc,"f").call(this,t.accounts),v=Object.assign(Object.assign({},t),{accounts:o,chain:O,capabilities:x});Promise.all([Ft(this,ms,"f").set(v),Ft(this,pl,"f").call(this,v)])}catch(x){throw Ft(this,fc,"f").call(this),new Error(x instanceof Error&&x.message||"Unknown error")}})),fc.set(this,()=>gi(this,void 0,void 0,function*(){var m;Ft(this,ms,"f").clear(),Gi(this,va,!1),Gi(this,vl,(m=Ft(this,vl,"f"),m++,m)),Gi(this,mn,void 0),Ft(this,dl,"m",lc).call(this,"change",{accounts:this.accounts})})),ml.set(this,m=>gi(this,void 0,void 0,function*(){var T;const O=(T=Ft(this,mn,"f"))===null||T===void 0?void 0:T.wallet_uri_base,L=O?{baseUri:O}:void 0,h=Ft(this,vl,"f");try{return yield rP(m,L)}catch(x){throw Ft(this,vl,"f")!==h&&(yield new Promise(()=>{})),x instanceof Error&&x.name==="SolanaMobileWalletAdapterError"&&x.code==="ERROR_WALLET_NOT_FOUND"&&(yield Ft(this,oc,"f").call(this,this)),x}})),ku.set(this,()=>{if(!Ft(this,mn,"f"))throw new Error("Wallet not connected");return{authToken:Ft(this,mn,"f").auth_token,chain:Ft(this,mn,"f").chain}}),cc.set(this,m=>m.map(T=>{var O,L;const h=da(T.address);return{address:vm.encode(h),publicKey:h,label:T.label,icon:T.icon,chains:(O=T.chains)!==null&&O!==void 0?O:Ft(this,Qa,"f"),features:(L=T.features)!==null&&L!==void 0?L:vP}})),Sm.set(this,m=>gi(this,void 0,void 0,function*(){const{authToken:T,chain:O}=Ft(this,ku,"f").call(this);try{const L=m.map(h=>kf(h));return yield Ft(this,ml,"f").call(this,h=>gi(this,void 0,void 0,function*(){return yield Ft(this,Xu,"f").call(this,h,T,O),(yield h.signTransactions({payloads:L})).signed_payloads.map(da)}))}catch(L){throw new Error(L instanceof Error&&L.message||"Unknown error")}})),Em.set(this,(m,T)=>gi(this,void 0,void 0,function*(){const{authToken:O,chain:L}=Ft(this,ku,"f").call(this);try{return yield Ft(this,ml,"f").call(this,h=>gi(this,void 0,void 0,function*(){const[x,t]=yield Promise.all([h.getCapabilities(),Ft(this,Xu,"f").call(this,h,O,L)]);if(x.supports_sign_and_send_transactions){const o=kf(m);return(yield h.signAndSendTransactions(Object.assign(Object.assign({},T),{payloads:[o]}))).signatures.map(da)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(h){throw new Error(h instanceof Error&&h.message||"Unknown error")}})),dc.set(this,(...m)=>gi(this,void 0,void 0,function*(){const T=[];for(const O of m){const L=yield Ft(this,Em,"f").call(this,O.transaction,O.options);T.push({signature:L})}return T})),vc.set(this,(...m)=>gi(this,void 0,void 0,function*(){return(yield Ft(this,Sm,"f").call(this,m.map(({transaction:T})=>T))).map(T=>({signedTransaction:T}))})),wm.set(this,(...m)=>gi(this,void 0,void 0,function*(){const{authToken:T,chain:O}=Ft(this,ku,"f").call(this),L=m.map(({account:x})=>kf(x.publicKey)),h=m.map(({message:x})=>kf(x));try{return yield Ft(this,ml,"f").call(this,x=>gi(this,void 0,void 0,function*(){return yield Ft(this,Xu,"f").call(this,x,T,O),(yield x.signMessages({addresses:L,payloads:h})).signed_payloads.map(da).map(o=>({signedMessage:o,signature:o.slice(-dP)}))}))}catch(x){throw new Error(x instanceof Error&&x.message||"Unknown error")}})),Am.set(this,(...m)=>gi(this,void 0,void 0,function*(){const T=[];if(m.length>1)for(const O of m)T.push(yield Ft(this,pc,"f").call(this,O));else return[yield Ft(this,pc,"f").call(this,m[0])];return T})),pc.set(this,m=>gi(this,void 0,void 0,function*(){var T,O,L;Gi(this,va,!0);try{const h=yield Ft(this,uc,"f").call(this,Object.assign(Object.assign({},m),{domain:(T=m?.domain)!==null&&T!==void 0?T:window.location.host}));if(!h.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const x=h.sign_in_result.address,t=h.accounts.find(o=>o.address==x);return{account:Object.assign(Object.assign({},t??{address:vm.encode(da(x))}),{publicKey:da(x),chains:(O=t?.chains)!==null&&O!==void 0?O:Ft(this,Qa,"f"),features:(L=t?.features)!==null&&L!==void 0?L:h.capabilities.features}),signedMessage:da(h.sign_in_result.signed_message),signature:da(h.sign_in_result.signature)}}catch(h){throw new Error(h instanceof Error&&h.message||"Unknown error")}finally{Gi(this,va,!1)}})),Gi(this,ms,g.authorizationCache),Gi(this,Yu,g.appIdentity),Gi(this,Qa,g.chains),Gi(this,ac,g.chainSelector),Gi(this,oc,g.onWalletNotFound),Gi(this,Wu,{[Sn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Ft(this,dc,"f")},[yi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Ft(this,vc,"f")}})}get version(){return Ft(this,pm,"f")}get name(){return Ft(this,mm,"f")}get url(){return Ft(this,gm,"f")}get icon(){return Ft(this,ym,"f")}get chains(){return Ft(this,Qa,"f")}get features(){return Object.assign({[hd]:{version:"1.0.0",connect:Ft(this,Tm,"f")},[Uc]:{version:"1.0.0",disconnect:Ft(this,fc,"f")},[fd]:{version:"1.0.0",on:Ft(this,xm,"f")},[Es]:{version:"1.0.0",signMessage:Ft(this,wm,"f")},[co]:{version:"1.0.0",signIn:Ft(this,Am,"f")}},Ft(this,Wu,"f"))}get accounts(){var g,m;return(m=(g=Ft(this,mn,"f"))===null||g===void 0?void 0:g.accounts)!==null&&m!==void 0?m:[]}get connected(){return!!Ft(this,mn,"f")}get isAuthorized(){return!!Ft(this,mn,"f")}get currentAuthorization(){return Ft(this,mn,"f")}get cachedAuthorizationResult(){return Ft(this,ms,"f").get()}}so=new WeakMap,pm=new WeakMap,mm=new WeakMap,gm=new WeakMap,ym=new WeakMap,Yu=new WeakMap,mn=new WeakMap,ms=new WeakMap,va=new WeakMap,vl=new WeakMap,Qa=new WeakMap,ac=new WeakMap,Wu=new WeakMap,oc=new WeakMap,xm=new WeakMap,Tm=new WeakMap,uc=new WeakMap,pl=new WeakMap,hc=new WeakMap,Xu=new WeakMap,fc=new WeakMap,ml=new WeakMap,ku=new WeakMap,cc=new WeakMap,Sm=new WeakMap,Em=new WeakMap,dc=new WeakMap,vc=new WeakMap,wm=new WeakMap,Am=new WeakMap,pc=new WeakMap,dl=new WeakSet,lc=function(g,...m){var T;(T=Ft(this,so,"f")[g])===null||T===void 0||T.forEach(O=>O.apply(null,m))},LC=function(g,m){var T;Ft(this,so,"f")[g]=(T=Ft(this,so,"f")[g])===null||T===void 0?void 0:T.filter(O=>m!==O)};const mP="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",gP="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class yP extends fP{constructor(){super(...arguments),this.contentStyles=TP,this.contentHtml=xP}initWithError(g){super.init(),this.populateError(g)}populateError(g){var m,T;const O=(m=this.dom)===null||m===void 0?void 0:m.getElementById("mobile-wallet-adapter-error-message"),L=(T=this.dom)===null||T===void 0?void 0:T.getElementById("mobile-wallet-adapter-error-action");if(O){if(g.name==="SolanaMobileWalletAdapterError")switch(g.code){case"ERROR_WALLET_NOT_FOUND":O.innerHTML=mP,L&&L.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":O.innerHTML=gP,L&&(L.style.display="none");return}O.innerHTML=`An unexpected error occurred: ${g.message}`}else console.log("Failed to locate error dialog element")}}const xP=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,TP=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function SP(){return gi(this,void 0,void 0,function*(){if(typeof window<"u"){const A=window.navigator.userAgent.toLowerCase(),g=new yP;A.includes("wv")?g.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):g.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),g.open()}})}const Fp="SolanaMobileWalletAdapterDefaultAuthorizationCache";function EP(){let A;try{A=window.localStorage}catch{}return{clear(){return gi(this,void 0,void 0,function*(){if(A)try{A.removeItem(Fp)}catch{}})},get(){return gi(this,void 0,void 0,function*(){if(A)try{const g=JSON.parse(A.getItem(Fp));if(g&&g.accounts){const m=g.accounts.map(T=>Object.assign(Object.assign({},T),{publicKey:"publicKey"in T?new Uint8Array(Object.values(T.publicKey)):vm.decode(T.address)}));return Object.assign(Object.assign({},g),{accounts:m})}else return g||void 0}catch{}})},set(g){return gi(this,void 0,void 0,function*(){if(A)try{A.setItem(Fp,JSON.stringify(g))}catch{}})}}}function wP(){return{select(A){return gi(this,void 0,void 0,function*(){return A.length===1?A[0]:A.includes(rh)?rh:A[0]})}}}function oi(A,g,m,T){function O(L){return L instanceof m?L:new m(function(h){h(L)})}return new(m||(m=Promise))(function(L,h){function x(v){try{o(T.next(v))}catch(r){h(r)}}function t(v){try{o(T.throw(v))}catch(r){h(r)}}function o(v){v.done?L(v.value):O(v.value).then(x,t)}o((T=T.apply(A,[])).next())})}function ue(A,g,m,T){if(m==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?A!==g||!T:!g.has(A))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?T:m==="a"?T.call(A):T?T.value:g.get(A)}function jn(A,g,m,T,O){if(typeof g=="function"?A!==g||!0:!g.has(A))throw new TypeError("Cannot write private member to an object whose class did not declare it");return g.set(A,m),m}const Cm="standard:connect",AP="standard:disconnect",CP="standard:events";function Up(A){return window.btoa(String.fromCharCode.call(null,...A))}function RP(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var Qi,Ti,ya,ws,mc,ys,Ja,Rm,Mm,PC,Gc,gc,ma;const yc=IC,MP=64;function OP(A){return"version"in A}function NC(A){switch(A){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return A}}class bP extends j9{constructor(g,m){super(),Qi.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Ti.set(this,void 0),ya.set(this,!1),ws.set(this,RP()?Te.Loadable:Te.Unsupported),mc.set(this,void 0),ys.set(this,void 0),Ja.set(this,void 0),Rm.set(this,T=>oi(this,void 0,void 0,function*(){if(T.accounts&&T.accounts.length>0){ue(this,Qi,"m",PC).call(this);const O=yield ue(this,mc,"f").call(this,T.accounts);O!==ue(this,ys,"f")&&(jn(this,ys,O),jn(this,Ja,void 0),this.emit("connect",this.publicKey))}})),jn(this,mc,T=>oi(this,void 0,void 0,function*(){var O;const L=yield m.addressSelector.select(T.map(({publicKey:h})=>Up(h)));return(O=T.find(({publicKey:h})=>Up(h)===L))!==null&&O!==void 0?O:T[0]})),jn(this,Ti,g),ue(this,Ti,"f").features[CP].on("change",ue(this,Rm,"f")),this.name=ue(this,Ti,"f").name,this.icon=ue(this,Ti,"f").icon,this.url=ue(this,Ti,"f").url}get publicKey(){var g;if(!ue(this,Ja,"f")&&ue(this,ys,"f"))try{jn(this,Ja,new Ut(ue(this,ys,"f").publicKey),"f")}catch(m){throw new Dl(m instanceof Error&&m?.message||"Unknown error",m)}return(g=ue(this,Ja,"f"))!==null&&g!==void 0?g:null}get connected(){return ue(this,Ti,"f").connected}get connecting(){return ue(this,ya,"f")}get readyState(){return ue(this,ws,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return oi(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return oi(this,void 0,void 0,function*(){ue(this,Qi,"m",Mm).call(this,!0)})}connect(){return oi(this,void 0,void 0,function*(){ue(this,Qi,"m",Mm).call(this)})}performAuthorization(g){return oi(this,void 0,void 0,function*(){try{const m=yield ue(this,Ti,"f").cachedAuthorizationResult;return m?(yield ue(this,Ti,"f").features[Cm].connect({silent:!0}),m):(g?yield ue(this,Ti,"f").features[co].signIn(g):yield ue(this,Ti,"f").features[Cm].connect(),yield yield ue(this,Ti,"f").cachedAuthorizationResult)}catch(m){throw new yo(m instanceof Error&&m.message||"Unknown error",m)}})}disconnect(){return oi(this,void 0,void 0,function*(){return yield ue(this,Qi,"m",ma).call(this,()=>oi(this,void 0,void 0,function*(){jn(this,ya,!1),jn(this,Ja,void 0),jn(this,ys,void 0),yield ue(this,Ti,"f").features[AP].disconnect(),this.emit("disconnect")}))})}signIn(g){return oi(this,void 0,void 0,function*(){return ue(this,Qi,"m",ma).call(this,()=>oi(this,void 0,void 0,function*(){var m;if(ue(this,ws,"f")!==Te.Installed&&ue(this,ws,"f")!==Te.Loadable)throw new go;jn(this,ya,!0);try{const T=yield ue(this,Ti,"f").features[co].signIn(Object.assign(Object.assign({},g),{domain:(m=g?.domain)!==null&&m!==void 0?m:window.location.host}));if(T.length>0)return T[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(T){throw new yo(T instanceof Error&&T.message||"Unknown error",T)}finally{jn(this,ya,!1)}}))})}signMessage(g){return oi(this,void 0,void 0,function*(){return yield ue(this,Qi,"m",ma).call(this,()=>oi(this,void 0,void 0,function*(){const m=ue(this,Qi,"m",Gc).call(this);try{return(yield ue(this,Ti,"f").features[Es].signMessage({account:m,message:g}))[0].signature}catch(T){throw new ud(T?.message,T)}}))})}sendTransaction(g,m,T){return oi(this,void 0,void 0,function*(){return yield ue(this,Qi,"m",ma).call(this,()=>oi(this,void 0,void 0,function*(){const O=ue(this,Qi,"m",Gc).call(this);try{let L=function(){let h;switch(m.commitment){case"confirmed":case"finalized":case"processed":h=m.commitment;break;default:h="finalized"}let x;switch(T?.preflightCommitment){case"confirmed":case"finalized":case"processed":x=T.preflightCommitment;break;case void 0:x=h;break;default:x="finalized"}return(x==="finalized"?2:x==="confirmed"?1:0)<(h==="finalized"?2:h==="confirmed"?1:0)?x:h};if(Sn in ue(this,Ti,"f").features){const h=NC(ue(this,Ti,"f").currentAuthorization.chain),[x]=(yield ue(this,Ti,"f").features[Sn].signAndSendTransaction({account:O,transaction:g.serialize(),chain:h,options:T?{skipPreflight:T.skipPreflight,maxRetries:T.maxRetries}:void 0})).map((t=>Up(t.signature)));return x}else{const[h]=yield ue(this,Qi,"m",gc).call(this,[g]);if(OP(h))return yield m.sendTransaction(h);{const x=h.serialize();return yield m.sendRawTransaction(x,Object.assign(Object.assign({},T),{preflightCommitment:L()}))}}}catch(L){throw new Rs(L?.message,L)}}))})}signTransaction(g){return oi(this,void 0,void 0,function*(){return yield ue(this,Qi,"m",ma).call(this,()=>oi(this,void 0,void 0,function*(){const[m]=yield ue(this,Qi,"m",gc).call(this,[g]);return m}))})}signAllTransactions(g){return oi(this,void 0,void 0,function*(){return yield ue(this,Qi,"m",ma).call(this,()=>oi(this,void 0,void 0,function*(){return yield ue(this,Qi,"m",gc).call(this,g)}))})}}Ti=new WeakMap,ya=new WeakMap,ws=new WeakMap,mc=new WeakMap,ys=new WeakMap,Ja=new WeakMap,Rm=new WeakMap,Qi=new WeakSet,Mm=function(g=!1){return oi(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield ue(this,Qi,"m",ma).call(this,()=>oi(this,void 0,void 0,function*(){if(ue(this,ws,"f")!==Te.Installed&&ue(this,ws,"f")!==Te.Loadable)throw new go;jn(this,ya,!0);try{yield ue(this,Ti,"f").features[Cm].connect({silent:g})}catch(m){throw new yo(m instanceof Error&&m.message||"Unknown error",m)}finally{jn(this,ya,!1)}}))})},PC=function(){ue(this,ws,"f")!==Te.Installed&&this.emit("readyStateChange",jn(this,ws,Te.Installed))},Gc=function(){if(!ue(this,Ti,"f").isAuthorized||!ue(this,ys,"f"))throw new Pi;return ue(this,ys,"f")},gc=function(g){return oi(this,void 0,void 0,function*(){const m=ue(this,Qi,"m",Gc).call(this);try{if(yi in ue(this,Ti,"f").features)return ue(this,Ti,"f").features[yi].signTransaction(...g.map(T=>({account:m,transaction:T.serialize()}))).then(T=>T.map(O=>{const L=O.signedTransaction,x=L[0]*MP+1;return nd.deserializeMessageVersion(L.slice(x,L.length))==="legacy"?Le.from(L):Il.deserialize(L)}));throw new Error("Connected wallet does not support signing transactions")}catch(T){throw new Er(T?.message,T)}})},ma=function(g){return oi(this,void 0,void 0,function*(){try{return yield g()}catch(m){throw this.emit("error",m),m}})};class LP extends bP{constructor(g){var m;const T=NC((m=g.chain)!==null&&m!==void 0?m:g.cluster);super(new pP({appIdentity:g.appIdentity,authorizationCache:{set:g.authorizationResultCache.set,get:()=>oi(this,void 0,void 0,function*(){return yield g.authorizationResultCache.get()}),clear:g.authorizationResultCache.clear},chains:[T],chainSelector:wP(),onWalletNotFound:()=>oi(this,void 0,void 0,function*(){g.onWalletNotFound(this)})}),{addressSelector:g.addressSelector,chain:T})}}class IP extends LP{}function PP(){return{select(A){return oi(this,void 0,void 0,function*(){return A[0]})}}}function NP(){return EP()}function DP(A){return oi(this,void 0,void 0,function*(){return SP()})}function BP(){return DP}var FP=function(A,g,m,T){if(m==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?A!==g||!T:!g.has(A))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?T:m==="a"?T.call(A):T?T.value:g.get(A)},UP=function(A,g,m,T,O){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?A!==g||!O:!g.has(A))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?O.call(A,m):O?O.value=m:g.set(A,m),m},xc;function zP(A){const g=({register:m})=>m(A);try{window.dispatchEvent(new GP(g))}catch(m){console.error(`wallet-standard:register-wallet event could not be dispatched
`,m)}try{window.addEventListener("wallet-standard:app-ready",({detail:m})=>g(m))}catch(m){console.error(`wallet-standard:app-ready event listener could not be added
`,m)}}class GP extends Event{get detail(){return FP(this,xc,"f")}get type(){return"wallet-standard:register-wallet"}constructor(g){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),xc.set(this,void 0),UP(this,xc,g,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}xc=new WeakMap;function VP(A,g){if(A===g)return!0;const m=A.length;if(m!==g.length)return!1;for(let T=0;T<m;T++)if(A[T]!==g[T])return!1;return!0}function HP(A){if(A.length>=255)throw new TypeError("Alphabet too long");const g=new Uint8Array(256);for(let o=0;o<g.length;o++)g[o]=255;for(let o=0;o<A.length;o++){const v=A.charAt(o),r=v.charCodeAt(0);if(g[r]!==255)throw new TypeError(v+" is ambiguous");g[r]=o}const m=A.length,T=A.charAt(0),O=Math.log(m)/Math.log(256),L=Math.log(256)/Math.log(m);function h(o){if(o instanceof Uint8Array||(ArrayBuffer.isView(o)?o=new Uint8Array(o.buffer,o.byteOffset,o.byteLength):Array.isArray(o)&&(o=Uint8Array.from(o))),!(o instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(o.length===0)return"";let v=0,r=0,n=0;const i=o.length;for(;n!==i&&o[n]===0;)n++,v++;const e=(i-n)*L+1>>>0,a=new Uint8Array(e);for(;n!==i;){let u=o[n],f=0;for(let c=e-1;(u!==0||f<r)&&c!==-1;c--,f++)u+=256*a[c]>>>0,a[c]=u%m>>>0,u=u/m>>>0;if(u!==0)throw new Error("Non-zero carry");r=f,n++}let l=e-r;for(;l!==e&&a[l]===0;)l++;let s=T.repeat(v);for(;l<e;++l)s+=A.charAt(a[l]);return s}function x(o){if(typeof o!="string")throw new TypeError("Expected String");if(o.length===0)return new Uint8Array;let v=0,r=0,n=0;for(;o[v]===T;)r++,v++;const i=(o.length-v)*O+1>>>0,e=new Uint8Array(i);for(;v<o.length;){const u=o.charCodeAt(v);if(u>255)return;let f=g[u];if(f===255)return;let c=0;for(let d=i-1;(f!==0||c<n)&&d!==-1;d--,c++)f+=m*e[d]>>>0,e[d]=f%256>>>0,f=f/256>>>0;if(f!==0)throw new Error("Non-zero carry");n=c,v++}let a=i-n;for(;a!==i&&e[a]===0;)a++;const l=new Uint8Array(r+(i-a));let s=r;for(;a!==i;)l[s++]=e[a++];return l}function t(o){const v=x(o);if(v)return v;throw new Error("Non-base"+m+" character")}return{encode:h,decodeUnsafe:x,decode:t}}var YP="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const WP=HP(YP);var se=function(A,g,m,T){if(m==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?A!==g||!T:!g.has(A))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?T:m==="a"?T.call(A):T?T.value:g.get(A)},Vi=function(A,g,m,T,O){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?A!==g||!O:!g.has(A))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?O.call(A,m):O?O.value=m:g.set(A,m),m},an,Ln,ao,oo,$a,ju,Vc,Ue,Hc,Om,Tc,bm,Zu,Lm,dE,vE,pE,mE;class XP extends cC{get name(){return se(this,Ue,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return se(this,Ue,"f").icon}get readyState(){return se(this,Hc,"f")}get publicKey(){return se(this,ao,"f")}get connecting(){return se(this,oo,"f")}get supportedTransactionVersions(){return se(this,Vc,"f")}get wallet(){return se(this,Ue,"f")}get standard(){return!0}constructor({wallet:g}){super(),an.add(this),Ln.set(this,void 0),ao.set(this,void 0),oo.set(this,void 0),$a.set(this,void 0),ju.set(this,void 0),Vc.set(this,void 0),Ue.set(this,void 0),Hc.set(this,typeof window>"u"||typeof document>"u"?Te.Unsupported:Te.Installed),Lm.set(this,m=>{if("accounts"in m){const T=se(this,Ue,"f").accounts[0];se(this,Ln,"f")&&!se(this,$a,"f")&&T!==se(this,Ln,"f")&&(T?se(this,an,"m",Tc).call(this,T):(this.emit("error",new bg),se(this,an,"m",bm).call(this)))}"features"in m&&se(this,an,"m",Zu).call(this)}),Vi(this,Ue,g,"f"),Vi(this,Ln,null,"f"),Vi(this,ao,null,"f"),Vi(this,oo,!1,"f"),Vi(this,$a,!1,"f"),Vi(this,ju,se(this,Ue,"f").features[fd].on("change",se(this,Lm,"f")),"f"),se(this,an,"m",Zu).call(this)}destroy(){Vi(this,Ln,null,"f"),Vi(this,ao,null,"f"),Vi(this,oo,!1,"f"),Vi(this,$a,!1,"f");const g=se(this,ju,"f");g&&(Vi(this,ju,null,"f"),g())}async autoConnect(){return se(this,an,"m",Om).call(this,{silent:!0})}async connect(){return se(this,an,"m",Om).call(this)}async disconnect(){if(Uc in se(this,Ue,"f").features)try{Vi(this,$a,!0,"f"),await se(this,Ue,"f").features[Uc].disconnect()}catch(g){this.emit("error",new Lg(g?.message,g))}finally{Vi(this,$a,!1,"f")}se(this,an,"m",bm).call(this)}async sendTransaction(g,m,T={}){try{const O=se(this,Ln,"f");if(!O)throw new Pi;let L;if(Sn in se(this,Ue,"f").features)if(O.features.includes(Sn))L=Sn;else if(yi in se(this,Ue,"f").features&&O.features.includes(yi))L=yi;else throw new no;else if(yi in se(this,Ue,"f").features){if(!O.features.includes(yi))throw new no;L=yi}else throw new xl;const h=xI(m.rpcEndpoint);if(!O.chains.includes(h))throw new Rs;try{const{signers:x,...t}=T;let o;if(Ms(g)?(x?.length&&g.sign(x),o=g.serialize()):(g=await this.prepareTransaction(g,m,t),x?.length&&g.partialSign(...x),o=new Uint8Array(g.serialize({requireAllSignatures:!1,verifySignatures:!1}))),L===Sn){const[v]=await se(this,Ue,"f").features[Sn].signAndSendTransaction({account:O,chain:h,transaction:o,options:{preflightCommitment:Lp(t.preflightCommitment||m.commitment),skipPreflight:t.skipPreflight,maxRetries:t.maxRetries,minContextSlot:t.minContextSlot}});return WP.encode(v.signature)}else{const[v]=await se(this,Ue,"f").features[yi].signTransaction({account:O,chain:h,transaction:o,options:{preflightCommitment:Lp(t.preflightCommitment||m.commitment),minContextSlot:t.minContextSlot}});return await m.sendRawTransaction(v.signedTransaction,{...t,preflightCommitment:Lp(t.preflightCommitment||m.commitment)})}}catch(x){throw x instanceof qi?x:new Rs(x?.message,x)}}catch(O){throw this.emit("error",O),O}}}Ln=new WeakMap,ao=new WeakMap,oo=new WeakMap,$a=new WeakMap,ju=new WeakMap,Vc=new WeakMap,Ue=new WeakMap,Hc=new WeakMap,Lm=new WeakMap,an=new WeakSet,Om=async function(g){try{if(this.connected||this.connecting)return;if(se(this,Hc,"f")!==Te.Installed)throw new go;if(Vi(this,oo,!0,"f"),!se(this,Ue,"f").accounts.length)try{await se(this,Ue,"f").features[hd].connect(g)}catch(T){throw new yo(T?.message,T)}const m=se(this,Ue,"f").accounts[0];if(!m)throw new no;se(this,an,"m",Tc).call(this,m)}catch(m){throw this.emit("error",m),m}finally{Vi(this,oo,!1,"f")}},Tc=function(g){let m;try{m=new Ut(g.address)}catch(T){throw new Dl(T?.message,T)}Vi(this,Ln,g,"f"),Vi(this,ao,m,"f"),se(this,an,"m",Zu).call(this),this.emit("connect",m)},bm=function(){Vi(this,Ln,null,"f"),Vi(this,ao,null,"f"),se(this,an,"m",Zu).call(this),this.emit("disconnect")},Zu=function(){const g=Sn in se(this,Ue,"f").features?se(this,Ue,"f").features[Sn].supportedTransactionVersions:se(this,Ue,"f").features[yi].supportedTransactionVersions;Vi(this,Vc,VP(g,["legacy"])?null:new Set(g),"f"),yi in se(this,Ue,"f").features&&se(this,Ln,"f")?.features.includes(yi)?(this.signTransaction=se(this,an,"m",dE),this.signAllTransactions=se(this,an,"m",vE)):(delete this.signTransaction,delete this.signAllTransactions),Es in se(this,Ue,"f").features&&se(this,Ln,"f")?.features.includes(Es)?this.signMessage=se(this,an,"m",pE):delete this.signMessage,co in se(this,Ue,"f").features?this.signIn=se(this,an,"m",mE):delete this.signIn},dE=async function(g){try{const m=se(this,Ln,"f");if(!m)throw new Pi;if(!(yi in se(this,Ue,"f").features))throw new xl;if(!m.features.includes(yi))throw new no;try{const O=(await se(this,Ue,"f").features[yi].signTransaction({account:m,transaction:Ms(g)?g.serialize():new Uint8Array(g.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Ms(g)?Il.deserialize(O):Le.from(O)}catch(T){throw T instanceof qi?T:new Er(T?.message,T)}}catch(m){throw this.emit("error",m),m}},vE=async function(g){try{const m=se(this,Ln,"f");if(!m)throw new Pi;if(!(yi in se(this,Ue,"f").features))throw new xl;if(!m.features.includes(yi))throw new no;try{const T=await se(this,Ue,"f").features[yi].signTransaction(...g.map(O=>({account:m,transaction:Ms(O)?O.serialize():new Uint8Array(O.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return g.map((O,L)=>{const h=T[L].signedTransaction;return Ms(O)?Il.deserialize(h):Le.from(h)})}catch(T){throw new Er(T?.message,T)}}catch(m){throw this.emit("error",m),m}},pE=async function(g){try{const m=se(this,Ln,"f");if(!m)throw new Pi;if(!(Es in se(this,Ue,"f").features))throw new xl;if(!m.features.includes(Es))throw new no;try{return(await se(this,Ue,"f").features[Es].signMessage({account:m,message:g}))[0].signature}catch(T){throw new ud(T?.message,T)}}catch(m){throw this.emit("error",m),m}},mE=async function(g={}){try{if(!(co in se(this,Ue,"f").features))throw new xl;let m;try{[m]=await se(this,Ue,"f").features[co].signIn(g)}catch(T){throw new LS(T?.message,T)}if(!m)throw new LS;return se(this,an,"m",Tc).call(this,m.account),m}catch(m){throw this.emit("error",m),m}};const kP=K9;var jP=function(A,g,m,T){if(m==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?A!==g||!T:!g.has(A))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?T:m==="a"?T.call(A):T?T.value:g.get(A)},KP=function(A,g,m,T,O){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?A!==g||!O:!g.has(A))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?O.call(A,m):O?O.value=m:g.set(A,m),m},Sc;let Kn;const dd=new Set;function ZP(A){Qu=void 0,dd.add(A)}function QP(A){Qu=void 0,dd.delete(A)}const Tl={};function JP(){if(Kn||(Kn=Object.freeze({register:gE,get:$P,on:qP}),typeof window>"u"))return Kn;const A=Object.freeze({register:gE});try{window.addEventListener("wallet-standard:register-wallet",({detail:g})=>g(A))}catch(g){console.error(`wallet-standard:register-wallet event listener could not be added
`,g)}try{window.dispatchEvent(new _P(A))}catch(g){console.error(`wallet-standard:app-ready event could not be dispatched
`,g)}return Kn}function gE(...A){return A=A.filter(g=>!dd.has(g)),A.length?(A.forEach(g=>ZP(g)),Tl.register?.forEach(g=>Im(()=>g(...A))),function(){A.forEach(m=>QP(m)),Tl.unregister?.forEach(m=>Im(()=>m(...A)))}):()=>{}}let Qu;function $P(){return Qu||(Qu=[...dd]),Qu}function qP(A,g){return Tl[A]?.push(g)||(Tl[A]=[g]),function(){Tl[A]=Tl[A]?.filter(T=>g!==T)}}function Im(A){try{A()}catch(g){console.error(g)}}class _P extends Event{get detail(){return jP(this,Sc,"f")}get type(){return"wallet-standard:app-ready"}constructor(g){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Sc.set(this,void 0),KP(this,Sc,g,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Sc=new WeakMap;function tN(){if(Kn||(Kn=JP(),typeof window>"u"))return Kn;const A=window.navigator.wallets||[];if(!Array.isArray(A))return console.error("window.navigator.wallets is not an array"),Kn;const{register:g}=Kn,m=(...T)=>T.forEach(O=>Im(()=>O({register:g})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:m})})}catch{return console.error("window.navigator.wallets could not be set"),Kn}return m(...A),Kn}function eN(A){const g=yE(()=>new Set),{get:m,on:T}=yE(()=>tN()),[O,L]=ot.useState(()=>xE(m()));ot.useEffect(()=>{const x=[T("register",(...t)=>L(o=>[...o,...xE(t)])),T("unregister",(...t)=>L(o=>o.filter(v=>t.some(r=>r===v.wallet))))];return()=>x.forEach(t=>t())},[T]);const h=iN(O);return ot.useEffect(()=>{if(!h)return;const x=new Set(O);new Set(h.filter(o=>!x.has(o))).forEach(o=>o.destroy())},[h,O]),ot.useEffect(()=>()=>O.forEach(x=>x.destroy()),[]),ot.useMemo(()=>[...O,...A.filter(({name:x})=>O.some(t=>t.name===x)?(g.has(x)||(g.add(x),console.warn(`${x} was registered as a Standard Wallet. The Wallet Adapter for ${x} can be removed from your app.`)),!1):!0)],[O,A,g])}function yE(A){const g=ot.useRef(void 0);return g.current===void 0&&(g.current={value:A()}),g.current.value}function iN(A){const g=ot.useRef(void 0);return ot.useEffect(()=>{g.current=A}),g.current}function xE(A){return A.filter(kP).map(g=>new XP({wallet:g}))}var Rl;(function(A){A[A.DESKTOP_WEB=0]="DESKTOP_WEB",A[A.MOBILE_WEB=1]="MOBILE_WEB"})(Rl||(Rl={}));function nN(A){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(A)}function rN({adapters:A,userAgentString:g}){return A.some(m=>m.name!==yc&&m.readyState===Te.Installed)?Rl.DESKTOP_WEB:g&&/android/i.test(g)&&!nN(g)?Rl.MOBILE_WEB:Rl.DESKTOP_WEB}function sN(A){return A?/devnet/i.test(A)?"devnet":/testnet/i.test(A)?"testnet":"mainnet-beta":"mainnet-beta"}function aN({children:A,wallets:g,adapter:m,isUnloadingRef:T,onAutoConnectRequest:O,onConnectError:L,onError:h,onSelectWallet:x}){const t=ot.useRef(!1),[o,v]=ot.useState(!1),r=ot.useRef(!1),[n,i]=ot.useState(!1),[e,a]=ot.useState(()=>m?.publicKey??null),[l,s]=ot.useState(()=>m?.connected??!1),u=ot.useRef(h);ot.useEffect(()=>(u.current=h,()=>{u.current=void 0}),[h]);const f=ot.useRef((I,N)=>(T.current||(u.current?u.current(I,N):(console.error(I,N),I instanceof go&&typeof window<"u"&&N&&window.open(N.url,"_blank"))),I)),[c,d]=ot.useState(()=>g.map(I=>({adapter:I,readyState:I.readyState})).filter(({readyState:I})=>I!==Te.Unsupported));ot.useEffect(()=>{d(N=>g.map((z,H)=>{const X=N[H];return X&&X.adapter===z&&X.readyState===z.readyState?X:{adapter:z,readyState:z.readyState}}).filter(({readyState:z})=>z!==Te.Unsupported));function I(N){d(z=>{const H=z.findIndex(({adapter:W})=>W===this);if(H===-1)return z;const{adapter:X}=z[H];return[...z.slice(0,H),{adapter:X,readyState:N},...z.slice(H+1)].filter(({readyState:W})=>W!==Te.Unsupported)})}return g.forEach(N=>N.on("readyStateChange",I,N)),()=>{g.forEach(N=>N.off("readyStateChange",I,N))}},[m,g]);const p=ot.useMemo(()=>c.find(I=>I.adapter===m)??null,[m,c]);ot.useEffect(()=>{if(!m)return;const I=H=>{a(H),t.current=!1,v(!1),s(!0),r.current=!1,i(!1)},N=()=>{T.current||(a(null),t.current=!1,v(!1),s(!1),r.current=!1,i(!1))},z=H=>{f.current(H,m)};return m.on("connect",I),m.on("disconnect",N),m.on("error",z),()=>{m.off("connect",I),m.off("disconnect",N),m.off("error",z),N()}},[m,T]);const S=ot.useRef(!1);ot.useEffect(()=>()=>{S.current=!1},[m]),ot.useEffect(()=>{S.current||t.current||l||!O||!(p?.readyState===Te.Installed||p?.readyState===Te.Loadable)||(t.current=!0,v(!0),S.current=!0,(async function(){try{await O()}catch{L()}finally{v(!1),t.current=!1}})())},[l,O,L,p]);const C=ot.useCallback(async(I,N,z)=>{if(!m)throw f.current(new IS);if(!l)throw f.current(new Pi,m);return await m.sendTransaction(I,N,z)},[m,l]),E=ot.useMemo(()=>m&&"signTransaction"in m?async I=>{if(!l)throw f.current(new Pi,m);return await m.signTransaction(I)}:void 0,[m,l]),R=ot.useMemo(()=>m&&"signAllTransactions"in m?async I=>{if(!l)throw f.current(new Pi,m);return await m.signAllTransactions(I)}:void 0,[m,l]),M=ot.useMemo(()=>m&&"signMessage"in m?async I=>{if(!l)throw f.current(new Pi,m);return await m.signMessage(I)}:void 0,[m,l]),D=ot.useMemo(()=>m&&"signIn"in m?async I=>await m.signIn(I):void 0,[m]),B=ot.useCallback(async()=>{if(t.current||r.current||p?.adapter.connected)return;if(!p)throw f.current(new IS);const{adapter:I,readyState:N}=p;if(!(N===Te.Installed||N===Te.Loadable))throw f.current(new go,I);t.current=!0,v(!0);try{await I.connect()}catch(z){throw L(),z}finally{v(!1),t.current=!1}},[L,p]),b=ot.useCallback(async()=>{if(!r.current&&m){r.current=!0,i(!0);try{await m.disconnect()}finally{i(!1),r.current=!1}}},[m]);return Yt.createElement(vC.Provider,{value:{autoConnect:!!O,wallets:c,wallet:p,publicKey:e,connected:l,connecting:o,disconnecting:n,select:x,connect:B,disconnect:b,sendTransaction:C,signTransaction:E,signAllTransactions:R,signMessage:M,signIn:D}},A)}let zp;function oN(){return zp===void 0&&(zp=globalThis.navigator?.userAgent??null),zp}function TE(A){const g=oN();return rN({adapters:A,userAgentString:g})===Rl.MOBILE_WEB}function lN(){const A=globalThis.location;if(A)return`${A.protocol}//${A.host}`}function uN({children:A,wallets:g,autoConnect:m,localStorageKey:T="walletName",onError:O}){const{connection:L}=fC(),h=eN(g),x=ot.useMemo(()=>{if(!TE(h))return null;const u=h.find(f=>f.name===yc);return u||new IP({addressSelector:PP(),appIdentity:{uri:lN()},authorizationResultCache:NP(),cluster:sN(L?.rpcEndpoint),onWalletNotFound:BP()})},[h,L?.rpcEndpoint]),t=ot.useMemo(()=>x==null||h.indexOf(x)!==-1?h:[x,...h],[h,x]),[o,v]=Q9(T,null),r=ot.useMemo(()=>t.find(u=>u.name===o)??null,[t,o]),n=ot.useCallback(u=>{o!==u&&(r&&r.name!==yc&&r.disconnect(),v(u))},[r,v,o]);ot.useEffect(()=>{if(!r)return;function u(){a.current||v(null)}return r.on("disconnect",u),()=>{r.off("disconnect",u)}},[r,h,v,o]);const i=ot.useRef(!1),e=ot.useMemo(()=>{if(!(!m||!r))return async()=>{(m===!0||await m(r))&&(i.current?await r.connect():await r.autoConnect())}},[m,r]),a=ot.useRef(!1);ot.useEffect(()=>{if(o===yc&&TE(h)){a.current=!1;return}function u(){a.current=!0}return window.addEventListener("beforeunload",u),()=>{window.removeEventListener("beforeunload",u)}},[h,o]);const l=ot.useCallback(()=>{r&&n(null)},[r,n]),s=ot.useCallback(u=>{i.current=!0,n(u)},[n]);return Yt.createElement(aN,{wallets:t,adapter:r,isUnloadingRef:a,onAutoConnectRequest:e,onConnectError:l,onError:O,onSelectWallet:s},A)}const DC={setVisible(A){console.error(BC("call","setVisible"))},visible:!1};Object.defineProperty(DC,"visible",{get(){return console.error(BC("read","visible")),!1}});function BC(A,g){return`You have tried to  ${A} "${g}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const FC=ot.createContext(DC);function vd(){return ot.useContext(FC)}function hN({onSelectWallet:A}){const{connect:g,connected:m,connecting:T,disconnect:O,disconnecting:L,publicKey:h,select:x,wallet:t,wallets:o}=yh();let v;T?v="connecting":m?v="connected":L?v="disconnecting":t?v="has-wallet":v="no-wallet";const r=ot.useCallback(()=>{g().catch(()=>{})},[g]),n=ot.useCallback(()=>{O().catch(()=>{})},[O]),i=ot.useCallback(()=>{A({onSelectWallet:x,wallets:o})},[A,x,o]);return{buttonState:v,onConnect:v==="has-wallet"?r:void 0,onDisconnect:v!=="disconnecting"&&v!=="no-wallet"?n:void 0,onSelectWallet:i,publicKey:h??void 0,walletIcon:t?.adapter.icon,walletName:t?.adapter.name}}const UC=A=>Yt.createElement("button",{className:`wallet-adapter-button ${A.className||""}`,disabled:A.disabled,style:A.style,onClick:A.onClick,tabIndex:A.tabIndex||0,type:"button"},A.startIcon&&Yt.createElement("i",{className:"wallet-adapter-button-start-icon"},A.startIcon),A.children,A.endIcon&&Yt.createElement("i",{className:"wallet-adapter-button-end-icon"},A.endIcon)),zC=({wallet:A,...g})=>A&&Yt.createElement("img",{src:A.adapter.icon,alt:`${A.adapter.name} icon`,...g});function fN({walletIcon:A,walletName:g,...m}){return Yt.createElement(UC,{...m,className:"wallet-adapter-button-trigger",startIcon:A&&g?Yt.createElement(zC,{wallet:{adapter:{icon:A,name:g}}}):void 0})}function cN({children:A,labels:g,...m}){const{setVisible:T}=vd(),{buttonState:O,onConnect:L,onDisconnect:h,publicKey:x,walletIcon:t,walletName:o}=hN({onSelectWallet(){T(!0)}}),[v,r]=ot.useState(!1),[n,i]=ot.useState(!1),e=ot.useRef(null);ot.useEffect(()=>{const l=s=>{const u=e.current;!u||u.contains(s.target)||i(!1)};return document.addEventListener("mousedown",l),document.addEventListener("touchstart",l),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("touchstart",l)}},[]);const a=ot.useMemo(()=>{if(A)return A;if(x){const l=x.toBase58();return l.slice(0,4)+".."+l.slice(-4)}else return O==="connecting"||O==="has-wallet"?g[O]:g["no-wallet"]},[O,A,g,x]);return Yt.createElement("div",{className:"wallet-adapter-dropdown"},Yt.createElement(fN,{...m,"aria-expanded":n,style:{pointerEvents:n?"none":"auto",...m.style},onClick:()=>{switch(O){case"no-wallet":T(!0);break;case"has-wallet":L&&L();break;case"connected":i(!0);break}},walletIcon:t,walletName:o},a),Yt.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${n&&"wallet-adapter-dropdown-list-active"}`,ref:e,role:"menu"},x?Yt.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(x.toBase58()),r(!0),setTimeout(()=>r(!1),400)},role:"menuitem"},v?g.copied:g["copy-address"]):null,Yt.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{T(!0),i(!1)},role:"menuitem"},g["change-wallet"]),h?Yt.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{h(),i(!1)},role:"menuitem"},g.disconnect):null))}const SE=({id:A,children:g,expanded:m=!1})=>{const T=ot.useRef(null),O=ot.useRef(!0),L="height 250ms ease-out",h=()=>{const t=T.current;t&&requestAnimationFrame(()=>{t.style.height=t.scrollHeight+"px"})},x=()=>{const t=T.current;t&&requestAnimationFrame(()=>{t.style.height=t.offsetHeight+"px",t.style.overflow="hidden",requestAnimationFrame(()=>{t.style.height="0"})})};return ot.useLayoutEffect(()=>{m?h():x()},[m]),ot.useLayoutEffect(()=>{const t=T.current;if(!t)return;function o(){t&&(t.style.overflow=m?"initial":"hidden",m&&(t.style.height="auto"))}function v(r){t&&r.target===t&&r.propertyName==="height"&&o()}return O.current&&(o(),O.current=!1),t.addEventListener("transitionend",v),()=>t.removeEventListener("transitionend",v)},[m]),Yt.createElement("div",{className:"wallet-adapter-collapse",id:A,ref:T,role:"region",style:{height:0,transition:O.current?void 0:L}},g)},Gp=({handleClick:A,tabIndex:g,wallet:m})=>Yt.createElement("li",null,Yt.createElement(UC,{onClick:A,startIcon:Yt.createElement(zC,{wallet:m}),tabIndex:g},m.adapter.name,m.readyState===Te.Installed&&Yt.createElement("span",null,"Detected"))),dN=()=>Yt.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Yt.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),Yt.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),Yt.createElement("g",{clipPath:"url(#clip0_880_5115)"},Yt.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),Yt.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),Yt.createElement("defs",null,Yt.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Yt.createElement("stop",{stopColor:"#9945FF"}),Yt.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Yt.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Yt.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Yt.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Yt.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Yt.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Yt.createElement("stop",{stopColor:"#9945FF"}),Yt.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Yt.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Yt.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Yt.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Yt.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Yt.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},Yt.createElement("stop",{stopColor:"#9945FF"}),Yt.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Yt.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Yt.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Yt.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Yt.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Yt.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},Yt.createElement("stop",{stopColor:"#9945FF"}),Yt.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Yt.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Yt.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Yt.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Yt.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Yt.createElement("clipPath",{id:"clip0_880_5115"},Yt.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),vN=({className:A="",container:g="body"})=>{const m=ot.useRef(null),{wallets:T,select:O}=yh(),{setVisible:L}=vd(),[h,x]=ot.useState(!1),[t,o]=ot.useState(!1),[v,r]=ot.useState(null),[n,i]=ot.useMemo(()=>{const f=[],c=[];for(const d of T)d.readyState===Te.Installed?f.push(d):c.push(d);return f.length?[f,c]:[c,[]]},[T]),e=ot.useCallback(()=>{o(!1),setTimeout(()=>L(!1),150)},[L]),a=ot.useCallback(f=>{f.preventDefault(),e()},[e]),l=ot.useCallback((f,c)=>{O(c),a(f)},[O,a]),s=ot.useCallback(()=>x(!h),[h]),u=ot.useCallback(f=>{const c=m.current;if(!c)return;const d=c.querySelectorAll("button"),p=d[0],S=d[d.length-1];f.shiftKey?document.activeElement===p&&(S.focus(),f.preventDefault()):document.activeElement===S&&(p.focus(),f.preventDefault())},[m]);return ot.useLayoutEffect(()=>{const f=d=>{d.key==="Escape"?e():d.key==="Tab"&&u(d)},{overflow:c}=window.getComputedStyle(document.body);return setTimeout(()=>o(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",f,!1),()=>{document.body.style.overflow=c,window.removeEventListener("keydown",f,!1)}},[e,u]),ot.useLayoutEffect(()=>r(document.querySelector(g)),[g]),v&&UO.createPortal(Yt.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${t&&"wallet-adapter-modal-fade-in"} ${A}`,ref:m,role:"dialog"},Yt.createElement("div",{className:"wallet-adapter-modal-container"},Yt.createElement("div",{className:"wallet-adapter-modal-wrapper"},Yt.createElement("button",{onClick:a,className:"wallet-adapter-modal-button-close"},Yt.createElement("svg",{width:"14",height:"14"},Yt.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),n.length?Yt.createElement(Yt.Fragment,null,Yt.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),Yt.createElement("ul",{className:"wallet-adapter-modal-list"},n.map(f=>Yt.createElement(Gp,{key:f.adapter.name,handleClick:c=>l(c,f.adapter.name),wallet:f})),i.length?Yt.createElement(SE,{expanded:h,id:"wallet-adapter-modal-collapse"},i.map(f=>Yt.createElement(Gp,{key:f.adapter.name,handleClick:c=>l(c,f.adapter.name),tabIndex:h?0:-1,wallet:f}))):null),i.length?Yt.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:s,tabIndex:0},Yt.createElement("span",null,h?"Less ":"More ","options"),Yt.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${h?"wallet-adapter-modal-list-more-icon-rotate":""}`},Yt.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):Yt.createElement(Yt.Fragment,null,Yt.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),Yt.createElement("div",{className:"wallet-adapter-modal-middle"},Yt.createElement(dN,null)),i.length?Yt.createElement(Yt.Fragment,null,Yt.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:s,tabIndex:0},Yt.createElement("span",null,h?"Hide ":"Already have a wallet? View ","options"),Yt.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${h?"wallet-adapter-modal-list-more-icon-rotate":""}`},Yt.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),Yt.createElement(SE,{expanded:h,id:"wallet-adapter-modal-collapse"},Yt.createElement("ul",{className:"wallet-adapter-modal-list"},i.map(f=>Yt.createElement(Gp,{key:f.adapter.name,handleClick:c=>l(c,f.adapter.name),tabIndex:h?0:-1,wallet:f}))))):null))),Yt.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:a})),v)},pN=({children:A,...g})=>{const[m,T]=ot.useState(!1);return Yt.createElement(FC.Provider,{value:{visible:m,setVisible:T}},A,m&&Yt.createElement(vN,{...g}))},mN={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function gN(A){return Yt.createElement(cN,{...A,labels:mN})}const yN="modulepreload",xN=function(A){return"/"+A},EE={},GC=function(g,m,T){let O=Promise.resolve();if(m&&m.length>0){let t=function(o){return Promise.all(o.map(v=>Promise.resolve(v).then(r=>({status:"fulfilled",value:r}),r=>({status:"rejected",reason:r}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),x=h?.nonce||h?.getAttribute("nonce");O=t(m.map(o=>{if(o=xN(o),o in EE)return;EE[o]=!0;const v=o.endsWith(".css"),r=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const n=document.createElement("link");if(n.rel=v?"stylesheet":yN,v||(n.as="script"),n.crossOrigin="",n.href=o,x&&n.setAttribute("nonce",x),document.head.appendChild(n),v)return new Promise((i,e)=>{n.addEventListener("load",i),n.addEventListener("error",()=>e(new Error(`Unable to preload CSS for ${o}`)))})}))}function L(h){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=h,window.dispatchEvent(x),!x.defaultPrevented)throw h}return O.then(h=>{for(const x of h||[])x.status==="rejected"&&L(x.reason);return g().catch(L)})},TN="Phantom";class SN extends Ig{constructor(g={}){super(),this.name=TN,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Te.Unsupported:Te.NotDetected,this._disconnected=()=>{const m=this._wallet;m&&(m.off("disconnect",this._disconnected),m.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new bg),this.emit("disconnect"))},this._accountChanged=m=>{const T=this._publicKey;if(T){try{m=new Ut(m.toBytes())}catch(O){this.emit("error",new Dl(O?.message,O));return}T.equals(m)||(this._publicKey=m,this.emit("connect",m))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Te.Unsupported&&(cm()?(this._readyState=Te.Loadable,this.emit("readyStateChange",this._readyState)):dC(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=Te.Installed,this.emit("readyStateChange",this._readyState),!0):!1))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Te.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===Te.Loadable){const T=encodeURIComponent(window.location.href),O=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${T}?ref=${O}`;return}if(this.readyState!==Te.Installed)throw new go;this._connecting=!0;const g=window.phantom?.solana||window.solana;if(!g.isConnected)try{await g.connect()}catch(T){throw new yo(T?.message,T)}if(!g.publicKey)throw new no;let m;try{m=new Ut(g.publicKey.toBytes())}catch(T){throw new Dl(T?.message,T)}g.on("disconnect",this._disconnected),g.on("accountChanged",this._accountChanged),this._wallet=g,this._publicKey=m,this.emit("connect",m)}catch(g){throw this.emit("error",g),g}finally{this._connecting=!1}}async disconnect(){const g=this._wallet;if(g){g.off("disconnect",this._disconnected),g.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await g.disconnect()}catch(m){this.emit("error",new Lg(m?.message,m))}}this.emit("disconnect")}async sendTransaction(g,m,T={}){try{const O=this._wallet;if(!O)throw new Pi;try{const{signers:L,...h}=T;Ms(g)?L?.length&&g.sign(L):(g=await this.prepareTransaction(g,m,h),L?.length&&g.partialSign(...L)),h.preflightCommitment=h.preflightCommitment||m.commitment;const{signature:x}=await O.signAndSendTransaction(g,h);return x}catch(L){throw L instanceof qi?L:new Rs(L?.message,L)}}catch(O){throw this.emit("error",O),O}}async signTransaction(g){try{const m=this._wallet;if(!m)throw new Pi;try{return await m.signTransaction(g)||g}catch(T){throw new Er(T?.message,T)}}catch(m){throw this.emit("error",m),m}}async signAllTransactions(g){try{const m=this._wallet;if(!m)throw new Pi;try{return await m.signAllTransactions(g)||g}catch(T){throw new Er(T?.message,T)}}catch(m){throw this.emit("error",m),m}}async signMessage(g){try{const m=this._wallet;if(!m)throw new Pi;try{const{signature:T}=await m.signMessage(g);return T}catch(T){throw new ud(T?.message,T)}}catch(m){throw this.emit("error",m),m}}}const EN="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Xe=function(A,g,m,T){if(m==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?A!==g||!T:!g.has(A))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?T:m==="a"?T.call(A):T?T.value:g.get(A)},wN=function(A,g,m,T,O){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?A!==g||!O:!g.has(A))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?O.call(A,m):O?O.value=m:g.set(A,m),m},Ec,lo,Pm,Nm,Dm,gn,Bm,VC,HC,Fm,Um,zm,Gm,Vm;class AN{constructor(){Ec.add(this),lo.set(this,{}),Pm.set(this,"1.0.0"),Nm.set(this,"MetaMask"),Dm.set(this,EN),gn.set(this,null),Bm.set(this,(g,m)=>(Xe(this,lo,"f")[g]?.push(m)||(Xe(this,lo,"f")[g]=[m]),()=>Xe(this,Ec,"m",HC).call(this,g,m))),Fm.set(this,async()=>{if(!Xe(this,gn,"f")){let g;try{g=(await GC(async()=>{const{default:m}=await import("./index-CwUpnJlk.js");return{default:m}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}wN(this,gn,new g,"f"),Xe(this,gn,"f").on("standard_change",m=>Xe(this,Ec,"m",VC).call(this,"change",m))}return this.accounts.length||await Xe(this,gn,"f").connect(),{accounts:this.accounts}}),Um.set(this,async()=>{Xe(this,gn,"f")&&await Xe(this,gn,"f").disconnect()}),zm.set(this,async(...g)=>{if(!Xe(this,gn,"f"))throw new Pi;return await Xe(this,gn,"f").standardSignAndSendTransaction(...g)}),Gm.set(this,async(...g)=>{if(!Xe(this,gn,"f"))throw new Pi;return await Xe(this,gn,"f").standardSignTransaction(...g)}),Vm.set(this,async(...g)=>{if(!Xe(this,gn,"f"))throw new Pi;return await Xe(this,gn,"f").standardSignMessage(...g)})}get version(){return Xe(this,Pm,"f")}get name(){return Xe(this,Nm,"f")}get icon(){return Xe(this,Dm,"f")}get chains(){return[rh,xC,TC]}get features(){return{[hd]:{version:"1.0.0",connect:Xe(this,Fm,"f")},[Uc]:{version:"1.0.0",disconnect:Xe(this,Um,"f")},[fd]:{version:"1.0.0",on:Xe(this,Bm,"f")},[Sn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Xe(this,zm,"f")},[yi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Xe(this,Gm,"f")},[Es]:{version:"1.0.0",signMessage:Xe(this,Vm,"f")}}}get accounts(){return Xe(this,gn,"f")?Xe(this,gn,"f").standardAccounts:[]}}lo=new WeakMap,Pm=new WeakMap,Nm=new WeakMap,Dm=new WeakMap,gn=new WeakMap,Bm=new WeakMap,Fm=new WeakMap,Um=new WeakMap,zm=new WeakMap,Gm=new WeakMap,Vm=new WeakMap,Ec=new WeakSet,VC=function(g,...m){Xe(this,lo,"f")[g]?.forEach(T=>T.apply(null,m))},HC=function(g,m){Xe(this,lo,"f")[g]=Xe(this,lo,"f")[g]?.filter(T=>m!==T)};let wE=!1;function CN(){wE||(zP(new AN),wE=!0)}async function RN(){const A="solflare-detect-metamask";function g(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:A,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function m(T){const O=T.data;O?.target==="metamask-inpage"&&O.data?.name==="metamask-provider"&&(O.data.data?.id===A?(window.removeEventListener("message",m),O.data.data.error||CN()):g())}window.addEventListener("message",m),window.setTimeout(()=>window.removeEventListener("message",m),5e3),g()}const MN="Solflare";class ON extends Ig{constructor(g={}){super(),this.name=MN,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Te.Unsupported:Te.Loadable,this._disconnected=()=>{const m=this._wallet;m&&(m.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new bg),this.emit("disconnect"))},this._accountChanged=m=>{if(!m)return;const T=this._publicKey;if(T){try{m=new Ut(m.toBytes())}catch(O){this.emit("error",new Dl(O?.message,O));return}T.equals(m)||(this._publicKey=m,this.emit("connect",m))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=g,this._readyState!==Te.Unsupported&&(dC(()=>window.solflare?.isSolflare||window.SolflareApp?(this._readyState=Te.Installed,this.emit("readyStateChange",this._readyState),!0):!1),RN())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async autoConnect(){this.readyState===Te.Loadable&&cm()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Te.Loadable&&this._readyState!==Te.Installed)throw new go;if(this.readyState===Te.Loadable&&cm()){const O=encodeURIComponent(window.location.href),L=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${O}?ref=${L}`;return}let g;try{g=(await GC(async()=>{const{default:O}=await import("./index-DunzjhCI.js");return{default:O}},[])).default}catch(O){throw new X9(O?.message,O)}let m;try{m=new g({network:this._config.network})}catch(O){throw new xl(O?.message,O)}if(this._connecting=!0,!m.connected)try{await m.connect()}catch(O){throw new yo(O?.message,O)}if(!m.publicKey)throw new yo;let T;try{T=new Ut(m.publicKey.toBytes())}catch(O){throw new Dl(O?.message,O)}m.on("disconnect",this._disconnected),m.on("accountChanged",this._accountChanged),this._wallet=m,this._publicKey=T,this.emit("connect",T)}catch(g){throw this.emit("error",g),g}finally{this._connecting=!1}}async disconnect(){const g=this._wallet;if(g){g.off("disconnect",this._disconnected),g.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await g.disconnect()}catch(m){this.emit("error",new Lg(m?.message,m))}}this.emit("disconnect")}async sendTransaction(g,m,T={}){try{const O=this._wallet;if(!O)throw new Pi;try{const{signers:L,...h}=T;return Ms(g)?L?.length&&g.sign(L):(g=await this.prepareTransaction(g,m,h),L?.length&&g.partialSign(...L)),h.preflightCommitment=h.preflightCommitment||m.commitment,await O.signAndSendTransaction(g,h)}catch(L){throw L instanceof qi?L:new Rs(L?.message,L)}}catch(O){throw this.emit("error",O),O}}async signTransaction(g){try{const m=this._wallet;if(!m)throw new Pi;try{return await m.signTransaction(g)||g}catch(T){throw new Er(T?.message,T)}}catch(m){throw this.emit("error",m),m}}async signAllTransactions(g){try{const m=this._wallet;if(!m)throw new Pi;try{return await m.signAllTransactions(g)||g}catch(T){throw new Er(T?.message,T)}}catch(m){throw this.emit("error",m),m}}async signMessage(g){try{const m=this._wallet;if(!m)throw new Pi;try{return await m.signMessage(g,"utf8")}catch(T){throw new ud(T?.message,T)}}catch(m){throw this.emit("error",m),m}}}function bN(){const{connected:A}=yh(),{setVisible:g}=vd();return bt.jsxs("div",{className:"landing-page",children:[bt.jsx("div",{className:"landing-aura"}),bt.jsx("div",{className:"landing-stars"}),bt.jsx("div",{className:"landing-particles"}),bt.jsx("div",{className:"landing-vignette"}),bt.jsx("div",{className:"landing-orbit landing-orbit-one"}),bt.jsx("div",{className:"landing-orbit landing-orbit-two"}),bt.jsxs("div",{className:"landing-content",children:[bt.jsxs("h1",{className:"landing-title","aria-label":"Rhythmforge",children:[bt.jsx("span",{children:"Rhythmforge"}),bt.jsx("span",{"aria-hidden":"true",children:"Rhythmforge"}),bt.jsx("span",{"aria-hidden":"true",children:"Rhythmforge"})]}),bt.jsx("p",{className:"landing-subtitle",children:"Sovereign by Circuit on Solana"}),bt.jsx(gN,{className:"landing-wallet-button",style:{padding:"20px 60px",fontSize:"1.8rem"}}),A&&bt.jsxs(bt.Fragment,{children:[bt.jsx("button",{type:"button",className:"landing-change-wallet-link",onClick:()=>g(!0),children:"Change wallet"}),bt.jsx(Zc,{to:"/songs",className:"landing-enter-link",children:"Enter Realm "})]})]})]})}const AE="rhythmforge_song_difficulty",CE="rhythmforge_distortion_level";function LN(){const{connected:A}=yh(),{setVisible:g}=vd(),[m,T]=ot.useState("medium"),[O,L]=ot.useState("high"),h=[{id:"1",name:"Nebula Sprint",icon:"",audioUrl:"/audio/nebula-sprint.mp3"},{id:"2",name:"Phantom Pulse",icon:"",audioUrl:"/audio/phantom-pulse.mp3"},{id:"3",name:"Solflare Sync",icon:"",audioUrl:"/audio/solflare-sync.mp3"}],x=()=>{window.alert("Import Track coming soon  upload and mint flow will live here.")},t=()=>{window.alert("Full Library coming soon  community and Circuit catalog will live here.")};return ot.useEffect(()=>{const o=localStorage.getItem(AE);(o==="easy"||o==="medium"||o==="hard")&&T(o)},[]),ot.useEffect(()=>{localStorage.setItem(AE,m)},[m]),ot.useEffect(()=>{const o=localStorage.getItem(CE);if(o==="low"||o==="high"){L(o),document.documentElement.setAttribute("data-distortion",o);return}document.documentElement.setAttribute("data-distortion","high")},[]),ot.useEffect(()=>{localStorage.setItem(CE,O),document.documentElement.setAttribute("data-distortion",O)},[O]),bt.jsxs("div",{className:"song-menu-page",children:[bt.jsx("div",{className:"song-menu-aura"}),bt.jsx("div",{className:"song-menu-stars"}),bt.jsx("div",{className:"song-menu-vignette"}),bt.jsxs("div",{className:"song-menu-content",children:[bt.jsxs("h1",{className:"song-menu-title","aria-label":"Your Circuit Tracks",children:[bt.jsx("span",{children:"Your Circuit Tracks"}),bt.jsx("span",{"aria-hidden":"true",children:"Your Circuit Tracks"})]}),bt.jsxs("div",{className:"song-menu-actions",children:[A&&bt.jsx("button",{type:"button",className:"song-menu-action-button song-menu-action-button-wallet",onClick:()=>g(!0),children:"Change wallet"}),bt.jsx("button",{type:"button",className:"song-menu-action-button",onClick:x,children:"Import Track"}),bt.jsx("button",{type:"button",className:"song-menu-action-button",onClick:t,children:"Full Library"})]}),bt.jsxs("div",{className:"song-menu-difficulty",role:"group","aria-label":"Select difficulty",children:[bt.jsx("span",{className:"song-menu-difficulty-label",children:"Difficulty"}),bt.jsx("div",{className:"song-menu-difficulty-buttons",children:["easy","medium","hard"].map(o=>bt.jsx("button",{type:"button",className:`song-menu-difficulty-button ${m===o?"is-active":""}`,onClick:()=>T(o),children:o},o))})]}),bt.jsxs("div",{className:"song-menu-difficulty",role:"group","aria-label":"Select distortion level",children:[bt.jsx("span",{className:"song-menu-difficulty-label",children:"Distortion"}),bt.jsx("div",{className:"song-menu-difficulty-buttons",children:["low","high"].map(o=>bt.jsx("button",{type:"button",className:`song-menu-difficulty-button ${O===o?"is-active":""}`,onClick:()=>L(o),children:o},o))})]}),bt.jsx("div",{className:"song-menu-grid",children:h.map(o=>bt.jsx(Zc,{to:"/play",state:{songId:o.id,songName:o.name,songAudioUrl:o.audioUrl,difficulty:m},className:"song-menu-link",children:bt.jsxs("div",{className:"song-menu-card",children:[bt.jsx("div",{className:"song-menu-icon","aria-hidden":"true",children:o.icon}),bt.jsx("h3",{className:"song-menu-name",children:o.name}),bt.jsx("p",{className:"song-menu-hint",children:"Tap to play"})]})},o.id))})]})]})}var wc={exports:{}},IN=wc.exports,RE;function PN(){return RE||(RE=1,(function(A,g){(function(T,O){A.exports=O()})(IN,()=>(()=>{var m={50792:(h=>{var x=Object.prototype.hasOwnProperty,t="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(t=!1));function v(e,a,l){this.fn=e,this.context=a,this.once=l||!1}function r(e,a,l,s,u){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new v(l,s||e,u),c=t?t+a:a;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],f]:e._events[c].push(f):(e._events[c]=f,e._eventsCount++),e}function n(e,a){--e._eventsCount===0?e._events=new o:delete e._events[a]}function i(){this._events=new o,this._eventsCount=0}i.prototype.eventNames=function(){var a=[],l,s;if(this._eventsCount===0)return a;for(s in l=this._events)x.call(l,s)&&a.push(t?s.slice(1):s);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(l)):a},i.prototype.listeners=function(a){var l=t?t+a:a,s=this._events[l];if(!s)return[];if(s.fn)return[s.fn];for(var u=0,f=s.length,c=new Array(f);u<f;u++)c[u]=s[u].fn;return c},i.prototype.listenerCount=function(a){var l=t?t+a:a,s=this._events[l];return s?s.fn?1:s.length:0},i.prototype.emit=function(a,l,s,u,f,c){var d=t?t+a:a;if(!this._events[d])return!1;var p=this._events[d],S=arguments.length,C,E;if(p.fn){switch(p.once&&this.removeListener(a,p.fn,void 0,!0),S){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,l),!0;case 3:return p.fn.call(p.context,l,s),!0;case 4:return p.fn.call(p.context,l,s,u),!0;case 5:return p.fn.call(p.context,l,s,u,f),!0;case 6:return p.fn.call(p.context,l,s,u,f,c),!0}for(E=1,C=new Array(S-1);E<S;E++)C[E-1]=arguments[E];p.fn.apply(p.context,C)}else{var R=p.length,M;for(E=0;E<R;E++)switch(p[E].once&&this.removeListener(a,p[E].fn,void 0,!0),S){case 1:p[E].fn.call(p[E].context);break;case 2:p[E].fn.call(p[E].context,l);break;case 3:p[E].fn.call(p[E].context,l,s);break;case 4:p[E].fn.call(p[E].context,l,s,u);break;default:if(!C)for(M=1,C=new Array(S-1);M<S;M++)C[M-1]=arguments[M];p[E].fn.apply(p[E].context,C)}}return!0},i.prototype.on=function(a,l,s){return r(this,a,l,s,!1)},i.prototype.once=function(a,l,s){return r(this,a,l,s,!0)},i.prototype.removeListener=function(a,l,s,u){var f=t?t+a:a;if(!this._events[f])return this;if(!l)return n(this,f),this;var c=this._events[f];if(c.fn)c.fn===l&&(!u||c.once)&&(!s||c.context===s)&&n(this,f);else{for(var d=0,p=[],S=c.length;d<S;d++)(c[d].fn!==l||u&&!c[d].once||s&&c[d].context!==s)&&p.push(c[d]);p.length?this._events[f]=p.length===1?p[0]:p:n(this,f)}return this},i.prototype.removeAllListeners=function(a){var l;return a?(l=t?t+a:a,this._events[l]&&n(this,l)):(this._events=new o,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,h.exports=i}),11517:((h,x,t)=>{var o=t(38829),v=function(r,n,i,e){for(var a=r[0],l=1;l<r.length;l++){var s=r[l];o(s,a,n,i,e),a=s}return r};h.exports=v}),80318:((h,x,t)=>{var o=t(66979),v=function(r,n,i,e,a){return o(r,"angle",n,i,e,a)};h.exports=v}),60757:(h=>{var x=function(t,o,v){for(var r=0;r<t.length;r++){var n=t[r];o.call(v,n)}return t};h.exports=x}),69927:(h=>{var x=function(t,o,v){v===void 0&&(v=0);for(var r=v;r<t.length;r++){var n=t[r],i=!0;for(var e in o)n[e]!==o[e]&&(i=!1);if(i)return n}return null};h.exports=x}),32265:(h=>{var x=function(t,o,v){v===void 0&&(v=0);for(var r=t.length-1;r>=v;r--){var n=t[r],i=!0;for(var e in o)n[e]!==o[e]&&(i=!1);if(i)return n}return null};h.exports=x}),94420:((h,x,t)=>{var o=t(11879),v=t(60461),r=t(95540),n=t(29747),i=t(41481),e=new i({sys:{queueDepthSort:n,events:{once:n}}},0,0,1,1).setOrigin(0,0),a=function(l,s){s===void 0&&(s={});var u=s.hasOwnProperty("width"),f=s.hasOwnProperty("height"),c=r(s,"width",-1),d=r(s,"height",-1),p=r(s,"cellWidth",1),S=r(s,"cellHeight",p),C=r(s,"position",v.TOP_LEFT),E=r(s,"x",0),R=r(s,"y",0),M=0,D=0,B=c*p,b=d*S;e.setPosition(E,R),e.setSize(p,S);for(var I=0;I<l.length;I++)if(o(l[I],e,C),u&&c===-1)e.x+=p;else if(f&&d===-1)e.y+=S;else if(f&&!u){if(D+=S,e.y+=S,D===b&&(D=0,M+=p,e.y=R,e.x+=p,M===B))break}else if(M+=p,e.x+=p,M===B&&(M=0,D+=S,e.x=E,e.y+=S,D===b))break;return l};h.exports=a}),41721:((h,x,t)=>{var o=t(66979),v=function(r,n,i,e,a){return o(r,"alpha",n,i,e,a)};h.exports=v}),67285:((h,x,t)=>{var o=t(66979),v=function(r,n,i,e,a){return o(r,"x",n,i,e,a)};h.exports=v}),9074:((h,x,t)=>{var o=t(66979),v=function(r,n,i,e,a,l,s){return i==null&&(i=n),o(r,"x",n,e,l,s),o(r,"y",i,a,l,s)};h.exports=v}),75222:((h,x,t)=>{var o=t(66979),v=function(r,n,i,e,a){return o(r,"y",n,i,e,a)};h.exports=v}),22983:(h=>{var x=function(t,o,v,r){v===void 0&&(v=0),r===void 0&&(r=6.28);for(var n=v,i=(r-v)/t.length,e=o.x,a=o.y,l=o.radius,s=0;s<t.length;s++)t[s].x=e+l*Math.cos(n),t[s].y=a+l*Math.sin(n),n+=i;return t};h.exports=x}),95253:(h=>{var x=function(t,o,v,r){v===void 0&&(v=0),r===void 0&&(r=6.28);for(var n=v,i=(r-v)/t.length,e=o.width/2,a=o.height/2,l=0;l<t.length;l++)t[l].x=o.x+e*Math.cos(n),t[l].y=o.y+a*Math.sin(n),n+=i;return t};h.exports=x}),88505:((h,x,t)=>{var o=t(15258),v=t(26708),r=function(n,i,e){var a;e?a=v(i,e,n.length):a=o(i,n.length);for(var l=0;l<n.length;l++){var s=n[l],u=a[l];s.x=u.x,s.y=u.y}return n};h.exports=r}),41346:((h,x,t)=>{var o=t(14649),v=t(86003),r=t(49498),n=function(i,e,a){a===void 0&&(a=0);var l=o(e,!1,i.length);a>0?v(l,a):a<0&&r(l,Math.abs(a));for(var s=0;s<i.length;s++)i[s].x=l[s].x,i[s].y=l[s].y;return i};h.exports=n}),11575:((h,x,t)=>{var o=t(84993),v=function(r,n,i){var e=o({x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},i),a=o({x1:n.x2,y1:n.y2,x2:n.x3,y2:n.y3},i),l=o({x1:n.x3,y1:n.y3,x2:n.x1,y2:n.y1},i);e.pop(),a.pop(),l.pop(),e=e.concat(a,l);for(var s=e.length/r.length,u=0,f=0;f<r.length;f++){var c=r[f],d=e[Math.floor(u)];c.x=d.x,c.y=d.y,u+=s}return r};h.exports=v}),29953:(h=>{var x=function(t,o,v){for(var r=0;r<t.length;r++){var n=t[r];n.anims&&n.anims.play(o,v)}return t};h.exports=x}),66979:(h=>{var x=function(t,o,v,r,n,i){r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1);var e,a=0,l=t.length;if(i===1)for(e=n;e<l;e++)t[e][o]+=v+a*r,a++;else for(e=n;e>=0;e--)t[e][o]+=v+a*r,a++;return t};h.exports=x}),43967:(h=>{var x=function(t,o,v,r,n,i){r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1);var e,a=0,l=t.length;if(i===1)for(e=n;e<l;e++)t[e][o]=v+a*r,a++;else for(e=n;e>=0;e--)t[e][o]=v+a*r,a++;return t};h.exports=x}),88926:((h,x,t)=>{var o=t(28176),v=function(r,n){for(var i=0;i<r.length;i++)o(n,r[i]);return r};h.exports=v}),33286:((h,x,t)=>{var o=t(24820),v=function(r,n){for(var i=0;i<r.length;i++)o(n,r[i]);return r};h.exports=v}),96e3:((h,x,t)=>{var o=t(65822),v=function(r,n){for(var i=0;i<r.length;i++)o(n,r[i]);return r};h.exports=v}),28789:((h,x,t)=>{var o=t(26597),v=function(r,n){for(var i=0;i<r.length;i++)o(n,r[i]);return r};h.exports=v}),97154:((h,x,t)=>{var o=t(90260),v=function(r,n){for(var i=0;i<r.length;i++)o(n,r[i]);return r};h.exports=v}),20510:((h,x,t)=>{var o=t(66979),v=function(r,n,i,e,a){return o(r,"rotation",n,i,e,a)};h.exports=v}),91051:((h,x,t)=>{var o=t(1163),v=t(20339),r=function(n,i,e){for(var a=i.x,l=i.y,s=0;s<n.length;s++){var u=n[s];o(u,a,l,e,Math.max(1,v(u.x,u.y,a,l)))}return n};h.exports=r}),76332:((h,x,t)=>{var o=t(1163),v=function(r,n,i,e){var a=n.x,l=n.y;if(e===0)return r;for(var s=0;s<r.length;s++)o(r[s],a,l,i,e);return r};h.exports=v}),61619:((h,x,t)=>{var o=t(66979),v=function(r,n,i,e,a){return o(r,"scaleX",n,i,e,a)};h.exports=v}),94868:((h,x,t)=>{var o=t(66979),v=function(r,n,i,e,a,l,s){return i==null&&(i=n),o(r,"scaleX",n,e,l,s),o(r,"scaleY",i,a,l,s)};h.exports=v}),95532:((h,x,t)=>{var o=t(66979),v=function(r,n,i,e,a){return o(r,"scaleY",n,i,e,a)};h.exports=v}),8689:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a){return o(r,"alpha",n,i,e,a)};h.exports=v}),2645:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e){return o(r,"blendMode",n,0,i,e)};h.exports=v}),32372:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a){return o(r,"depth",n,i,e,a)};h.exports=v}),85373:(h=>{var x=function(t,o,v){for(var r=0;r<t.length;r++)t[r].setInteractive(o,v);return t};h.exports=x}),81583:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a,l,s){return i==null&&(i=n),o(r,"originX",n,e,l,s),o(r,"originY",i,a,l,s),r.forEach(function(u){u.updateDisplayOrigin()}),r};h.exports=v}),79939:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a){return o(r,"rotation",n,i,e,a)};h.exports=v}),2699:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a,l,s){return i==null&&(i=n),o(r,"scaleX",n,e,l,s),o(r,"scaleY",i,a,l,s)};h.exports=v}),98739:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a){return o(r,"scaleX",n,i,e,a)};h.exports=v}),98476:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a){return o(r,"scaleY",n,i,e,a)};h.exports=v}),6207:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a,l,s){return i==null&&(i=n),o(r,"scrollFactorX",n,e,l,s),o(r,"scrollFactorY",i,a,l,s)};h.exports=v}),6607:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a){return o(r,"scrollFactorX",n,i,e,a)};h.exports=v}),72248:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a){return o(r,"scrollFactorY",n,i,e,a)};h.exports=v}),14036:(h=>{var x=function(t,o,v,r,n){for(var i=0;i<t.length;i++)t[i].setTint(o,v,r,n);return t};h.exports=x}),50159:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e){return o(r,"visible",n,0,i,e)};h.exports=v}),77597:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a){return o(r,"x",n,i,e,a)};h.exports=v}),83194:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a,l,s){return i==null&&(i=n),o(r,"x",n,e,l,s),o(r,"y",i,a,l,s)};h.exports=v}),67678:((h,x,t)=>{var o=t(43967),v=function(r,n,i,e,a){return o(r,"y",n,i,e,a)};h.exports=v}),35850:((h,x,t)=>{var o=t(26099),v=function(r,n,i,e,a){e===void 0&&(e=0),a===void 0&&(a=new o);var l,s,u=r.length;if(u===1)l=r[0].x,s=r[0].y,r[0].x=n,r[0].y=i;else{var f=1,c=0;e===0&&(c=u-1,f=u-2),l=r[c].x,s=r[c].y,r[c].x=n,r[c].y=i;for(var d=0;d<u;d++)if(!(f>=u||f===-1)){var p=r[f],S=p.x,C=p.y;p.x=l,p.y=s,l=S,s=C,e===0?f--:f++}}return a.x=l,a.y=s,a};h.exports=v}),8628:((h,x,t)=>{var o=t(33680),v=function(r){return o(r)};h.exports=v}),21837:((h,x,t)=>{var o=t(7602),v=function(r,n,i,e,a){a===void 0&&(a=!1);var l=Math.abs(e-i)/r.length,s;if(a)for(s=0;s<r.length;s++)r[s][n]+=o(s*l,i,e);else for(s=0;s<r.length;s++)r[s][n]=o(s*l,i,e);return r};h.exports=v}),21910:((h,x,t)=>{var o=t(54261),v=function(r,n,i,e,a){a===void 0&&(a=!1);var l=Math.abs(e-i)/r.length,s;if(a)for(s=0;s<r.length;s++)r[s][n]+=o(s*l,i,e);else for(s=0;s<r.length;s++)r[s][n]=o(s*l,i,e);return r};h.exports=v}),62054:(h=>{var x=function(t,o,v,r,n){if(n===void 0&&(n=!1),t.length===0)return t;if(t.length===1)return n?t[0][o]+=(r+v)/2:t[0][o]=(r+v)/2,t;var i=Math.abs(r-v)/(t.length-1),e;if(n)for(e=0;e<t.length;e++)t[e][o]+=e*i+v;else for(e=0;e<t.length;e++)t[e][o]=e*i+v;return t};h.exports=x}),79815:(h=>{var x=function(t){for(var o=0;o<t.length;o++)t[o].visible=!t[o].visible;return t};h.exports=x}),39665:((h,x,t)=>{var o=t(15994),v=function(r,n,i){i===void 0&&(i=0);for(var e=0;e<r.length;e++){var a=r[e];a.x=o(a.x,n.left-i,n.right+i),a.y=o(a.y,n.top-i,n.bottom+i)}return r};h.exports=v}),61061:((h,x,t)=>{h.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}}),42099:((h,x,t)=>{var o=t(45319),v=t(83419),r=t(74943),n=t(81957),i=t(41138),e=t(35154),a=t(90126),l=new v({initialize:function(u,f,c){this.manager=u,this.key=f,this.type="frame",this.frames=this.getFrames(u.textureManager,e(c,"frames",[]),e(c,"defaultTextureKey",null),e(c,"sortFrames",!0)),this.frameRate=e(c,"frameRate",null),this.duration=e(c,"duration",null),this.msPerFrame,this.skipMissedFrames=e(c,"skipMissedFrames",!0),this.delay=e(c,"delay",0),this.repeat=e(c,"repeat",0),this.repeatDelay=e(c,"repeatDelay",0),this.yoyo=e(c,"yoyo",!1),this.showBeforeDelay=e(c,"showBeforeDelay",!1),this.showOnStart=e(c,"showOnStart",!1),this.hideOnComplete=e(c,"hideOnComplete",!1),this.randomFrame=e(c,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(r.PAUSE_ALL,this.pause,this),this.manager.on(r.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(s,u,f,c){f===null&&c===null?(s.frameRate=24,s.duration=24/u*1e3):f&&c===null?(s.duration=f,s.frameRate=u/(f/1e3)):(s.frameRate=c,s.duration=u/c*1e3),s.msPerFrame=1e3/s.frameRate},addFrame:function(s){return this.addFrameAt(this.frames.length,s)},addFrameAt:function(s,u){var f=this.getFrames(this.manager.textureManager,u);if(f.length>0){if(s===0)this.frames=f.concat(this.frames);else if(s===this.frames.length)this.frames=this.frames.concat(f);else{var c=this.frames.slice(0,s),d=this.frames.slice(s);this.frames=c.concat(f,d)}this.updateFrameSequence()}return this},checkFrame:function(s){return s>=0&&s<this.frames.length},getFirstTick:function(s){s.accumulator=0,s.nextTick=s.frameRate===s.currentAnim.frameRate&&s.currentFrame.duration||s.msPerFrame},getFrameAt:function(s){return this.frames[s]},getFrames:function(s,u,f,c){c===void 0&&(c=!0);var d=[],p,S,C=1,E,R;if(typeof u=="string"){if(R=u,!s.exists(R))return console.warn('Texture "%s" not found',R),d;var M=s.get(R),D=M.getFrameNames();c&&a(D),u=[],D.forEach(function(H){u.push({key:R,frame:H})})}if(!Array.isArray(u)||u.length===0)return d;for(E=0;E<u.length;E++){var B=u[E],b=e(B,"key",f);if(b){var I=e(B,"frame",0),N=s.getFrame(b,I);if(!N){console.warn('Texture "%s" not found',b);continue}S=new i(b,I,C,N),S.duration=e(B,"duration",0),S.isFirst=!p,p&&(p.nextFrame=S,S.prevFrame=p),d.push(S),p=S,C++}}if(d.length>0){S.isLast=!0,S.nextFrame=d[0],d[0].prevFrame=S;var z=1/(d.length-1);for(E=0;E<d.length;E++)d[E].progress=E*z}return d},getNextTick:function(s){s.accumulator-=s.nextTick,s.nextTick=s.frameRate===s.currentAnim.frameRate&&s.currentFrame.duration||s.msPerFrame},getFrameByProgress:function(s){return s=o(s,0,1),n(s,this.frames,"progress")},nextFrame:function(s){var u=s.currentFrame;u.isLast?s.yoyo?this.handleYoyoFrame(s,!1):s.repeatCounter>0?s.inReverse&&s.forward?s.forward=!1:this.repeatAnimation(s):s.complete():this.updateAndGetNextTick(s,u.nextFrame)},handleYoyoFrame:function(s,u){if(u||(u=!1),s.inReverse===!u&&s.repeatCounter>0){(s.repeatDelay===0||s.pendingRepeat)&&(s.forward=u),this.repeatAnimation(s);return}if(s.inReverse!==u&&s.repeatCounter===0){s.complete();return}s.forward=u;var f=u?s.currentFrame.nextFrame:s.currentFrame.prevFrame;this.updateAndGetNextTick(s,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(s){var u=s.currentFrame;u.isFirst?s.yoyo?this.handleYoyoFrame(s,!0):s.repeatCounter>0?s.inReverse&&!s.forward?this.repeatAnimation(s):(s.forward=!0,this.repeatAnimation(s)):s.complete():this.updateAndGetNextTick(s,u.prevFrame)},updateAndGetNextTick:function(s,u){s.setCurrentFrame(u),this.getNextTick(s)},removeFrame:function(s){var u=this.frames.indexOf(s);return u!==-1&&this.removeFrameAt(u),this},removeFrameAt:function(s){return this.frames.splice(s,1),this.updateFrameSequence(),this},repeatAnimation:function(s){if(s._pendingStop===2){if(s._pendingStopValue===0)return s.stop();s._pendingStopValue--}s.repeatDelay>0&&!s.pendingRepeat?(s.pendingRepeat=!0,s.accumulator-=s.nextTick,s.nextTick+=s.repeatDelay):(s.repeatCounter--,s.forward?s.setCurrentFrame(s.currentFrame.nextFrame):s.setCurrentFrame(s.currentFrame.prevFrame),s.isPlaying&&(this.getNextTick(s),s.handleRepeat()))},toJSON:function(){var s={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(u){s.frames.push(u.toJSON())}),s},updateFrameSequence:function(){for(var s=this.frames.length,u=1/(s-1),f,c=0;c<s;c++)f=this.frames[c],f.index=c+1,f.isFirst=!1,f.isLast=!1,f.progress=c*u,c===0?(f.isFirst=!0,s===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[s-1],f.nextFrame=this.frames[c+1])):c===s-1&&s>1?(f.isLast=!0,f.prevFrame=this.frames[s-2],f.nextFrame=this.frames[0]):s>1&&(f.prevFrame=this.frames[c-1],f.nextFrame=this.frames[c+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(r.PAUSE_ALL,this.pause,this),this.manager.off(r.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var s=0;s<this.frames.length;s++)this.frames[s].destroy();this.frames=[],this.manager=null}});h.exports=l}),41138:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e,a,l){l===void 0&&(l=!1),this.textureKey=n,this.textureFrame=i,this.index=e,this.frame=a,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});h.exports=v}),60848:((h,x,t)=>{var o=t(42099),v=t(83419),r=t(90330),n=t(50792),i=t(74943),e=t(8443),a=t(95540),l=t(35154),s=t(36383),u=t(20283),f=t(41836),c=new v({Extends:n,initialize:function(p){n.call(this),this.game=p,this.textureManager=null,this.globalTimeScale=1,this.anims=new r,this.mixes=new r,this.paused=!1,this.name="AnimationManager",p.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,p,S){var C=this.anims,E=this.mixes,R=typeof d=="string"?d:d.key,M=typeof p=="string"?p:p.key;if(C.has(R)&&C.has(M)){var D=E.get(R);D||(D={}),D[M]=S,E.set(R,D)}return this},removeMix:function(d,p){var S=this.mixes,C=typeof d=="string"?d:d.key,E=S.get(C);if(E)if(p){var R=typeof p=="string"?p:p.key;E.hasOwnProperty(R)&&delete E[R]}else p||S.delete(C);return this},getMix:function(d,p){var S=this.mixes,C=typeof d=="string"?d:d.key,E=typeof p=="string"?p:p.key,R=S.get(C);return R&&R.hasOwnProperty(E)?R[E]:0},add:function(d,p){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(p.key=d,this.anims.set(d,p),this.emit(i.ADD_ANIMATION,d,p),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,p,S){var C=[],E=this.game.cache.json.get(d);if(!E)return console.warn("No Aseprite data found for: "+d),C;var R=this,M=l(E,"meta",null),D=l(E,"frames",null);if(M&&D){var B=l(M,"frameTags",[]);B.forEach(function(b){var I=[],N=a(b,"name",null),z=a(b,"from",0),H=a(b,"to",0),X=a(b,"direction","forward");if(N&&(!p||p&&p.indexOf(N)>-1)){for(var W=0,V=z;V<=H;V++){var U=V.toString(),F=D[U];if(F){var k=a(F,"duration",s.MAX_SAFE_INTEGER);I.push({key:d,frame:U,duration:k}),W+=k}}X==="reverse"&&(I=I.reverse());var Y={key:N,frames:I,duration:W,yoyo:X==="pingpong"},Z;S?S.anims&&(Z=S.anims.create(Y)):Z=R.create(Y),Z&&C.push(Z)}})}return C},create:function(d){var p=d.key,S=!1;return p&&(S=this.get(p),S?console.warn("AnimationManager key already exists: "+p):(S=new o(this,p,d),this.anims.set(p,S),this.emit(i.ADD_ANIMATION,p,S))),S},fromJSON:function(d,p){p===void 0&&(p=!1),p&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var S=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var C=0;C<d.anims.length;C++)S.push(this.create(d.anims[C]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&S.push(this.create(d));return S},generateFrameNames:function(d,p){var S=l(p,"prefix",""),C=l(p,"start",0),E=l(p,"end",0),R=l(p,"suffix",""),M=l(p,"zeroPad",0),D=l(p,"outputArray",[]),B=l(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),D;var b=this.textureManager.get(d);if(!b)return D;var I;if(p)for(B||(B=u(C,E)),I=0;I<B.length;I++){var N=S+f(B[I],M,"0",1)+R;b.has(N)?D.push({key:d,frame:N}):console.warn('Frame "%s" not found in texture "%s"',N,d)}else for(B=b.getFrameNames(),I=0;I<B.length;I++)D.push({key:d,frame:B[I]});return D},generateFrameNumbers:function(d,p){var S=l(p,"start",0),C=l(p,"end",-1),E=l(p,"first",!1),R=l(p,"outputArray",[]),M=l(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),R;var D=this.textureManager.get(d);if(!D)return R;E&&D.has(E)&&R.push({key:d,frame:E}),M||(C===-1&&(C=D.frameTotal-2),M=u(S,C));for(var B=0;B<M.length;B++){var b=M[B];D.has(b)?R.push({key:d,frame:b}):console.warn('Frame "%s" not found in texture "%s"',b,d)}return R},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var p=this.textureManager.get(d),S=p.key,C=this.anims.getArray(),E=[],R=0;R<C.length;R++)for(var M=C[R],D=M.frames,B=0;B<D.length;B++)if(D[B].textureKey===S){E.push(M.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(i.PAUSE_ALL)),this},play:function(d,p){Array.isArray(p)||(p=[p]);for(var S=0;S<p.length;S++)p[S].anims.play(d);return this},staggerPlay:function(d,p,S,C){S===void 0&&(S=0),C===void 0&&(C=!0),Array.isArray(p)||(p=[p]);var E=p.length;C||E--;for(var R=0;R<p.length;R++){var M=S<0?Math.abs(S)*(E-R):S*R;p[R].anims.playAfterDelay(d,M)}return this},remove:function(d){var p=this.get(d);return p&&(this.emit(i.REMOVE_ANIMATION,d,p),this.anims.delete(d),this.removeMix(d)),p},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(i.RESUME_ALL)),this},toJSON:function(d){var p={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?p.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(S,C){p.anims.push(C.toJSON())}),p},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});h.exports=c}),9674:((h,x,t)=>{var o=t(42099),v=t(30976),r=t(83419),n=t(90330),i=t(74943),e=t(95540),a=new r({initialize:function(s){this.parent=s,this.animationManager=s.scene.sys.anims,this.animationManager.on(i.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var s=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,s;Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var f=l[u];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var s=this.animationManager,u=typeof l=="string"?l:e(l,"key",null),f=this.exists(u)?this.get(u):s.get(u);if(!f)console.warn("Missing animation: "+u);else{this.currentAnim=f;var c=f.getTotalFrames(),d=e(l,"frameRate",f.frameRate),p=e(l,"duration",f.duration);f.calculateDuration(this,c,p,d),this.delay=e(l,"delay",f.delay),this.repeat=e(l,"repeat",f.repeat),this.repeatDelay=e(l,"repeatDelay",f.repeatDelay),this.yoyo=e(l,"yoyo",f.yoyo),this.showBeforeDelay=e(l,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=e(l,"showOnStart",f.showOnStart),this.hideOnComplete=e(l,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=e(l,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=e(l,"randomFrame",f.randomFrame),this.timeScale=e(l,"timeScale",this.timeScale);var S=e(l,"startFrame",0);S>c&&(S=0),this.randomFrame&&(S=v(0,c-1));var C=f.frames[S];S===0&&!this.forward&&(C=f.getLastFrame()),this.currentFrame=C}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,s){if(!this.isPlaying)this.delayCounter=s,this.play(l,!0);else{var u=this.nextAnim,f=this.nextAnimsQueue;u&&f.unshift(u),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=s}return this.parent},playAfterRepeat:function(l,s){if(s===void 0&&(s=1),!this.isPlaying)this.play(l);else{var u=this.nextAnim,f=this.nextAnimsQueue;u&&f.unshift(u),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=s}return this.parent},play:function(l,s){s===void 0&&(s=!1);var u=this.currentAnim,f=this.parent,c=typeof l=="string"?l:l.key;if(s&&this.isPlaying&&u.key===c)return f;if(u&&this.isPlaying){var d=this.animationManager.getMix(u.key,l);if(d>0)return this.playAfterDelay(l,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,s){s===void 0&&(s=!1);var u=typeof l=="string"?l:l.key;return s&&this.isPlaying&&this.currentAnim.key===u?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var s=this.currentAnim,u=this.parent;return s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,s.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),u},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(i.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(i.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(i.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(i.ANIMATION_COMPLETE,i.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,s){var u=this.currentAnim;if(u){var f=this.currentFrame,c=this.parent,d=f.textureFrame;c.emit(l,u,f,c,d),s&&c.emit(s+u.key,u,f,c,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var s=l.progress;return this.inReverse&&(s*=-1),s},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,s){s===void 0&&(s=this.currentAnim),this.isPlaying&&s.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,s){l===void 0&&(l=!1),s===void 0&&(s=!1);var u=this.currentAnim,f=this.parent;return u?(s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),u.getFirstTick(this),this.emitEvents(i.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(u.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,s){var u=this.currentAnim;if(!(!this.isPlaying||!u||u.paused)){if(this.accumulator+=s*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=s,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?u.nextFrame(this):u.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?u.nextFrame(this):u.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(l){var s=this.parent;return this.currentFrame=l,s.texture=l.frame.texture,s.frame=l.frame,s.isCropped&&s.frame.updateCropUVs(s._crop,s.flipX,s.flipY),l.setAlpha&&(s.alpha=l.alpha),s.setSizeToFrame(),s._originComponent&&(l.frame.customPivot?s.setOrigin(l.frame.pivotX,l.frame.pivotY):s.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(i.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),s},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var s=l.key,u=!1;return s&&(u=this.get(s),u?console.warn("Animation key already exists: "+s):(u=new o(this,s,l),this.anims||(this.anims=new n),this.anims.set(s,u))),u},createFromAseprite:function(l,s){return this.animationManager.createFromAseprite(l,s,this.parent)},generateFrameNames:function(l,s){return this.animationManager.generateFrameNames(l,s)},generateFrameNumbers:function(l,s){return this.animationManager.generateFrameNumbers(l,s)},remove:function(l){var s=this.get(l);return s&&(this.currentAnim===s&&this.stop(),this.anims.delete(l)),s},destroy:function(){this.animationManager.off(i.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});h.exports=a}),57090:(h=>{h.exports="add"}),25312:(h=>{h.exports="animationcomplete"}),89580:(h=>{h.exports="animationcomplete-"}),52860:(h=>{h.exports="animationrepeat"}),63850:(h=>{h.exports="animationrestart"}),99085:(h=>{h.exports="animationstart"}),28087:(h=>{h.exports="animationstop"}),1794:(h=>{h.exports="animationupdate"}),52562:(h=>{h.exports="pauseall"}),57953:(h=>{h.exports="remove"}),68339:(h=>{h.exports="resumeall"}),74943:((h,x,t)=>{h.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}}),60421:((h,x,t)=>{h.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}}),2161:((h,x,t)=>{var o=t(83419),v=t(90330),r=t(50792),n=t(24736),i=new o({initialize:function(){this.entries=new v,this.events=new r},add:function(e,a){return this.entries.set(e,a),this.events.emit(n.ADD,this,e,a),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var a=this.get(e);return a&&(this.entries.delete(e),this.events.emit(n.REMOVE,this,e,a.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});h.exports=i}),24047:((h,x,t)=>{var o=t(2161),v=t(83419),r=t(8443),n=new v({initialize:function(e){this.game=e,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(r.DESTROY,this.destroy,this)},addCustom:function(i){return this.custom.hasOwnProperty(i)||(this.custom[i]=new o),this.custom[i]},destroy:function(){for(var i=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<i.length;e++)this[i[e]].destroy(),this[i[e]]=null;for(var a in this.custom)this.custom[a].destroy();this.custom=null,this.game=null}});h.exports=n}),51464:(h=>{h.exports="add"}),59261:(h=>{h.exports="remove"}),24736:((h,x,t)=>{h.exports={ADD:t(51464),REMOVE:t(59261)}}),83388:((h,x,t)=>{h.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}}),71911:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(39506),n=t(50792),i=t(19715),e=t(87841),a=t(61340),l=t(80333),s=t(26099),u=new o({Extends:n,Mixins:[v.AlphaSingle,v.Visible],initialize:function(c,d,p,S){c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),S===void 0&&(S=0),n.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=c,this._y=d,this._width=p,this._height=S,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new a,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new s(p/2,S/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,c){return f===void 0&&(f=.5),c===void 0&&(c=f),this.originX=f,this.originY=c,this},getScroll:function(f,c,d){d===void 0&&(d=new s);var p=this.width*.5,S=this.height*.5;return d.x=f-p,d.y=c-S,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(f){var c=this.width*.5;return this.midPoint.x=f,this.scrollX=f-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var c=this.height*.5;return this.midPoint.y=f,this.scrollY=f-c,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,c){return this.centerOnX(f),this.centerOnY(c),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,c=this.width*.5,d=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-c,this.scrollY=f.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var c=this.matrix.matrix,d=c[0],p=c[1],S=c[2],C=c[3],E=d*C-p*S;if(!E)return f;var R=c[4],M=c[5],D=this.scrollX,B=this.scrollY,b=this.width,I=this.height,N=this.y,z=N+I,H=this.x,X=H+b,W=this.culledObjects,V=f.length;E=1/E,W.length=0;for(var U=0;U<V;++U){var F=f[U];if(!F.hasOwnProperty("width")||F.parentContainer){W.push(F);continue}var k=F.width,Y=F.height,Z=F.x-D*F.scrollFactorX-k*F.originX,j=F.y-B*F.scrollFactorY-Y*F.originY,J=Z*d+j*S+R,q=Z*p+j*C+M,et=(Z+k)*d+(j+Y)*S+R,it=(Z+k)*p+(j+Y)*C+M;et>H&&J<X&&it>N&&q<z&&W.push(F)}return W},getWorldPoint:function(f,c,d){d===void 0&&(d=new s);var p=this.matrix.matrix,S=p[0],C=p[1],E=p[2],R=p[3],M=p[4],D=p[5],B=S*R-C*E;if(!B)return d.x=f,d.y=c,d;B=1/B;var b=R*B,I=-C*B,N=-E*B,z=S*B,H=(E*D-R*M)*B,X=(C*M-S*D)*B,W=Math.cos(this.rotation),V=Math.sin(this.rotation),U=this.zoomX,F=this.zoomY,k=this.scrollX,Y=this.scrollY,Z=f+(k*W-Y*V)*U,j=c+(k*V+Y*W)*F;return d.x=Z*b+j*N+H,d.y=Z*I+j*z+X,d},ignore:function(f){var c=this.id;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var p=f[d];Array.isArray(p)?this.ignore(p):p.isParent?this.ignore(p.getChildren()):p.cameraFilter|=c}return this},clampX:function(f){var c=this._bounds,d=this.displayWidth,p=c.x+(d-this.width)/2,S=Math.max(p,p+c.width-d);return f<p?f=p:f>S&&(f=S),f},clampY:function(f){var c=this._bounds,d=this.displayHeight,p=c.y+(d-this.height)/2,S=Math.max(p,p+c.height-d);return f<p?f=p:f>S&&(f=S),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=r(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=l(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,c,d,p,S){return S===void 0&&(S=!1),this._bounds.setTo(f,c,d,p),this.dirty=!0,this.useBounds=!0,S?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var c=this._bounds;return f.setTo(c.x,c.y,c.width,c.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,c){return c===void 0&&(c=f),this.x=f,this.y=c,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,c){c===void 0&&(c=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=c;var d=f.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(f,c){return c===void 0&&(c=f),this.scrollX=f,this.scrollY=c,this},setSize:function(f,c){return c===void 0&&(c=f),this.width=f,this.height=c,this},setViewport:function(f,c,d,p){return this.x=f,this.y=c,this.width=d,this.height=p,this},setZoom:function(f,c){return f===void 0&&(f=1),c===void 0&&(c=f),f===0&&(f=.001),c===0&&(c=.001),this.zoomX=f,this.zoomY=c,this},setMask:function(f,c){return c===void 0&&(c=!0),this.mask=f,this._maskCamera=c?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,c=this.sceneManager;f&&!this._customViewport?c.customViewports++:!f&&this._customViewport&&c.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(i.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});h.exports=u}),38058:((h,x,t)=>{var o=t(71911),v=t(67502),r=t(45319),n=t(83419),i=t(31401),e=t(20052),a=t(19715),l=t(28915),s=t(87841),u=t(26099),f=new n({Extends:o,Mixins:[i.PostPipeline],initialize:function(d,p,S,C){o.call(this,d,p,S,C),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null},setDeadzone:function(c,d){if(c===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=c,this.deadzone.height=d):this.deadzone=new s(0,0,c,d),this._follow){var p=this.width/2,S=this.height/2,C=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(C,E),this.scrollX=C-p,this.scrollY=E-S}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(c,d,p,S,C,E){return this.fadeEffect.start(!1,c,d,p,S,!0,C,E)},fadeOut:function(c,d,p,S,C,E){return this.fadeEffect.start(!0,c,d,p,S,!0,C,E)},fadeFrom:function(c,d,p,S,C,E,R){return this.fadeEffect.start(!1,c,d,p,S,C,E,R)},fade:function(c,d,p,S,C,E,R){return this.fadeEffect.start(!0,c,d,p,S,C,E,R)},flash:function(c,d,p,S,C,E,R){return this.flashEffect.start(c,d,p,S,C,E,R)},shake:function(c,d,p,S,C){return this.shakeEffect.start(c,d,p,S,C)},pan:function(c,d,p,S,C,E,R){return this.panEffect.start(c,d,p,S,C,E,R)},rotateTo:function(c,d,p,S,C,E,R){return this.rotateToEffect.start(c,d,p,S,C,E,R)},zoomTo:function(c,d,p,S,C,E){return this.zoomEffect.start(c,d,p,S,C,E)},preRender:function(){this.renderList.length=0;var c=this.width,d=this.height,p=c*.5,S=d*.5,C=this.zoomX,E=this.zoomY,R=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(C)&&Number.isInteger(E);var M=c*this.originX,D=d*this.originY,B=this._follow,b=this.deadzone,I=this.scrollX,N=this.scrollY;b&&v(b,this.midPoint.x,this.midPoint.y);var z=!1;if(B&&!this.panEffect.isRunning){var H=this.lerp,X=B.x-this.followOffset.x,W=B.y-this.followOffset.y;b?(X<b.x?I=l(I,I-(b.x-X),H.x):X>b.right&&(I=l(I,I+(X-b.right),H.x)),W<b.y?N=l(N,N-(b.y-W),H.y):W>b.bottom&&(N=l(N,N+(W-b.bottom),H.y))):(I=l(I,X-M,H.x),N=l(N,W-D,H.y)),z=!0}this.roundPixels&&(I=Math.floor(I),N=Math.floor(N)),this.useBounds&&(I=this.clampX(I),N=this.clampY(N)),this.scrollX=I,this.scrollY=N;var V=I+p,U=N+S;this.midPoint.set(V,U);var F=Math.floor(c/C+.5),k=Math.floor(d/E+.5),Y=Math.floor(V-F/2+.5),Z=Math.floor(U-k/2+.5);this.worldView.setTo(Y,Z,F,k),R.applyITRS(Math.floor(this.x+M+.5),Math.floor(this.y+D+.5),this.rotation,C,E),R.translate(-M,-D),this.shakeEffect.preRender(),z&&this.emit(a.FOLLOW_UPDATE,this,B)},setLerp:function(c,d){return c===void 0&&(c=1),d===void 0&&(d=c),this.lerp.set(c,d),this},setFollowOffset:function(c,d){return c===void 0&&(c=0),d===void 0&&(d=0),this.followOffset.set(c,d),this},startFollow:function(c,d,p,S,C,E){d===void 0&&(d=!1),p===void 0&&(p=1),S===void 0&&(S=p),C===void 0&&(C=0),E===void 0&&(E=C),this._follow=c,this.roundPixels=d,p=r(p,0,1),S=r(S,0,1),this.lerp.set(p,S),this.followOffset.set(C,E);var R=this.width/2,M=this.height/2,D=c.x-C,B=c.y-E;return this.midPoint.set(D,B),this.scrollX=D-R,this.scrollY=B-M,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(c,d){this.visible&&(this.rotateToEffect.update(c,d),this.panEffect.update(c,d),this.zoomEffect.update(c,d),this.shakeEffect.update(c,d),this.flashEffect.update(c,d),this.fadeEffect.update(c,d))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});h.exports=f}),32743:((h,x,t)=>{var o=t(38058),v=t(83419),r=t(95540),n=t(37277),i=t(37303),e=t(97480),a=t(44594),l=new v({initialize:function(u){this.scene=u,this.systems=u.sys,this.roundPixels=u.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,u.sys.events.once(a.BOOT,this.boot,this),u.sys.events.on(a.START,this.start,this)},boot:function(){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,s.scale.width,s.scale.height).setScene(this.scene),s.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){if(!this.main){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0]}var u=this.systems.events;u.on(a.UPDATE,this.update,this),u.once(a.SHUTDOWN,this.shutdown,this)},add:function(s,u,f,c,d,p){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),d===void 0&&(d=!1),p===void 0&&(p="");var S=new o(s,u,f,c);return S.setName(p),S.setScene(this.scene),S.setRoundPixels(this.roundPixels),S.id=this.getNextID(),this.cameras.push(S),d&&(this.main=S),S},addExisting:function(s,u){u===void 0&&(u=!1);var f=this.cameras.indexOf(s);return f===-1?(s.id=this.getNextID(),s.setRoundPixels(this.roundPixels),this.cameras.push(s),u&&(this.main=s),s):null},getNextID:function(){for(var s=this.cameras,u=1,f=0;f<32;f++){for(var c=!1,d=0;d<s.length;d++){var p=s[d];if(p&&p.id===u){c=!0;continue}}if(c)u=u<<1;else return u}return 0},getTotal:function(s){s===void 0&&(s=!1);for(var u=0,f=this.cameras,c=0;c<f.length;c++){var d=f[c];(!s||s&&d.visible)&&u++}return u},fromJSON:function(s){Array.isArray(s)||(s=[s]);for(var u=this.scene.sys.scale.width,f=this.scene.sys.scale.height,c=0;c<s.length;c++){var d=s[c],p=r(d,"x",0),S=r(d,"y",0),C=r(d,"width",u),E=r(d,"height",f),R=this.add(p,S,C,E);R.name=r(d,"name",""),R.zoom=r(d,"zoom",1),R.rotation=r(d,"rotation",0),R.scrollX=r(d,"scrollX",0),R.scrollY=r(d,"scrollY",0),R.roundPixels=r(d,"roundPixels",!1),R.visible=r(d,"visible",!0);var M=r(d,"backgroundColor",!1);M&&R.setBackgroundColor(M);var D=r(d,"bounds",null);if(D){var B=r(D,"x",0),b=r(D,"y",0),I=r(D,"width",u),N=r(D,"height",f);R.setBounds(B,b,I,N)}}return this},getCamera:function(s){for(var u=this.cameras,f=0;f<u.length;f++)if(u[f].name===s)return u[f];return null},getCamerasBelowPointer:function(s){for(var u=this.cameras,f=s.x,c=s.y,d=[],p=0;p<u.length;p++){var S=u[p];S.visible&&S.inputEnabled&&i(S,f,c)&&d.unshift(S)}return d},remove:function(s,u){u===void 0&&(u=!0),Array.isArray(s)||(s=[s]);for(var f=0,c=this.cameras,d=0;d<s.length;d++){var p=c.indexOf(s[d]);p!==-1&&(u?c[p].destroy():c[p].renderList=[],c.splice(p,1),f++)}return!this.main&&c[0]&&(this.main=c[0]),f},render:function(s,u){for(var f=this.scene,c=this.cameras,d=0;d<c.length;d++){var p=c[d];if(p.visible&&p.alpha>0){p.preRender();var S=this.getVisibleChildren(u.getChildren(),p);s.render(f,S,p)}}},getVisibleChildren:function(s,u){return s.filter(function(f){return f.willRender(u)})},resetAll:function(){for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(s,u){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(s,u)},onResize:function(s,u,f,c,d){for(var p=0;p<this.cameras.length;p++){var S=this.cameras[p];S._x===0&&S._y===0&&S._width===c&&S._height===d&&S.setSize(u.width,u.height)}},resize:function(s,u){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(s,u)},shutdown:function(){this.main=void 0;for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();this.cameras=[];var u=this.systems.events;u.off(a.UPDATE,this.update,this),u.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(a.START,this.start,this),this.systems.events.off(a.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});n.register("CameraManager",l,"cameras"),h.exports=l}),5020:((h,x,t)=>{var o=t(45319),v=t(83419),r=t(19715),n=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,e,a,l,s,u,f,c){if(i===void 0&&(i=!0),e===void 0&&(e=1e3),a===void 0&&(a=0),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene),!u&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=i,this.progress=0,this.red=a,this.green=l,this.blue=s,this.alpha=i?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c;var d=i?r.FADE_OUT_START:r.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,a,l,s),this.camera},update:function(i,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(i){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return i.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",i.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(i,e){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return i.drawFillRect(a.x,a.y,a.width,a.height,e(u,s,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var i=this.direction?r.FADE_OUT_COMPLETE:r.FADE_IN_COMPLETE;this.camera.emit(i,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=n}),10662:((h,x,t)=>{var o=t(45319),v=t(83419),r=t(19715),n=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(i,e,a,l,s,u,f){return i===void 0&&(i=250),e===void 0&&(e=255),a===void 0&&(a=255),l===void 0&&(l=255),s===void 0&&(s=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),!s&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,this.red=e,this.green=a,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.camera.emit(r.FLASH_START,this.camera,this,i,e,a,l),this.camera)},update:function(i,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(i){if(!this.isRunning)return!1;var e=this.camera;return i.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",i.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(i,e){if(!this.isRunning)return!1;var a=this.camera,l=this.red/255,s=this.green/255,u=this.blue/255;return i.drawFillRect(a.x,a.y,a.width,a.height,e(u,s,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=n}),20359:((h,x,t)=>{var o=t(45319),v=t(83419),r=t(62640),n=t(19715),i=t(26099),e=new v({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new i,this.current=new i,this.destination=new i,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,l,s,u,f,c,d){s===void 0&&(s=1e3),u===void 0&&(u=r.Linear),f===void 0&&(f=!1),c===void 0&&(c=null),d===void 0&&(d=this.camera.scene);var p=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source.set(p.scrollX,p.scrollY),this.destination.set(a,l),p.getScroll(a,l,this.current),typeof u=="string"&&r.hasOwnProperty(u)?this.ease=r[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=d,this.camera.emit(n.PAN_START,this.camera,this,s,a,l)),p},update:function(a,l){if(this.isRunning){this._elapsed+=l;var s=o(this._elapsed/this.duration,0,1);this.progress=s;var u=this.camera;if(this._elapsed<this.duration){var f=this.ease(s);u.getScroll(this.destination.x,this.destination.y,this.current);var c=this.source.x+(this.current.x-this.source.x)*f,d=this.source.y+(this.current.y-this.source.y)*f;u.setScroll(c,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,c,d)}else u.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,s,u.scrollX,u.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(n.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});h.exports=e}),34208:((h,x,t)=>{var o=t(45319),v=t(83419),r=t(19715),n=t(62640),i=new v({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,a,l,s,u,f,c){l===void 0&&(l=1e3),s===void 0&&(s=n.Linear),u===void 0&&(u=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene),a===void 0&&(a=!1),this.shortestPath=a;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var p=360*Math.PI/180;d=d-Math.floor(d/p)*p;var S=this.camera;if(!u&&this.isRunning)return S;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=S.rotation,this.destination=d,typeof s=="string"&&n.hasOwnProperty(s)?this.ease=n[s]:typeof s=="function"&&(this.ease=s),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c,this.shortestPath){var C=0,E=0;this.destination>this.source?C=Math.abs(this.destination-this.source):C=Math.abs(this.destination+p)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+p)-this.destination,C<E?this.clockwise=!0:C>E&&(this.clockwise=!1)}return this.camera.emit(r.ROTATE_START,this.camera,this,l,d),S},update:function(e,a){if(this.isRunning){this._elapsed+=a;var l=o(this._elapsed/this.duration,0,1);this.progress=l;var s=this.camera;if(this._elapsed<this.duration){var u=this.ease(l);this.current=s.rotation;var f=0,c=360*Math.PI/180,d=this.destination,p=this.current;this.clockwise===!1&&(d=this.current,p=this.destination),d>=p?f=Math.abs(d-p):f=Math.abs(d+c)-p;var S=0;this.clockwise?S=s.rotation+f*u:S=s.rotation-f*u,s.rotation=S,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,S)}else s.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});h.exports=i}),30330:((h,x,t)=>{var o=t(45319),v=t(83419),r=t(19715),n=t(26099),i=new v({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.intensity=new n,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,a,l,s,u){return e===void 0&&(e=100),a===void 0&&(a=.05),l===void 0&&(l=!1),s===void 0&&(s=null),u===void 0&&(u=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof a=="number"?this.intensity.set(a):this.intensity.set(a.x,a.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s,this._onUpdateScope=u,this.camera.emit(r.SHAKE_START,this.camera,this,e,a),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,a){if(this.isRunning)if(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,s=this.camera.width,u=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*l.x*s*2-l.x*s)*f,this._offsetY=(Math.random()*l.y*u*2-l.y*u)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});h.exports=i}),45641:((h,x,t)=>{var o=t(45319),v=t(83419),r=t(62640),n=t(19715),i=new v({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,a,l,s,u,f){a===void 0&&(a=1e3),l===void 0&&(l=r.Linear),s===void 0&&(s=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene);var c=this.camera;return!s&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source=c.zoom,this.destination=e,typeof l=="string"&&r.hasOwnProperty(l)?this.ease=r[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.camera.emit(n.ZOOM_START,this.camera,this,a,e)),c},update:function(e,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(n.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=i}),20052:((h,x,t)=>{h.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}}),16438:(h=>{h.exports="cameradestroy"}),32726:(h=>{h.exports="camerafadeincomplete"}),87807:(h=>{h.exports="camerafadeinstart"}),45917:(h=>{h.exports="camerafadeoutcomplete"}),95666:(h=>{h.exports="camerafadeoutstart"}),47056:(h=>{h.exports="cameraflashcomplete"}),91261:(h=>{h.exports="cameraflashstart"}),45047:(h=>{h.exports="followupdate"}),81927:(h=>{h.exports="camerapancomplete"}),74264:(h=>{h.exports="camerapanstart"}),54419:(h=>{h.exports="postrender"}),79330:(h=>{h.exports="prerender"}),93183:(h=>{h.exports="camerarotatecomplete"}),80112:(h=>{h.exports="camerarotatestart"}),62252:(h=>{h.exports="camerashakecomplete"}),86017:(h=>{h.exports="camerashakestart"}),539:(h=>{h.exports="camerazoomcomplete"}),51892:(h=>{h.exports="camerazoomstart"}),19715:((h,x,t)=>{h.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}}),87969:((h,x,t)=>{h.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}}),63091:((h,x,t)=>{var o=t(83419),v=t(35154),r=new o({initialize:function(i){this.camera=v(i,"camera",null),this.left=v(i,"left",null),this.right=v(i,"right",null),this.up=v(i,"up",null),this.down=v(i,"down",null),this.zoomIn=v(i,"zoomIn",null),this.zoomOut=v(i,"zoomOut",null),this.zoomSpeed=v(i,"zoomSpeed",.01),this.minZoom=v(i,"minZoom",.001),this.maxZoom=v(i,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=v(i,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=v(i,"speed.x",0),this.speedY=v(i,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(n){return this.camera=n,this},update:function(n){if(this.active){n===void 0&&(n=1);var i=this.camera;this.up&&this.up.isDown?i.scrollY-=this.speedY*n|0:this.down&&this.down.isDown&&(i.scrollY+=this.speedY*n|0),this.left&&this.left.isDown?i.scrollX-=this.speedX*n|0:this.right&&this.right.isDown&&(i.scrollX+=this.speedX*n|0),this.zoomIn&&this.zoomIn.isDown?(i.zoom-=this.zoomSpeed,i.zoom<this.minZoom&&(i.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(i.zoom+=this.zoomSpeed,i.zoom>this.maxZoom&&(i.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});h.exports=r}),58818:((h,x,t)=>{var o=t(83419),v=t(35154),r=new o({initialize:function(i){this.camera=v(i,"camera",null),this.left=v(i,"left",null),this.right=v(i,"right",null),this.up=v(i,"up",null),this.down=v(i,"down",null),this.zoomIn=v(i,"zoomIn",null),this.zoomOut=v(i,"zoomOut",null),this.zoomSpeed=v(i,"zoomSpeed",.01),this.minZoom=v(i,"minZoom",.001),this.maxZoom=v(i,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=v(i,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=v(i,"acceleration.x",0),this.accelY=v(i,"acceleration.y",0)),this.dragX=0,this.dragY=0;var a=v(i,"drag",null);typeof a=="number"?(this.dragX=a,this.dragY=a):(this.dragX=v(i,"drag.x",0),this.dragY=v(i,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=v(i,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=v(i,"maxSpeed.x",0),this.maxSpeedY=v(i,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(n){return this.camera=n,this},update:function(n){if(this.active){n===void 0&&(n=1);var i=this.camera;this._speedX>0?(this._speedX-=this.dragX*n,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*n,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*n,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*n,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(i.scrollX-=this._speedX*n|0),this._speedY!==0&&(i.scrollY-=this._speedY*n|0),this._zoom!==0&&(i.zoom+=this._zoom,i.zoom<this.minZoom?i.zoom=this.minZoom:i.zoom>this.maxZoom&&(i.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});h.exports=r}),38865:((h,x,t)=>{h.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}}),26638:((h,x,t)=>{h.exports={Controls:t(38865),Scene2D:t(87969)}}),8054:((h,x,t)=>{var o={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};h.exports=o}),69547:((h,x,t)=>{var o=t(83419),v=t(8054),r=t(42363),n=t(82264),i=t(95540),e=t(35154),a=t(41212),l=t(29747),s=t(75508),u=t(36060),f=t(80333),c=new o({initialize:function(p){p===void 0&&(p={});var S=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],C="#ffffff",E=e(p,"scale",null);this.width=e(E,"width",1024,p),this.height=e(E,"height",768,p),this.zoom=e(E,"zoom",1,p),this.parent=e(E,"parent",void 0,p),this.scaleMode=e(E,E?"mode":"scaleMode",0,p),this.expandParent=e(E,"expandParent",!0,p),this.autoRound=e(E,"autoRound",!1,p),this.autoCenter=e(E,"autoCenter",0,p),this.resizeInterval=e(E,"resizeInterval",500,p),this.fullscreenTarget=e(E,"fullscreenTarget",null,p),this.minWidth=e(E,"min.width",0,p),this.maxWidth=e(E,"max.width",0,p),this.minHeight=e(E,"min.height",0,p),this.maxHeight=e(E,"max.height",0,p),this.snapWidth=e(E,"snap.width",0,p),this.snapHeight=e(E,"snap.height",0,p),this.renderType=e(p,"type",v.AUTO),this.canvas=e(p,"canvas",null),this.context=e(p,"context",null),this.canvasStyle=e(p,"canvasStyle",null),this.customEnvironment=e(p,"customEnvironment",!1),this.sceneConfig=e(p,"scene",null),this.seed=e(p,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=e(p,"title",""),this.gameURL=e(p,"url","https://phaser.io/"+v.LOG_VERSION),this.gameVersion=e(p,"version",""),this.autoFocus=e(p,"autoFocus",!0),this.stableSort=e(p,"stableSort",-1),this.stableSort===-1&&(this.stableSort=n.browser.es2019?1:0),n.features.stableSort=this.stableSort,this.domCreateContainer=e(p,"dom.createContainer",!1),this.domPointerEvents=e(p,"dom.pointerEvents","none"),this.inputKeyboard=e(p,"input.keyboard",!0),this.inputKeyboardEventTarget=e(p,"input.keyboard.target",window),this.inputKeyboardCapture=e(p,"input.keyboard.capture",[]),this.inputMouse=e(p,"input.mouse",!0),this.inputMouseEventTarget=e(p,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(p,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(p,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(p,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(p,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(p,"input.touch",n.input.touch),this.inputTouchEventTarget=e(p,"input.touch.target",null),this.inputTouchCapture=e(p,"input.touch.capture",!0),this.inputActivePointers=e(p,"input.activePointers",1),this.inputSmoothFactor=e(p,"input.smoothFactor",0),this.inputWindowEvents=e(p,"input.windowEvents",!0),this.inputGamepad=e(p,"input.gamepad",!1),this.inputGamepadEventTarget=e(p,"input.gamepad.target",window),this.disableContextMenu=e(p,"disableContextMenu",!1),this.audio=e(p,"audio",{}),this.hideBanner=e(p,"banner",null)===!1,this.hidePhaser=e(p,"banner.hidePhaser",!1),this.bannerTextColor=e(p,"banner.text",C),this.bannerBackgroundColor=e(p,"banner.background",S),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(p,"fps",null),this.disablePreFX=e(p,"disablePreFX",!1),this.disablePostFX=e(p,"disablePostFX",!1);var R=e(p,"render",null);this.pipeline=e(R,"pipeline",null,p),this.autoMobilePipeline=e(R,"autoMobilePipeline",!0,p),this.defaultPipeline=e(R,"defaultPipeline",u.MULTI_PIPELINE,p),this.antialias=e(R,"antialias",!0,p),this.antialiasGL=e(R,"antialiasGL",!0,p),this.mipmapFilter=e(R,"mipmapFilter","",p),this.desynchronized=e(R,"desynchronized",!1,p),this.roundPixels=e(R,"roundPixels",!1,p),this.pixelArt=e(R,"pixelArt",this.zoom!==1,p),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(R,"transparent",!1,p),this.clearBeforeRender=e(R,"clearBeforeRender",!0,p),this.preserveDrawingBuffer=e(R,"preserveDrawingBuffer",!1,p),this.premultipliedAlpha=e(R,"premultipliedAlpha",!0,p),this.failIfMajorPerformanceCaveat=e(R,"failIfMajorPerformanceCaveat",!1,p),this.powerPreference=e(R,"powerPreference","default",p),this.batchSize=e(R,"batchSize",4096,p),this.maxTextures=e(R,"maxTextures",-1,p),this.maxLights=e(R,"maxLights",10,p);var M=e(p,"backgroundColor",0);this.backgroundColor=f(M),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(p,"callbacks.preBoot",l),this.postBoot=e(p,"callbacks.postBoot",l),this.physics=e(p,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(p,"loader.baseURL",""),this.loaderPath=e(p,"loader.path",""),this.loaderMaxParallelDownloads=e(p,"loader.maxParallelDownloads",n.os.android?6:32),this.loaderCrossOrigin=e(p,"loader.crossOrigin",void 0),this.loaderResponseType=e(p,"loader.responseType",""),this.loaderAsync=e(p,"loader.async",!0),this.loaderUser=e(p,"loader.user",""),this.loaderPassword=e(p,"loader.password",""),this.loaderTimeout=e(p,"loader.timeout",0),this.loaderMaxRetries=e(p,"loader.maxRetries",2),this.loaderWithCredentials=e(p,"loader.withCredentials",!1),this.loaderImageLoadType=e(p,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(p,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(p,"fx.glow.quality",.1),this.glowFXDistance=e(p,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var D=e(p,"plugins",null),B=r.DefaultScene;D&&(Array.isArray(D)?this.defaultPlugins=D:a(D)&&(this.installGlobalPlugins=i(D,"global",[]),this.installScenePlugins=i(D,"scene",[]),Array.isArray(D.default)?B=D.default:Array.isArray(D.defaultMerge)&&(B=B.concat(D.defaultMerge)))),this.defaultPlugins=B;var b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(p,"images.default",b+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(p,"images.missing",b+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(p,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});h.exports=c}),86054:((h,x,t)=>{var o=t(20623),v=t(27919),r=t(8054),n=t(89357),i=function(e){var a=e.config;if((a.customEnvironment||a.canvas)&&a.renderType===r.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!a.customEnvironment&&!a.canvas&&a.renderType!==r.HEADLESS)if(a.renderType===r.AUTO&&(a.renderType=n.webGL?r.WEBGL:r.CANVAS),a.renderType===r.WEBGL){if(!n.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(a.renderType===r.CANVAS){if(!n.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+a.renderType);a.antialias||v.disableSmoothing();var l=e.scale.baseSize,s=l.width,u=l.height;if(a.canvas?(e.canvas=a.canvas,e.canvas.width=s,e.canvas.height=u):e.canvas=v.create(e,s,u,a.renderType),a.canvasStyle&&(e.canvas.style=a.canvasStyle),a.antialias||o.setCrisp(e.canvas),a.renderType!==r.HEADLESS){var f,c;f=t(68627),c=t(74797),a.renderType===r.WEBGL?e.renderer=new c(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};h.exports=i}),96391:((h,x,t)=>{var o=t(8054),v=function(r){var n=r.config;if(!n.hideBanner){var i="WebGL";n.renderType===o.CANVAS?i="Canvas":n.renderType===o.HEADLESS&&(i="Headless");var e=n.audio,a=r.device.audio,l;if(a.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!a.webAudio&&!a.audioData?l="No Audio":l="HTML5 Audio",r.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var s="",u=[s];if(Array.isArray(n.bannerBackgroundColor)){var f;n.bannerBackgroundColor.forEach(function(d){s=s.concat("%c "),u.push("background: "+d),f=d}),u[u.length-1]="color: "+n.bannerTextColor+"; background: "+f}else s=s.concat("%c "),u.push("color: "+n.bannerTextColor+"; background: "+n.bannerBackgroundColor);u.push("background: transparent"),n.gameTitle&&(s=s.concat(n.gameTitle),n.gameVersion&&(s=s.concat(" v"+n.gameVersion)),n.hidePhaser||(s=s.concat(" / ")));var c="";n.hidePhaser||(s=s.concat("Phaser v"+o.VERSION+c+" ("+i+" | "+l+")")),s=s.concat(" %c "+n.gameURL),u[0]=s,console.log.apply(console,u)}}};h.exports=v}),50127:((h,x,t)=>{var o=t(40366),v=t(60848),r=t(24047),n=t(27919),i=t(83419),e=t(69547),a=t(83719),l=t(86054),s=t(45893),u=t(96391),f=t(82264),c=t(57264),d=t(50792),p=t(8443),S=t(7003),C=t(37277),E=t(77332),R=t(76531),M=t(60903),D=t(69442),B=t(17130),b=t(65898),I=t(51085),N=t(14747),z=new i({initialize:function(X){this.config=new e(X),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new v(this),this.textures=new B(this),this.cache=new r(this),this.registry=new s(this,new d),this.input=new S(this,this.config),this.scene=new M(this,this.config.sceneConfig),this.device=f,this.scale=new R(this,this.config),this.sound=null,this.sound=N.create(this),this.loop=new b(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,c(this.boot.bind(this))},boot:function(){if(!C.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),a(this),u(this),o(this.canvas,this.config.parent),this.textures.once(D.READY,this.texturesReady,this),this.events.emit(p.BOOT)},texturesReady:function(){this.events.emit(p.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),I(this);var H=this.events;H.on(p.HIDDEN,this.onHidden,this),H.on(p.VISIBLE,this.onVisible,this),H.on(p.BLUR,this.onBlur,this),H.on(p.FOCUS,this.onFocus,this)},step:function(H,X){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(p.PRE_STEP,H,X),W.emit(p.STEP,H,X),this.scene.update(H,X),W.emit(p.POST_STEP,H,X);var V=this.renderer;V.preRender(),W.emit(p.PRE_RENDER,V,H,X),this.scene.render(V),V.postRender(),W.emit(p.POST_RENDER,V,H,X)}},headlessStep:function(H,X){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(p.PRE_STEP,H,X),W.emit(p.STEP,H,X),this.scene.update(H,X),W.emit(p.POST_STEP,H,X),this.scene.isProcessing=!1,W.emit(p.PRE_RENDER,null,H,X),W.emit(p.POST_RENDER,null,H,X)}},onHidden:function(){this.loop.pause(),this.events.emit(p.PAUSE)},pause:function(){var H=this.isPaused;this.isPaused=!0,H||this.events.emit(p.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(p.RESUME,this.loop.pauseDuration)},resume:function(){var H=this.isPaused;this.isPaused=!1,H&&this.events.emit(p.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(H,X){X===void 0&&(X=!1),this.pendingDestroy=!0,this.removeCanvas=H,this.noReturn=X},runDestroy:function(){this.scene.destroy(),this.events.emit(p.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(n.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});h.exports=z}),65898:((h,x,t)=>{var o=t(83419),v=t(35154),r=t(29747),n=t(43092),i=new o({initialize:function(a,l){this.game=a,this.raf=new n,this.started=!1,this.running=!1,this.minFps=v(l,"min",5),this.targetFps=v(l,"target",60),this.fpsLimit=v(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=r,this.forceSetTimeOut=v(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(l,"deltaHistory",10),this.panicMax=v(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var a=0;a<this.deltaSmoothingMax;a++)this.deltaHistory[a]=Math.min(this._target,this.deltaHistory[a]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var a=0;a<this.deltaSmoothingMax;a++)this.deltaHistory[a]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var a=this.deltaIndex,l=this.deltaHistory,s=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[a],e=Math.min(e,this._min)),l[a]=e,this.deltaIndex++,this.deltaIndex>=s&&(this.deltaIndex=0);for(var u=0,f=0;f<s;f++)u+=l[f];return u/=s,u},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var a=Math.max(0,e-this.lastTime);this.rawDelta=a,this.time+=this.rawDelta,this.smoothStep&&(a=this.smoothDelta(a)),this.delta+=a,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var a=Math.max(0,e-this.lastTime);this.rawDelta=a,this.time+=this.rawDelta,this.smoothStep&&(a=this.smoothDelta(a)),this.delta=a,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,a),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var a=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+a));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});h.exports=i}),51085:((h,x,t)=>{var o=t(8443),v=function(r){var n,i=r.events;if(document.hidden!==void 0)n="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},n=l+"visibilitychange")})}var a=function(l){document.hidden||l.type==="pause"?i.emit(o.HIDDEN):i.emit(o.VISIBLE)};n&&document.addEventListener(n,a,!1),window.onblur=function(){i.emit(o.BLUR)},window.onfocus=function(){i.emit(o.FOCUS)},window.focus&&r.config.autoFocus&&window.focus()};h.exports=v}),97217:(h=>{h.exports="blur"}),47548:(h=>{h.exports="boot"}),19814:(h=>{h.exports="contextlost"}),68446:(h=>{h.exports="destroy"}),41700:(h=>{h.exports="focus"}),25432:(h=>{h.exports="hidden"}),65942:(h=>{h.exports="pause"}),59211:(h=>{h.exports="postrender"}),47789:(h=>{h.exports="poststep"}),39066:(h=>{h.exports="prerender"}),460:(h=>{h.exports="prestep"}),16175:(h=>{h.exports="ready"}),42331:(h=>{h.exports="resume"}),11966:(h=>{h.exports="step"}),32969:(h=>{h.exports="systemready"}),94830:(h=>{h.exports="visible"}),8443:((h,x,t)=>{h.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}}),42857:((h,x,t)=>{h.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}}),99584:((h,x,t)=>{var o=t(5290),v=t(27919),r=t(35154),n=function(i){var e=r(i,"data",[]),a=r(i,"canvas",null),l=r(i,"palette",o),s=r(i,"pixelWidth",1),u=r(i,"pixelHeight",s),f=r(i,"resizeCanvas",!0),c=r(i,"clearCanvas",!0),d=r(i,"preRender",null),p=r(i,"postRender",null),S=Math.floor(Math.abs(e[0].length*s)),C=Math.floor(Math.abs(e.length*u));a||(a=v.create2D(this,S,C),f=!1,c=!1),f&&(a.width=S,a.height=C);var E=a.getContext("2d",{willReadFrequently:!0});c&&E.clearRect(0,0,S,C),d&&d(a,E);for(var R=0;R<e.length;R++)for(var M=e[R],D=0;D<M.length;D++){var B=M[D];B!=="."&&B!==" "&&(E.fillStyle=l[B],E.fillRect(D*s,R*u,s,u))}return p&&p(a,E),a};h.exports=n}),15822:((h,x,t)=>{h.exports={GenerateTexture:t(99584),Palettes:t(57763)}}),5290:(h=>{h.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}}),23816:(h=>{h.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}}),9866:(h=>{h.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}}),77552:(h=>{h.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}}),92259:(h=>{h.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}}),57763:((h,x,t)=>{h.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}}),46728:((h,x,t)=>{var o=t(83419),v=t(36316),r=t(80021),n=t(26099),i=new o({Extends:r,initialize:function(a,l,s,u){r.call(this,"CubicBezierCurve"),Array.isArray(a)&&(u=new n(a[6],a[7]),s=new n(a[4],a[5]),l=new n(a[2],a[3]),a=new n(a[0],a[1])),this.p0=a,this.p1=l,this.p2=s,this.p3=u},getStartPoint:function(e){return e===void 0&&(e=new n),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,a){a===void 0&&(a=new n);var l=this.p0,s=this.p1,u=this.p2,f=this.p3;return a.set(v(e,l.x,s.x,u.x,f.x),v(e,l.y,s.y,u.y,f.y))},draw:function(e,a){a===void 0&&(a=32);var l=this.getPoints(a);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)e.lineTo(l[s].x,l[s].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});i.fromJSON=function(e){var a=e.points,l=new n(a[0],a[1]),s=new n(a[2],a[3]),u=new n(a[4],a[5]),f=new n(a[6],a[7]);return new i(l,s,u,f)},h.exports=i}),80021:((h,x,t)=>{var o=t(83419),v=t(19217),r=t(87841),n=t(26099),i=new o({initialize:function(a){this.type=a,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new n,this._tmpVec2B=new n},draw:function(e,a){return a===void 0&&(a=32),e.strokePoints(this.getPoints(a))},getBounds:function(e,a){e||(e=new r),a===void 0&&(a=16);var l=this.getLength();a>l&&(a=l/2);var s=Math.max(1,Math.round(l/a));return v(this.getSpacedPoints(s),e)},getDistancePoints:function(e){var a=this.getLength(),l=Math.max(1,a/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new n),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var a=[],l,s=this.getPoint(0,this._tmpVec2A),u=0;a.push(0);for(var f=1;f<=e;f++)l=this.getPoint(f/e,this._tmpVec2B),u+=l.distance(s),a.push(u),s.copy(l);return this.cacheArcLengths=a,a},getPointAt:function(e,a){var l=this.getUtoTmapping(e);return this.getPoint(l,a)},getPoints:function(e,a,l){l===void 0&&(l=[]),e||(a?e=this.getLength()/a:e=this.defaultDivisions);for(var s=0;s<=e;s++)l.push(this.getPoint(s/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new n),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,a,l){l===void 0&&(l=[]),e||(a?e=this.getLength()/a:e=this.defaultDivisions);for(var s=0;s<=e;s++){var u=this.getUtoTmapping(s/e,null,e);l.push(this.getPoint(u))}return l},getStartPoint:function(e){return e===void 0&&(e=new n),this.getPointAt(0,e)},getTangent:function(e,a){a===void 0&&(a=new n);var l=1e-4,s=e-l,u=e+l;return s<0&&(s=0),u>1&&(u=1),this.getPoint(s,this._tmpVec2A),this.getPoint(u,a),a.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,a){var l=this.getUtoTmapping(e);return this.getTangent(l,a)},getTFromDistance:function(e,a){return e<=0?0:this.getUtoTmapping(0,e,a)},getUtoTmapping:function(e,a,l){var s=this.getLengths(l),u=0,f=s.length,c;a?c=Math.min(a,s[f-1]):c=e*s[f-1];for(var d=0,p=f-1,S;d<=p;)if(u=Math.floor(d+(p-d)/2),S=s[u]-c,S<0)d=u+1;else if(S>0)p=u-1;else{p=u;break}if(u=p,s[u]===c)return u/(f-1);var C=s[u],E=s[u+1],R=E-C,M=(c-C)/R;return(u+M)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});h.exports=i}),73825:((h,x,t)=>{var o=t(83419),v=t(80021),r=t(39506),n=t(35154),i=t(43396),e=t(26099),a=new o({Extends:v,initialize:function(s,u,f,c,d,p,S,C){if(typeof s=="object"){var E=s;s=n(E,"x",0),u=n(E,"y",0),f=n(E,"xRadius",0),c=n(E,"yRadius",f),d=n(E,"startAngle",0),p=n(E,"endAngle",360),S=n(E,"clockwise",!1),C=n(E,"rotation",0)}else c===void 0&&(c=f),d===void 0&&(d=0),p===void 0&&(p=360),S===void 0&&(S=!1),C===void 0&&(C=0);v.call(this,"EllipseCurve"),this.p0=new e(s,u),this._xRadius=f,this._yRadius=c,this._startAngle=r(d),this._endAngle=r(p),this._clockwise=S,this._rotation=r(C)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,s){s===void 0&&(s=new e);for(var u=Math.PI*2,f=this._endAngle-this._startAngle,c=Math.abs(f)<Number.EPSILON;f<0;)f+=u;for(;f>u;)f-=u;f<Number.EPSILON&&(c?f=0:f=u),this._clockwise&&!c&&(f===u?f=-u:f=f-u);var d=this._startAngle+l*f,p=this.p0.x+this._xRadius*Math.cos(d),S=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var C=Math.cos(this._rotation),E=Math.sin(this._rotation),R=p-this.p0.x,M=S-this.p0.y;p=R*C-M*E+this.p0.x,S=R*E+M*C+this.p0.y}return s.set(p,S)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return i(this._startAngle)},set:function(l){this._startAngle=r(l)}},endAngle:{get:function(){return i(this._endAngle)},set:function(l){this._endAngle=r(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return i(this._rotation)},set:function(l){this._rotation=r(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:i(this._startAngle),endAngle:i(this._endAngle),clockwise:this._clockwise,rotation:i(this._rotation)}}});a.fromJSON=function(l){return new a(l)},h.exports=a}),33951:((h,x,t)=>{var o=t(83419),v=t(80021),r=t(19217),n=t(87841),i=t(26099),e=new o({Extends:v,initialize:(function(l,s){v.call(this,"LineCurve"),Array.isArray(l)&&(s=new i(l[2],l[3]),l=new i(l[0],l[1])),this.p0=l,this.p1=s,this.arcLengthDivisions=1}),getBounds:function(a){return a===void 0&&(a=new n),r([this.p0,this.p1],a)},getStartPoint:function(a){return a===void 0&&(a=new i),a.copy(this.p0)},getResolution:function(a){return a===void 0&&(a=1),a},getPoint:function(a,l){return l===void 0&&(l=new i),a===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(a).add(this.p0),l)},getPointAt:function(a,l){return this.getPoint(a,l)},getTangent:function(a,l){return l===void 0&&(l=new i),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(a,l,s){var u;if(l){var f=this.getLengths(s),c=f[f.length-1],d=Math.min(l,c);u=d/c}else u=a;return u},draw:function(a){return a.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(a){var l=a.points,s=new i(l[0],l[1]),u=new i(l[2],l[3]);return new e(s,u)},h.exports=e}),14744:((h,x,t)=>{var o=t(83419),v=t(80021),r=t(32112),n=t(26099),i=new o({Extends:v,initialize:function(a,l,s){v.call(this,"QuadraticBezierCurve"),Array.isArray(a)&&(s=new n(a[4],a[5]),l=new n(a[2],a[3]),a=new n(a[0],a[1])),this.p0=a,this.p1=l,this.p2=s},getStartPoint:function(e){return e===void 0&&(e=new n),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,a){a===void 0&&(a=new n);var l=this.p0,s=this.p1,u=this.p2;return a.set(r(e,l.x,s.x,u.x),r(e,l.y,s.y,u.y))},draw:function(e,a){a===void 0&&(a=32);var l=this.getPoints(a);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var s=1;s<l.length;s++)e.lineTo(l[s].x,l[s].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});i.fromJSON=function(e){var a=e.points,l=new n(a[0],a[1]),s=new n(a[2],a[3]),u=new n(a[4],a[5]);return new i(l,s,u)},h.exports=i}),42534:((h,x,t)=>{var o=t(87842),v=t(83419),r=t(80021),n=t(26099),i=new v({Extends:r,initialize:function(a){a===void 0&&(a=[]),r.call(this,"SplineCurve"),this.points=[],this.addPoints(a)},addPoints:function(e){for(var a=0;a<e.length;a++){var l=new n;typeof e[a]=="number"?(l.x=e[a],l.y=e[a+1],a++):Array.isArray(e[a])?(l.x=e[a][0],l.y=e[a][1]):(l.x=e[a].x,l.y=e[a].y),this.points.push(l)}return this},addPoint:function(e,a){var l=new n(e,a);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new n),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,a){a===void 0&&(a=new n);var l=this.points,s=(l.length-1)*e,u=Math.floor(s),f=s-u,c=l[u===0?u:u-1],d=l[u],p=l[u>l.length-2?l.length-1:u+1],S=l[u>l.length-3?l.length-1:u+2];return a.set(o(f,c.x,d.x,p.x,S.x),o(f,c.y,d.y,p.y,S.y))},toJSON:function(){for(var e=[],a=0;a<this.points.length;a++)e.push(this.points[a].x),e.push(this.points[a].y);return{type:this.type,points:e}}});i.fromJSON=function(e){return new i(e.points)},h.exports=i}),25410:((h,x,t)=>{h.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}}),68618:((h,x,t)=>{var o=t(83419),v=t(26099),r=new o({initialize:function(i,e){this.active=!1,this.p0=new v(i,e)},getPoint:function(n,i){return i===void 0&&(i=new v),i.copy(this.p0)},getPointAt:function(n,i){return this.getPoint(n,i)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});h.exports=r}),46669:((h,x,t)=>{var o=t(83419),v=t(46728),r=t(73825),n=t(39429),i=t(33951),e=t(68618),a=t(14744),l=t(87841),s=t(42534),u=t(26099),f=t(36383),c=new o({initialize:function(p,S){p===void 0&&(p=0),S===void 0&&(S=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,typeof p=="object"?this.fromJSON(p):this.startPoint.set(p,S)},add:function(d){return this.curves.push(d),this},circleTo:function(d,p,S){return p===void 0&&(p=!1),this.ellipseTo(d,d,0,360,p,S)},closePath:function(){var d=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);return d.equals(p)||this.curves.push(new i(p,d)),this},cubicBezierTo:function(d,p,S,C,E,R){var M=this.getEndPoint(),D,B,b;return d instanceof u?(D=d,B=p,b=S):(D=new u(S,C),B=new u(E,R),b=new u(d,p)),this.add(new v(M,D,B,b))},quadraticBezierTo:function(d,p,S,C){var E=this.getEndPoint(),R,M;return d instanceof u?(R=d,M=p):(R=new u(S,C),M=new u(d,p)),this.add(new a(E,R,M))},draw:function(d,p){for(var S=0;S<this.curves.length;S++){var C=this.curves[S];C.active&&C.draw(d,p)}return d},ellipseTo:function(d,p,S,C,E,R){var M=new r(0,0,d,p,S,C,E,R),D=this.getEndPoint(this._tmpVec2A),B=M.getStartPoint(this._tmpVec2B);return D.subtract(B),M.x=D.x,M.y=D.y,this.add(M)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var p=0;p<d.curves.length;p++){var S=d.curves[p];switch(S.type){case"LineCurve":this.add(i.fromJSON(S));break;case"EllipseCurve":this.add(r.fromJSON(S));break;case"SplineCurve":this.add(s.fromJSON(S));break;case"CubicBezierCurve":this.add(v.fromJSON(S));break;case"QuadraticBezierCurve":this.add(a.fromJSON(S));break}}return this},getBounds:function(d,p){d===void 0&&(d=new l),p===void 0&&(p=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var S=new l,C=f.MIN_SAFE_INTEGER,E=f.MIN_SAFE_INTEGER,R=0;R<this.curves.length;R++){var M=this.curves[R];M.active&&(M.getBounds(S,p),d.x=Math.min(d.x,S.x),d.y=Math.min(d.y,S.y),C=Math.max(C,S.right),E=Math.max(E,S.bottom))}return d.right=C,d.bottom=E,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],p=0,S=0;S<this.curves.length;S++)p+=this.curves[S].getLength(),d.push(p);return this.cacheLengths=d,d},getCurveAt:function(d){for(var p=d*this.getLength(),S=this.getCurveLengths(),C=0;C<S.length;){if(S[C]>=p)return this.curves[C];C++}return null},getEndPoint:function(d){return d===void 0&&(d=new u),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,p){p===void 0&&(p=new u);for(var S=d*this.getLength(),C=this.getCurveLengths(),E=0;E<C.length;){if(C[E]>=S){var R=C[E]-S,M=this.curves[E],D=M.getLength(),B=D===0?0:1-R/D;return M.getPointAt(B,p)}E++}return null},getPoints:function(d,p){!d&&!p&&(d=this.defaultDivisions);for(var S=[],C,E=0;E<this.curves.length;E++){var R=this.curves[E];if(R.active)for(var M=R.getResolution(d),D=R.getPoints(M,p),B=0;B<D.length;B++){var b=D[B];C&&C.equals(b)||(S.push(b),C=b)}}return this.autoClose&&S.length>1&&!S[S.length-1].equals(S[0])&&S.push(S[0]),S},getRandomPoint:function(d){return d===void 0&&(d=new u),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var p=[],S=0;S<=d;S++)p.push(this.getPoint(S/d));return this.autoClose&&p.push(p[0]),p},getStartPoint:function(d){return d===void 0&&(d=new u),d.copy(this.startPoint)},getTangent:function(d,p){p===void 0&&(p=new u);for(var S=d*this.getLength(),C=this.getCurveLengths(),E=0;E<C.length;){if(C[E]>=S){var R=C[E]-S,M=this.curves[E],D=M.getLength(),B=D===0?0:1-R/D;return M.getTangentAt(B,p)}E++}return null},lineTo:function(d,p){d instanceof u?this._tmpVec2B.copy(d):typeof d=="object"?this._tmpVec2B.setFromObject(d):this._tmpVec2B.set(d,p);var S=this.getEndPoint(this._tmpVec2A);return this.add(new i([S.x,S.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new s(d))},moveTo:function(d,p){return d instanceof u?this.add(new e(d.x,d.y)):this.add(new e(d,p))},toJSON:function(){for(var d=[],p=0;p<this.curves.length;p++)d.push(this.curves[p].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});n.register("path",function(d,p){return new c(d,p)}),h.exports=c}),45893:((h,x,t)=>{var o=t(83419),v=t(24882),r=new o({initialize:function(i,e){this.parent=i,this.events=e,e||(this.events=i.events?i.events:i),this.list={},this.values={},this._frozen=!1,!i.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(n){var i=this.list;if(Array.isArray(n)){for(var e=[],a=0;a<n.length;a++)e.push(i[n[a]]);return e}else return i[n]},getAll:function(){var n={};for(var i in this.list)this.list.hasOwnProperty(i)&&(n[i]=this.list[i]);return n},query:function(n){var i={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(n)&&(i[e]=this.list[e]);return i},set:function(n,i){if(this._frozen)return this;if(typeof n=="string")return this.setValue(n,i);for(var e in n)this.setValue(e,n[e]);return this},inc:function(n,i){if(this._frozen)return this;i===void 0&&(i=1);var e=this.get(n);return e===void 0&&(e=0),this.set(n,e+i),this},toggle:function(n){return this._frozen?this:(this.set(n,!this.get(n)),this)},setValue:function(n,i){if(this._frozen)return this;if(this.has(n))this.values[n]=i;else{var e=this,a=this.list,l=this.events,s=this.parent;Object.defineProperty(this.values,n,{enumerable:!0,configurable:!0,get:function(){return a[n]},set:function(u){if(!e._frozen){var f=a[n];a[n]=u,l.emit(v.CHANGE_DATA,s,n,u,f),l.emit(v.CHANGE_DATA_KEY+n,s,u,f)}}}),a[n]=i,l.emit(v.SET_DATA,s,n,i)}return this},each:function(n,i){for(var e=[this.parent,null,void 0],a=1;a<arguments.length;a++)e.push(arguments[a]);for(var l in this.list)e[1]=l,e[2]=this.list[l],n.apply(i,e);return this},merge:function(n,i){i===void 0&&(i=!0);for(var e in n)n.hasOwnProperty(e)&&(i||!i&&!this.has(e))&&this.setValue(e,n[e]);return this},remove:function(n){if(this._frozen)return this;if(Array.isArray(n))for(var i=0;i<n.length;i++)this.removeValue(n[i]);else return this.removeValue(n);return this},removeValue:function(n){if(this.has(n)){var i=this.list[n];delete this.list[n],delete this.values[n],this.events.emit(v.REMOVE_DATA,this.parent,n,i)}return this},pop:function(n){var i=void 0;return!this._frozen&&this.has(n)&&(i=this.list[n],delete this.list[n],delete this.values[n],this.events.emit(v.REMOVE_DATA,this.parent,n,i)),i},has:function(n){return this.list.hasOwnProperty(n)},setFreeze:function(n){return this._frozen=n,this},reset:function(){for(var n in this.list)delete this.list[n],delete this.values[n];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(n){this._frozen=!!n}},count:{get:function(){var n=0;for(var i in this.list)this.list[i]!==void 0&&n++;return n}}});h.exports=r}),63646:((h,x,t)=>{var o=t(83419),v=t(45893),r=t(37277),n=t(44594),i=new o({Extends:v,initialize:function(a){v.call(this,a,a.sys.events),this.scene=a,this.systems=a.sys,a.sys.events.once(n.BOOT,this.boot,this),a.sys.events.on(n.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(n.DESTROY,this.destroy,this)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null}});r.register("DataManagerPlugin",i,"data"),h.exports=i}),10700:(h=>{h.exports="changedata"}),93608:(h=>{h.exports="changedata-"}),60883:(h=>{h.exports="destroy"}),69780:(h=>{h.exports="removedata"}),22166:(h=>{h.exports="setdata"}),24882:((h,x,t)=>{h.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}}),44965:((h,x,t)=>{h.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}}),7098:((h,x,t)=>{var o=t(84148),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function r(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var n=document.createElement("audio"),i=!!n.canPlayType;try{if(i){var e=function(s,u){var f=n.canPlayType("audio/"+s).replace(/^no$/,"");return u?!!(f||n.canPlayType("audio/"+u).replace(/^no$/,"")):!!f};if(v.ogg=e('ogg; codecs="vorbis"'),v.opus=e('ogg; codecs="opus"',"opus"),v.mp3=e("mpeg"),v.wav=e("wav"),v.m4a=e("x-m4a"),v.aac=e("aac"),v.flac=e("flac","x-flac"),v.webm=e('webm; codecs="vorbis"'),n.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)v.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var a=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(a===10&&l>=11||a>10)&&(v.dolby=!0)}}}}catch{}return v}h.exports=r()}),84148:((h,x,t)=>{var o=t(25892),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function r(){var n=navigator.userAgent;return/Edg\/\d+/.test(n)?(v.edge=!0,v.es2019=!0):/OPR/.test(n)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(n)&&!o.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(n)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(n)&&o.iOS?(v.mobileSafari=!0,v.es2019=!0):/MSIE (\d+\.\d+);/.test(n)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(n)&&!o.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(n)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(n)&&(v.silk=!0),v}h.exports=r()}),89289:((h,x,t)=>{var o=t(27919),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function r(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",a="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var s=new Image;s.onload=function(){var u=o.create2D(s,6),f=u.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(l,0,0),f.drawImage(s,2,0),!f.getImageData(2,0,1,1))return!1;var c=f.getImageData(2,0,1,1).data;o.remove(s),v.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},s.src=e+"/wCKxvRF"+a},l.src=e+"AP804Oa6"+a,!1}function n(){var e=o.create2D(this,2),a=e.getContext("2d",{willReadFrequently:!0});a.fillStyle="rgba(10, 20, 30, 0.5)",a.fillRect(0,0,1,1);var l=a.getImageData(0,0,1,1);if(l===null)return!1;a.putImageData(l,1,0);var s=a.getImageData(1,0,1,1),u=s.data[0]===l.data[0]&&s.data[1]===l.data[1]&&s.data[2]===l.data[2]&&s.data[3]===l.data[3];return o.remove(this),u}function i(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=r(),v.supportInverseAlpha=n()),v}h.exports=i()}),89357:((h,x,t)=>{var o=t(25892),v=t(84148),r=t(27919),n={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function i(){var a=new ArrayBuffer(4),l=new Uint8Array(a),s=new Uint32Array(a);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,s[0]===3569595041?!0:s[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return n;n.canvas=!!window.CanvasRenderingContext2D;try{n.localStorage=!!localStorage.getItem}catch{n.localStorage=!1}n.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,n.fileSystem=!!window.requestFileSystem;var a=!1,l=function(){if(window.WebGLRenderingContext)try{var s=r.createWebGL(this),u=s.getContext("webgl")||s.getContext("experimental-webgl"),f=r.create2D(this),c=f.getContext("2d",{willReadFrequently:!0}),d=c.createImageData(1,1);return a=d.data instanceof Uint8ClampedArray,r.remove(s),r.remove(f),!!u}catch{return!1}return!1};return n.webGL=l(),n.worker=!!window.Worker,n.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,n.getUserMedia=n.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(n.getUserMedia=!1),!o.iOS&&(v.ie||v.firefox||v.chrome)&&(n.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(n.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(n.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(n.littleEndian=i()),n.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&n.littleEndian!==null&&a,n}h.exports=e()}),91639:(h=>{var x={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return x;var o,v="Fullscreen",r="FullScreen",n=["request"+v,"request"+r,"webkitRequest"+v,"webkitRequest"+r,"msRequest"+v,"msRequest"+r,"mozRequest"+r,"mozRequest"+v];for(o=0;o<n.length;o++)if(document.documentElement[n[o]]){x.available=!0,x.request=n[o];break}var i=["cancel"+r,"exit"+v,"webkitCancel"+r,"webkitExit"+v,"msCancel"+r,"msExit"+v,"mozCancel"+r,"mozExit"+v];if(x.available){for(o=0;o<i.length;o++)if(document[i[o]]){x.cancel=i[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(x.keyboard=!0),Object.defineProperty(x,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),x}h.exports=t()}),31784:((h,x,t)=>{var o=t(84148),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function r(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}h.exports=r()}),25892:(h=>{var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return x;var o=navigator.userAgent;/Windows/.test(o)?x.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(o)?x.android=!0:/Linux/.test(o)?x.linux=!0:/iP[ao]d|iPhone/i.test(o)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=o.toLowerCase().indexOf("iphone")!==-1,x.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?x.kindle=!0:/CrOS/.test(o)&&(x.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var v=/Silk/.test(o);return(x.windows||x.macOS||x.linux&&!v||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(x.node=!0),x.node&&typeof process.versions=="object"&&(x.nodeWebkit=!!process.versions["node-webkit"],x.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}h.exports=t()}),43267:((h,x,t)=>{var o=t(95540),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function r(){if(typeof importScripts=="function")return v;var n=document.createElement("video"),i=!!n.canPlayType,e=/^no$/;try{i&&(n.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(v.ogg=!0),n.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(v.h264=!0,v.mp4=!0),n.canPlayType("video/x-m4v").replace(e,"")&&(v.m4v=!0),n.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(v.webm=!0),n.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(v.vp9=!0),n.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(v.hls=!0))}catch{}return n.parentNode&&n.parentNode.removeChild(n),v.getVideoURL=function(a){Array.isArray(a)||(a=[a]);for(var l=0;l<a.length;l++){var s=o(a[l],"url",a[l]);if(s.indexOf("blob:")===0)return{url:s,type:""};var u;if(s.indexOf("data:")===0?u=s.split(",")[0].match(/\/(.*?);/):u=s.match(/\.([a-zA-Z0-9]+)($|\?)/),u=o(a[l],"type",u?u[1]:"").toLowerCase(),v[u])return{url:s,type:u}}return null},v}h.exports=r()}),82264:((h,x,t)=>{h.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}}),89422:((h,x,t)=>{var o=t(83419),v=new Float32Array(20),r=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(n){return this._matrix.set(n),this._dirty=!0,this},reset:function(){var n=this._matrix;return n.fill(0),n[0]=1,n[6]=1,n[12]=1,n[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var n=this._data;return this._dirty&&(n.set(this._matrix),n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,this._dirty=!1),n},brightness:function(n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var e=n;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],i)},saturate:function(n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var e=n*2/3+1,a=(e-1)*-.5;return this.multiply([e,a,a,0,0,a,e,a,0,0,a,a,e,0,0,0,0,0,1,0],i)},desaturate:function(n){return n===void 0&&(n=!1),this.saturate(-1,n)},hue:function(n,i){n===void 0&&(n=0),i===void 0&&(i=!1),n=n/180*Math.PI;var e=Math.cos(n),a=Math.sin(n),l=.213,s=.715,u=.072;return this.multiply([l+e*(1-l)+a*-l,s+e*-s+a*-s,u+e*-u+a*(1-u),0,0,l+e*-l+a*.143,s+e*(1-s)+a*.14,u+e*-u+a*-.283,0,0,l+e*-l+a*-.787,s+e*-s+a*s,u+e*(1-u)+a*u,0,0,0,0,0,1,0],i)},grayscale:function(n,i){return n===void 0&&(n=1),i===void 0&&(i=!1),this.saturate(-n,i)},blackWhite:function(n){return n===void 0&&(n=!1),this.multiply(r.BLACK_WHITE,n)},contrast:function(n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var e=n+1,a=-.5*(e-1);return this.multiply([e,0,0,0,a,0,e,0,0,a,0,0,e,0,a,0,0,0,1,0],i)},negative:function(n){return n===void 0&&(n=!1),this.multiply(r.NEGATIVE,n)},desaturateLuminance:function(n){return n===void 0&&(n=!1),this.multiply(r.DESATURATE_LUMINANCE,n)},sepia:function(n){return n===void 0&&(n=!1),this.multiply(r.SEPIA,n)},night:function(n,i){return n===void 0&&(n=.1),i===void 0&&(i=!1),this.multiply([n*-2,-n,0,0,0,-n,0,n,0,0,0,n,n*2,0,0,0,0,0,1,0],i)},lsd:function(n){return n===void 0&&(n=!1),this.multiply(r.LSD,n)},brown:function(n){return n===void 0&&(n=!1),this.multiply(r.BROWN,n)},vintagePinhole:function(n){return n===void 0&&(n=!1),this.multiply(r.VINTAGE,n)},kodachrome:function(n){return n===void 0&&(n=!1),this.multiply(r.KODACHROME,n)},technicolor:function(n){return n===void 0&&(n=!1),this.multiply(r.TECHNICOLOR,n)},polaroid:function(n){return n===void 0&&(n=!1),this.multiply(r.POLAROID,n)},shiftToBGR:function(n){return n===void 0&&(n=!1),this.multiply(r.SHIFT_BGR,n)},multiply:function(n,i){i===void 0&&(i=!1),i||this.reset();var e=this._matrix,a=v;return a.set(e),e.set([a[0]*n[0]+a[1]*n[5]+a[2]*n[10]+a[3]*n[15],a[0]*n[1]+a[1]*n[6]+a[2]*n[11]+a[3]*n[16],a[0]*n[2]+a[1]*n[7]+a[2]*n[12]+a[3]*n[17],a[0]*n[3]+a[1]*n[8]+a[2]*n[13]+a[3]*n[18],a[0]*n[4]+a[1]*n[9]+a[2]*n[14]+a[3]*n[19]+a[4],a[5]*n[0]+a[6]*n[5]+a[7]*n[10]+a[8]*n[15],a[5]*n[1]+a[6]*n[6]+a[7]*n[11]+a[8]*n[16],a[5]*n[2]+a[6]*n[7]+a[7]*n[12]+a[8]*n[17],a[5]*n[3]+a[6]*n[8]+a[7]*n[13]+a[8]*n[18],a[5]*n[4]+a[6]*n[9]+a[7]*n[14]+a[8]*n[19]+a[9],a[10]*n[0]+a[11]*n[5]+a[12]*n[10]+a[13]*n[15],a[10]*n[1]+a[11]*n[6]+a[12]*n[11]+a[13]*n[16],a[10]*n[2]+a[11]*n[7]+a[12]*n[12]+a[13]*n[17],a[10]*n[3]+a[11]*n[8]+a[12]*n[13]+a[13]*n[18],a[10]*n[4]+a[11]*n[9]+a[12]*n[14]+a[13]*n[19]+a[14],a[15]*n[0]+a[16]*n[5]+a[17]*n[10]+a[18]*n[15],a[15]*n[1]+a[16]*n[6]+a[17]*n[11]+a[18]*n[16],a[15]*n[2]+a[16]*n[7]+a[17]*n[12]+a[18]*n[17],a[15]*n[3]+a[16]*n[8]+a[17]*n[13]+a[18]*n[18],a[15]*n[4]+a[16]*n[9]+a[17]*n[14]+a[18]*n[19]+a[19]]),this._dirty=!0,this}});r.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],r.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],r.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],r.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],r.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],r.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],r.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],r.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],r.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],r.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],r.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],h.exports=r}),51767:((h,x,t)=>{var o=t(83419),v=t(29747),r=new o({initialize:function(i,e,a){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(i,e,a)},set:function(n,i,e){return n===void 0&&(n=0),i===void 0&&(i=0),e===void 0&&(e=0),this._rgb=[n,i,e],this.onChange(),this},equals:function(n,i,e){var a=this._rgb;return a[0]===n&&a[1]===i&&a[2]===e},onChange:function(){this.dirty=!0;var n=this._rgb;this.onChangeCallback.call(this,n[0],n[1],n[2])},r:{get:function(){return this._rgb[0]},set:function(n){this._rgb[0]=n,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(n){this._rgb[1]=n,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(n){this._rgb[2]=n,this.onChange()}},destroy:function(){this.onChangeCallback=null}});h.exports=r}),60461:(h=>{var x={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};h.exports=x}),54312:((h,x,t)=>{var o=t(62235),v=t(35893),r=t(86327),n=t(88417),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,v(a)+l),r(e,o(a)+s),e};h.exports=i}),46768:((h,x,t)=>{var o=t(62235),v=t(26541),r=t(86327),n=t(385),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,v(a)-l),r(e,o(a)+s),e};h.exports=i}),35827:((h,x,t)=>{var o=t(62235),v=t(54380),r=t(86327),n=t(40136),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,v(a)+l),r(e,o(a)+s),e};h.exports=i}),46871:((h,x,t)=>{var o=t(66786),v=t(35893),r=t(7702),n=function(i,e,a,l){return a===void 0&&(a=0),l===void 0&&(l=0),o(i,v(e)+a,r(e)+l),i};h.exports=n}),5198:((h,x,t)=>{var o=t(7702),v=t(26541),r=t(20786),n=t(385),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,v(a)-l),r(e,o(a)+s),e};h.exports=i}),11879:((h,x,t)=>{var o=t(60461),v=[];v[o.BOTTOM_CENTER]=t(54312),v[o.BOTTOM_LEFT]=t(46768),v[o.BOTTOM_RIGHT]=t(35827),v[o.CENTER]=t(46871),v[o.LEFT_CENTER]=t(5198),v[o.RIGHT_CENTER]=t(80503),v[o.TOP_CENTER]=t(89698),v[o.TOP_LEFT]=t(922),v[o.TOP_RIGHT]=t(21373),v[o.LEFT_BOTTOM]=v[o.BOTTOM_LEFT],v[o.LEFT_TOP]=v[o.TOP_LEFT],v[o.RIGHT_BOTTOM]=v[o.BOTTOM_RIGHT],v[o.RIGHT_TOP]=v[o.TOP_RIGHT];var r=function(n,i,e,a,l){return v[e](n,i,a,l)};h.exports=r}),80503:((h,x,t)=>{var o=t(7702),v=t(54380),r=t(20786),n=t(40136),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,v(a)+l),r(e,o(a)+s),e};h.exports=i}),89698:((h,x,t)=>{var o=t(35893),v=t(17717),r=t(88417),n=t(66737),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(e,o(a)+l),n(e,v(a)-s),e};h.exports=i}),922:((h,x,t)=>{var o=t(26541),v=t(17717),r=t(385),n=t(66737),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(e,o(a)-l),n(e,v(a)-s),e};h.exports=i}),21373:((h,x,t)=>{var o=t(54380),v=t(17717),r=t(40136),n=t(66737),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(e,o(a)+l),n(e,v(a)-s),e};h.exports=i}),91660:((h,x,t)=>{h.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}}),71926:((h,x,t)=>{var o=t(60461),v=t(79291),r={In:t(91660),To:t(16694)};r=v(!1,r,o),h.exports=r}),21578:((h,x,t)=>{var o=t(62235),v=t(35893),r=t(88417),n=t(66737),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(e,v(a)+l),n(e,o(a)+s),e};h.exports=i}),10210:((h,x,t)=>{var o=t(62235),v=t(26541),r=t(385),n=t(66737),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(e,v(a)-l),n(e,o(a)+s),e};h.exports=i}),82341:((h,x,t)=>{var o=t(62235),v=t(54380),r=t(40136),n=t(66737),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(e,v(a)+l),n(e,o(a)+s),e};h.exports=i}),87958:((h,x,t)=>{var o=t(62235),v=t(26541),r=t(86327),n=t(40136),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,v(a)-l),r(e,o(a)+s),e};h.exports=i}),40080:((h,x,t)=>{var o=t(7702),v=t(26541),r=t(20786),n=t(40136),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,v(a)-l),r(e,o(a)+s),e};h.exports=i}),88466:((h,x,t)=>{var o=t(26541),v=t(17717),r=t(40136),n=t(66737),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(e,o(a)-l),n(e,v(a)-s),e};h.exports=i}),38829:((h,x,t)=>{var o=t(60461),v=[];v[o.BOTTOM_CENTER]=t(21578),v[o.BOTTOM_LEFT]=t(10210),v[o.BOTTOM_RIGHT]=t(82341),v[o.LEFT_BOTTOM]=t(87958),v[o.LEFT_CENTER]=t(40080),v[o.LEFT_TOP]=t(88466),v[o.RIGHT_BOTTOM]=t(19211),v[o.RIGHT_CENTER]=t(34609),v[o.RIGHT_TOP]=t(48741),v[o.TOP_CENTER]=t(49440),v[o.TOP_LEFT]=t(81288),v[o.TOP_RIGHT]=t(61323);var r=function(n,i,e,a,l){return v[e](n,i,a,l)};h.exports=r}),19211:((h,x,t)=>{var o=t(62235),v=t(54380),r=t(86327),n=t(385),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,v(a)+l),r(e,o(a)+s),e};h.exports=i}),34609:((h,x,t)=>{var o=t(7702),v=t(54380),r=t(20786),n=t(385),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,v(a)+l),r(e,o(a)+s),e};h.exports=i}),48741:((h,x,t)=>{var o=t(54380),v=t(17717),r=t(385),n=t(66737),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),r(e,o(a)+l),n(e,v(a)-s),e};h.exports=i}),49440:((h,x,t)=>{var o=t(35893),v=t(17717),r=t(86327),n=t(88417),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,o(a)+l),r(e,v(a)-s),e};h.exports=i}),81288:((h,x,t)=>{var o=t(26541),v=t(17717),r=t(86327),n=t(385),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,o(a)-l),r(e,v(a)-s),e};h.exports=i}),61323:((h,x,t)=>{var o=t(54380),v=t(17717),r=t(86327),n=t(40136),i=function(e,a,l,s){return l===void 0&&(l=0),s===void 0&&(s=0),n(e,o(a)+l),r(e,v(a)-s),e};h.exports=i}),16694:((h,x,t)=>{h.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}}),66786:((h,x,t)=>{var o=t(88417),v=t(20786),r=function(n,i,e){return o(n,i),v(n,e)};h.exports=r}),62235:(h=>{var x=function(t){return t.y+t.height-t.height*t.originY};h.exports=x}),72873:((h,x,t)=>{var o=t(62235),v=t(26541),r=t(54380),n=t(17717),i=t(87841),e=function(a,l){l===void 0&&(l=new i);var s=v(a),u=n(a);return l.x=s,l.y=u,l.width=r(a)-s,l.height=o(a)-u,l};h.exports=e}),35893:(h=>{var x=function(t){return t.x-t.width*t.originX+t.width*.5};h.exports=x}),7702:(h=>{var x=function(t){return t.y-t.height*t.originY+t.height*.5};h.exports=x}),26541:(h=>{var x=function(t){return t.x-t.width*t.originX};h.exports=x}),87431:(h=>{var x=function(t){return t.width*t.originX};h.exports=x}),46928:(h=>{var x=function(t){return t.height*t.originY};h.exports=x}),54380:(h=>{var x=function(t){return t.x+t.width-t.width*t.originX};h.exports=x}),17717:(h=>{var x=function(t){return t.y-t.height*t.originY};h.exports=x}),86327:(h=>{var x=function(t,o){return t.y=o-t.height+t.height*t.originY,t};h.exports=x}),88417:(h=>{var x=function(t,o){var v=t.width*t.originX;return t.x=o+v-t.width*.5,t};h.exports=x}),20786:(h=>{var x=function(t,o){var v=t.height*t.originY;return t.y=o+v-t.height*.5,t};h.exports=x}),385:(h=>{var x=function(t,o){return t.x=o+t.width*t.originX,t};h.exports=x}),40136:(h=>{var x=function(t,o){return t.x=o-t.width+t.width*t.originX,t};h.exports=x}),66737:(h=>{var x=function(t,o){return t.y=o+t.height*t.originY,t};h.exports=x}),58724:((h,x,t)=>{h.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}}),20623:(h=>{var x={setCrisp:function(t){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(v){t.style["image-rendering"]=v}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};h.exports=x}),27919:((h,x,t)=>{var o=t(8054),v=t(68703),r=[],n=!1,i=function(){var e=function(S,C,E,R,M){C===void 0&&(C=1),E===void 0&&(E=1),R===void 0&&(R=o.CANVAS),M===void 0&&(M=!1);var D,B=s(R);return B===null?(B={parent:S,canvas:document.createElement("canvas"),type:R},R===o.CANVAS&&r.push(B),D=B.canvas):(B.parent=S,D=B.canvas),M&&(B.parent=D),D.width=C,D.height=E,n&&R===o.CANVAS&&v.disable(D.getContext("2d",{willReadFrequently:!1})),D},a=function(S,C,E){return e(S,C,E,o.CANVAS)},l=function(S,C,E){return e(S,C,E,o.WEBGL)},s=function(S){if(S===void 0&&(S=o.CANVAS),S===o.WEBGL)return null;for(var C=0;C<r.length;C++){var E=r[C];if(!E.parent&&E.type===S)return E}return null},u=function(S){var C=S instanceof HTMLCanvasElement;r.forEach(function(E){(C&&E.canvas===S||!C&&E.parent===S)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},f=function(){var S=0;return r.forEach(function(C){C.parent&&S++}),S},c=function(){return r.length-f()},d=function(){n=!0},p=function(){n=!1};return{create2D:a,create:e,createWebGL:l,disableSmoothing:d,enableSmoothing:p,first:s,free:c,pool:r,remove:u,total:f}};h.exports=i()}),68703:(h=>{var x="",t=function(){var o=function(i){for(var e=["i","webkitI","msI","mozI","oI"],a=0;a<e.length;a++){var l=e[a]+"mageSmoothingEnabled";if(l in i)return l}return null},v=function(i){return x===""&&(x=o(i)),x&&(i[x]=!0),i},r=function(i){return x===""&&(x=o(i)),x&&(i[x]=!1),i},n=function(i){return x!==null?i[x]:null};return{disable:r,enable:v,getPrefix:o,isEnabled:n}};h.exports=t()}),65208:(h=>{var x=function(t,o){return o===void 0&&(o="none"),t.style.msTouchAction=o,t.style["ms-touch-action"]=o,t.style["touch-action"]=o,t};h.exports=x}),91610:(h=>{var x=function(t,o){o===void 0&&(o="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(r){t.style[r+"user-select"]=o}),t.style["-webkit-touch-callout"]=o,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};h.exports=x}),26253:((h,x,t)=>{h.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}}),40987:((h,x,t)=>{var o=t(83419),v=t(37589),r=t(1e3),n=t(7537),i=t(87837),e=new o({initialize:function(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,s,u,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(a,l,s,u,f){return u===void 0&&(u=255),f===void 0&&(f=!0),this._locked=!0,this.red=a,this.green=l,this.blue=s,this.alpha=u,this._locked=!1,this.update(f)},setGLTo:function(a,l,s,u){return u===void 0&&(u=1),this._locked=!0,this.redGL=a,this.greenGL=l,this.blueGL=s,this.alphaGL=u,this._locked=!1,this.update(!0)},setFromRGB:function(a){return this._locked=!0,this.red=a.r,this.green=a.g,this.blue=a.b,a.hasOwnProperty("a")&&(this.alpha=a.a),this._locked=!1,this.update(!0)},setFromHSV:function(a,l,s){return n(a,l,s,this)},update:function(a){if(a===void 0&&(a=!1),this._locked)return this;var l=this.r,s=this.g,u=this.b,f=this.a;return this._color=v(l,s,u),this._color32=r(l,s,u,f),this._rgba="rgba("+l+","+s+","+u+","+f/255+")",a&&i(l,s,u,this),this},updateHSV:function(){var a=this.r,l=this.g,s=this.b;return i(a,l,s,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(a){return this.setTo(a,a,a)},random:function(a,l){a===void 0&&(a=0),l===void 0&&(l=255);var s=Math.floor(a+Math.random()*(l-a)),u=Math.floor(a+Math.random()*(l-a)),f=Math.floor(a+Math.random()*(l-a));return this.setTo(s,u,f)},randomGray:function(a,l){a===void 0&&(a=0),l===void 0&&(l=255);var s=Math.floor(a+Math.random()*(l-a));return this.setTo(s,s,s)},saturate:function(a){return this.s+=a/100,this},desaturate:function(a){return this.s-=a/100,this},lighten:function(a){return this.v+=a/100,this},darken:function(a){return this.v-=a/100,this},brighten:function(a){var l=this.r,s=this.g,u=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(a/100)))),s=Math.max(0,Math.min(255,s-Math.round(255*-(a/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(a/100)))),this.setTo(l,s,u)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(a){this.gl[0]=Math.min(Math.abs(a),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(a){this.gl[1]=Math.min(Math.abs(a),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(a){this.gl[2]=Math.min(Math.abs(a),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(a){this.gl[3]=Math.min(Math.abs(a),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(a){a=Math.floor(Math.abs(a)),this.r=Math.min(a,255),this.gl[0]=a/255,this.update(!0)}},green:{get:function(){return this.g},set:function(a){a=Math.floor(Math.abs(a)),this.g=Math.min(a,255),this.gl[1]=a/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(a){a=Math.floor(Math.abs(a)),this.b=Math.min(a,255),this.gl[2]=a/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(a){a=Math.floor(Math.abs(a)),this.a=Math.min(a,255),this.gl[3]=a/255,this.update()}},h:{get:function(){return this._h},set:function(a){this._h=a,n(a,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(a){this._s=a,n(this._h,a,this._v,this)}},v:{get:function(){return this._v},set:function(a){this._v=a,n(this._h,this._s,a,this)}}});h.exports=e}),92728:((h,x,t)=>{var o=t(37589),v=function(r){r===void 0&&(r=1024);var n=[],i=255,e,a=255,l=0,s=0;for(e=0;e<=i;e++)n.push({r:a,g:e,b:s,color:o(a,e,s)});for(l=255,e=i;e>=0;e--)n.push({r:e,g:l,b:s,color:o(e,l,s)});for(a=0,e=0;e<=i;e++,l--)n.push({r:a,g:l,b:e,color:o(a,l,e)});for(l=0,s=255,e=0;e<=i;e++,s--,a++)n.push({r:a,g:l,b:s,color:o(a,l,s)});if(r===1024)return n;var u=[],f=0,c=1024/r;for(e=0;e<r;e++)u.push(n[Math.floor(f)]),f+=c;return u};h.exports=v}),91588:(h=>{var x=function(t){var o={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(o.a=t>>>24),o};h.exports=x}),62957:(h=>{var x=function(t){var o=t.toString(16);return o.length===1?"0"+o:o};h.exports=x}),37589:(h=>{var x=function(t,o,v){return t<<16|o<<8|v};h.exports=x}),1e3:(h=>{var x=function(t,o,v,r){return r<<24|t<<16|o<<8|v};h.exports=x}),62183:((h,x,t)=>{var o=t(40987),v=t(89528),r=function(n,i,e){var a=e,l=e,s=e;if(i!==0){var u=e<.5?e*(1+i):e+i-e*i,f=2*e-u;a=v(f,u,n+1/3),l=v(f,u,n),s=v(f,u,n-1/3)}var c=new o;return c.setGLTo(a,l,s,1)};h.exports=r}),27939:((h,x,t)=>{var o=t(7537),v=function(r,n){r===void 0&&(r=1),n===void 0&&(n=1);for(var i=[],e=0;e<=359;e++)i.push(o(e/359,r,n));return i};h.exports=v}),7537:((h,x,t)=>{var o=t(37589);function v(n,i,e,a){var l=(n+i*6)%6,s=Math.min(l,4-l,1);return Math.round(255*(a-a*e*Math.max(0,s)))}var r=function(n,i,e,a){i===void 0&&(i=1),e===void 0&&(e=1);var l=v(5,n,i,e),s=v(3,n,i,e),u=v(1,n,i,e);return a?a.setTo?a.setTo(l,s,u,a.alpha,!0):(a.r=l,a.g=s,a.b=u,a.color=o(l,s,u),a):{r:l,g:s,b:u,color:o(l,s,u)}};h.exports=r}),70238:((h,x,t)=>{var o=t(40987),v=function(r){var n=new o;r=r.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(s,u,f,c){return u+u+f+f+c+c});var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);if(i){var e=parseInt(i[1],16),a=parseInt(i[2],16),l=parseInt(i[3],16);n.setTo(e,a,l)}return n};h.exports=v}),89528:(h=>{var x=function(t,o,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?t+(o-t)*6*v:v<.5?o:v<.6666666666666666?t+(o-t)*(.6666666666666666-v)*6:t};h.exports=x}),30100:((h,x,t)=>{var o=t(40987),v=t(90664),r=function(n){var i=v(n);return new o(i.r,i.g,i.b,i.a)};h.exports=r}),90664:(h=>{var x=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};h.exports=x}),13699:((h,x,t)=>{var o=t(28915),v=t(37589),r=function(e,a,l,s,u,f,c,d){c===void 0&&(c=100),d===void 0&&(d=0);var p=d/c,S=o(e,s,p),C=o(a,u,p),E=o(l,f,p);return{r:S,g:C,b:E,a:255,color:v(S,C,E)}},n=function(e,a,l,s){return l===void 0&&(l=100),s===void 0&&(s=0),r(e.r,e.g,e.b,a.r,a.g,a.b,l,s)},i=function(e,a,l,s,u,f){return u===void 0&&(u=100),f===void 0&&(f=0),r(e.r,e.g,e.b,a,l,s,u,f)};h.exports={RGBWithRGB:r,ColorWithRGB:i,ColorWithColor:n}}),68957:((h,x,t)=>{var o=t(40987),v=function(r){return new o(r.r,r.g,r.b,r.a)};h.exports=v}),87388:((h,x,t)=>{var o=t(40987),v=function(r){var n=new o,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(r.toLowerCase());if(i){var e=parseInt(i[1],10),a=parseInt(i[2],10),l=parseInt(i[3],10),s=i[4]!==void 0?parseFloat(i[4]):1;n.setTo(e,a,l,s*255)}return n};h.exports=v}),87837:(h=>{var x=function(t,o,v,r){r===void 0&&(r={h:0,s:0,v:0}),t/=255,o/=255,v/=255;var n=Math.min(t,o,v),i=Math.max(t,o,v),e=i-n,a=0,l=i===0?0:e/i,s=i;return i!==n&&(i===t?a=(o-v)/e+(o<v?6:0):i===o?a=(v-t)/e+2:i===v&&(a=(t-o)/e+4),a/=6),r.hasOwnProperty("_h")?(r._h=a,r._s=l,r._v=s):(r.h=a,r.s=l,r.v=s),r};h.exports=x}),75723:((h,x,t)=>{var o=t(62957),v=function(r,n,i,e,a){return e===void 0&&(e=255),a===void 0&&(a="#"),a==="#"?"#"+((1<<24)+(r<<16)+(n<<8)+i).toString(16).slice(1,7):"0x"+o(e)+o(r)+o(n)+o(i)};h.exports=v}),85386:((h,x,t)=>{var o=t(30976),v=t(40987),r=function(n,i){return n===void 0&&(n=0),i===void 0&&(i=255),new v(o(n,i),o(n,i),o(n,i))};h.exports=r}),80333:((h,x,t)=>{var o=t(70238),v=t(30100),r=t(68957),n=t(87388),i=function(e){var a=typeof e;switch(a){case"string":return e.substr(0,3).toLowerCase()==="rgb"?n(e):o(e);case"number":return v(e);case"object":return r(e)}};h.exports=i}),3956:((h,x,t)=>{var o=t(40987);o.ColorSpectrum=t(92728),o.ColorToRGBA=t(91588),o.ComponentToHex=t(62957),o.GetColor=t(37589),o.GetColor32=t(1e3),o.HexStringToColor=t(70238),o.HSLToColor=t(62183),o.HSVColorWheel=t(27939),o.HSVToRGB=t(7537),o.HueToComponent=t(89528),o.IntegerToColor=t(30100),o.IntegerToRGB=t(90664),o.Interpolate=t(13699),o.ObjectToColor=t(68957),o.RandomRGB=t(85386),o.RGBStringToColor=t(87388),o.RGBToHSV=t(87837),o.RGBToString=t(75723),o.ValueToColor=t(80333),h.exports=o}),27460:((h,x,t)=>{h.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}}),6858:((h,x,t)=>{var o=t(83419),v=t(39429),r=new o({initialize:function(i,e,a,l,s,u){e||(e=i.sys.make.image({x:a,y:l,key:s,frame:u,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(n){this.bitmapMask=n},preRenderWebGL:function(n,i,e){n.pipelines.BITMAPMASK_PIPELINE.beginMask(this,i,e)},postRenderWebGL:function(n,i,e){n.pipelines.BITMAPMASK_PIPELINE.endMask(this,i,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(n,i,e,a,l){return new r(this.scene,n,i,e,a,l)}),h.exports=r}),80661:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i){this.geometryMask=i,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(r){return this.geometryMask=r,this},setInvertAlpha:function(r){return r===void 0&&(r=!0),this.invertAlpha=r,this},preRenderWebGL:function(r,n,i){var e=r.gl;r.flush(),r.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),r.maskCount=0),r.currentCameraMask.mask!==this&&(r.currentMask.mask=this),r.maskStack.push({mask:this,camera:i}),this.applyStencil(r,i,!0),r.maskCount++},applyStencil:function(r,n,i){var e=r.gl,a=this.geometryMask,l=r.maskCount,s=255;e.colorMask(!1,!1,!1,!1),i?(e.stencilFunc(e.EQUAL,l,s),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,s),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,a.renderWebGL(r,a,n),r.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,s):e.stencilFunc(e.EQUAL,l,s)},postRenderWebGL:function(r){var n=r.gl;r.maskStack.pop(),r.maskCount--,r.flush();var i=r.currentMask;if(r.maskStack.length===0)i.mask=null,n.disable(n.STENCIL_TEST);else{var e=r.maskStack[r.maskStack.length-1];e.mask.applyStencil(r,e.camera,!1),r.currentCameraMask.mask!==e.mask?(i.mask=e.mask,i.camera=e.camera):i.mask=null}},preRenderCanvas:function(r,n,i){var e=this.geometryMask;r.currentContext.save(),e.renderCanvas(r,e,i,null,null,!0),r.currentContext.clip()},postRenderCanvas:function(r){r.currentContext.restore()},destroy:function(){this.geometryMask=null}});h.exports=v}),69781:((h,x,t)=>{h.exports={BitmapMask:t(6858),GeometryMask:t(80661)}}),73894:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e,a){(!i||i==="")&&(i=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),a===void 0&&(a=null),this.key=n,this.fragmentSrc=i,this.vertexSrc=e,this.uniforms=a}});h.exports=v}),40366:(h=>{var x=function(t,o){var v;if(o)typeof o=="string"?v=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(v=o);else if(t.parentElement||o===null)return t;return v||(v=document.body),v.appendChild(t),t};h.exports=x}),83719:((h,x,t)=>{var o=t(40366),v=function(r){var n=r.config;if(!(!n.parent||!n.domCreateContainer)){var i=document.createElement("div");i.style.cssText=["display: block;","width: "+r.scale.width+"px;","height: "+r.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+n.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),r.domContainer=i,o(i,n.parent)}};h.exports=v}),57264:((h,x,t)=>{var o=t(25892),v=function(r){if(document.readyState==="complete"||document.readyState==="interactive"){r();return}var n=function(){document.removeEventListener("deviceready",n,!0),document.removeEventListener("DOMContentLoaded",n,!0),window.removeEventListener("load",n,!0),r()};document.body?o.cordova?document.addEventListener("deviceready",n,!1):(document.addEventListener("DOMContentLoaded",n,!0),window.addEventListener("load",n,!0)):window.setTimeout(n,20)};h.exports=v}),57811:(h=>{var x=function(t){if(!t)return window.innerHeight;var o=Math.abs(window.orientation),v={w:0,h:0},r=document.createElement("div");return r.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(r),v.w=o===90?r.offsetHeight:window.innerWidth,v.h=o===90?window.innerWidth:r.offsetHeight,document.documentElement.removeChild(r),r=null,Math.abs(window.orientation)!==90?v.h:v.w};h.exports=x}),45818:((h,x,t)=>{var o=t(13560),v=function(r,n){var i=window.screen,e=i?i.orientation||i.mozOrientation||i.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return n>r?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};h.exports=v}),74403:(h=>{var x=function(t){var o;return t!==""&&(typeof t=="string"?o=document.getElementById(t):t&&t.nodeType===1&&(o=t)),o||(o=document.body),o};h.exports=x}),56836:(h=>{var x=function(t){var o="";try{if(window.DOMParser){var v=new DOMParser;o=v.parseFromString(t,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(t)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};h.exports=x}),35846:(h=>{var x=function(t){t.parentNode&&t.parentNode.removeChild(t)};h.exports=x}),43092:((h,x,t)=>{var o=t(83419),v=t(29747),r=new o({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var i=this;this.step=function e(a){i.callback(a),i.isRunning&&(i.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){i.isRunning&&(i.timeOutID=window.setTimeout(e,i.delay)),i.callback(window.performance.now())}},start:function(n,i,e){this.isRunning||(this.callback=n,this.isSetTimeOut=i,this.delay=e,this.isRunning=!0,this.timeOutID=i?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});h.exports=r}),84902:((h,x,t)=>{var o={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};h.exports=o}),47565:((h,x,t)=>{var o=t(83419),v=t(50792),r=t(37277),n=new o({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});r.register("EventEmitter",n,"events"),h.exports=n}),93055:((h,x,t)=>{h.exports={EventEmitter:t(47565)}}),20122:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a){a===void 0&&(a=1),v.call(this,r.BARREL,e),this.amount=a}});h.exports=n}),32251:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a,l,s,u,f,c){l===void 0&&(l=1),s===void 0&&(s=1),u===void 0&&(u=1),f===void 0&&(f=1),c===void 0&&(c=4),v.call(this,r.BLOOM,e),this.steps=c,this.offsetX=l,this.offsetY=s,this.blurStrength=u,this.strength=f,this.glcolor=[1,1,1],a!=null&&(this.color=a)},color:{get:function(){var i=this.glcolor;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}}});h.exports=n}),9047:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a,l,s,u,f,c){a===void 0&&(a=0),l===void 0&&(l=2),s===void 0&&(s=2),u===void 0&&(u=1),c===void 0&&(c=4),v.call(this,r.BLUR,e),this.quality=a,this.x=l,this.y=s,this.steps=c,this.strength=u,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var i=this.glcolor;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}}});h.exports=n}),27885:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a,l,s,u,f,c,d){a===void 0&&(a=.5),l===void 0&&(l=1),s===void 0&&(s=.2),u===void 0&&(u=!1),f===void 0&&(f=1),c===void 0&&(c=1),d===void 0&&(d=1),v.call(this,r.BOKEH,e),this.radius=a,this.amount=l,this.contrast=s,this.isTiltShift=u,this.strength=d,this.blurX=f,this.blurY=c}});h.exports=n}),12578:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a,l,s,u,f){a===void 0&&(a=8),u===void 0&&(u=1),f===void 0&&(f=.005),v.call(this,r.CIRCLE,e),this.scale=u,this.feather=f,this.thickness=a,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),s!=null&&(this.backgroundColor=s)},color:{get:function(){var i=this.glcolor;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}},backgroundColor:{get:function(){var i=this.glcolor2;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor2;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(i){this.glcolor2[3]=i}}});h.exports=n}),15802:((h,x,t)=>{var o=t(83419),v=t(89422),r=t(14811),n=new o({Extends:v,initialize:function(e){v.call(this),this.type=r.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});h.exports=n}),72898:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i){this.type=n,this.gameObject=i,this.active=!0},setActive:function(r){return this.active=r,this},destroy:function(){this.gameObject=null,this.active=!1}});h.exports=v}),44553:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a,l,s){a===void 0&&(a="__WHITE"),l===void 0&&(l=.005),s===void 0&&(s=.005),v.call(this,r.DISPLACEMENT,e),this.x=l,this.y=s,this.glTexture,this.setTexture(a)},setTexture:function(i){var e=this.gameObject.scene.sys.textures.getFrame(i);return e&&(this.glTexture=e.glTexture),this}});h.exports=n}),68531:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a,l,s,u){l===void 0&&(l=4),s===void 0&&(s=0),u===void 0&&(u=!1),v.call(this,r.GLOW,e),this.outerStrength=l,this.innerStrength=s,this.knockout=u,this.glcolor=[1,1,1,1],a!==void 0&&(this.color=a)},color:{get:function(){var i=this.glcolor;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}}});h.exports=n}),37102:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a,l,s,u,f,c,d,p){s===void 0&&(s=.2),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=1),p===void 0&&(p=0),v.call(this,r.GRADIENT,e),this.alpha=s,this.size=p,this.fromX=u,this.fromY=f,this.toX=c,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],a!=null&&(this.color1=a),l!=null&&(this.color2=l)},color1:{get:function(){var i=this.glcolor1;return(i[0]<<16)+(i[1]<<8)+(i[2]|0)},set:function(i){var e=this.glcolor1;e[0]=i>>16&255,e[1]=i>>8&255,e[2]=i&255}},color2:{get:function(){var i=this.glcolor2;return(i[0]<<16)+(i[1]<<8)+(i[2]|0)},set:function(i){var e=this.glcolor2;e[0]=i>>16&255,e[1]=i>>8&255,e[2]=i&255}}});h.exports=n}),86886:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a){a===void 0&&(a=1),v.call(this,r.PIXELATE,e),this.amount=a}});h.exports=n}),92322:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a,l,s,u,f,c,d){a===void 0&&(a=0),l===void 0&&(l=0),s===void 0&&(s=.1),u===void 0&&(u=1),c===void 0&&(c=6),d===void 0&&(d=1),v.call(this,r.SHADOW,e),this.x=a,this.y=l,this.decay=s,this.power=u,this.glcolor=[0,0,0,1],this.samples=c,this.intensity=d,f!==void 0&&(this.color=f)},color:{get:function(){var i=this.glcolor;return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)},set:function(i){var e=this.glcolor;e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255}}});h.exports=n}),39563:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a,l,s,u){a===void 0&&(a=.5),l===void 0&&(l=.5),s===void 0&&(s=3),u===void 0&&(u=!1),v.call(this,r.SHINE,e),this.speed=a,this.lineWidth=l,this.gradient=s,this.reveal=u}});h.exports=n}),56448:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a,l,s,u){a===void 0&&(a=.5),l===void 0&&(l=.5),s===void 0&&(s=.5),u===void 0&&(u=.5),v.call(this,r.VIGNETTE,e),this.x=a,this.y=l,this.radius=s,this.strength=u}});h.exports=n}),38433:((h,x,t)=>{var o=t(83419),v=t(72898),r=t(14811),n=new o({Extends:v,initialize:function(e,a,l,s,u){a===void 0&&(a=.1),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),v.call(this,r.WIPE,e),this.progress=0,this.wipeWidth=a,this.direction=l,this.axis=s,this.reveal=u}});h.exports=n}),14811:(h=>{var x={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};h.exports=x}),66064:((h,x,t)=>{var o=t(79291),v=t(14811),r={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};r=o(!1,r,v),h.exports=r}),25305:((h,x,t)=>{var o=t(10312),v=t(23568),r=function(n,i,e){i.x=v(e,"x",0),i.y=v(e,"y",0),i.depth=v(e,"depth",0),i.flipX=v(e,"flipX",!1),i.flipY=v(e,"flipY",!1);var a=v(e,"scale",null);typeof a=="number"?i.setScale(a):a!==null&&(i.scaleX=v(a,"x",1),i.scaleY=v(a,"y",1));var l=v(e,"scrollFactor",null);typeof l=="number"?i.setScrollFactor(l):l!==null&&(i.scrollFactorX=v(l,"x",1),i.scrollFactorY=v(l,"y",1)),i.rotation=v(e,"rotation",0);var s=v(e,"angle",null);s!==null&&(i.angle=s),i.alpha=v(e,"alpha",1);var u=v(e,"origin",null);if(typeof u=="number")i.setOrigin(u);else if(u!==null){var f=v(u,"x",.5),c=v(u,"y",.5);i.setOrigin(f,c)}i.blendMode=v(e,"blendMode",o.NORMAL),i.visible=v(e,"visible",!0);var d=v(e,"add",!0);return d&&n.sys.displayList.add(i),i.preUpdate&&n.sys.updateList.add(i),i};h.exports=r}),13059:((h,x,t)=>{var o=t(23568),v=function(r,n){var i=o(n,"anims",null);if(i===null)return r;if(typeof i=="string")r.anims.play(i);else if(typeof i=="object"){var e=r.anims,a=o(i,"key",void 0);if(a){var l=o(i,"startFrame",void 0),s=o(i,"delay",0),u=o(i,"repeat",0),f=o(i,"repeatDelay",0),c=o(i,"yoyo",!1),d=o(i,"play",!1),p=o(i,"delayedPlay",0),S={key:a,delay:s,repeat:u,repeatDelay:f,yoyo:c,startFrame:l};d?e.play(S):p>0?e.playAfterDelay(S,p):e.load(S)}}return r};h.exports=v}),8050:((h,x,t)=>{var o=t(83419),v=t(73162),r=t(37277),n=t(51708),i=t(44594),e=t(19186),a=new o({Extends:v,initialize:function(s){v.call(this,s),this.sortChildrenFlag=!1,this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.events.once(i.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(n.ADDED_TO_SCENE,l,this.scene),this.events.emit(i.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(n.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(i.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,s){return l._depth-s._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list,s=l.length;s--;)l[s]&&l[s].destroy(!0);l.length=0,this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});r.register("DisplayList",a,"displayList"),h.exports=a}),95643:((h,x,t)=>{var o=t(83419),v=t(53774),r=t(45893),n=t(50792),i=t(51708),e=t(44594),a=new o({Extends:n,initialize:function(s,u){n.call(this),this.scene=s,this.displayList=null,this.type=u,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(i.ADDED_TO_SCENE,this.addedToScene,this),this.on(i.REMOVED_FROM_SCENE,this.removedFromScene,this),s.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(l,s){return this.data||(this.data=new r(this)),this.data.set(l,s),this},incData:function(l,s){return this.data||(this.data=new r(this)),this.data.inc(l,s),this},toggleData:function(l){return this.data||(this.data=new r(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new r(this)),this.data.get(l)},setInteractive:function(l,s,u){return this.scene.sys.input.enable(this,l,s,u),this},disableInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.disable(this,l),this},removeInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.clear(this),l&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(l){var s=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!s||a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,s=this.parentContainer,u=[];s&&(u.unshift(s.getIndex(l)),l=s,s.parentContainer);)s=s.parentContainer;return this.displayList?u.unshift(this.displayList.getIndex(l)):u.unshift(this.scene.sys.displayList.getIndex(l)),u},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(i.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(i.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var l=null;return this.parentContainer?l=this.parentContainer.list:this.displayList&&(l=this.displayList.list),l},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(i.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});a.RENDER_MASK=15,h.exports=a}),44603:((h,x,t)=>{var o=t(83419),v=t(37277),r=t(44594),n=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});n.register=function(i,e){n.prototype.hasOwnProperty(i)||(n.prototype[i]=e)},n.remove=function(i){n.prototype.hasOwnProperty(i)&&delete n.prototype[i]},v.register("GameObjectCreator",n,"make"),h.exports=n}),39429:((h,x,t)=>{var o=t(83419),v=t(37277),r=t(44594),n=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},existing:function(i){return(i.renderCanvas||i.renderWebGL)&&this.displayList.add(i),i.preUpdate&&this.updateList.add(i),i},shutdown:function(){this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});n.register=function(i,e){n.prototype.hasOwnProperty(i)||(n.prototype[i]=e)},n.remove=function(i){n.prototype.hasOwnProperty(i)&&delete n.prototype[i]},v.register("GameObjectFactory",n,"add"),h.exports=n}),91296:((h,x,t)=>{var o=t(61340),v=new o,r=new o,n=new o,i={camera:v,sprite:r,calc:n},e=function(a,l,s){var u=v,f=r,c=n;return f.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),u.copyFrom(l.matrix),s?(u.multiplyWithOffset(s,-l.scrollX*a.scrollFactorX,-l.scrollY*a.scrollFactorY),f.e=a.x,f.f=a.y):(f.e-=l.scrollX*a.scrollFactorX,f.f-=l.scrollY*a.scrollFactorY),u.multiply(f,c),i};h.exports=e}),45027:((h,x,t)=>{var o=t(83419),v=t(25774),r=t(37277),n=t(44594),i=new o({Extends:v,initialize:function(a){v.call(this),this.checkQueue=!0,this.scene=a,this.systems=a.sys,a.sys.events.once(n.BOOT,this.boot,this),a.sys.events.on(n.START,this.start,this)},boot:function(){this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(n.PRE_UPDATE,this.update,this),e.on(n.UPDATE,this.sceneUpdate,this),e.once(n.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,a){for(var l=this._active,s=l.length,u=0;u<s;u++){var f=l[u];f.active&&f.preUpdate.call(f,e,a)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var a=this.systems.events;a.off(n.PRE_UPDATE,this.update,this),a.off(n.UPDATE,this.sceneUpdate,this),a.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(n.START,this.start,this),this.scene=null,this.systems=null}});r.register("UpdateList",i,"updateList"),h.exports=i}),3217:(h=>{var x=function(t,o,v,r,n,i,e,a,l,s,u,f,c,d,p){var S=v.x-o.displayOriginX+n,C=v.y-o.displayOriginY+i,E=S+v.w,R=C+v.h,M=e.a,D=e.b,B=e.c,b=e.d,I=e.e,N=e.f,z=S*M+C*B+I,H=S*D+C*b+N,X=S*M+R*B+I,W=S*D+R*b+N,V=E*M+R*B+I,U=E*D+R*b+N,F=E*M+C*B+I,k=E*D+C*b+N;a&&(z=Math.round(z),H=Math.round(H),X=Math.round(X),W=Math.round(W),V=Math.round(V),U=Math.round(U),F=Math.round(F),k=Math.round(k)),t.batchQuad(o,z,H,X,W,V,U,F,k,r.u0,r.v0,r.u1,r.v1,l,s,u,f,c,d,p)};h.exports=x}),53048:(h=>{var x=function(t,o,v,r){if(v===void 0&&(v=!1),r===void 0)return r={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},r;var n=t.text,i=n.length,e=t.maxWidth,a=t.wordWrapCharCode,l=Number.MAX_VALUE,s=Number.MAX_VALUE,u=0,f=0,c=t.fontData.chars,d=t.fontData.lineHeight,p=t.letterSpacing,S=t.lineSpacing,C=0,E=0,R=0,M=null,D=t._align,B=0,b=0,I=t.fontSize/t.fontData.size,N=I*t.scaleX,z=I*t.scaleY,H=null,X=0,W=[],V=Number.MAX_VALUE,U=0,F=0,k=0,Y,Z,j,J=[],q=[],et=null,it=function(st,ct){for(var pt=0,yt=0;yt<st.length;yt++){var kt=st.charCodeAt(yt),Jt=ct.chars[kt];Jt&&(pt+=Jt.xAdvance)}return pt*N};if(e>0){j=n.split(`
`);var at=[];for(Y=0;Y<j.length;Y++){var ut=j[Y],dt="",ft="",xt="",At="";for(Z=0;Z<ut.length;Z++)if(R=ut.charCodeAt(Z),dt+=ut[Z],R===a||Z===ut.length-1){At=xt+dt;var gt=it(At,t.fontData);gt<=e?xt=At:(ft=ft.slice(0,-1),ft+=(ft?`
`:"")+xt,xt=dt),dt=""}ft=ft.slice(0,-1),ft+=(ft?`
`:"")+xt,at.push(ft)}n=at.join(`
`),r.wrappedText=n,i=n.length}var Wt=0;for(Y=0;Y<i;Y++){if(R=n.charCodeAt(Y),R===10){et!==null&&(J.push({word:et.word,i:et.i,x:et.x*N,y:et.y*z,w:et.w*N,h:et.h*z}),et=null),H=null,W[F]=k,k>U&&(U=k),k<V&&(V=k),F++,k=0,C=0,E=(d+S)*F;continue}if(M=c[R],!!M){if(B=C,b=E,H!==null){var Ht=M.kerning[X];B+=Ht!==void 0?Ht:0}l>B&&(l=B),s>b&&(s=b);var Gt=B+M.xAdvance,Ot=b+d;u<Gt&&(u=Gt),f<Ot&&(f=Ot);var Bt=M.xOffset+M.xAdvance+(Ht!==void 0?Ht:0);R===a?et!==null&&(J.push({word:et.word,i:et.i,x:et.x*N,y:et.y*z,w:et.w*N,h:et.h*z}),et=null):(et===null&&(et={word:"",i:Wt,x:C,y:E,w:0,h:d}),et.word=et.word.concat(n[Y]),et.w+=Bt),q.push({i:Wt,idx:Y,char:n[Y],code:R,x:(M.xOffset+B)*I,y:(M.yOffset+E)*I,w:M.width*I,h:M.height*I,t:E*I,r:Gt*I,b:d*I,line:F,glyph:M}),C+=M.xAdvance+p+(Ht!==void 0?Ht:0),H=M,X=R,k=Gt*I,Wt++}}if(et!==null&&J.push({word:et.word,i:et.i,x:et.x*N,y:et.y*z,w:et.w*N,h:et.h*z}),W[F]=k,k>U&&(U=k),k<V&&(V=k),D>0)for(var Pt=0;Pt<q.length;Pt++){var te=q[Pt];if(D===1){var _t=(U-W[te.line])/2;te.x+=_t,te.r+=_t}else if(D===2){var nt=U-W[te.line];te.x+=nt,te.r+=nt}}var $=r.local,_=r.global;return j=r.lines,$.x=l*I,$.y=s*I,$.width=u*I,$.height=f*I,_.x=t.x-t._displayOriginX+l*N,_.y=t.y-t._displayOriginY+s*z,_.width=u*N,_.height=f*z,j.shortest=V,j.longest=U,j.lengths=W,o&&($.x=Math.ceil($.x),$.y=Math.ceil($.y),$.width=Math.ceil($.width),$.height=Math.ceil($.height),_.x=Math.ceil(_.x),_.y=Math.ceil(_.y),_.width=Math.ceil(_.width),_.height=Math.ceil(_.height),j.shortest=Math.ceil(V),j.longest=Math.ceil(U)),v&&(t._displayOriginX=t.originX*$.width,t._displayOriginY=t.originY*$.height,_.x=t.x-t._displayOriginX*t.scaleX,_.y=t.y-t._displayOriginY*t.scaleY,o&&(_.x=Math.ceil(_.x),_.y=Math.ceil(_.y))),r.words=J,r.characters=q,r.lines.height=d,r.scale=I,r.scaleX=t.scaleX,r.scaleY=t.scaleY,r};h.exports=x}),61327:((h,x,t)=>{var o=t(21859),v=function(r,n,i,e,a,l,s){var u=r.sys.textures.get(i),f=u.get(e),c=r.sys.cache.xml.get(a);if(f&&c){var d=o(c,f,l,s,u);return r.sys.cache.bitmapFont.add(n,{data:d,texture:i,frame:e,fromAtlas:!0}),!0}else return!1};h.exports=v}),6925:((h,x,t)=>{var o=t(35154),v=function(r,n){var i=n.width,e=n.height,a=Math.floor(i/2),l=Math.floor(e/2),s=o(n,"chars","");if(s!==""){var u=o(n,"image",""),f=r.sys.textures.getFrame(u),c=f.cutX,d=f.cutY,p=f.source.width,S=f.source.height,C=o(n,"offset.x",0),E=o(n,"offset.y",0),R=o(n,"spacing.x",0),M=o(n,"spacing.y",0),D=o(n,"lineSpacing",0),B=o(n,"charsPerRow",null);B===null&&(B=p/i,B>s.length&&(B=s.length));for(var b=C,I=E,N={retroFont:!0,font:u,size:i,lineHeight:e+D,chars:{}},z=0,H=0;H<s.length;H++){var X=s.charCodeAt(H),W=(c+b)/p,V=(d+I)/S,U=(c+b+i)/p,F=(d+I+e)/S;N.chars[X]={x:b,y:I,width:i,height:e,centerX:a,centerY:l,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{},u0:W,v0:V,u1:U,v1:F},z++,z===B?(z=0,b=C,I+=e+M):b+=i+R}var k={data:N,frame:null,texture:u};return k}};h.exports=v}),21859:(h=>{function x(o,v){return parseInt(o.getAttribute(v),10)}var t=function(o,v,r,n,i){r===void 0&&(r=0),n===void 0&&(n=0);var e=v.cutX,a=v.cutY,l=v.source.width,s=v.source.height,u=v.sourceIndex,f={},c=o.getElementsByTagName("info")[0],d=o.getElementsByTagName("common")[0];f.font=c.getAttribute("face"),f.size=x(c,"size"),f.lineHeight=x(d,"lineHeight")+n,f.chars={};var p=o.getElementsByTagName("char"),S=v!==void 0&&v.trimmed;if(S)var C=v.height,E=v.width;for(var R=0;R<p.length;R++){var M=p[R],D=x(M,"id"),B=String.fromCharCode(D),b=x(M,"x"),I=x(M,"y"),N=x(M,"width"),z=x(M,"height");S&&(b<E&&(E=b),I<C&&(C=I)),S&&C!==0&&E!==0&&(b-=v.x,I-=v.y);var H=(e+b)/l,X=(a+I)/s,W=(e+b+N)/l,V=(a+I+z)/s;if(f.chars[D]={x:b,y:I,width:N,height:z,centerX:Math.floor(N/2),centerY:Math.floor(z/2),xOffset:x(M,"xoffset"),yOffset:x(M,"yoffset"),xAdvance:x(M,"xadvance")+r,data:{},kerning:{},u0:H,v0:X,u1:W,v1:V},i&&N!==0&&z!==0){var U=i.add(B,u,b,I,N,z);U&&U.setUVs(N,z,H,X,W,V)}}var F=o.getElementsByTagName("kerning");for(R=0;R<F.length;R++){var k=F[R],Y=x(k,"first"),Z=x(k,"second"),j=x(k,"amount");f.chars[Z].kerning[Y]=j}return f};h.exports=t}),196:((h,x,t)=>{var o=t(87662),v=t(79291),r={Parse:t(6925)};r=v(!1,r,o),h.exports=r}),87662:(h=>{var x={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};h.exports=x}),2638:((h,x,t)=>{var o=t(22186),v=t(83419),r=t(12310),n=new v({Extends:o,Mixins:[r],initialize:function(e,a,l,s,u,f,c){o.call(this,e,a,l,s,u,f,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(i,e){return this.cropWidth=i,this.cropHeight=e,this},setDisplayCallback:function(i){return this.displayCallback=i,this},setScrollX:function(i){return this.scrollX=i,this},setScrollY:function(i){return this.scrollY=i,this}});h.exports=n}),86741:((h,x,t)=>{var o=t(20926),v=function(r,n,i,e){var a=n._text,l=a.length,s=r.currentContext;if(!(l===0||!o(r,s,n,i,e))){i.addToRenderList(n);var u=n.fromAtlas?n.frame:n.texture.frames.__BASE,f=n.displayCallback,c=n.callbackData,d=n.fontData.chars,p=n.fontData.lineHeight,S=n._letterSpacing,C=0,E=0,R=0,M=null,D=0,B=0,b=0,I=0,N=0,z=0,H=null,X=0,W=n.frame.source.image,V=u.cutX,U=u.cutY,F=0,k=0,Y=n._fontSize/n.fontData.size,Z=n._align,j=0,J=0;n.getTextBounds(!1);var q=n._bounds.lines;Z===1?J=(q.longest-q.lengths[0])/2:Z===2&&(J=q.longest-q.lengths[0]),s.translate(-n.displayOriginX,-n.displayOriginY);var et=i.roundPixels;n.cropWidth>0&&n.cropHeight>0&&(s.beginPath(),s.rect(0,0,n.cropWidth,n.cropHeight),s.clip());for(var it=0;it<l;it++){if(k=Y,F=0,R=a.charCodeAt(it),R===10){j++,Z===1?J=(q.longest-q.lengths[j])/2:Z===2&&(J=q.longest-q.lengths[j]),C=0,E+=p,H=null;continue}if(M=d[R],!!M){if(D=V+M.x,B=U+M.y,b=M.width,I=M.height,N=M.xOffset+C-n.scrollX,z=M.yOffset+E-n.scrollY,H!==null){var at=M.kerning[X];N+=at!==void 0?at:0}if(f){c.index=it,c.charCode=R,c.x=N,c.y=z,c.scale=k,c.rotation=F,c.data=M.data;var ut=f(c);N=ut.x,z=ut.y,k=ut.scale,F=ut.rotation}N*=k,z*=k,N+=J,C+=M.xAdvance+S+(at!==void 0?at:0),H=M,X=R,!(b===0||I===0||R===32)&&(et&&(N=Math.round(N),z=Math.round(z)),s.save(),s.translate(N,z),s.rotate(F),s.scale(k,k),s.drawImage(W,D,B,b,I,0,0,b,I),s.restore())}}s.restore()}};h.exports=v}),11164:((h,x,t)=>{var o=t(2638),v=t(25305),r=t(44603),n=t(23568);r.register("dynamicBitmapText",function(i,e){i===void 0&&(i={});var a=n(i,"font",""),l=n(i,"text",""),s=n(i,"size",!1),u=new o(this.scene,0,0,a,l,s);return e!==void 0&&(i.add=e),v(this.scene,u,i),u})}),72566:((h,x,t)=>{var o=t(2638),v=t(39429);v.register("dynamicBitmapText",function(r,n,i,e,a){return this.displayList.add(new o(this.scene,r,n,i,e,a))})}),12310:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(73482),r=t(86741),h.exports={renderWebGL:v,renderCanvas:r}}),73482:((h,x,t)=>{var o=t(91296),v=t(61340),r=t(70554),n=new v,i=function(e,a,l,s){var u=a.text,f=u.length;if(f!==0){l.addToRenderList(a);var c=e.pipelines.set(a.pipeline,a),d=o(a,l,s);e.pipelines.preBatch(a);var p=d.sprite,S=d.calc,C=n,E=a.cropWidth>0||a.cropHeight>0;E&&(c.flush(),e.pushScissor(S.tx,S.ty,a.cropWidth*S.scaleX,a.cropHeight*S.scaleY));var R=a.frame,M=R.glTexture,D=a.tintFill,B=r.getTintAppendFloatAlpha(a.tintTopLeft,l.alpha*a._alphaTL),b=r.getTintAppendFloatAlpha(a.tintTopRight,l.alpha*a._alphaTR),I=r.getTintAppendFloatAlpha(a.tintBottomLeft,l.alpha*a._alphaBL),N=r.getTintAppendFloatAlpha(a.tintBottomRight,l.alpha*a._alphaBR),z=c.setGameObject(a),H=0,X=0,W=0,V=0,U=a.letterSpacing,F,k=0,Y=0,Z,j=a.scrollX,J=a.scrollY,q=a.fontData,et=q.chars,it=q.lineHeight,at=a.fontSize/q.size,ut=0,dt=a._align,ft=0,xt=0,At=a.getTextBounds(!1);a.maxWidth>0&&(u=At.wrappedText,f=u.length);var gt=a._bounds.lines;dt===1?xt=(gt.longest-gt.lengths[0])/2:dt===2&&(xt=gt.longest-gt.lengths[0]);for(var Wt=l.roundPixels,Ht=a.displayCallback,Gt=a.callbackData,Ot=0;Ot<f;Ot++){if(W=u.charCodeAt(Ot),W===10){ft++,dt===1?xt=(gt.longest-gt.lengths[ft])/2:dt===2&&(xt=gt.longest-gt.lengths[ft]),H=0,X+=it,Z=null;continue}if(F=et[W],!!F){k=F.width,Y=F.height;var Bt=F.xOffset+H-j,Pt=F.yOffset+X-J;if(Z!==null){var te=F.kerning[V]||0;Bt+=te,H+=te}if(H+=F.xAdvance+U,Z=F,V=W,!(k===0||Y===0||W===32)){if(at=a.fontSize/a.fontData.size,ut=0,Ht){Gt.color=0,Gt.tint.topLeft=B,Gt.tint.topRight=b,Gt.tint.bottomLeft=I,Gt.tint.bottomRight=N,Gt.index=Ot,Gt.charCode=W,Gt.x=Bt,Gt.y=Pt,Gt.scale=at,Gt.rotation=ut,Gt.data=F.data;var _t=Ht(Gt);Bt=_t.x,Pt=_t.y,at=_t.scale,ut=_t.rotation,_t.color?(B=_t.color,b=_t.color,I=_t.color,N=_t.color):(B=_t.tint.topLeft,b=_t.tint.topRight,I=_t.tint.bottomLeft,N=_t.tint.bottomRight),B=r.getTintAppendFloatAlpha(B,l.alpha*a._alphaTL),b=r.getTintAppendFloatAlpha(b,l.alpha*a._alphaTR),I=r.getTintAppendFloatAlpha(I,l.alpha*a._alphaBL),N=r.getTintAppendFloatAlpha(N,l.alpha*a._alphaBR)}Bt*=at,Pt*=at,Bt-=a.displayOriginX,Pt-=a.displayOriginY,Bt+=xt,C.applyITRS(Bt,Pt,ut,at,at),S.multiply(C,p);var nt=F.u0,$=F.v0,_=F.u1,st=F.v1,ct=k,pt=Y,yt=p.e,kt=p.f,Jt=pt*p.c+p.e,qt=pt*p.d+p.f,xe=ct*p.a+pt*p.c+p.e,re=ct*p.b+pt*p.d+p.f,Ne=ct*p.a+p.e,Ni=ct*p.b+p.f;Wt&&(yt=Math.round(yt),kt=Math.round(kt),Jt=Math.round(Jt),qt=Math.round(qt),xe=Math.round(xe),re=Math.round(re),Ne=Math.round(Ne),Ni=Math.round(Ni)),c.shouldFlush(6)&&(c.flush(),z=c.setGameObject(a)),c.batchQuad(a,yt,kt,Jt,qt,xe,re,Ne,Ni,nt,$,_,st,B,b,I,N,D,M,z)}}}E&&(c.flush(),e.popScissor()),e.pipelines.postBatch(a)}};h.exports=i}),22186:((h,x,t)=>{var o=t(83419),v=t(45319),r=t(31401),n=t(95643),i=t(53048),e=t(61327),a=t(21859),l=t(87841),s=t(18658),u=new o({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Texture,r.Tint,r.Transform,r.Visible,s],initialize:function(c,d,p,S,C,E,R){C===void 0&&(C=""),R===void 0&&(R=0),n.call(this,c,"BitmapText"),this.font=S;var M=this.scene.sys.cache.bitmapFont.get(S);if(!M)throw new Error("Invalid BitmapText key: "+S);this.fontData=M.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=R,this._bounds=i(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=M.fromAtlas,this.setTexture(M.texture,M.frame),this.setPosition(d,p),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(C)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,c,d,p){return f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=.5),this.dropShadowX=f,this.dropShadowY=c,this.dropShadowColor=d,this.dropShadowAlpha=p,this},setCharacterTint:function(f,c,d,p,S,C,E){f===void 0&&(f=0),c===void 0&&(c=1),d===void 0&&(d=!1),p===void 0&&(p=-1),S===void 0&&(S=p,C=p,E=p);var R=this.text.length;c===-1&&(c=R),f<0&&(f=R+f),f=v(f,0,R-1);for(var M=v(f+c,f,R),D=this.charColors,B=f;B<M;B++){var b=D[B];if(p===-1)D[B]=null;else{var I=d?1:0;b?(b.tintEffect=I,b.tintTL=p,b.tintTR=S,b.tintBL=C,b.tintBR=E):D[B]={tintEffect:I,tintTL:p,tintTR:S,tintBL:C,tintBR:E}}}return this},setWordTint:function(f,c,d,p,S,C,E){c===void 0&&(c=1);for(var R=this.getTextBounds(),M=R.words,D=typeof f=="number",B=0,b=0;b<M.length;b++){var I=M[b];if((D&&b===f||!D&&I.word===f)&&(this.setCharacterTint(I.i,I.word.length,d,p,S,C,E),B++,B===c))return this}return this},getTextBounds:function(f){var c=this._bounds;return(this._dirty||f||this.scaleX!==c.scaleX||this.scaleY!==c.scaleY)&&(i(this,f,!0,c),this._dirty=!1),c},getCharacterAt:function(f,c,d){for(var p=this.getLocalPoint(f,c,null,d),S=this.getTextBounds(),C=S.characters,E=new l,R=0;R<C.length;R++){var M=C[R];if(E.setTo(M.x,M.t,M.r-M.x,M.b),E.contains(p.x,p.y))return M}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,c,d){c===void 0&&(c=this._fontSize),d===void 0&&(d=this._align);var p=this.scene.sys.cache.bitmapFont.get(f);return p&&(this.font=f,this.fontData=p.data,this._fontSize=c,this._align=d,this.fromAtlas=p.fromAtlas===!0,this.setTexture(p.texture,p.frame),i(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,c){return this._maxWidth=f,this._dirty=!0,c!==void 0&&(this.wordWrapCharCode=c),this},setDisplaySize:function(f,c){this.setScale(1,1),this.getTextBounds(!1);var d=f/this.width,p=c/this.height;return this.setScale(d,p),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(f){this.setScaleX(1),this.getTextBounds(!1);var c=f/this.width;this.setScaleX(c)},get:function(){return this.width}},displayHeight:{set:function(f){this.setScaleY(1),this.getTextBounds(!1);var c=f/this.height;this.setScaleY(c)},get:function(){return this.height}},toJSON:function(){var f=r.ToJSON(this),c={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=c,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=e,u.ParseXMLBitmapFont=a,h.exports=u}),37289:((h,x,t)=>{var o=t(20926),v=function(r,n,i,e){var a=n._text,l=a.length,s=r.currentContext;if(!(l===0||!o(r,s,n,i,e))){i.addToRenderList(n);var u=n.fromAtlas?n.frame:n.texture.frames.__BASE,f=n.fontData.chars,c=n.fontData.lineHeight,d=n._letterSpacing,p=n._lineSpacing,S=0,C=0,E=0,R=null,M=0,D=0,B=0,b=0,I=0,N=0,z=null,H=0,X=u.source.image,W=u.cutX,V=u.cutY,U=n._fontSize/n.fontData.size,F=n._align,k=0,Y=0,Z=n.getTextBounds(!1);n.maxWidth>0&&(a=Z.wrappedText,l=a.length);var j=n._bounds.lines;F===1?Y=(j.longest-j.lengths[0])/2:F===2&&(Y=j.longest-j.lengths[0]),s.translate(-n.displayOriginX,-n.displayOriginY);for(var J=i.roundPixels,q=0;q<l;q++){if(E=a.charCodeAt(q),E===10){k++,F===1?Y=(j.longest-j.lengths[k])/2:F===2&&(Y=j.longest-j.lengths[k]),S=0,C+=c+p,z=null;continue}if(R=f[E],!!R){if(M=W+R.x,D=V+R.y,B=R.width,b=R.height,I=R.xOffset+S,N=R.yOffset+C,z!==null){var et=R.kerning[H];I+=et!==void 0?et:0}I*=U,N*=U,I+=Y,S+=R.xAdvance+d+(et!==void 0?et:0),z=R,H=E,!(B===0||b===0||E===32)&&(J&&(I=Math.round(I),N=Math.round(N)),s.save(),s.translate(I,N),s.scale(U,U),s.drawImage(X,M,D,B,b,0,0,B,b),s.restore())}}s.restore()}};h.exports=v}),57336:((h,x,t)=>{var o=t(22186),v=t(25305),r=t(44603),n=t(23568),i=t(35154);r.register("bitmapText",function(e,a){e===void 0&&(e={});var l=i(e,"font",""),s=n(e,"text",""),u=n(e,"size",!1),f=i(e,"align",0),c=new o(this.scene,0,0,l,s,u,f);return a!==void 0&&(e.add=a),v(this.scene,c,e),c})}),34914:((h,x,t)=>{var o=t(22186),v=t(39429);v.register("bitmapText",function(r,n,i,e,a,l){return this.displayList.add(new o(this.scene,r,n,i,e,a,l))})}),18658:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(33590),r=t(37289),h.exports={renderWebGL:v,renderCanvas:r}}),33590:((h,x,t)=>{var o=t(3217),v=t(91296),r=t(70554),n=function(i,e,a,l){var s=e._text,u=s.length;if(u!==0){a.addToRenderList(e);var f=i.pipelines.set(e.pipeline,e),c=v(e,a,l).calc;i.pipelines.preBatch(e);var d=a.roundPixels,p=a.alpha,S=e.charColors,C=e.tintFill,E=r.getTintAppendFloatAlpha,R=E(e.tintTopLeft,p*e._alphaTL),M=E(e.tintTopRight,p*e._alphaTR),D=E(e.tintBottomLeft,p*e._alphaBL),B=E(e.tintBottomRight,p*e._alphaBR),b=e.frame.glTexture,I=f.setGameObject(e),N=e.getTextBounds(!1),z,H,X,W=N.characters,V=e.dropShadowX,U=e.dropShadowY,F=V!==0||U!==0;if(F){var k=e.dropShadowColor,Y=e.dropShadowAlpha,Z=E(k,p*Y*e._alphaTL),j=E(k,p*Y*e._alphaTR),J=E(k,p*Y*e._alphaBL),q=E(k,p*Y*e._alphaBR);for(z=0;z<W.length;z++)H=W[z],X=H.glyph,!(H.code===32||X.width===0||X.height===0)&&o(f,e,H,X,V,U,c,d,Z,j,J,q,1,b,I)}for(z=0;z<W.length;z++)if(H=W[z],X=H.glyph,!(H.code===32||X.width===0||X.height===0))if(f.shouldFlush(6)&&(f.flush(),I=f.setGameObject(e)),S[H.i]){var et=S[H.i],it=et.tintEffect,at=E(et.tintTL,p*e._alphaTL),ut=E(et.tintTR,p*e._alphaTR),dt=E(et.tintBL,p*e._alphaBL),ft=E(et.tintBR,p*e._alphaBR);o(f,e,H,X,0,0,c,d,at,ut,dt,ft,it,b,I)}else o(f,e,H,X,0,0,c,d,R,M,D,B,C,b,I);i.pipelines.postBatch(e)}};h.exports=n}),6107:((h,x,t)=>{var o=t(48011),v=t(46590),r=t(83419),n=t(31401),i=t(4327),e=t(95643),a=t(73162),l=new r({Extends:e,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Size,n.Texture,n.Transform,n.Visible,o],initialize:function(u,f,c,d,p){e.call(this,u,"Blitter"),this.setTexture(d,p),this.setPosition(f,c),this.initPipeline(),this.initPostPipeline(),this.children=new a,this.renderList=[],this.dirty=!1},create:function(s,u,f,c,d){c===void 0&&(c=!0),d===void 0&&(d=this.children.length),f===void 0?f=this.frame:f instanceof i||(f=this.texture.get(f));var p=new v(this,s,u,f,c);return this.children.addAt(p,d,!1),this.dirty=!0,p},createFromCallback:function(s,u,f,c){for(var d=this.createMultiple(u,f,c),p=0;p<d.length;p++){var S=d[p];s.call(this,S,p)}return d},createMultiple:function(s,u,f){u===void 0&&(u=this.frame.name),f===void 0&&(f=!0),Array.isArray(u)||(u=[u]);var c=[],d=this;return u.forEach(function(p){for(var S=0;S<s;S++)c.push(d.create(0,0,p,f))}),c},childCanRender:function(s){return s.visible&&s.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});h.exports=l}),72396:(h=>{var x=function(t,o,v,r){var n=o.getRenderList();if(n.length!==0){var i=t.currentContext,e=v.alpha*o.alpha;if(e!==0){v.addToRenderList(o),i.globalCompositeOperation=t.blendModes[o.blendMode],i.imageSmoothingEnabled=!o.frame.source.scaleMode;var a=o.x-v.scrollX*o.scrollFactorX,l=o.y-v.scrollY*o.scrollFactorY;i.save(),r&&r.copyToContext(i);for(var s=v.roundPixels,u=0;u<n.length;u++){var f=n[u],c=f.flipX||f.flipY,d=f.frame,p=d.canvasData,S=d.x,C=d.y,E=1,R=1,M=f.alpha*e;M!==0&&(i.globalAlpha=M,c?(f.flipX&&(E=-1,S-=p.width),f.flipY&&(R=-1,C-=p.height),p.width>0&&p.height>0&&(i.save(),i.translate(f.x+a,f.y+l),i.scale(E,R),i.drawImage(d.source.image,p.x,p.y,p.width,p.height,S,C,p.width,p.height),i.restore())):(s&&(S=Math.round(S),C=Math.round(C)),p.width>0&&p.height>0&&i.drawImage(d.source.image,p.x,p.y,p.width,p.height,S+f.x+a,C+f.y+l,p.width,p.height)))}i.restore()}}};h.exports=x}),9403:((h,x,t)=>{var o=t(6107),v=t(25305),r=t(44603),n=t(23568);r.register("blitter",function(i,e){i===void 0&&(i={});var a=n(i,"key",null),l=n(i,"frame",null),s=new o(this.scene,0,0,a,l);return e!==void 0&&(i.add=e),v(this.scene,s,i),s})}),12709:((h,x,t)=>{var o=t(6107),v=t(39429);v.register("blitter",function(r,n,i,e){return this.displayList.add(new o(this.scene,r,n,i,e))})}),48011:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(99485),r=t(72396),h.exports={renderWebGL:v,renderCanvas:r}}),99485:((h,x,t)=>{var o=t(61340),v=t(70554),r=new o,n=function(i,e,a,l){var s=e.getRenderList(),u=a.alpha*e.alpha;if(!(s.length===0||u===0)){a.addToRenderList(e);var f=i.pipelines.set(this.pipeline,e),c=a.scrollX*e.scrollFactorX,d=a.scrollY*e.scrollFactorY,p=r.copyFrom(a.matrix);l&&(p.multiplyWithOffset(l,-c,-d),c=0,d=0);var S=e.x-c,C=e.y-d,E=-1,R=!1,M=a.roundPixels;i.pipelines.preBatch(e);for(var D=0;D<s.length;D++){var B=s[D],b=B.frame,I=B.alpha*u;if(I!==0){var N=b.width,z=b.height,H=S+B.x+b.x,X=C+B.y+b.y;B.flipX&&(N*=-1,H+=b.width),B.flipY&&(z*=-1,X+=b.height);var W=p.setQuad(H,X,H+N,X+z,M),V=v.getTintAppendFloatAlpha(B.tint,I);if(b.sourceIndex!==E){var U=f.setGameObject(e,b);E=b.sourceIndex}f.batchQuad(e,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],b.u0,b.v0,b.u1,b.v1,V,V,V,V,R,b.glTexture,U)&&(E=-1)}}i.pipelines.postBatch(e)}};h.exports=n}),46590:((h,x,t)=>{var o=t(83419),v=t(4327),r=new o({initialize:function(i,e,a,l,s){this.parent=i,this.x=e,this.y=a,this.frame=l,this.data={},this.tint=16777215,this._visible=s,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(n){return n===void 0?this.frame=this.parent.frame:n instanceof v&&n.texture===this.parent.texture?this.frame=n:this.frame=this.parent.texture.get(n),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(n,i,e){return this.x=n,this.y=i,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(n,i){return this.x=n,this.y=i,this},setFlipX:function(n){return this.flipX=n,this},setFlipY:function(n){return this.flipY=n,this},setFlip:function(n,i){return this.flipX=n,this.flipY=i,this},setVisible:function(n){return this.visible=n,this},setAlpha:function(n){return this.alpha=n,this},setTint:function(n){return this.tint=n,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(n){this.parent.dirty|=this._visible!==n,this._visible=n}},alpha:{get:function(){return this._alpha},set:function(n){this.parent.dirty|=this._alpha>0!=n>0,this._alpha=n}}});h.exports=r}),16005:((h,x,t)=>{var o=t(45319),v=2,r={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(n,i,e,a){return n===void 0&&(n=1),i===void 0?this.alpha=n:(this._alphaTL=o(n,0,1),this._alphaTR=o(i,0,1),this._alphaBL=o(e,0,1),this._alphaBR=o(a,0,1)),this},alpha:{get:function(){return this._alpha},set:function(n){var i=o(n,0,1);this._alpha=i,this._alphaTL=i,this._alphaTR=i,this._alphaBL=i,this._alphaBR=i,i===0?this.renderFlags&=~v:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(n){var i=o(n,0,1);this._alphaTL=i,i!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(n){var i=o(n,0,1);this._alphaTR=i,i!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(n){var i=o(n,0,1);this._alphaBL=i,i!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(n){var i=o(n,0,1);this._alphaBR=i,i!==0&&(this.renderFlags|=v)}}};h.exports=r}),88509:((h,x,t)=>{var o=t(45319),v=2,r={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(n){return n===void 0&&(n=1),this.alpha=n,this},alpha:{get:function(){return this._alpha},set:function(n){var i=o(n,0,1);this._alpha=i,i===0?this.renderFlags&=~v:this.renderFlags|=v}}};h.exports=r}),90065:((h,x,t)=>{var o=t(10312),v={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(r){typeof r=="string"&&(r=o[r]),r|=0,r>=-1&&(this._blendMode=r)}},setBlendMode:function(r){return this.blendMode=r,this}};h.exports=v}),94215:(h=>{var x={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};h.exports=x}),61683:(h=>{var x={texture:null,frame:null,isCropped:!1,setCrop:function(t,o,v,r){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,o,v,r,this.flipX,this.flipY);else{var n=t;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};h.exports=x}),89272:((h,x,t)=>{var o=t(37105),v={_depth:0,depth:{get:function(){return this._depth},set:function(r){this.displayList&&this.displayList.queueDepthSort(),this._depth=r}},setDepth:function(r){return r===void 0&&(r=0),this.depth=r,this},setToTop:function(){var r=this.getDisplayList();return r&&o.BringToTop(r,this),this},setToBack:function(){var r=this.getDisplayList();return r&&o.SendToBack(r,this),this},setAbove:function(r){var n=this.getDisplayList();return n&&r&&o.MoveAbove(n,this,r),this},setBelow:function(r){var n=this.getDisplayList();return n&&r&&o.MoveBelow(n,this,r),this}};h.exports=v}),47059:((h,x,t)=>{var o=t(83419),v=t(66064),r=t(19133),n=new o({initialize:function(e,a){this.gameObject=e,this.isPost=a,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(i){return i===void 0&&(i=0),this.padding=i,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(i){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,i!==void 0&&(this.padding=i),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var i=this.list,e=0;e<i.length;e++)i[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(i){var e;if(this.isPost){var a=this.gameObject.getPostPipeline(String(i.type));for(Array.isArray(a)||(a=[a]),e=0;e<a.length;e++){var l=a[e];if(l.controller===i){this.gameObject.removePostPipeline(l),i.destroy();break}}}else{var s=this.list;for(e=0;e<s.length;e++)s[e]===i&&(r(s,e),i.destroy())}return this.gameObject},disable:function(i){return i===void 0&&(i=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,i&&this.clear(),this.gameObject},add:function(i,e){if(this.isPost){var a=String(i.type);this.gameObject.setPostPipeline(a,e);var l=this.gameObject.getPostPipeline(a);if(l)return Array.isArray(l)&&(l=l.pop()),l&&(l.controller=i),i}else return this.enabled||this.enable(),this.list.push(i),i},addGlow:function(i,e,a,l,s,u){return this.add(new v.Glow(this.gameObject,i,e,a,l),{quality:s,distance:u})},addShadow:function(i,e,a,l,s,u,f){return this.add(new v.Shadow(this.gameObject,i,e,a,l,s,u,f))},addPixelate:function(i){return this.add(new v.Pixelate(this.gameObject,i))},addVignette:function(i,e,a,l){return this.add(new v.Vignette(this.gameObject,i,e,a,l))},addShine:function(i,e,a,l){return this.add(new v.Shine(this.gameObject,i,e,a,l))},addBlur:function(i,e,a,l,s,u){return this.add(new v.Blur(this.gameObject,i,e,a,l,s,u))},addGradient:function(i,e,a,l,s,u,f,c){return this.add(new v.Gradient(this.gameObject,i,e,a,l,s,u,f,c))},addBloom:function(i,e,a,l,s,u){return this.add(new v.Bloom(this.gameObject,i,e,a,l,s,u))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(i,e,a,l,s){return this.add(new v.Circle(this.gameObject,i,e,a,l,s))},addBarrel:function(i){return this.add(new v.Barrel(this.gameObject,i))},addDisplacement:function(i,e,a){return this.add(new v.Displacement(this.gameObject,i,e,a))},addWipe:function(i,e,a){return this.add(new v.Wipe(this.gameObject,i,e,a))},addReveal:function(i,e,a){return this.add(new v.Wipe(this.gameObject,i,e,a,!0))},addBokeh:function(i,e,a){return this.add(new v.Bokeh(this.gameObject,i,e,a))},addTiltShift:function(i,e,a,l,s,u){return this.add(new v.Bokeh(this.gameObject,i,e,a,!0,l,s,u))},destroy:function(){this.clear(),this.gameObject=null}});h.exports=n}),54434:(h=>{var x={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,o){return this.flipX=t,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};h.exports=x}),8004:((h,x,t)=>{var o=t(87841),v=t(11520),r=t(26099),n={prepareBoundsOutput:function(i,e){if(e===void 0&&(e=!1),this.rotation!==0&&v(i,this.x,this.y,this.rotation),e&&this.parentContainer){var a=this.parentContainer.getBoundsTransformMatrix();a.transformPoint(i.x,i.y,i)}return i},getCenter:function(i,e){return i===void 0&&(i=new r),i.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,i.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(i,e)},getTopLeft:function(i,e){return i||(i=new r),i.x=this.x-this.displayWidth*this.originX,i.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(i,e)},getTopCenter:function(i,e){return i||(i=new r),i.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,i.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(i,e)},getTopRight:function(i,e){return i||(i=new r),i.x=this.x-this.displayWidth*this.originX+this.displayWidth,i.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(i,e)},getLeftCenter:function(i,e){return i||(i=new r),i.x=this.x-this.displayWidth*this.originX,i.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(i,e)},getRightCenter:function(i,e){return i||(i=new r),i.x=this.x-this.displayWidth*this.originX+this.displayWidth,i.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(i,e)},getBottomLeft:function(i,e){return i||(i=new r),i.x=this.x-this.displayWidth*this.originX,i.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(i,e)},getBottomCenter:function(i,e){return i||(i=new r),i.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,i.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(i,e)},getBottomRight:function(i,e){return i||(i=new r),i.x=this.x-this.displayWidth*this.originX+this.displayWidth,i.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(i,e)},getBounds:function(i){i===void 0&&(i=new o);var e,a,l,s,u,f,c,d;if(this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(i),p.transformPoint(i.x,i.y,i),e=i.x,a=i.y,this.getTopRight(i),p.transformPoint(i.x,i.y,i),l=i.x,s=i.y,this.getBottomLeft(i),p.transformPoint(i.x,i.y,i),u=i.x,f=i.y,this.getBottomRight(i),p.transformPoint(i.x,i.y,i),c=i.x,d=i.y}else this.getTopLeft(i),e=i.x,a=i.y,this.getTopRight(i),l=i.x,s=i.y,this.getBottomLeft(i),u=i.x,f=i.y,this.getBottomRight(i),c=i.x,d=i.y;return i.x=Math.min(e,l,u,c),i.y=Math.min(a,s,f,d),i.width=Math.max(e,l,u,c)-i.x,i.height=Math.max(a,s,f,d)-i.y,i}};h.exports=n}),8573:((h,x,t)=>{var o=t(6858),v=t(80661),r={mask:null,setMask:function(n){return this.mask=n,this},clearMask:function(n){return n===void 0&&(n=!1),n&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(n,i,e,a,l){return n===void 0&&(this.texture||this.shader||this.geom)&&(n=this),new o(this.scene,n,i,e,a,l)},createGeometryMask:function(n){return n===void 0&&(this.type==="Graphics"||this.geom)&&(n=this),new v(this.scene,n)}};h.exports=r}),27387:(h=>{var x={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,o){return t===void 0&&(t=.5),o===void 0&&(o=t),this.originX=t,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,o){return t===void 0&&(t=0),o===void 0&&(o=t),this.displayOriginX=t,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};h.exports=x}),37640:((h,x,t)=>{var o=t(39506),v=t(57355),r=t(35154),n=t(86353),i=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:n.PLAYING_FORWARD,setPath:function(a,l){l===void 0&&(l=this.pathConfig);var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this.path=a,l&&this.startFollow(l),this},setRotateToPath:function(a,l){return l===void 0&&(l=0),this.rotateToPath=a,this.pathRotationOffset=l,this},isFollowing:function(){var a=this.pathTween;return a&&a.isPlaying()},startFollow:function(a,l){a===void 0&&(a={}),l===void 0&&(l=0);var s=this.pathTween;s&&s.isPlaying()&&s.stop(),typeof a=="number"&&(a={duration:a}),a.from=r(a,"from",0),a.to=r(a,"to",1);var u=v(a,"positionOnPath",!1);this.rotateToPath=v(a,"rotateToPath",!1),this.pathRotationOffset=r(a,"rotationOffset",0);var f=r(a,"startAt",l);if(f&&(a.onStart=function(d){var p=d.data[0];p.progress=f,p.elapsed=p.duration*f;var S=p.ease(p.progress);p.current=p.start+(p.end-p.start)*S,p.setTargetValue()}),this.pathOffset||(this.pathOffset=new i(this.x,this.y)),this.pathVector||(this.pathVector=new i),this.pathDelta||(this.pathDelta=new i),this.pathDelta.reset(),a.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(a),this.path.getStartPoint(this.pathOffset),u&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=n.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=a,this},pauseFollow:function(){var a=this.pathTween;return a&&a.isPlaying()&&a.pause(),this},resumeFollow:function(){var a=this.pathTween;return a&&a.isPaused()&&a.resume(),this},stopFollow:function(){var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this},pathUpdate:function(){var a=this.pathTween;if(a&&a.data){var l=a.data[0],s=this.pathDelta,u=this.pathVector;if(s.copy(u).negate(),l.state===n.COMPLETE){this.path.getPoint(l.end,u),s.add(u),u.add(this.pathOffset),this.setPosition(u.x,u.y);return}else if(l.state!==n.PLAYING_FORWARD&&l.state!==n.PLAYING_BACKWARD)return;this.path.getPoint(a.getValue(),u),s.add(u),u.add(this.pathOffset);var f=this.x,c=this.y;this.setPosition(u.x,u.y);var d=this.x-f,p=this.y-c;if(d===0&&p===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(p,d)+o(this.pathRotationOffset))}}};h.exports=e}),72699:((h,x,t)=>{var o=t(62644),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(r){this.pipelineData={};var n=this.scene.sys.renderer;if(!n)return!1;var i=n.pipelines;if(i){r===void 0&&(r=i.default);var e=i.get(r);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(r,n,i){var e=this.scene.sys.renderer;if(!e)return this;var a=e.pipelines;if(a){var l=a.get(r);l&&(this.pipeline=l),n&&(this.pipelineData=i?o(n):n)}return this},setPipelineData:function(r,n){var i=this.pipelineData;return n===void 0?delete i[r]:i[r]=n,this},resetPipeline:function(r){return r===void 0&&(r=!1),this.pipeline=this.defaultPipeline,r&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};h.exports=v}),17581:((h,x,t)=>{var o=t(62644),v=t(47059),r=t(19133),n={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(i){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),i&&(this.preFX=new v(this,!1))},setPostPipeline:function(i,e,a){var l=this.scene.sys.renderer;if(!l)return this;var s=l.pipelines;if(s){Array.isArray(i)||(i=[i]);for(var u=0;u<i.length;u++){var f=s.getPostPipeline(i[u],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=a?o(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(i,e){var a=this.postPipelineData;return e===void 0?delete a[i]:a[i]=e,this},getPostPipeline:function(i){for(var e=typeof i=="string",a=this.postPipelines,l=[],s=0;s<a.length;s++){var u=a[s];(e&&u.name===i||!e&&u instanceof i)&&l.push(u)}return l.length===1?l[0]:l},resetPostPipeline:function(i){i===void 0&&(i=!1);for(var e=this.postPipelines,a=0;a<e.length;a++)e[a].destroy();this.postPipelines=[],this.hasPostPipeline=!1,i&&(this.postPipelineData={})},removePostPipeline:function(i){for(var e=typeof i=="string",a=this.postPipelines,l=a.length-1;l>=0;l--){var s=a[l];(e&&s.name===i||!e&&s===i)&&(s.destroy(),r(a,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};h.exports=n}),80227:(h=>{var x={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,o){return o===void 0&&(o=t),this.scrollFactorX=t,this.scrollFactorY=o,this}};h.exports=x}),16736:(h=>{var x={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};h.exports=x}),37726:((h,x,t)=>{var o=t(4327),v=8,r={texture:null,frame:null,isCropped:!1,setTexture:function(n,i,e,a){return this.texture=this.scene.sys.textures.get(n),this.setFrame(i,e,a)},setFrame:function(n,i,e){return i===void 0&&(i=!0),e===void 0&&(e=!0),n instanceof o?(this.texture=this.scene.sys.textures.get(n.texture.key),this.frame=n):this.frame=this.texture.get(n),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};h.exports=r}),79812:((h,x,t)=>{var o=t(4327),v=8,r={texture:null,frame:null,isCropped:!1,setCrop:function(n,i,e,a){if(n===void 0)this.isCropped=!1;else if(this.frame){if(typeof n=="number")this.frame.setCropUVs(this._crop,n,i,e,a,this.flipX,this.flipY);else{var l=n;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(n,i){return this.texture=this.scene.sys.textures.get(n),this.setFrame(i)},setFrame:function(n,i,e){return i===void 0&&(i=!0),e===void 0&&(e=!0),n instanceof o?(this.texture=this.scene.sys.textures.get(n.texture.key),this.frame=n):this.frame=this.texture.get(n),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};h.exports=r}),27472:(h=>{var x={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,o,v,r){return t===void 0&&(t=16777215),o===void 0&&(o=t,v=t,r=t),this.tintTopLeft=t,this.tintTopRight=o,this.tintBottomLeft=v,this.tintBottomRight=r,this.tintFill=!1,this},setTintFill:function(t,o,v,r){return this.setTint(t,o,v,r),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};h.exports=x}),53774:(h=>{var x=function(t){var o={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(o.textureKey=t.texture.key,o.frameKey=t.frame.name),o};h.exports=x}),16901:((h,x,t)=>{var o=t(36383),v=t(61340),r=t(85955),n=t(86554),i=t(30954),e=t(26099),a=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this._scaleX=s,this._scaleY=s,s===0?this.renderFlags&=~a:this.renderFlags|=a}},scaleX:{get:function(){return this._scaleX},set:function(s){this._scaleX=s,s===0?this.renderFlags&=~a:this._scaleY!==0&&(this.renderFlags|=a)}},scaleY:{get:function(){return this._scaleY},set:function(s){this._scaleY=s,s===0?this.renderFlags&=~a:this._scaleX!==0&&(this.renderFlags|=a)}},angle:{get:function(){return i(this._rotation*o.RAD_TO_DEG)},set:function(s){this.rotation=i(s)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(s){this._rotation=n(s)}},setPosition:function(s,u,f,c){return s===void 0&&(s=0),u===void 0&&(u=s),f===void 0&&(f=0),c===void 0&&(c=0),this.x=s,this.y=u,this.z=f,this.w=c,this},copyPosition:function(s){return s.x!==void 0&&(this.x=s.x),s.y!==void 0&&(this.y=s.y),s.z!==void 0&&(this.z=s.z),s.w!==void 0&&(this.w=s.w),this},setRandomPosition:function(s,u,f,c){return s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=s+Math.random()*f,this.y=u+Math.random()*c,this},setRotation:function(s){return s===void 0&&(s=0),this.rotation=s,this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,this},setScale:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=s),this.scaleX=s,this.scaleY=u,this},setX:function(s){return s===void 0&&(s=0),this.x=s,this},setY:function(s){return s===void 0&&(s=0),this.y=s,this},setZ:function(s){return s===void 0&&(s=0),this.z=s,this},setW:function(s){return s===void 0&&(s=0),this.w=s,this},getLocalTransformMatrix:function(s){return s===void 0&&(s=new v),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(s,u){s===void 0&&(s=new v);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(s);var c=!1;for(u||(u=new v,c=!0),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)u.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),u.multiply(s,s),f=f.parentContainer;return c&&u.destroy(),s},getLocalPoint:function(s,u,f,c){f||(f=new e),c||(c=this.scene.sys.cameras.main);var d=c.scrollX,p=c.scrollY,S=s+d*this.scrollFactorX-d,C=u+p*this.scrollFactorY-p;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(S,C,f):r(S,C,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getWorldPoint:function(s,u,f){s===void 0&&(s=new e);var c=this.parentContainer;if(!c)return s.x=this.x,s.y=this.y,s;var d=this.getWorldTransformMatrix(u,f);return s.x=d.tx,s.y=d.ty,s},getParentRotation:function(){for(var s=0,u=this.parentContainer;u;)s+=u.rotation,u=u.parentContainer;return s}};h.exports=l}),61340:((h,x,t)=>{var o=t(83419),v=t(36383),r=t(26099),n=new o({initialize:function(e,a,l,s,u,f){e===void 0&&(e=1),a===void 0&&(a=0),l===void 0&&(l=0),s===void 0&&(s=1),u===void 0&&(u=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,a,l,s,u,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(i){this.matrix[0]=i}},b:{get:function(){return this.matrix[1]},set:function(i){this.matrix[1]=i}},c:{get:function(){return this.matrix[2]},set:function(i){this.matrix[2]=i}},d:{get:function(){return this.matrix[3]},set:function(i){this.matrix[3]=i}},e:{get:function(){return this.matrix[4]},set:function(i){this.matrix[4]=i}},f:{get:function(){return this.matrix[5]},set:function(i){this.matrix[5]=i}},tx:{get:function(){return this.matrix[4]},set:function(i){this.matrix[4]=i}},ty:{get:function(){return this.matrix[5]},set:function(i){this.matrix[5]=i}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var i=this.matrix,e=i[0],a=i[1],l=i[2],s=i[3];return e||a?a>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||s?v.TAU-(s>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var i=this.matrix;return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,this},translate:function(i,e){var a=this.matrix;return a[4]=a[0]*i+a[2]*e+a[4],a[5]=a[1]*i+a[3]*e+a[5],this},scale:function(i,e){var a=this.matrix;return a[0]*=i,a[1]*=i,a[2]*=e,a[3]*=e,this},rotate:function(i){var e=Math.sin(i),a=Math.cos(i),l=this.matrix,s=l[0],u=l[1],f=l[2],c=l[3];return l[0]=s*a+f*e,l[1]=u*a+c*e,l[2]=s*-e+f*a,l[3]=u*-e+c*a,this},multiply:function(i,e){var a=this.matrix,l=i.matrix,s=a[0],u=a[1],f=a[2],c=a[3],d=a[4],p=a[5],S=l[0],C=l[1],E=l[2],R=l[3],M=l[4],D=l[5],B=e===void 0?a:e.matrix;return B[0]=S*s+C*f,B[1]=S*u+C*c,B[2]=E*s+R*f,B[3]=E*u+R*c,B[4]=M*s+D*f+d,B[5]=M*u+D*c+p,B},multiplyWithOffset:function(i,e,a){var l=this.matrix,s=i.matrix,u=l[0],f=l[1],c=l[2],d=l[3],p=l[4],S=l[5],C=e*u+a*c+p,E=e*f+a*d+S,R=s[0],M=s[1],D=s[2],B=s[3],b=s[4],I=s[5];return l[0]=R*u+M*c,l[1]=R*f+M*d,l[2]=D*u+B*c,l[3]=D*f+B*d,l[4]=b*u+I*c+C,l[5]=b*f+I*d+E,this},transform:function(i,e,a,l,s,u){var f=this.matrix,c=f[0],d=f[1],p=f[2],S=f[3],C=f[4],E=f[5];return f[0]=i*c+e*p,f[1]=i*d+e*S,f[2]=a*c+l*p,f[3]=a*d+l*S,f[4]=s*c+u*p+C,f[5]=s*d+u*S+E,this},transformPoint:function(i,e,a){a===void 0&&(a={x:0,y:0});var l=this.matrix,s=l[0],u=l[1],f=l[2],c=l[3],d=l[4],p=l[5];return a.x=i*s+e*f+d,a.y=i*u+e*c+p,a},invert:function(){var i=this.matrix,e=i[0],a=i[1],l=i[2],s=i[3],u=i[4],f=i[5],c=e*s-a*l;return i[0]=s/c,i[1]=-a/c,i[2]=-l/c,i[3]=e/c,i[4]=(l*f-s*u)/c,i[5]=-(e*f-a*u)/c,this},copyFrom:function(i){var e=this.matrix;return e[0]=i.a,e[1]=i.b,e[2]=i.c,e[3]=i.d,e[4]=i.e,e[5]=i.f,this},copyFromArray:function(i){var e=this.matrix;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],this},copyToContext:function(i){var e=this.matrix;return i.transform(e[0],e[1],e[2],e[3],e[4],e[5]),i},setToContext:function(i){return i.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),i},copyToArray:function(i){var e=this.matrix;return i===void 0?i=[e[0],e[1],e[2],e[3],e[4],e[5]]:(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5]),i},setTransform:function(i,e,a,l,s,u){var f=this.matrix;return f[0]=i,f[1]=e,f[2]=a,f[3]=l,f[4]=s,f[5]=u,this},decomposeMatrix:function(){var i=this.decomposedMatrix,e=this.matrix,a=e[0],l=e[1],s=e[2],u=e[3],f=a*u-l*s;if(i.translateX=e[4],i.translateY=e[5],a||l){var c=Math.sqrt(a*a+l*l);i.rotation=l>0?Math.acos(a/c):-Math.acos(a/c),i.scaleX=c,i.scaleY=f/c}else if(s||u){var d=Math.sqrt(s*s+u*u);i.rotation=Math.PI*.5-(u>0?Math.acos(-s/d):-Math.acos(s/d)),i.scaleX=f/d,i.scaleY=d}else i.rotation=0,i.scaleX=0,i.scaleY=0;return i},applyITRS:function(i,e,a,l,s){var u=this.matrix,f=Math.sin(a),c=Math.cos(a);return u[4]=i,u[5]=e,u[0]=c*l,u[1]=f*l,u[2]=-f*s,u[3]=c*s,this},applyInverse:function(i,e,a){a===void 0&&(a=new r);var l=this.matrix,s=l[0],u=l[1],f=l[2],c=l[3],d=l[4],p=l[5],S=1/(s*c+f*-u);return a.x=c*S*i+-f*S*e+(p*f-d*c)*S,a.y=s*S*e+-u*S*i+(-p*s+d*u)*S,a},setQuad:function(i,e,a,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=this.quad);var f=this.matrix,c=f[0],d=f[1],p=f[2],S=f[3],C=f[4],E=f[5],R=i*c+e*p+C,M=i*d+e*S+E,D=i*c+l*p+C,B=i*d+l*S+E,b=a*c+l*p+C,I=a*d+l*S+E,N=a*c+e*p+C,z=a*d+e*S+E;if(s){var H=Math.floor(R+.5),X=Math.floor(M+.5),W=H-R,V=X-M;u[0]=H,u[1]=X,u[2]=D+W,u[3]=B+V,u[4]=b+W,u[5]=I+V,u[6]=N+W,u[7]=z+V}else u[0]=R,u[1]=M,u[2]=D,u[3]=B,u[4]=b,u[5]=I,u[6]=N,u[7]=z;return u},getX:function(i,e){return i*this.a+e*this.c+this.e},getY:function(i,e){return i*this.b+e*this.d+this.f},getXRound:function(i,e,a){var l=this.getX(i,e);return a&&(l=Math.floor(l+.5)),l},getYRound:function(i,e,a){var l=this.getY(i,e);return a&&(l=Math.floor(l+.5)),l},getCSSMatrix:function(){var i=this.matrix;return"matrix("+i[0]+","+i[1]+","+i[2]+","+i[3]+","+i[4]+","+i[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});h.exports=n}),59715:(h=>{var x=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=x):(this._visible=!1,this.renderFlags&=~x)}},setVisible:function(o){return this.visible=o,this}};h.exports=t}),31401:((h,x,t)=>{h.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}}),31559:((h,x,t)=>{var o=t(37105),v=t(10312),r=t(83419),n=t(31401),i=t(51708),e=t(95643),a=t(87841),l=t(29959),s=t(36899),u=t(26099),f=new n.TransformMatrix,c=new r({Extends:e,Mixins:[n.AlphaSingle,n.BlendMode,n.ComputedSize,n.Depth,n.Mask,n.PostPipeline,n.Transform,n.Visible,l],initialize:function(p,S,C,E){e.call(this,p,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new n.TransformMatrix,this._sortKey="",this._sysEvents=p.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(S,C),this.setBlendMode(v.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(d){return d===void 0&&(d=!0),this.exclusive=d,this},getBounds:function(d){if(d===void 0&&(d=new a),d.setTo(this.x,this.y,0,0),this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix(),S=p.transformPoint(this.x,this.y);d.setTo(S.x,S.y,0,0)}if(this.list.length>0){var C=this.list,E=new a,R=!1;d.setEmpty();for(var M=0;M<C.length;M++){var D=C[M];D.getBounds&&(D.getBounds(E),R?s(E,d,d):(d.setTo(E.x,E.y,E.width,E.height),R=!0))}}return d},addHandler:function(d){d.once(i.DESTROY,this.onChildDestroyed,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.parentContainer=this,d.removeFromDisplayList(),d.addedToScene())},removeHandler:function(d){d.off(i.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer=null,d.removedFromScene(),d.addToDisplayList())},pointToContainer:function(d,p){p===void 0&&(p=new u),this.parentContainer?this.parentContainer.pointToContainer(d,p):(p.x=d.x,p.y=d.y);var S=f;return S.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),S.invert(),S.transformPoint(d.x,d.y,p),p},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(f,this.localTransform)},add:function(d){return o.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,p){return o.AddAt(this.list,d,p,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,p){return d?(p===void 0&&(p=function(S,C){return S[d]-C[d]}),o.StableSort(this.list,p),this):this},getByName:function(d){return o.GetFirst(this.list,"name",d)},getRandom:function(d,p){return o.GetRandom(this.list,d,p)},getFirst:function(d,p,S,C){return o.GetFirst(this.list,d,p,S,C)},getAll:function(d,p,S,C){return o.GetAll(this.list,d,p,S,C)},count:function(d,p,S,C){return o.CountAllMatching(this.list,d,p,S,C)},swap:function(d,p){return o.Swap(this.list,d,p),this},moveTo:function(d,p){return o.MoveTo(this.list,d,p),this},moveAbove:function(d,p){return o.MoveAbove(this.list,d,p),this},moveBelow:function(d,p){return o.MoveBelow(this.list,d,p),this},remove:function(d,p){var S=o.Remove(this.list,d,this.removeHandler,this);if(p&&S){Array.isArray(S)||(S=[S]);for(var C=0;C<S.length;C++)S[C].destroy()}return this},removeAt:function(d,p){var S=o.RemoveAt(this.list,d,this.removeHandler,this);return p&&S&&S.destroy(),this},removeBetween:function(d,p,S){var C=o.RemoveBetween(this.list,d,p,this.removeHandler,this);if(S)for(var E=0;E<C.length;E++)C[E].destroy();return this},removeAll:function(d){var p=this.list;if(d){for(var S=0;S<p.length;S++)p[S]&&p[S].scene&&(p[S].off(i.DESTROY,this.onChildDestroyed,this),p[S].destroy());this.list=[]}else o.RemoveBetween(p,0,p.length,this.removeHandler,this);return this},bringToTop:function(d){return o.BringToTop(this.list,d),this},sendToBack:function(d){return o.SendToBack(this.list,d),this},moveUp:function(d){return o.MoveUp(this.list,d),this},moveDown:function(d){return o.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(d,p,S){var C=o.Replace(this.list,d,p);return C&&(this.addHandler(p),this.removeHandler(d),S&&d.destroy()),this},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,p,S,C){return o.SetAll(this.list,d,p,S,C),this},each:function(d,p){var S=[null],C,E=this.list.slice(),R=E.length;for(C=2;C<arguments.length;C++)S.push(arguments[C]);for(C=0;C<R;C++)S[0]=E[C],d.apply(p,S);return this},iterate:function(d,p){var S=[null],C;for(C=2;C<arguments.length;C++)S.push(arguments[C]);for(C=0;C<this.list.length;C++)S[0]=this.list[C],d.apply(p,S);return this},setScrollFactor:function(d,p,S){return p===void 0&&(p=d),S===void 0&&(S=!1),this.scrollFactorX=d,this.scrollFactorY=p,S&&(o.SetAll(this.list,"scrollFactorX",d),o.SetAll(this.list,"scrollFactorY",p)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(d){o.Remove(this.list,d),this.exclusive&&(d.parentContainer=null,d.removedFromScene())}});h.exports=c}),53584:(h=>{var x=function(t,o,v,r){v.addToRenderList(o);var n=o.list;if(n.length!==0){var i=o.localTransform;r?(i.loadIdentity(),i.multiply(r),i.translate(o.x,o.y),i.rotate(o.rotation),i.scale(o.scaleX,o.scaleY)):i.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var e=o.blendMode!==-1;e||t.setBlendMode(0);var a=o._alpha,l=o.scrollFactorX,s=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(t,null,v);for(var u=0;u<n.length;u++){var f=n[u];if(f.willRender(v)){var c=f.alpha,d=f.scrollFactorX,p=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(d*l,p*s),f.setAlpha(c*a),f.renderCanvas(t,f,v,i),f.setAlpha(c),f.setScrollFactor(d,p)}}o.mask&&o.mask.postRenderCanvas(t)}};h.exports=x}),77143:((h,x,t)=>{var o=t(25305),v=t(31559),r=t(44603),n=t(23568),i=t(95540);r.register("container",function(e,a){e===void 0&&(e={});var l=n(e,"x",0),s=n(e,"y",0),u=i(e,"children",null),f=new v(this.scene,l,s,u);return a!==void 0&&(e.add=a),o(this.scene,f,e),f})}),24961:((h,x,t)=>{var o=t(31559),v=t(39429);v.register("container",function(r,n,i){return this.displayList.add(new o(this.scene,r,n,i))})}),29959:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(72249),r=t(53584),h.exports={renderWebGL:v,renderCanvas:r}}),72249:(h=>{var x=function(t,o,v,r){v.addToRenderList(o);var n=o.list,i=n.length;if(i!==0){var e=o.localTransform;r?(e.loadIdentity(),e.multiply(r),e.translate(o.x,o.y),e.rotate(o.rotation),e.scale(o.scaleX,o.scaleY)):e.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),t.pipelines.preBatch(o);var a=o.blendMode!==-1;a||t.setBlendMode(0);for(var l=o.alpha,s=o.scrollFactorX,u=o.scrollFactorY,f=0;f<i;f++){var c=n[f];if(c.willRender(v)){var d,p,S,C;if(c.alphaTopLeft!==void 0)d=c.alphaTopLeft,p=c.alphaTopRight,S=c.alphaBottomLeft,C=c.alphaBottomRight;else{var E=c.alpha;d=E,p=E,S=E,C=E}var R=c.scrollFactorX,M=c.scrollFactorY;!a&&c.blendMode!==t.currentBlendMode&&t.setBlendMode(c.blendMode);var D=c.mask;D&&D.preRenderWebGL(t,c,v);var B=c.type;B!==t.currentType&&(t.newType=!0,t.currentType=B),t.nextTypeMatch=f<i-1?n[f+1].type===t.currentType:!1,c.setScrollFactor(R*s,M*u),c.setAlpha(d*l,p*l,S*l,C*l),c.renderWebGL(t,c,v,e,o),c.setAlpha(d,p,S,C),c.setScrollFactor(R,M),D&&D.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(o)}};h.exports=x}),47407:(h=>{h.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}),3069:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(441),n=t(95643),i=t(41212),e=t(35846),a=t(44594),l=t(61369),s=new o({Extends:n,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,r],initialize:function(f,c,d,p,S,C){if(n.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,d),typeof p=="string"?p[0]==="#"?this.setElement(p.substr(1),S,C):this.createElement(p,S,C):p&&this.setElement(p,S,C),f.sys.events.on(a.SLEEP,this.handleSceneEvent,this),f.sys.events.on(a.WAKE,this.handleSceneEvent,this),f.sys.events.on(a.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(u){var f=this.node,c=f.style;f&&(c.display=u.settings.visible?"block":"none")},setSkew:function(u,f){return u===void 0&&(u=0),f===void 0&&(f=u),this.skewX=u,this.skewY=f,this},setPerspective:function(u){return this.parent.style.perspective=u+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(u){this.parent.style.perspective=u+"px"}},addListener:function(u){if(this.node){u=u.split(" ");for(var f=0;f<u.length;f++)this.node.addEventListener(u[f],this.handler,!1)}return this},removeListener:function(u){if(this.node){u=u.split(" ");for(var f=0;f<u.length;f++)this.node.removeEventListener(u[f],this.handler)}return this},dispatchNativeEvent:function(u){this.emit(u.type,u)},createElement:function(u,f,c){return this.setElement(document.createElement(u),f,c)},setElement:function(u,f,c){this.removeElement();var d;if(typeof u=="string"?(u[0]==="#"&&(u=u.substr(1)),d=document.getElementById(u)):typeof u=="object"&&u.nodeType===1&&(d=u),!d)return this;if(this.node=d,f&&i(f))for(var p in f)d.style[p]=f[p];else typeof f=="string"&&(d.style=f);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent.appendChild(d),c&&(d.innerText=c),this.updateSize()},createFromCache:function(u,f){var c=this.cache.get(u);return c&&this.createFromHTML(c,f),this},createFromHTML:function(u,f){f===void 0&&(f="div"),this.removeElement();var c=document.createElement(f);return this.node=c,c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent.appendChild(c),c.innerHTML=u,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var u=this.node;return this.width=u.clientWidth,this.height=u.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(u,f){if(this.node){for(var c=this.node.querySelectorAll("*"),d=0;d<c.length;d++)if(c[d][u]===f)return c[d]}return null},getChildByID:function(u){return this.getChildByProperty("id",u)},getChildByName:function(u){return this.getChildByProperty("name",u)},setClassName:function(u){return this.node&&(this.node.className=u,this.updateSize()),this},setText:function(u){return this.node&&(this.node.innerText=u,this.updateSize()),this},setHTML:function(u){return this.node&&(this.node.innerHTML=u,this.updateSize()),this},preRender:function(){var u=this.parentContainer,f=this.node;f&&u&&!u.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(a.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(a.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(a.PRE_RENDER,this.preRender,this)}});h.exports=s}),49381:((h,x,t)=>{var o=t(47407),v=t(95643),r=t(61340),n=new r,i=new r,e=new r,a=function(l,s,u,f){if(s.node){var c=s.node.style,d=s.scene.sys.settings;if(!c||!d.visible||v.RENDER_MASK!==s.renderFlags||s.cameraFilter!==0&&s.cameraFilter&u.id||s.parentContainer&&!s.parentContainer.willRender()){c.display="none";return}var p=s.parentContainer,S=u.alpha*s.alpha;p&&(S*=p.alpha);var C=n,E=i,R=e,M=0,D=0,B="0%",b="0%";f?(M=s.width*s.scaleX*s.originX,D=s.height*s.scaleY*s.originY,E.applyITRS(s.x-M,s.y-D,s.rotation,s.scaleX,s.scaleY),C.copyFrom(u.matrix),C.multiplyWithOffset(f,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),E.e=s.x-M,E.f=s.y-D,C.multiply(E,R)):(M=s.width*s.originX,D=s.height*s.originY,E.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),C.copyFrom(u.matrix),B=100*s.originX+"%",b=100*s.originY+"%",E.e-=u.scrollX*s.scrollFactorX,E.f-=u.scrollY*s.scrollFactorY,C.multiply(E,R),R.e-=M,R.f-=D),s.transformOnly||(c.display="block",c.opacity=S,c.zIndex=s._depth,c.pointerEvents=s.pointerEvents,c.mixBlendMode=o[s._blendMode]),c.transform=R.getCSSMatrix()+" skew("+s.skewX+"rad, "+s.skewY+"rad) rotate3d("+s.rotate3d.x+","+s.rotate3d.y+","+s.rotate3d.z+","+s.rotate3d.w+s.rotate3dAngle+")",c.transformOrigin=B+" "+b}};h.exports=a}),2611:((h,x,t)=>{var o=t(3069),v=t(39429);v.register("dom",function(r,n,i,e,a){var l=new o(this.scene,r,n,i,e,a);return this.displayList.add(l),l})}),441:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(49381),r=t(49381),h.exports={renderWebGL:v,renderCanvas:r}}),62980:(h=>{h.exports="addedtoscene"}),41337:(h=>{h.exports="destroy"}),44947:(h=>{h.exports="removedfromscene"}),49358:(h=>{h.exports="complete"}),35163:(h=>{h.exports="created"}),97249:(h=>{h.exports="error"}),19483:(h=>{h.exports="locked"}),56059:(h=>{h.exports="loop"}),26772:(h=>{h.exports="metadata"}),64437:(h=>{h.exports="playing"}),83411:(h=>{h.exports="play"}),75780:(h=>{h.exports="seeked"}),67799:(h=>{h.exports="seeking"}),63500:(h=>{h.exports="stalled"}),55541:(h=>{h.exports="stop"}),53208:(h=>{h.exports="textureready"}),4992:(h=>{h.exports="unlocked"}),12:(h=>{h.exports="unsupported"}),51708:((h,x,t)=>{h.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}}),42421:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(95643),n=t(64993),i=new o({Extends:r,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,n],initialize:function(a){r.call(this,a,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});h.exports=i}),70217:(()=>{}),56315:((h,x,t)=>{var o=t(42421),v=t(39429);v.register("extern",function(){var r=new o(this.scene);return this.displayList.add(r),r})}),64993:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(80287),r=t(70217),h.exports={renderWebGL:v,renderCanvas:r}}),80287:((h,x,t)=>{var o=t(91296),v=function(r,n,i,e){r.pipelines.clear();var a=o(n,i,e).calc;n.render.call(n,r,i,a),r.pipelines.rebind()};h.exports=v}),85592:(h=>{h.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}}),43831:((h,x,t)=>{var o=t(71911),v=t(83419),r=t(85592),n=t(31401),i=t(8497),e=t(95643),a=t(95540),l=t(35154),s=t(36383),u=t(84503),f=new v({Extends:e,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.PostPipeline,n.Transform,n.Visible,n.ScrollFactor,u],initialize:function(d,p){var S=l(p,"x",0),C=l(p,"y",0);e.call(this,d,"Graphics"),this.setPosition(S,C),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(p)},setDefaultStyles:function(c){return l(c,"lineStyle",null)&&(this.defaultStrokeWidth=l(c,"lineStyle.width",1),this.defaultStrokeColor=l(c,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(c,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(c,"fillStyle",null)&&(this.defaultFillColor=l(c,"fillStyle.color",16777215),this.defaultFillAlpha=l(c,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(c,d,p){return p===void 0&&(p=1),this.commandBuffer.push(r.LINE_STYLE,c,d,p),this._lineWidth=c,this},fillStyle:function(c,d){return d===void 0&&(d=1),this.commandBuffer.push(r.FILL_STYLE,c,d),this},fillGradientStyle:function(c,d,p,S,C,E,R,M){return C===void 0&&(C=1),E===void 0&&(E=C),R===void 0&&(R=C),M===void 0&&(M=C),this.commandBuffer.push(r.GRADIENT_FILL_STYLE,C,E,R,M,c,d,p,S),this},lineGradientStyle:function(c,d,p,S,C,E){return E===void 0&&(E=1),this.commandBuffer.push(r.GRADIENT_LINE_STYLE,c,E,d,p,S,C),this},beginPath:function(){return this.commandBuffer.push(r.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(r.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(r.FILL_PATH),this},fill:function(){return this.commandBuffer.push(r.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(r.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(r.STROKE_PATH),this},fillCircleShape:function(c){return this.fillCircle(c.x,c.y,c.radius)},strokeCircleShape:function(c){return this.strokeCircle(c.x,c.y,c.radius)},fillCircle:function(c,d,p){return this.beginPath(),this.arc(c,d,p,0,s.PI2),this.fillPath(),this},strokeCircle:function(c,d,p){return this.beginPath(),this.arc(c,d,p,0,s.PI2),this.strokePath(),this},fillRectShape:function(c){return this.fillRect(c.x,c.y,c.width,c.height)},strokeRectShape:function(c){return this.strokeRect(c.x,c.y,c.width,c.height)},fillRect:function(c,d,p,S){return this.commandBuffer.push(r.FILL_RECT,c,d,p,S),this},strokeRect:function(c,d,p,S){var C=this._lineWidth/2,E=c-C,R=c+C;return this.beginPath(),this.moveTo(c,d),this.lineTo(c,d+S),this.strokePath(),this.beginPath(),this.moveTo(c+p,d),this.lineTo(c+p,d+S),this.strokePath(),this.beginPath(),this.moveTo(E,d),this.lineTo(R+p,d),this.strokePath(),this.beginPath(),this.moveTo(E,d+S),this.lineTo(R+p,d+S),this.strokePath(),this},fillRoundedRect:function(c,d,p,S,C){C===void 0&&(C=20);var E=C,R=C,M=C,D=C;typeof C!="number"&&(E=a(C,"tl",20),R=a(C,"tr",20),M=a(C,"bl",20),D=a(C,"br",20));var B=E>=0,b=R>=0,I=M>=0,N=D>=0;return E=Math.abs(E),R=Math.abs(R),M=Math.abs(M),D=Math.abs(D),this.beginPath(),this.moveTo(c+E,d),this.lineTo(c+p-R,d),b?this.arc(c+p-R,d+R,R,-s.TAU,0):this.arc(c+p,d,R,Math.PI,s.TAU,!0),this.lineTo(c+p,d+S-D),N?this.arc(c+p-D,d+S-D,D,0,s.TAU):this.arc(c+p,d+S,D,-s.TAU,Math.PI,!0),this.lineTo(c+M,d+S),I?this.arc(c+M,d+S-M,M,s.TAU,Math.PI):this.arc(c,d+S,M,0,-s.TAU,!0),this.lineTo(c,d+E),B?this.arc(c+E,d+E,E,-Math.PI,-s.TAU):this.arc(c,d,E,s.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(c,d,p,S,C){C===void 0&&(C=20);var E=C,R=C,M=C,D=C,B=Math.min(p,S)/2;typeof C!="number"&&(E=a(C,"tl",20),R=a(C,"tr",20),M=a(C,"bl",20),D=a(C,"br",20));var b=E>=0,I=R>=0,N=M>=0,z=D>=0;return E=Math.min(Math.abs(E),B),R=Math.min(Math.abs(R),B),M=Math.min(Math.abs(M),B),D=Math.min(Math.abs(D),B),this.beginPath(),this.moveTo(c+E,d),this.lineTo(c+p-R,d),this.moveTo(c+p-R,d),I?this.arc(c+p-R,d+R,R,-s.TAU,0):this.arc(c+p,d,R,Math.PI,s.TAU,!0),this.lineTo(c+p,d+S-D),this.moveTo(c+p,d+S-D),z?this.arc(c+p-D,d+S-D,D,0,s.TAU):this.arc(c+p,d+S,D,-s.TAU,Math.PI,!0),this.lineTo(c+M,d+S),this.moveTo(c+M,d+S),N?this.arc(c+M,d+S-M,M,s.TAU,Math.PI):this.arc(c,d+S,M,0,-s.TAU,!0),this.lineTo(c,d+E),this.moveTo(c,d+E),b?this.arc(c+E,d+E,E,-Math.PI,-s.TAU):this.arc(c,d,E,s.TAU,0,!0),this.strokePath(),this},fillPointShape:function(c,d){return this.fillPoint(c.x,c.y,d)},fillPoint:function(c,d,p){return!p||p<1?p=1:(c-=p/2,d-=p/2),this.commandBuffer.push(r.FILL_RECT,c,d,p,p),this},fillTriangleShape:function(c){return this.fillTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},strokeTriangleShape:function(c){return this.strokeTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},fillTriangle:function(c,d,p,S,C,E){return this.commandBuffer.push(r.FILL_TRIANGLE,c,d,p,S,C,E),this},strokeTriangle:function(c,d,p,S,C,E){return this.commandBuffer.push(r.STROKE_TRIANGLE,c,d,p,S,C,E),this},strokeLineShape:function(c){return this.lineBetween(c.x1,c.y1,c.x2,c.y2)},lineBetween:function(c,d,p,S){return this.beginPath(),this.moveTo(c,d),this.lineTo(p,S),this.strokePath(),this},lineTo:function(c,d){return this.commandBuffer.push(r.LINE_TO,c,d),this},moveTo:function(c,d){return this.commandBuffer.push(r.MOVE_TO,c,d),this},strokePoints:function(c,d,p,S){d===void 0&&(d=!1),p===void 0&&(p=!1),S===void 0&&(S=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var C=1;C<S;C++)this.lineTo(c[C].x,c[C].y);return d&&this.lineTo(c[0].x,c[0].y),p&&this.closePath(),this.strokePath(),this},fillPoints:function(c,d,p,S){d===void 0&&(d=!1),p===void 0&&(p=!1),S===void 0&&(S=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var C=1;C<S;C++)this.lineTo(c[C].x,c[C].y);return d&&this.lineTo(c[0].x,c[0].y),p&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(c,d){d===void 0&&(d=32);var p=c.getPoints(d);return this.strokePoints(p,!0)},strokeEllipse:function(c,d,p,S,C){C===void 0&&(C=32);var E=new i(c,d,p,S),R=E.getPoints(C);return this.strokePoints(R,!0)},fillEllipseShape:function(c,d){d===void 0&&(d=32);var p=c.getPoints(d);return this.fillPoints(p,!0)},fillEllipse:function(c,d,p,S,C){C===void 0&&(C=32);var E=new i(c,d,p,S),R=E.getPoints(C);return this.fillPoints(R,!0)},arc:function(c,d,p,S,C,E,R){return E===void 0&&(E=!1),R===void 0&&(R=0),this.commandBuffer.push(r.ARC,c,d,p,S,C,E,R),this},slice:function(c,d,p,S,C,E,R){return E===void 0&&(E=!1),R===void 0&&(R=0),this.commandBuffer.push(r.BEGIN_PATH),this.commandBuffer.push(r.MOVE_TO,c,d),this.commandBuffer.push(r.ARC,c,d,p,S,C,E,R),this.commandBuffer.push(r.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(r.SAVE),this},restore:function(){return this.commandBuffer.push(r.RESTORE),this},translateCanvas:function(c,d){return this.commandBuffer.push(r.TRANSLATE,c,d),this},scaleCanvas:function(c,d){return this.commandBuffer.push(r.SCALE,c,d),this},rotateCanvas:function(c){return this.commandBuffer.push(r.ROTATE,c),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(c,d,p){var S=this.scene.sys,C=S.game.renderer;d===void 0&&(d=S.scale.width),p===void 0&&(p=S.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,d,p),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var E,R,M={willReadFrequently:!0};if(typeof c=="string")if(S.textures.exists(c)){E=S.textures.get(c);var D=E.getSourceImage();D instanceof HTMLCanvasElement&&(R=D.getContext("2d",M))}else E=S.textures.createCanvas(c,d,p),R=E.getSourceImage().getContext("2d",M);else c instanceof HTMLCanvasElement&&(R=c.getContext("2d",M));return R&&(this.renderCanvas(C,this,f.TargetCamera,null,R,!1),E&&E.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new o,h.exports=f}),32768:((h,x,t)=>{var o=t(85592),v=t(20926),r=function(n,i,e,a,l,s){var u=i.commandBuffer,f=u.length,c=l||n.currentContext;if(!(f===0||!v(n,c,i,e,a))){e.addToRenderList(i);var d=1,p=1,S=0,C=0,E=1,R=0,M=0,D=0;c.beginPath();for(var B=0;B<f;++B){var b=u[B];switch(b){case o.ARC:c.arc(u[B+1],u[B+2],u[B+3],u[B+4],u[B+5],u[B+6]),B+=7;break;case o.LINE_STYLE:E=u[B+1],S=u[B+2],d=u[B+3],R=(S&16711680)>>>16,M=(S&65280)>>>8,D=S&255,c.strokeStyle="rgba("+R+","+M+","+D+","+d+")",c.lineWidth=E,B+=3;break;case o.FILL_STYLE:C=u[B+1],p=u[B+2],R=(C&16711680)>>>16,M=(C&65280)>>>8,D=C&255,c.fillStyle="rgba("+R+","+M+","+D+","+p+")",B+=2;break;case o.BEGIN_PATH:c.beginPath();break;case o.CLOSE_PATH:c.closePath();break;case o.FILL_PATH:s||c.fill();break;case o.STROKE_PATH:s||c.stroke();break;case o.FILL_RECT:s?c.rect(u[B+1],u[B+2],u[B+3],u[B+4]):c.fillRect(u[B+1],u[B+2],u[B+3],u[B+4]),B+=4;break;case o.FILL_TRIANGLE:c.beginPath(),c.moveTo(u[B+1],u[B+2]),c.lineTo(u[B+3],u[B+4]),c.lineTo(u[B+5],u[B+6]),c.closePath(),s||c.fill(),B+=6;break;case o.STROKE_TRIANGLE:c.beginPath(),c.moveTo(u[B+1],u[B+2]),c.lineTo(u[B+3],u[B+4]),c.lineTo(u[B+5],u[B+6]),c.closePath(),s||c.stroke(),B+=6;break;case o.LINE_TO:c.lineTo(u[B+1],u[B+2]),B+=2;break;case o.MOVE_TO:c.moveTo(u[B+1],u[B+2]),B+=2;break;case o.LINE_FX_TO:c.lineTo(u[B+1],u[B+2]),B+=5;break;case o.MOVE_FX_TO:c.moveTo(u[B+1],u[B+2]),B+=5;break;case o.SAVE:c.save();break;case o.RESTORE:c.restore();break;case o.TRANSLATE:c.translate(u[B+1],u[B+2]),B+=2;break;case o.SCALE:c.scale(u[B+1],u[B+2]),B+=2;break;case o.ROTATE:c.rotate(u[B+1]),B+=1;break;case o.GRADIENT_FILL_STYLE:B+=5;break;case o.GRADIENT_LINE_STYLE:B+=6;break}}c.restore()}};h.exports=r}),87079:((h,x,t)=>{var o=t(44603),v=t(43831);o.register("graphics",function(r,n){r===void 0&&(r={}),n!==void 0&&(r.add=n);var i=new v(this.scene,r);return r.add&&this.scene.sys.displayList.add(i),i})}),1201:((h,x,t)=>{var o=t(43831),v=t(39429);v.register("graphics",function(r){return this.displayList.add(new o(this.scene,r))})}),84503:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(77545),r=t(32768),r=t(32768),h.exports={renderWebGL:v,renderCanvas:r}}),77545:((h,x,t)=>{var o=t(85592),v=t(91296),r=t(61340),n=t(70554),i=function(u,f,c){this.x=u,this.y=f,this.width=c},e=function(u,f,c){this.points=[],this.pointsLength=1,this.points[0]=new i(u,f,c)},a=[],l=new r,s=function(u,f,c,d){if(f.commandBuffer.length!==0){c.addToRenderList(f);var p=u.pipelines.set(f.pipeline,f);u.pipelines.preBatch(f);for(var S=v(f,c,d).calc,C=l.loadIdentity(),E=f.commandBuffer,R=c.alpha*f.alpha,M=1,D=p.fillTint,B=p.strokeTint,b=0,I=0,N=0,z=.01,H=Math.PI*2,X,W=[],V=0,U=!0,F=null,k=n.getTintAppendFloatAlpha,Y=0;Y<E.length;Y++)switch(X=E[Y],X){case o.BEGIN_PATH:{W.length=0,F=null,U=!0;break}case o.CLOSE_PATH:{U=!1,F&&F.points.length&&F.points.push(F.points[0]);break}case o.FILL_PATH:{for(V=0;V<W.length;V++)p.batchFillPath(W[V].points,C,S);break}case o.STROKE_PATH:{for(V=0;V<W.length;V++)p.batchStrokePath(W[V].points,M,U,C,S);break}case o.LINE_STYLE:{M=E[++Y];var Z=E[++Y],j=E[++Y]*R,J=k(Z,j);B.TL=J,B.TR=J,B.BL=J,B.BR=J;break}case o.FILL_STYLE:{var q=E[++Y],et=E[++Y]*R,it=k(q,et);D.TL=it,D.TR=it,D.BL=it,D.BR=it;break}case o.GRADIENT_FILL_STYLE:{var at=E[++Y]*R,ut=E[++Y]*R,dt=E[++Y]*R,ft=E[++Y]*R;D.TL=k(E[++Y],at),D.TR=k(E[++Y],ut),D.BL=k(E[++Y],dt),D.BR=k(E[++Y],ft);break}case o.GRADIENT_LINE_STYLE:{M=E[++Y];var xt=E[++Y]*R;B.TL=k(E[++Y],xt),B.TR=k(E[++Y],xt),B.BL=k(E[++Y],xt),B.BR=k(E[++Y],xt);break}case o.ARC:{var At=0,gt=E[++Y],Wt=E[++Y],Ht=E[++Y],Gt=E[++Y],Ot=E[++Y],Bt=E[++Y],Pt=E[++Y];for(Ot-=Gt,Bt?Ot<-H?Ot=-H:Ot>0&&(Ot=-H+Ot%H):Ot>H?Ot=H:Ot<0&&(Ot=H+Ot%H),F===null&&(F=new e(gt+Math.cos(Gt)*Ht,Wt+Math.sin(Gt)*Ht,M),W.push(F),At+=z);At<1+Pt;)N=Ot*At+Gt,b=gt+Math.cos(N)*Ht,I=Wt+Math.sin(N)*Ht,F.points.push(new i(b,I,M)),At+=z;N=Ot+Gt,b=gt+Math.cos(N)*Ht,I=Wt+Math.sin(N)*Ht,F.points.push(new i(b,I,M));break}case o.FILL_RECT:{p.batchFillRect(E[++Y],E[++Y],E[++Y],E[++Y],C,S);break}case o.FILL_TRIANGLE:{p.batchFillTriangle(E[++Y],E[++Y],E[++Y],E[++Y],E[++Y],E[++Y],C,S);break}case o.STROKE_TRIANGLE:{p.batchStrokeTriangle(E[++Y],E[++Y],E[++Y],E[++Y],E[++Y],E[++Y],M,C,S);break}case o.LINE_TO:{F!==null?F.points.push(new i(E[++Y],E[++Y],M)):(F=new e(E[++Y],E[++Y],M),W.push(F));break}case o.MOVE_TO:{F=new e(E[++Y],E[++Y],M),W.push(F);break}case o.SAVE:{a.push(C.copyToArray());break}case o.RESTORE:{C.copyFromArray(a.pop());break}case o.TRANSLATE:{gt=E[++Y],Wt=E[++Y],C.translate(gt,Wt);break}case o.SCALE:{gt=E[++Y],Wt=E[++Y],C.scale(gt,Wt);break}case o.ROTATE:{C.rotate(E[++Y]);break}}u.pipelines.postBatch(f)}};h.exports=s}),26479:((h,x,t)=>{var o=t(61061),v=t(83419),r=t(51708),n=t(50792),i=t(46710),e=t(95540),a=t(35154),l=t(97022),s=t(41212),u=t(88492),f=t(35072),c=t(68287),d=new v({Extends:n,initialize:function(S,C,E){n.call(this),E?C&&!Array.isArray(C)&&(C=[C]):Array.isArray(C)?s(C[0])&&(E=C,C=null):s(C)&&(E=C,C=null),this.scene=S,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(E,"classType",c),this.name=e(E,"name",""),this.active=e(E,"active",!0),this.maxSize=e(E,"maxSize",-1),this.defaultKey=e(E,"defaultKey",null),this.defaultFrame=e(E,"defaultFrame",null),this.runChildUpdate=e(E,"runChildUpdate",!1),this.createCallback=e(E,"createCallback",null),this.removeCallback=e(E,"removeCallback",null),this.createMultipleCallback=e(E,"createMultipleCallback",null),this.internalCreateCallback=e(E,"internalCreateCallback",null),this.internalRemoveCallback=e(E,"internalRemoveCallback",null),C&&this.addMultiple(C),E&&this.createMultiple(E),this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(p,S,C,E,R,M){if(p===void 0&&(p=0),S===void 0&&(S=0),C===void 0&&(C=this.defaultKey),E===void 0&&(E=this.defaultFrame),R===void 0&&(R=!0),M===void 0&&(M=!0),this.isFull())return null;var D=new this.classType(this.scene,p,S,C,E);return D.addToDisplayList(this.scene.sys.displayList),D.addToUpdateList(),D.visible=R,D.setActive(M),this.add(D),D},createMultiple:function(p){if(this.isFull())return[];Array.isArray(p)||(p=[p]);var S=[];if(p[0].key)for(var C=0;C<p.length;C++){var E=this.createFromConfig(p[C]);S=S.concat(E)}return S},createFromConfig:function(p){if(this.isFull())return[];this.classType=e(p,"classType",this.classType);var S=e(p,"key",void 0),C=e(p,"frame",null),E=e(p,"visible",!0),R=e(p,"active",!0),M=[];if(S===void 0)return M;Array.isArray(S)||(S=[S]),Array.isArray(C)||(C=[C]);var D=e(p,"repeat",0),B=e(p,"randomKey",!1),b=e(p,"randomFrame",!1),I=e(p,"yoyo",!1),N=e(p,"quantity",!1),z=e(p,"frameQuantity",1),H=e(p,"max",0),X=u(S,C,{max:H,qty:N||z,random:B,randomB:b,repeat:D,yoyo:I});p.createCallback&&(this.createCallback=p.createCallback),p.removeCallback&&(this.removeCallback=p.removeCallback),p.internalCreateCallback&&(this.internalCreateCallback=p.internalCreateCallback),p.internalRemoveCallback&&(this.internalRemoveCallback=p.internalRemoveCallback);for(var W=0;W<X.length;W++){var V=this.create(0,0,X[W].a,X[W].b,E,R);if(!V)break;M.push(V)}if(l(p,"setXY")){var U=a(p,"setXY.x",0),F=a(p,"setXY.y",0),k=a(p,"setXY.stepX",0),Y=a(p,"setXY.stepY",0);o.SetXY(M,U,F,k,Y)}if(l(p,"setRotation")){var Z=a(p,"setRotation.value",0),j=a(p,"setRotation.step",0);o.SetRotation(M,Z,j)}if(l(p,"setScale")){var J=a(p,"setScale.x",1),q=a(p,"setScale.y",J),et=a(p,"setScale.stepX",0),it=a(p,"setScale.stepY",0);o.SetScale(M,J,q,et,it)}if(l(p,"setOrigin")){var at=a(p,"setOrigin.x",.5),ut=a(p,"setOrigin.y",at),dt=a(p,"setOrigin.stepX",0),ft=a(p,"setOrigin.stepY",0);o.SetOrigin(M,at,ut,dt,ft)}if(l(p,"setAlpha")){var xt=a(p,"setAlpha.value",1),At=a(p,"setAlpha.step",0);o.SetAlpha(M,xt,At)}if(l(p,"setDepth")){var gt=a(p,"setDepth.value",0),Wt=a(p,"setDepth.step",0);o.SetDepth(M,gt,Wt)}if(l(p,"setScrollFactor")){var Ht=a(p,"setScrollFactor.x",1),Gt=a(p,"setScrollFactor.y",Ht),Ot=a(p,"setScrollFactor.stepX",0),Bt=a(p,"setScrollFactor.stepY",0);o.SetScrollFactor(M,Ht,Gt,Ot,Bt)}var Pt=e(p,"hitArea",null),te=e(p,"hitAreaCallback",null);Pt&&o.SetHitArea(M,Pt,te);var _t=e(p,"gridAlign",!1);return _t&&o.GridAlign(M,_t),this.createMultipleCallback&&this.createMultipleCallback.call(this,M),M},preUpdate:function(p,S){if(!(!this.runChildUpdate||this.children.size===0))for(var C=this.children.entries.slice(),E=0;E<C.length;E++){var R=C[E];R.active&&R.update(p,S)}},add:function(p,S){return S===void 0&&(S=!1),this.isFull()?this:(this.children.set(p),this.internalCreateCallback&&this.internalCreateCallback.call(this,p),this.createCallback&&this.createCallback.call(this,p),S&&(p.addToDisplayList(this.scene.sys.displayList),p.addToUpdateList()),p.on(r.DESTROY,this.remove,this),this)},addMultiple:function(p,S){if(S===void 0&&(S=!1),Array.isArray(p))for(var C=0;C<p.length;C++)this.add(p[C],S);return this},remove:function(p,S,C){return S===void 0&&(S=!1),C===void 0&&(C=!1),this.children.contains(p)?(this.children.delete(p),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,p),this.removeCallback&&this.removeCallback.call(this,p),p.off(r.DESTROY,this.remove,this),C?p.destroy():S&&(p.removeFromDisplayList(),p.removeFromUpdateList()),this):this},clear:function(p,S){p===void 0&&(p=!1),S===void 0&&(S=!1);for(var C=this.children,E=0;E<C.size;E++){var R=C.entries[E];R.off(r.DESTROY,this.remove,this),S?R.destroy():p&&(R.removeFromDisplayList(),R.removeFromUpdateList())}return this.children.clear(),this},contains:function(p){return this.children.contains(p)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(p,S,C,E){return i(this.children.entries,p,S,C,E)},getFirst:function(p,S,C,E,R,M,D){return this.getHandler(!0,1,p,S,C,E,R,M,D)},getFirstNth:function(p,S,C,E,R,M,D,B){return this.getHandler(!0,p,S,C,E,R,M,D,B)},getLast:function(p,S,C,E,R,M,D){return this.getHandler(!1,1,p,S,C,E,R,M,D)},getLastNth:function(p,S,C,E,R,M,D,B){return this.getHandler(!1,p,S,C,E,R,M,D,B)},getHandler:function(p,S,C,E,R,M,D,B,b){C===void 0&&(C=!1),E===void 0&&(E=!1);var I,N,z=0,H=this.children.entries;if(p)for(N=0;N<H.length;N++)if(I=H[N],I.active===C){if(z++,z===S)break}else I=null;else for(N=H.length-1;N>=0;N--)if(I=H[N],I.active===C){if(z++,z===S)break}else I=null;return I?(typeof R=="number"&&(I.x=R),typeof M=="number"&&(I.y=M),I):E?this.create(R,M,D,B,b):null},get:function(p,S,C,E,R){return this.getFirst(!1,!0,p,S,C,E,R)},getFirstAlive:function(p,S,C,E,R,M){return this.getFirst(!0,p,S,C,E,R,M)},getFirstDead:function(p,S,C,E,R,M){return this.getFirst(!1,p,S,C,E,R,M)},playAnimation:function(p,S){return o.PlayAnimation(this.children.entries,p,S),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(p){p===void 0&&(p=!0);for(var S=0,C=0;C<this.children.size;C++)this.children.entries[C].active===p&&S++;return S},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var p=this.getTotalUsed(),S=this.maxSize===-1?999999999999:this.maxSize;return S-p},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},propertyValueSet:function(p,S,C,E,R){return o.PropertyValueSet(this.children.entries,p,S,C,E,R),this},propertyValueInc:function(p,S,C,E,R){return o.PropertyValueInc(this.children.entries,p,S,C,E,R),this},setX:function(p,S){return o.SetX(this.children.entries,p,S),this},setY:function(p,S){return o.SetY(this.children.entries,p,S),this},setXY:function(p,S,C,E){return o.SetXY(this.children.entries,p,S,C,E),this},incX:function(p,S){return o.IncX(this.children.entries,p,S),this},incY:function(p,S){return o.IncY(this.children.entries,p,S),this},incXY:function(p,S,C,E){return o.IncXY(this.children.entries,p,S,C,E),this},shiftPosition:function(p,S,C){return o.ShiftPosition(this.children.entries,p,S,C),this},angle:function(p,S){return o.Angle(this.children.entries,p,S),this},rotate:function(p,S){return o.Rotate(this.children.entries,p,S),this},rotateAround:function(p,S){return o.RotateAround(this.children.entries,p,S),this},rotateAroundDistance:function(p,S,C){return o.RotateAroundDistance(this.children.entries,p,S,C),this},setAlpha:function(p,S){return o.SetAlpha(this.children.entries,p,S),this},setTint:function(p,S,C,E){return o.SetTint(this.children.entries,p,S,C,E),this},setOrigin:function(p,S,C,E){return o.SetOrigin(this.children.entries,p,S,C,E),this},scaleX:function(p,S){return o.ScaleX(this.children.entries,p,S),this},scaleY:function(p,S){return o.ScaleY(this.children.entries,p,S),this},scaleXY:function(p,S,C,E){return o.ScaleXY(this.children.entries,p,S,C,E),this},setDepth:function(p,S){return o.SetDepth(this.children.entries,p,S),this},setBlendMode:function(p){return o.SetBlendMode(this.children.entries,p),this},setHitArea:function(p,S){return o.SetHitArea(this.children.entries,p,S),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(p){this.children.contains(p)&&p.setActive(!1)},killAndHide:function(p){this.children.contains(p)&&(p.setActive(!1),p.setVisible(!1))},setVisible:function(p,S,C){return o.SetVisible(this.children.entries,p,S,C),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(p,S){p===void 0&&(p=!1),S===void 0&&(S=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(r.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(S,p),this.scene=void 0,this.children=void 0)}});h.exports=d}),94975:((h,x,t)=>{var o=t(44603),v=t(26479);o.register("group",function(r){return new v(this.scene,null,r)})}),3385:((h,x,t)=>{var o=t(26479),v=t(39429);v.register("group",function(r,n){return this.updateList.add(new o(this.scene,r,n))})}),88571:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(95643),n=t(59819),i=new o({Extends:r,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,n],initialize:function(a,l,s,u,f){r.call(this,a,"Image"),this._crop=this.resetCropObject(),this.setTexture(u,f),this.setPosition(l,s),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=i}),40652:(h=>{var x=function(t,o,v,r){v.addToRenderList(o),t.batchSprite(o,o.frame,v,r)};h.exports=x}),82459:((h,x,t)=>{var o=t(25305),v=t(44603),r=t(23568),n=t(88571);v.register("image",function(i,e){i===void 0&&(i={});var a=r(i,"key",null),l=r(i,"frame",null),s=new n(this.scene,0,0,a,l);return e!==void 0&&(i.add=e),o(this.scene,s,i),s})}),2117:((h,x,t)=>{var o=t(88571),v=t(39429);v.register("image",function(r,n,i,e){return this.displayList.add(new o(this.scene,r,n,i,e))})}),59819:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(99517),r=t(40652),h.exports={renderWebGL:v,renderCanvas:r}}),99517:(h=>{var x=function(t,o,v,r){v.addToRenderList(o),this.pipeline.batchSprite(o,v,r)};h.exports=x}),77856:((h,x,t)=>{var o={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};o.Shader=t(20071),o.Mesh=t(4703),o.NineSlice=t(28103),o.PointLight=t(80321),o.Plane=t(33663),o.Factories.Shader=t(74177),o.Factories.Mesh=t(9225),o.Factories.NineSlice=t(47521),o.Factories.PointLight=t(71255),o.Factories.Plane=t(30985),o.Creators.Shader=t(54935),o.Creators.Mesh=t(20527),o.Creators.NineSlice=t(28279),o.Creators.PointLight=t(39829),o.Creators.Plane=t(56015),o.Light=t(41432),o.LightsManager=t(61356),o.LightsPlugin=t(88992),h.exports=o}),93595:((h,x,t)=>{var o=t(10312),v=t(83419),r=t(31401),n=t(53774),i=t(45893),e=t(50792),a=t(51708),l=t(73162),s=t(33963),u=t(44594),f=t(19186),c=new v({Extends:l,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.PostPipeline,r.Visible,e,s],initialize:function(p,S){l.call(this,p),e.call(this),this.scene=p,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=p.sys,this.events=p.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),S&&this.add(S),p.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new i(this)),this},setData:function(d,p){return this.data||(this.data=new i(this)),this.data.set(d,p),this},incData:function(d,p){return this.data||(this.data=new i(this)),this.data.inc(d,p),this},toggleData:function(d){return this.data||(this.data=new i(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new i(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return n(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,p=this.parentContainer,S=[];p&&(S.unshift(p.getIndex(d)),d=p,p.parentContainer);)p=p.parentContainer;return S.unshift(this.displayList.getIndex(d)),S},addChildCallback:function(d){var p=d.displayList;p&&p!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(a.ADDED_TO_SCENE,d,this.scene),this.events.emit(u.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(a.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,p){return d._depth-p._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(a.ADDED_TO_SCENE,this,this.scene),d.events.emit(u.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(a.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(u.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var d=null;return this.parentContainer?d=this.parentContainer.list:this.displayList&&(d=this.displayList.list),d},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(a.DESTROY,this);for(var p=this.list;p.length;)p[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});h.exports=c}),2956:(h=>{var x=function(t,o,v){var r=o.list;if(r.length!==0){o.depthSort();var n=o.blendMode!==-1;n||t.setBlendMode(0);var i=o._alpha;o.mask&&o.mask.preRenderCanvas(t,null,v);for(var e=0;e<r.length;e++){var a=r[e];if(a.willRender(v)){var l=a.alpha;!n&&a.blendMode!==t.currentBlendMode&&t.setBlendMode(a.blendMode),a.setAlpha(l*i),a.renderCanvas(t,a,v),a.setAlpha(l)}}o.mask&&o.mask.postRenderCanvas(t)}};h.exports=x}),25179:((h,x,t)=>{var o=t(25305),v=t(93595),r=t(44603),n=t(23568);r.register("layer",function(i,e){i===void 0&&(i={});var a=n(i,"children",null),l=new v(this.scene,a);return e!==void 0&&(i.add=e),o(this.scene,l,i),l})}),20005:((h,x,t)=>{var o=t(93595),v=t(39429);v.register("layer",function(r){return this.displayList.add(new o(this.scene,r))})}),33963:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(15869),r=t(2956),h.exports={renderWebGL:v,renderCanvas:r}}),15869:(h=>{var x=function(t,o,v){var r=o.list,n=r.length;if(n!==0){o.depthSort(),t.pipelines.preBatch(o);var i=o.blendMode!==-1;i||t.setBlendMode(0);for(var e=o.alpha,a=0;a<n;a++){var l=r[a];if(l.willRender(v)){var s,u,f,c;if(l.alphaTopLeft!==void 0)s=l.alphaTopLeft,u=l.alphaTopRight,f=l.alphaBottomLeft,c=l.alphaBottomRight;else{var d=l.alpha;s=d,u=d,f=d,c=d}!i&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var p=l.mask;p&&p.preRenderWebGL(t,l,v);var S=l.type;S!==t.currentType&&(t.newType=!0,t.currentType=S),t.nextTypeMatch=a<n-1?r[a+1].type===t.currentType:!1,l.setAlpha(s*e,u*e,f*e,c*e),l.renderWebGL(t,l,v),l.setAlpha(s,u,f,c),p&&p.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(o)}};h.exports=x}),41432:((h,x,t)=>{var o=t(96503),v=t(83419),r=t(31401),n=t(51767),i=t(70554),e=new v({Extends:o,Mixins:[r.Origin,r.ScrollFactor,r.Visible],initialize:function(l,s,u,f,c,d,p){o.call(this,l,s,u),this.color=new n(f,c,d),this.intensity=p,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(u)},displayWidth:{get:function(){return this.diameter},set:function(a){this.diameter=a}},displayHeight:{get:function(){return this.diameter},set:function(a){this.diameter=a}},width:{get:function(){return this.diameter},set:function(a){this.diameter=a}},height:{get:function(){return this.diameter},set:function(a){this.diameter=a}},willRender:function(a){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&a.id)},setColor:function(a){var l=i.getFloatsFromUintRGB(a);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(a){return this.intensity=a,this},setRadius:function(a){return this.radius=a,this}});e.RENDER_MASK=15,h.exports=e}),61356:((h,x,t)=>{var o=t(81491),v=t(83419),r=t(20339),n=t(41432),i=t(80321),e=t(51767),a=t(19133),l=t(19186),s=t(70554),u=new v({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,c,d,p,S,C){return this.systems.displayList.add(new i(this.scene,f,c,d,p,S,C))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var c=this.lights,d=f.worldView,p=[],S=0;S<c.length;S++){var C=c[S];C.willRender(f)&&o(C,d)&&p.push({light:C,distance:r(C.x,C.y,d.centerX,d.centerY)})}return p.length>this.maxLights&&(l(p,this.sortByDistance),p=p.slice(0,this.maxLights)),this.visibleLights=p.length,p},sortByDistance:function(f,c){return f.distance>=c.distance},setAmbientColor:function(f){var c=s.getFloatsFromUintRGB(f);return this.ambientColor.set(c[0],c[1],c[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,c,d,p,S){f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=128),p===void 0&&(p=16777215),S===void 0&&(S=1);var C=s.getFloatsFromUintRGB(p),E=new n(f,c,d,C[0],C[1],C[2],S);return this.lights.push(E),E},removeLight:function(f){var c=this.lights.indexOf(f);return c>=0&&a(this.lights,c),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});h.exports=u}),88992:((h,x,t)=>{var o=t(83419),v=t(61356),r=t(37277),n=t(44594),i=new o({Extends:v,initialize:function(a){this.scene=a,this.systems=a.sys,a.sys.settings.isBooted||a.sys.events.once(n.BOOT,this.boot,this),v.call(this)},boot:function(){var e=this.systems.events;e.on(n.SHUTDOWN,this.shutdown,this),e.on(n.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});r.register("LightsPlugin",i,"lights"),h.exports=i}),4703:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(39506),n=t(83997),i=t(95643),e=t(34684),a=t(92515),l=t(91296),s=t(37867),u=t(29807),f=t(43396),c=t(19186),d=t(25836),p=t(39318),S=new o({Extends:i,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,u],initialize:function(E,R,M,D,B,b,I,N,z,H,X,W){R===void 0&&(R=0),M===void 0&&(M=0),D===void 0&&(D="__WHITE"),i.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new s,this.viewPosition=new d,this.viewMatrix=new s,this.projectionMatrix=new s,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var V=E.sys.renderer;this.setPosition(R,M),this.setTexture(D,B),this.setSize(V.width,V.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(V.width,V.height),b&&this.addVertices(b,I,N,z,H,X,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(C){return this.viewPosition.addScale(d.LEFT,C),this.dirtyCache[10]=1,this},panY:function(C){return this.viewPosition.y+=d.DOWN.y*C,this.dirtyCache[10]=1,this},panZ:function(C){return this.viewPosition.z+=C,this.dirtyCache[10]=1,this},setPerspective:function(C,E,R,M,D){return R===void 0&&(R=45),M===void 0&&(M=.01),D===void 0&&(D=1e3),this.fov=R,this.projectionMatrix.perspective(r(R),C/E,M,D),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(C,E,R,M){return C===void 0&&(C=this.scene.sys.renderer.getAspectRatio()),E===void 0&&(E=1),R===void 0&&(R=-1e3),M===void 0&&(M=1e3),this.fov=0,this.projectionMatrix.ortho(-C,C,-E,E,R,M),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(C){C.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(C,E,R,M,D,B,b,I,N){var z=this.scene.sys.cache.obj.get(C),H;return z&&(H=e(z,this,E,R,M,D,B,b,I,N)),(!H||H.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",C),this},sortByDepth:function(C,E){return C.depth-E.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(C,E,R,M,D,B,b){var I=new p(C,E,R,M,D,B,b);return this.vertices.push(I),I},addFace:function(C,E,R){var M=new n(C,E,R);return this.faces.push(M),this.dirtyCache[9]=-1,M},addVertices:function(C,E,R,M,D,B,b){var I=a(C,E,R,M,D,B,b);return I?(this.faces=this.faces.concat(I.faces),this.vertices=this.vertices.concat(I.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(C){return this.faces[C]},hasFaceAt:function(C,E,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var M=l(this,R).calc,D=this.faces,B=0;B<D.length;B++){var b=D[B];if(b.contains(C,E,M))return!0}return!1},getFaceAt:function(C,E,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var M=l(this,R).calc,D=this.faces,B=[],b=0;b<D.length;b++){var I=D[b];I.contains(C,E,M)&&B.push(I)}return c(B,this.sortByDepth)},setDebug:function(C,E){return this.debugGraphic=C,!C&&!E?this.debugCallback=null:E?this.debugCallback=E:this.debugCallback=this.renderDebug,this},isDirty:function(){var C=this.modelPosition,E=this.modelRotation,R=this.modelScale,M=this.dirtyCache,D=C.x,B=C.y,b=C.z,I=E.x,N=E.y,z=E.z,H=R.x,X=R.y,W=R.z,V=this.getFaceCount(),U=M[0],F=M[1],k=M[2],Y=M[3],Z=M[4],j=M[5],J=M[6],q=M[7],et=M[8],it=M[9];return M[0]=D,M[1]=B,M[2]=b,M[3]=I,M[4]=N,M[5]=z,M[6]=H,M[7]=X,M[8]=W,M[9]=V,U!==D||F!==B||k!==b||Y!==I||Z!==N||j!==z||J!==H||q!==X||et!==W||it!==V},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var C=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!C[10]&&!this.isDirty())){var E=this.width,R=this.height,M=this.viewMatrix,D=this.viewPosition;C[10]&&(M.identity(),M.translate(D),M.invert(),C[10]=0);var B=this.transformMatrix;B.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var b=D.z,I=this.faces,N=0;N<I.length;N++)I[N].transformCoordinatesLocal(B,E,R,b);this.depthSort()}},renderDebug:function(C,E){for(var R=C.debugGraphic,M=0;M<E.length;M++){var D=E[M],B=D.vertex1.tx,b=D.vertex1.ty,I=D.vertex2.tx,N=D.vertex2.ty,z=D.vertex3.tx,H=D.vertex3.ty;R.strokeTriangle(B,b,I,N,z,H)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(C){C===void 0&&(C={});var E=(function(R,M,D){for(var B=this.faces,b=0;b<B.length;b++){var I=B[b];if(I.contains(M,D))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,C,E),this},setTint:function(C){C===void 0&&(C=16777215);for(var E=this.vertices,R=0;R<E.length;R++)E[R].color=C;return this},uvScroll:function(C,E){for(var R=this.faces,M=0;M<R.length;M++)R[M].scrollUV(C,E);return this},uvScale:function(C,E){for(var R=this.faces,M=0;M<R.length;M++)R[M].scaleUV(C,E);return this},tint:{set:function(C){this.setTint(C)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(C){this.modelRotation.x=r(C)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(C){this.modelRotation.y=r(C)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(C){this.modelRotation.z=r(C)}}});h.exports=S}),36488:(h=>{var x=function(){};h.exports=x}),20527:((h,x,t)=>{var o=t(25305),v=t(44603),r=t(23568),n=t(35154),i=t(4703);v.register("mesh",function(e,a){e===void 0&&(e={});var l=r(e,"key",null),s=r(e,"frame",null),u=n(e,"vertices",[]),f=n(e,"uvs",[]),c=n(e,"indicies",[]),d=n(e,"containsZ",!1),p=n(e,"normals",[]),S=n(e,"colors",16777215),C=n(e,"alphas",1),E=new i(this.scene,0,0,l,s,u,f,c,d,p,S,C);return a!==void 0&&(e.add=a),o(this.scene,E,e),E})}),9225:((h,x,t)=>{var o=t(4703),v=t(39429);v.register("mesh",function(r,n,i,e,a,l,s,u,f,c,d){return this.displayList.add(new o(this.scene,r,n,i,e,a,l,s,u,f,c,d))})}),29807:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(48833),r=t(36488),h.exports={renderWebGL:v,renderCanvas:r}}),48833:((h,x,t)=>{var o=t(91296),v=function(r,n,i,e){var a=n.faces,l=a.length;if(l!==0){i.addToRenderList(n);var s=r.pipelines.set(n.pipeline,n),u=o(n,i,e).calc;r.pipelines.preBatch(n);for(var f=s.setGameObject(n),c=s.vertexViewF32,d=s.vertexViewU32,p=s.vertexCount*s.currentShader.vertexComponentCount-1,S=n.tintFill,C=[],E=n.debugCallback,R=u.a,M=u.b,D=u.c,B=u.d,b=u.e,I=u.f,N=n.viewPosition.z,z=n.hideCCW,H=i.roundPixels,X=i.alpha*n.alpha,W=0,V=0;V<l;V++){var U=a[V];U.isInView(i,z,N,X,R,M,D,B,b,I,H)&&(s.shouldFlush(3)&&(s.flush(),f=s.setGameObject(n),p=s.vertexCount*s.currentShader.vertexComponentCount-1),p=U.load(c,d,p,f,S),W++,s.vertexCount+=3,s.currentBatch.count=s.vertexCount-s.currentBatch.start,E&&C.push(U))}n.totalFrame+=W,E&&E.call(n,n,C),r.pipelines.postBatch(n)}};h.exports=v}),28103:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(95643),n=t(78023),i=t(39318),e=new o({Extends:r,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,n],initialize:function(l,s,u,f,c,d,p,S,C,E,R){r.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var M=l.textures.getFrame(f,c);this.is3Slice=!E&&!R,M&&M.scale9&&(this.is3Slice=M.is3Slice);for(var D=this.is3Slice?18:54,B=0;B<D;B++)this.vertices.push(new i);this.setPosition(s,u),this.setTexture(f,c),this.setSlices(d,p,S,C,E,R,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(a,l,s,u,f,c,d){s===void 0&&(s=10),u===void 0&&(u=10),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=!1);var p=this.frame,S=!1;if(this.is3Slice&&d&&f!==0&&c!==0&&(S=!0),S)console.warn("Cannot change 9 slice to 3 slice");else{if(p&&p.scale9&&!d){var C=p.data.scale9Borders,E=C.x,R=C.y;s=E,u=p.width-C.w-E,f=R,c=p.height-C.h-R,a===void 0&&(a=p.width),l===void 0&&(l=p.height)}else a===void 0&&(a=256),l===void 0&&(l=256);this._width=a,this._height=l,this.leftWidth=s,this.rightWidth=u,this.topHeight=f,this.bottomHeight=c,this.is3Slice&&(l=p.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var a=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,f=this.frame.width,c=this.frame.height;this.updateQuadUVs(0,0,0,a/f,s/c),this.updateQuadUVs(6,a/f,0,1-l/f,s/c),this.updateQuadUVs(12,1-l/f,0,1,s/c),this.is3Slice||(this.updateQuadUVs(18,0,s/c,a/f,1-u/c),this.updateQuadUVs(24,a/f,s/c,1-l/f,1-u/c),this.updateQuadUVs(30,1-l/f,s/c,1,1-u/c),this.updateQuadUVs(36,0,1-u/c,a/f,1),this.updateQuadUVs(42,a/f,1-u/c,1-l/f,1),this.updateQuadUVs(48,1-l/f,1-u/c,1,1))},updateVertices:function(){var a=this.leftWidth,l=this.rightWidth,s=this.topHeight,u=this.bottomHeight,f=this.width,c=this.height;this.updateQuad(0,-.5,.5,-.5+a/f,.5-s/c),this.updateQuad(6,-.5+a/f,.5,.5-l/f,.5-s/c),this.updateQuad(12,.5-l/f,.5,.5,.5-s/c),this.is3Slice||(this.updateQuad(18,-.5,.5-s/c,-.5+a/f,-.5+u/c),this.updateQuad(24,-.5+a/f,.5-s/c,.5-l/f,-.5+u/c),this.updateQuad(30,.5-l/f,.5-s/c,.5,-.5+u/c),this.updateQuad(36,-.5,-.5+u/c,-.5+a/f,-.5),this.updateQuad(42,-.5+a/f,-.5+u/c,.5-l/f,-.5),this.updateQuad(48,.5-l/f,-.5+u/c,.5,-.5))},updateQuad:function(a,l,s,u,f){var c=this.width,d=this.height,p=this.originX,S=this.originY,C=this.vertices;C[a+0].resize(l,s,c,d,p,S),C[a+1].resize(l,f,c,d,p,S),C[a+2].resize(u,s,c,d,p,S),C[a+3].resize(l,f,c,d,p,S),C[a+4].resize(u,f,c,d,p,S),C[a+5].resize(u,s,c,d,p,S)},updateQuadUVs:function(a,l,s,u,f){var c=this.vertices,d=this.frame,p=d.u0,S=d.v0,C=d.u1,E=d.v1;if(p!==0||C!==1){var R=C-p;l=p+l*R,u=p+u*R}if(S!==0||E!==1){var M=E-S;s=S+s*M,f=S+f*M}c[a+0].setUVs(l,s),c[a+1].setUVs(l,f),c[a+2].setUVs(u,s),c[a+3].setUVs(l,f),c[a+4].setUVs(u,f),c[a+5].setUVs(u,s)},clearTint:function(){return this.setTint(16777215),this},setTint:function(a){return a===void 0&&(a=16777215),this.tint=a,this.tintFill=!1,this},setTintFill:function(a){return this.setTint(a),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(a){this._width=Math.max(a,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(a){this.is3Slice||(this._height=Math.max(a,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}},setSize:function(a,l){this.width=a,this.height=l,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},setDisplaySize:function(a,l){return this.displayWidth=a,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(a){this._originX=a,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(a){this._originY=a,this.updateVertices()}},setOrigin:function(a,l){return a===void 0&&(a=.5),l===void 0&&(l=a),this._originX=a,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var a=this.frame.height;this._height=a,this.topHeight=a,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});h.exports=e}),28279:((h,x,t)=>{var o=t(25305),v=t(44603),r=t(23568),n=t(35154),i=t(28103);v.register("nineslice",function(e,a){e===void 0&&(e={});var l=r(e,"key",null),s=r(e,"frame",null),u=n(e,"width",256),f=n(e,"height",256),c=n(e,"leftWidth",10),d=n(e,"rightWidth",10),p=n(e,"topHeight",0),S=n(e,"bottomHeight",0),C=new i(this.scene,0,0,l,s,u,f,c,d,p,S);return a!==void 0&&(e.add=a),o(this.scene,C,e),C})}),47521:((h,x,t)=>{var o=t(28103),v=t(39429);v.register("nineslice",function(r,n,i,e,a,l,s,u,f,c){return this.displayList.add(new o(this.scene,r,n,i,e,a,l,s,u,f,c))})}),78023:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(52230),h.exports={renderWebGL:v,renderCanvas:r}}),52230:((h,x,t)=>{var o=t(91296),v=t(70554),r=function(n,i,e,a){var l=i.vertices,s=l.length;if(s!==0){e.addToRenderList(i);var u=n.pipelines.set(i.pipeline,i),f=o(i,e,a,!1).calc;n.pipelines.preBatch(i);var c=u.setGameObject(i),d=u.vertexViewF32,p=u.vertexViewU32,S=u.vertexCount*u.currentShader.vertexComponentCount-1,C=e.roundPixels,E=i.tintFill,R=e.alpha*i.alpha,M=v.getTintAppendFloatAlpha(i.tint,R),D=u.vertexAvailable(),B=-1;D<s&&(B=D);for(var b=0;b<s;b++){var I=l[b];b===B&&(u.flush(),c=u.setGameObject(i),S=0),d[++S]=f.getXRound(I.vx,I.vy,C),d[++S]=f.getYRound(I.vx,I.vy,C),d[++S]=I.u,d[++S]=I.v,d[++S]=c,d[++S]=E,p[++S]=M,u.vertexCount++,u.currentBatch.count=u.vertexCount-u.currentBatch.start}n.pipelines.postBatch(i)}};h.exports=r}),76472:((h,x,t)=>{var o=t(83419),v=t(44777),r=t(37589),n=t(6113),i=t(91389),e=t(90664),a=new o({Extends:v,initialize:function(s){v.call(this,s,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,s=l,u=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=n("Linear"),this.interpolation=i("linear"),u=this.easedValueEmit,f=this.easeValueUpdate,s=l[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var c=0;c<l.length;c++){var d=e(l[c]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=u,this.onUpdate=f,this.current=s,this},setEase:function(l){this.easeName=l,this.ease=n(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,s,u){var f=this.ease(u),c=this.interpolation(this.r,f),d=this.interpolation(this.g,f),p=this.interpolation(this.b,f),S=r(c,d,p);return this.current=S,S}});h.exports=a}),44777:((h,x,t)=>{var o=t(30976),v=t(45319),r=t(83419),n=t(99472),i=t(6113),e=t(95540),a=t(91389),l=t(77720),s=t(15994),u=new r({initialize:function(c,d,p){p===void 0&&(p=!1),this.propertyKey=c,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=p,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,c){f===void 0&&(f={}),c&&(this.propertyKey=c),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var c;switch(this.method){case 1:case 3:case 8:c=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(c=f);break;case 4:var d=(this.end-this.start)/this.steps;c=l(f,d),this.counter=c;break;case 5:case 6:case 7:c=v(f,this.start,this.end);break;case 9:c=this.start[0];break}return this.current=c,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var c=typeof f;if(c==="number")return 1;if(Array.isArray(f))return 2;if(c==="function")return 3;if(c==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,c=f,d=this.defaultEmit,p=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,c=f[0];break;case 3:this._onEmit=f,d=this.proxyEmit,c=this.defaultValue;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,d=this.steppedEmit,c=this.start;break;case 5:this.start=f.start,this.end=f.end;var S=this.has(f,"ease")?f.ease:"Linear";this.ease=i(S,f.easeParams),d=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,p=this.easeValueUpdate,c=this.start;break;case 6:this.start=f.min,this.end=f.max,d=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,c=this.start;break;case 7:var C=f.random;Array.isArray(C)&&(this.start=C[0],this.end=C[1]),d=this.randomRangedIntEmit,c=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,d=this.proxyEmit,p=this.proxyUpdate,c=this.defaultValue;break;case 9:this.start=f.values;var E=this.has(f,"ease")?f.ease:"Linear";this.ease=i(E,f.easeParams),this.interpolation=a(f.interpolation),d=this.easedValueEmit,p=this.easeValueUpdate,c=this.start[0];break}return this.onEmit=d,this.onUpdate=p,this.current=c,this},has:function(f,c){return f.hasOwnProperty(c)},hasBoth:function(f,c,d){return f.hasOwnProperty(c)&&f.hasOwnProperty(d)},hasEither:function(f,c,d){return f.hasOwnProperty(c)||f.hasOwnProperty(d)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(f,c,d,p){return p},proxyEmit:function(f,c,d){var p=this._onEmit(f,c,d);return this.current=p,p},proxyUpdate:function(f,c,d,p){var S=this._onUpdate(f,c,d,p);return this.current=S,S},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,c){var d=n(this.start,this.end);return f&&f.data[c]&&(f.data[c].min=d,f.data[c].max=this.end),this.current=d,d},randomRangedIntEmit:function(f,c){var d=o(this.start,this.end);return f&&f.data[c]&&(f.data[c].min=d,f.data[c].max=this.end),this.current=d,d},steppedEmit:function(){var f=this.counter,c=f,d=(this.end-this.start)/this.steps;if(this.yoyo){var p;this.direction===0?(c+=d,c>=this.end&&(p=c-this.end,c=this.end-p,this.direction=1)):(c-=d,c<=this.start&&(p=this.start-c,c=this.start+p,this.direction=0)),this.counter=c}else this.counter=s(c+d,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,c){if(f&&f.data[c]){var d=f.data[c];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,c,d){var p=f.data[c],S,C=this.ease(d);return this.interpolation?S=this.interpolation(this.start,C):S=(p.max-p.min)*C+p.min,this.current=S,S},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});h.exports=u}),24502:((h,x,t)=>{var o=t(83419),v=t(95540),r=t(20286),n=new o({Extends:r,initialize:function(e,a,l,s,u){if(typeof e=="object"){var f=e;e=v(f,"x",0),a=v(f,"y",0),l=v(f,"power",0),s=v(f,"epsilon",100),u=v(f,"gravity",50)}else e===void 0&&(e=0),a===void 0&&(a=0),l===void 0&&(l=0),s===void 0&&(s=100),u===void 0&&(u=50);r.call(this,e,a,!0),this._gravity=u,this._power=l*u,this._epsilon=s*s},update:function(i,e){var a=this.x-i.x,l=this.y-i.y,s=a*a+l*l;if(s!==0){var u=Math.sqrt(s);s<this._epsilon&&(s=this._epsilon);var f=this._power*e/(s*u)*100;i.velocityX+=a*f,i.velocityY+=l*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(i){this._epsilon=i*i}},power:{get:function(){return this._power/this._gravity},set:function(i){this._power=i*this._gravity}},gravity:{get:function(){return this._gravity},set:function(i){var e=this.power;this._gravity=i,this.power=e}}});h.exports=n}),56480:((h,x,t)=>{var o=t(9674),v=t(45319),r=t(83419),n=t(39506),i=t(87841),e=t(11520),a=t(26099),l=new r({initialize:function(u){this.emitter=u,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new a,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=u.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new o(this)),this.bounds=new i},emit:function(s,u,f,c,d,p){return this.emitter.emit(s,u,f,c,d,p)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.x=s,this.y=u},fire:function(s,u){var f=this.emitter,c=f.ops,d=f.getAnim();if(d?this.anims.play(d):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),s===void 0?this.x+=c.x.onEmit(this,"x"):c.x.steps>0?this.x+=s+c.x.onEmit(this,"x"):this.x+=s,u===void 0?this.y+=c.y.onEmit(this,"y"):c.y.steps>0?this.y+=u+c.y.onEmit(this,"y"):this.y+=u,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=c.delay.onEmit(this,"delay"),this.holdCurrent=c.hold.onEmit(this,"hold"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY.active?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=n(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var p=c.speedX.onEmit(this,"speedX"),S=c.speedY.active?c.speedY.onEmit(this,"speedY"):p;if(f.radial){var C=n(c.angle.onEmit(this,"angle"));this.velocityX=Math.cos(C)*Math.abs(p),this.velocityY=Math.sin(C)*Math.abs(S)}else if(f.moveTo){var E=c.moveToX.onEmit(this,"moveToX"),R=c.moveToY.onEmit(this,"moveToY"),M=this.life/1e3;this.velocityX=(E-this.x)/M,this.velocityY=(R-this.y)/M}else this.velocityX=p,this.velocityY=S;return f.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),c.color.active?this.tint=c.color.onEmit(this,"tint"):this.tint=c.tint.onEmit(this,"tint"),!0},update:function(s,u,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=s,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=s,!1;this.anims&&this.anims.update(0,s);var c=this.emitter,d=c.ops,p=1-this.lifeCurrent/this.life;if(this.lifeT=p,this.x=d.x.onUpdate(this,"x",p,this.x),this.y=d.y.onUpdate(this,"y",p,this.y),c.moveTo){var S=d.moveToX.onUpdate(this,"moveToX",p,c.moveToX),C=d.moveToY.onUpdate(this,"moveToY",p,c.moveToY),E=this.lifeCurrent/1e3;this.velocityX=(S-this.x)/E,this.velocityY=(C-this.y)/E}return this.computeVelocity(c,s,u,f,p),this.scaleX=d.scaleX.onUpdate(this,"scaleX",p,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",p,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",p,this.angle),this.rotation=n(this.angle),c.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=v(d.alpha.onUpdate(this,"alpha",p,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",p,this.tint):this.tint=d.tint.onUpdate(this,"tint",p,this.tint),this.lifeCurrent-=s,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(s,u,f,c,d){var p=s.ops,S=this.velocityX,C=this.velocityY,E=p.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),R=p.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),M=p.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),D=p.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=p.bounce.onUpdate(this,"bounce",d,this.bounce),S+=s.gravityX*f+E*f,C+=s.gravityY*f+R*f,S=v(S,-M,M),C=v(C,-D,D),this.velocityX=S,this.velocityY=C,this.x+=S*f,this.y+=C*f,s.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var B=0;B<c.length;B++){var b=c[B];b.active&&b.update(this,u,f,d)}},setSizeToFrame:function(){},getBounds:function(s){s===void 0&&(s=this.emitter.getWorldTransformMatrix());var u=Math.abs(s.scaleX)*this.scaleX,f=Math.abs(s.scaleY)*this.scaleY,c=this.x,d=this.y,p=this.rotation,S=this.frame.width*u/2,C=this.frame.height*f/2,E=this.bounds,R=new a(c-S,d-C),M=new a(c+S,d-C),D=new a(c-S,d+C),B=new a(c+S,d+C);return p!==0&&(e(R,c,d,p),e(M,c,d,p),e(D,c,d,p),e(B,c,d,p)),s.transformPoint(R.x,R.y,R),s.transformPoint(M.x,M.y,M),s.transformPoint(D.x,D.y,D),s.transformPoint(B.x,B.y,B),E.x=Math.min(R.x,M.x,D.x,B.x),E.y=Math.min(R.y,M.y,D.y,B.y),E.width=Math.max(R.x,M.x,D.x,B.x)-E.x,E.height=Math.max(R.y,M.y,D.y,B.y)-E.y,E},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});h.exports=l}),69601:((h,x,t)=>{var o=t(83419),v=t(20286),r=t(87841),n=new o({Extends:v,initialize:function(e,a,l,s,u,f,c,d){u===void 0&&(u=!0),f===void 0&&(f=!0),c===void 0&&(c=!0),d===void 0&&(d=!0),v.call(this,e,a,!0),this.bounds=new r(e,a,l,s),this.collideLeft=u,this.collideRight=f,this.collideTop=c,this.collideBottom=d},update:function(i){var e=this.bounds,a=-i.bounce,l=i.worldPosition;l.x<e.x&&this.collideLeft?(i.x+=e.x-l.x,i.velocityX*=a):l.x>e.right&&this.collideRight&&(i.x-=l.x-e.right,i.velocityX*=a),l.y<e.y&&this.collideTop?(i.y+=e.y-l.y,i.velocityY*=a):l.y>e.bottom&&this.collideBottom&&(i.y-=l.y-e.bottom,i.velocityY*=a)}});h.exports=n}),31600:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(53774),n=t(43459),i=t(26388),e=t(19909),a=t(76472),l=t(44777),s=t(20696),u=t(95643),f=t(95540),c=t(26546),d=t(24502),p=t(69036),S=t(1985),C=t(97022),E=t(86091),R=t(73162),M=t(20074),D=t(269),B=t(56480),b=t(69601),I=t(68875),N=t(87841),z=t(59996),H=t(72905),X=t(90668),W=t(19186),V=t(61340),U=t(26099),F=t(15994),k=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],Y=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Z=new o({Extends:u,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,X],initialize:function(J,q,et,it,at){u.call(this,J,"ParticleEmitter"),this.particleClass=B,this.config=null,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new a("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new U,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new V,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new R(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(q,et),this.setTexture(it),at&&this.setConfig(at)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(j){if(!j)return this;this.config=j;var J=0,q="",et=this.ops;for(J=0;J<Y.length;J++)q=Y[J],et[q].loadConfig(j);for(J=0;J<k.length;J++)q=k[J],C(j,q)&&(this[q]=f(j,q));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=p(j,["moveToX","moveToY"]),C(j,"speed")&&(et.speedX.loadConfig(j,"speed"),et.speedY.active=!1),(S(j,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),C(j,"scale")&&(et.scaleX.loadConfig(j,"scale"),et.scaleY.active=!1),C(j,"callbackScope")){var it=f(j,"callbackScope",null);this.emitCallbackScope=it,this.deathCallbackScope=it}if(C(j,"emitZone")&&this.addEmitZone(j.emitZone),C(j,"deathZone")&&this.addDeathZone(j.deathZone),C(j,"bounds")){var at=this.addParticleBounds(j.bounds);at.collideLeft=f(j,"collideLeft",!0),at.collideRight=f(j,"collideRight",!0),at.collideTop=f(j,"collideTop",!0),at.collideBottom=f(j,"collideBottom",!0)}return C(j,"followOffset")&&this.followOffset.setFromObject(f(j,"followOffset",0)),C(j,"texture")&&this.setTexture(j.texture),C(j,"frame")?this.setEmitterFrame(j.frame):C(j,"anim")&&this.setAnim(j.anim),C(j,"reserve")&&this.reserve(j.reserve),C(j,"advance")&&this.fastForward(j.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(s.START,this),this},updateConfig:function(j){return j&&(this.config?this.setConfig(D(this.config,j)):this.setConfig(j)),this},toJSON:function(){var j=r(this),J=0,q="";for(J=0;J<k.length;J++)q=k[J],j[q]=this[q];var et=this.ops;for(J=0;J<Y.length;J++)q=Y[J],et[q]&&(j[q]=et[q].toJSON());return et.speedY.active||(delete j.speedX,j.speed=et.speedX.toJSON()),this.scaleX===this.scaleY&&(delete j.scaleX,delete j.scaleY,j.scale=et.scaleX.toJSON()),j},resetCounters:function(j,J){var q=this.counters;q.fill(0),q[0]=j,J&&(q[5]=1)},startFollow:function(j,J,q,et){return J===void 0&&(J=0),q===void 0&&(q=0),et===void 0&&(et=!1),this.follow=j,this.followOffset.set(J,q),this.trackVisible=et,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var j=this.frames,J=j.length,q;return J===1?q=j[0]:this.randomFrame?q=c(j):(q=j[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===J&&(this.currentFrame=0))),this.texture.get(q)},setEmitterFrame:function(j,J,q){J===void 0&&(J=!0),q===void 0&&(q=1),this.randomFrame=J,this.frameQuantity=q,this.currentFrame=0;var et=typeof j;if(this.frames.length=0,Array.isArray(j))this.frames=this.frames.concat(j);else if(et==="string"||et==="number")this.frames.push(j);else if(et==="object"){var it=j;j=f(it,"frames",null),j&&(this.frames=this.frames.concat(j));var at=f(it,"cycle",!1);this.randomFrame=!at,this.frameQuantity=f(it,"quantity",q)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var j=this.anims,J=j.length;if(J===0)return null;if(J===1)return j[0];if(this.randomAnim)return c(j);var q=j[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=F(this.currentAnim+1,0,J)),q},setAnim:function(j,J,q){J===void 0&&(J=!0),q===void 0&&(q=1),this.randomAnim=J,this.animQuantity=q,this.currentAnim=0;var et=typeof j;if(this.anims.length=0,Array.isArray(j))this.anims=this.anims.concat(j);else if(et==="string")this.anims.push(j);else if(et==="object"){var it=j;j=f(it,"anims",null),j&&(this.anims=this.anims.concat(j));var at=f(it,"cycle",!1);this.randomAnim=!at,this.animQuantity=f(it,"quantity",q)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(j){return j===void 0&&(j=!0),this.radial=j,this},addParticleBounds:function(j,J,q,et,it,at,ut,dt){if(typeof j=="object"){var ft=j;j=ft.x,J=ft.y,q=C(ft,"w")?ft.w:ft.width,et=C(ft,"h")?ft.h:ft.height}return this.addParticleProcessor(new b(j,J,q,et,it,at,ut,dt))},setParticleSpeed:function(j,J){return J===void 0&&(J=j),this.ops.speedX.onChange(j),j===J?this.ops.speedY.active=!1:this.ops.speedY.onChange(J),this.radial=!0,this},setParticleScale:function(j,J){return j===void 0&&(j=1),J===void 0&&(J=j),this.ops.scaleX.onChange(j),this.ops.scaleY.onChange(J),this},setParticleGravity:function(j,J){return this.gravityX=j,this.gravityY=J,this},setParticleAlpha:function(j){return this.ops.alpha.onChange(j),this},setParticleTint:function(j){return this.ops.tint.onChange(j),this},setEmitterAngle:function(j){return this.ops.angle.onChange(j),this},setParticleLifespan:function(j){return this.ops.lifespan.onChange(j),this},setQuantity:function(j){return this.quantity=j,this},setFrequency:function(j,J){return this.frequency=j,this.flowCounter=j>0?j:0,J&&(this.quantity=J),this},addDeathZone:function(j){Array.isArray(j)||(j=[j]);for(var J,q=[],et=0;et<j.length;et++)if(J=j[et],J instanceof i)q.push(J);else if(typeof J.contains=="function")J=new i(J,!0),q.push(J);else{var it=f(J,"type","onEnter"),at=f(J,"source",null);if(at&&typeof at.contains=="function"){var ut=it==="onEnter";J=new i(at,ut),q.push(J)}}return this.deathZones=this.deathZones.concat(q),q},removeDeathZone:function(j){return H(this.deathZones,j),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(j){Array.isArray(j)||(j=[j]);for(var J,q=[],et=0;et<j.length;et++)if(J=j[et],J instanceof I||J instanceof e)q.push(J);else{var it=f(J,"source",null);if(it){var at=f(J,"type","random");if(at==="random"&&typeof it.getRandomPoint=="function")J=new I(it),q.push(J);else if(at==="edge"&&typeof it.getPoints=="function"){var ut=f(J,"quantity",1),dt=f(J,"stepRate",0),ft=f(J,"yoyo",!1),xt=f(J,"seamless",!0),At=f(J,"total",-1);J=new e(it,ut,dt,ft,xt,At),q.push(J)}}}return this.emitZones=this.emitZones.concat(q),q},removeEmitZone:function(j){return H(this.emitZones,j),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(j){var J=this.emitZones,q=J.length;if(q!==0){var et=J[this.zoneIndex];et.getPoint(j),et.total>-1&&(this.zoneTotal++,this.zoneTotal===et.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===q&&(this.zoneIndex=0)))}},getDeathZone:function(j){for(var J=this.deathZones,q=0;q<J.length;q++){var et=J[q];if(et.willKill(j))return this.emit(s.DEATH_ZONE,this,j,et),!0}return!1},setEmitZone:function(j){var J;return isFinite(j)?J=j:J=this.emitZones.indexOf(j),J>=0&&(this.zoneIndex=J),this},addParticleProcessor:function(j){return this.processors.exists(j)||(j.emitter&&j.emitter.removeParticleProcessor(j),this.processors.add(j),j.emitter=this),j},removeParticleProcessor:function(j){return this.processors.exists(j)&&(this.processors.remove(j,!0),j.emitter=null),j},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(j){return this.addParticleProcessor(new d(j))},reserve:function(j){var J=this.dead;if(this.maxParticles>0){var q=this.getParticleCount();q+j>this.maxParticles&&(j=this.maxParticles-(q+j))}for(var et=0;et<j;et++)J.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(j,J){return j===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof j=="function"&&(this.emitCallback=j,J&&(this.emitCallbackScope=J)),this},onParticleDeath:function(j,J){return j===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof j=="function"&&(this.deathCallback=j,J&&(this.deathCallbackScope=J)),this},killAll:function(){for(var j=this.dead,J=this.alive;J.length>0;)j.push(J.pop());return this},forEachAlive:function(j,J){for(var q=this.alive,et=q.length,it=0;it<et;it++)j.call(J,q[it],this);return this},forEachDead:function(j,J){for(var q=this.dead,et=q.length,it=0;it<et;it++)j.call(J,q[it],this);return this},start:function(j,J){return j===void 0&&(j=0),this.emitting||(j>0&&this.fastForward(j),this.emitting=!0,this.resetCounters(this.frequency,!0),J!==void 0&&(this.duration=Math.abs(J)),this.emit(s.START,this)),this},stop:function(j){return j===void 0&&(j=!1),this.emitting&&(this.emitting=!1,j&&this.killAll(),this.emit(s.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(j,J){return j===void 0&&(j=""),J===void 0&&(J=this.true),this.sortProperty=j,this.sortOrderAsc=J,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(j){return this.sortProperty!==""?j=this.depthSortCallback:j=null,this.sortCallback=j,this},depthSort:function(){return W(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(j,J){var q=this.sortProperty;return this.sortOrderAsc?j[q]-J[q]:J[q]-j[q]},flow:function(j,J,q){return J===void 0&&(J=1),this.emitting=!1,this.frequency=j,this.quantity=J,q!==void 0&&(this.stopAfter=q),this.start()},explode:function(j,J,q){this.frequency=-1,this.resetCounters(-1,!0);var et=this.emitParticle(j,J,q);return this.emit(s.EXPLODE,this,et),et},emitParticleAt:function(j,J,q){return this.emitParticle(q,j,J)},emitParticle:function(j,J,q){if(!this.atLimit()){j===void 0&&(j=this.ops.quantity.onEmit());for(var et=this.dead,it=this.stopAfter,at=this.follow?this.follow.x+this.followOffset.x:J,ut=this.follow?this.follow.y+this.followOffset.y:q,dt=0;dt<j;dt++){var ft=et.pop();if(ft||(ft=new this.particleClass(this)),ft.fire(at,ut)?(this.particleBringToTop?this.alive.push(ft):this.alive.unshift(ft),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,ft,this)):this.dead.push(ft),it>0&&(this.stopCounter++,this.stopCounter>=it)||this.atLimit())break}return ft}},fastForward:function(j,J){J===void 0&&(J=1e3/60);var q=0;for(this.skipping=!0;q<Math.abs(j);)this.preUpdate(0,J),q+=J;return this.skipping=!1,this},preUpdate:function(j,J){J*=this.timeScale;var q=J/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var et=this.getProcessors(),it=this.alive,at=this.dead,ut=0,dt=[],ft=it.length;for(ut=0;ut<ft;ut++){var xt=it[ut];xt.update(J,q,et)&&dt.push({index:ut,particle:xt})}if(ft=dt.length,ft>0){var At=this.deathCallback,gt=this.deathCallbackScope;for(ut=ft-1;ut>=0;ut--){var Wt=dt[ut];it.splice(Wt.index,1),at.push(Wt.particle),At&&At.call(gt,Wt.particle),Wt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&it.length===0&&(this.completeFlag=0,this.emit(s.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=J;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=J,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(j){for(var J=this.getWorldTransformMatrix(),q=this.alive,et=q.length,it=[],at=0;at<et;at++){var ut=q[at];z(j,ut.getBounds(J))&&it.push(ut)}return it},getBounds:function(j,J,q,et){j===void 0&&(j=0),J===void 0&&(J=0),q===void 0&&(q=1e3/60),et===void 0&&(et=new N);var it=this.getWorldTransformMatrix(),at,ut,dt=this.alive,ft=!1;if(et.setTo(0,0,0,0),J>0){var xt=0;for(this.skipping=!0;xt<Math.abs(J);){for(this.preUpdate(0,q),at=0;at<dt.length;at++)ut=dt[at].getBounds(it),ft?M(et,ut):(ft=!0,n(ut,et));xt+=q}this.skipping=!1}else for(at=0;at<dt.length;at++)ut=dt[at].getBounds(it),ft?M(et,ut):(ft=!0,n(ut,et));return j>0&&E(et,j,j),et},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(j){this.ops.x.onChange(j)}},particleY:{get:function(){return this.ops.y.current},set:function(j){this.ops.y.onChange(j)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(j){this.ops.accelerationX.onChange(j)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(j){this.ops.accelerationY.onChange(j)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(j){this.ops.maxVelocityX.onChange(j)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(j){this.ops.maxVelocityY.onChange(j)}},speed:{get:function(){return this.ops.speedX.current},set:function(j){this.ops.speedX.onChange(j),this.ops.speedY.onChange(j)}},speedX:{get:function(){return this.ops.speedX.current},set:function(j){this.ops.speedX.onChange(j)}},speedY:{get:function(){return this.ops.speedY.current},set:function(j){this.ops.speedY.onChange(j)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(j){this.ops.moveToX.onChange(j)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(j){this.ops.moveToY.onChange(j)}},bounce:{get:function(){return this.ops.bounce.current},set:function(j){this.ops.bounce.onChange(j)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(j){this.ops.scaleX.onChange(j)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(j){this.ops.scaleY.onChange(j)}},particleColor:{get:function(){return this.ops.color.current},set:function(j){this.ops.color.onChange(j)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(j){this.ops.color.setEase(j)}},particleTint:{get:function(){return this.ops.tint.current},set:function(j){this.ops.tint.onChange(j)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(j){this.ops.alpha.onChange(j)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(j){this.ops.lifespan.onChange(j)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(j){this.ops.angle.onChange(j)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(j){this.ops.rotate.onChange(j)}},quantity:{get:function(){return this.ops.quantity.current},set:function(j){this.ops.quantity.onChange(j)}},delay:{get:function(){return this.ops.delay.current},set:function(j){this.ops.delay.onChange(j)}},hold:{get:function(){return this.ops.hold.current},set:function(j){this.ops.hold.onChange(j)}},flowCounter:{get:function(){return this.counters[0]},set:function(j){this.counters[0]=j}},frameCounter:{get:function(){return this.counters[1]},set:function(j){this.counters[1]=j}},animCounter:{get:function(){return this.counters[2]},set:function(j){this.counters[2]=j}},elapsed:{get:function(){return this.counters[3]},set:function(j){this.counters[3]=j}},stopCounter:{get:function(){return this.counters[4]},set:function(j){this.counters[4]=j}},completeFlag:{get:function(){return this.counters[5]},set:function(j){this.counters[5]=j}},zoneIndex:{get:function(){return this.counters[6]},set:function(j){this.counters[6]=j}},zoneTotal:{get:function(){return this.counters[7]},set:function(j){this.counters[7]=j}},currentFrame:{get:function(){return this.counters[8]},set:function(j){this.counters[8]=j}},currentAnim:{get:function(){return this.counters[9]},set:function(j){this.counters[9]=j}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var j,J=this.ops;for(j=0;j<Y.length;j++){var q=Y[j];J[q].destroy()}for(j=0;j<this.alive.length;j++)this.alive[j].destroy();for(j=0;j<this.dead.length;j++)this.dead[j].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});h.exports=Z}),9871:((h,x,t)=>{var o=t(59996),v=t(61340),r=new v,n=new v,i=new v,e=new v,a=function(l,s,u,f){var c=r,d=n,p=i,S=e;f?(S.loadIdentity(),S.multiply(f),S.translate(s.x,s.y),S.rotate(s.rotation),S.scale(s.scaleX,s.scaleY)):S.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY);var C=l.currentContext,E=u.roundPixels,R=u.alpha,M=s.alpha,D=s.alive,B=D.length,b=s.viewBounds;if(!(!s.visible||B===0||b&&!o(b,u.worldView))){s.sortCallback&&s.depthSort(),u.addToRenderList(s);var I=s.scrollFactorX,N=s.scrollFactorY;C.save(),C.globalCompositeOperation=l.blendModes[s.blendMode];for(var z=0;z<B;z++){var H=D[z],X=H.alpha*M*R;if(!(X<=0||H.scaleX===0||H.scaleY===0)){p.applyITRS(H.x,H.y,H.rotation,H.scaleX,H.scaleY),c.copyFrom(u.matrix),c.multiplyWithOffset(S,-u.scrollX*I,-u.scrollY*N),p.e=H.x,p.f=H.y,c.multiply(p,d);var W=H.frame,V=W.canvasData;if(V.width>0&&V.height>0){var U=-W.halfWidth,F=-W.halfHeight;C.globalAlpha=X,C.save(),d.setToContext(C),E&&(U=Math.round(U),F=Math.round(F)),C.imageSmoothingEnabled=!W.source.scaleMode,C.drawImage(W.source.image,V.x,V.y,V.width,V.height,U,F,V.width,V.height),C.restore()}}}C.restore()}};h.exports=a}),92730:((h,x,t)=>{var o=t(25305),v=t(44603),r=t(23568),n=t(95540),i=t(31600);v.register("particles",function(e,a){e===void 0&&(e={});var l=r(e,"key",null),s=n(e,"config",null),u=new i(this.scene,0,0,l);return a!==void 0&&(e.add=a),o(this.scene,u,e),s&&u.setConfig(s),u})}),676:((h,x,t)=>{var o=t(39429),v=t(31600);o.register("particles",function(r,n,i,e){return r!==void 0&&typeof r=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,r,n,i,e))})}),90668:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(21188),r=t(9871),h.exports={renderWebGL:v,renderCanvas:r}}),21188:((h,x,t)=>{var o=t(59996),v=t(61340),r=t(70554),n=new v,i=new v,e=new v,a=new v,l=function(s,u,f,c){var d=s.pipelines.set(u.pipeline),p=n,S=i,C=e,E=a;c?(E.loadIdentity(),E.multiply(c),E.translate(u.x,u.y),E.rotate(u.rotation),E.scale(u.scaleX,u.scaleY)):E.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var R=r.getTintAppendFloatAlpha,M=f.alpha,D=u.alpha;s.pipelines.preBatch(u);var B=u.alive,b=B.length,I=u.viewBounds;if(!(b===0||I&&!o(I,f.worldView))){u.sortCallback&&u.depthSort(),f.addToRenderList(u),p.copyFrom(f.matrix),p.multiplyWithOffset(E,-f.scrollX*u.scrollFactorX,-f.scrollY*u.scrollFactorY),s.setBlendMode(u.blendMode),u.mask&&(u.mask.preRenderWebGL(s,u,f),s.pipelines.set(u.pipeline));for(var N=u.tintFill,z,H,X=0;X<b;X++){var W=B[X],V=W.alpha*D*M;if(!(V<=0||W.scaleX===0||W.scaleY===0)){C.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),C.e=W.x,C.f=W.y,p.multiply(C,S);var U=W.frame;U.glTexture!==H&&(H=U.glTexture,z=d.setGameObject(u,U));var F=-U.halfWidth,k=-U.halfHeight,Y=S.setQuad(F,k,F+U.width,k+U.height),Z=R(W.tint,V);d.shouldFlush(6)&&(d.flush(),z=d.setGameObject(u,U)),d.batchQuad(u,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],U.u0,U.v0,U.u1,U.v1,Z,Z,Z,Z,N,H,z)}}u.mask&&u.mask.postRenderWebGL(s,f),s.pipelines.postBatch(u)}};h.exports=l}),20286:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e){n===void 0&&(n=0),i===void 0&&(i=0),e===void 0&&(e=!0),this.emitter,this.x=n,this.y=i,this.active=e},update:function(){},destroy:function(){this.emitter=null}});h.exports=v}),9774:(h=>{h.exports="complete"}),812:(h=>{h.exports="deathzone"}),30522:(h=>{h.exports="explode"}),96695:(h=>{h.exports="start"}),18677:(h=>{h.exports="stop"}),20696:((h,x,t)=>{h.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}}),18404:((h,x,t)=>{h.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}}),26388:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i){this.source=n,this.killOnEnter=i},willKill:function(r){var n=r.worldPosition,i=this.source.contains(n.x,n.y);return i&&this.killOnEnter||!i&&!this.killOnEnter}});h.exports=v}),19909:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e,a,l,s){a===void 0&&(a=!1),l===void 0&&(l=!0),s===void 0&&(s=-1),this.source=n,this.points=[],this.quantity=i,this.stepRate=e,this.yoyo=a,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=s,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var r=this.points[0],n=this.points[this.points.length-1];r.x===n.x&&r.y===n.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(r){return this.source=r,this.updateSource()},getPoint:function(r){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var n=this.points[this.counter];n&&(r.x=n.x,r.y=n.y)}});h.exports=v}),68875:((h,x,t)=>{var o=t(83419),v=t(26099),r=new o({initialize:function(i){this.source=i,this._tempVec=new v,this.total=-1},getPoint:function(n){var i=this._tempVec;this.source.getRandomPoint(i),n.x=i.x,n.y=i.y}});h.exports=r}),21024:((h,x,t)=>{h.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}}),1159:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(68287),n=new o({Extends:r,Mixins:[v.PathFollower],initialize:function(e,a,l,s,u,f){r.call(this,e,l,s,u,f),this.path=a},preUpdate:function(i,e){this.anims.update(i,e),this.pathUpdate(i)}});h.exports=n}),90145:((h,x,t)=>{var o=t(39429),v=t(1159);o.register("follower",function(r,n,i,e,a){var l=new v(this.scene,r,n,i,e,a);return this.displayList.add(l),this.updateList.add(l),l})}),33663:((h,x,t)=>{var o=t(9674),v=t(83419),r=t(48803),n=t(90664),i=t(4703),e=t(45650),a=new v({Extends:i,initialize:function(s,u,f,c,d,p,S,C){c||(c="__DEFAULT"),i.call(this,s,u,f,c,d),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(p,S,C),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,s,u){l===void 0&&(l=8),s===void 0&&(s=8),u===void 0&&(u=!1);var f=!1;return u&&(f=!0),this.gridWidth=l,this.gridHeight=s,this.isTiled=u,this.clear(),r({mesh:this,widthSegments:l,heightSegments:s,isOrtho:!1,tile:u,flipY:f}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var s=this.frame;if(this.setPerspective(this.width/s.width,this.height/s.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var u=this.gridWidth,f=this.gridHeight,c=this.vertices,d=s.u0,p=s.u1,S=s.v0,C=s.v1,E,R,M=0;if(this.isTiled)for(S=s.v1,C=s.v0,R=0;R<f;R++)for(E=0;E<u;E++)c[M++].setUVs(d,C),c[M++].setUVs(d,S),c[M++].setUVs(p,C),c[M++].setUVs(d,S),c[M++].setUVs(p,S),c[M++].setUVs(p,C);else{var D=u+1,B=f+1,b=p-d,I=C-S,N=[];for(R=0;R<B;R++)for(E=0;E<D;E++){var z=d+b*(E/u),H=S+I*(R/f);N.push(z,H)}for(R=0;R<f;R++)for(E=0;E<u;E++){var X=(E+D*R)*2,W=(E+D*(R+1))*2,V=(E+1+D*(R+1))*2,U=(E+1+D*R)*2;c[M++].setUVs(N[X],N[X+1]),c[M++].setUVs(N[W],N[W+1]),c[M++].setUVs(N[U],N[U+1]),c[M++].setUVs(N[W],N[W+1]),c[M++].setUVs(N[V],N[V+1]),c[M++].setUVs(N[U],N[U+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var s=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(s/2),this.dirtyCache[10]=1},createCheckerboard:function(l,s,u,f,c){l===void 0&&(l=16777215),s===void 0&&(s=255),u===void 0&&(u=255),f===void 0&&(f=255),c===void 0&&(c=128);for(var d=n(l),p=n(s),S=[],C=0;C<16;C++)for(var E=0;E<16;E++)C<8&&E<8||C>7&&E>7?S.push(d.r,d.g,d.b,u):S.push(p.r,p.g,p.b,f);var R=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(S),16,16);return this.removeCheckerboard(),this.setTexture(R),this.setSizeToFrame(),this.setViewHeight(c),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,s){return this.anims.play(l,s)},playReverse:function(l,s){return this.anims.playReverse(l,s)},playAfterDelay:function(l,s){return this.anims.playAfterDelay(l,s)},playAfterRepeat:function(l,s){return this.anims.playAfterRepeat(l,s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,s){i.prototype.preUpdate.call(this,l,s),this.anims.update(l,s)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});h.exports=a}),56015:((h,x,t)=>{var o=t(25305),v=t(13059),r=t(44603),n=t(23568),i=t(35154),e=t(33663);r.register("plane",function(a,l){a===void 0&&(a={});var s=n(a,"key",null),u=n(a,"frame",null),f=i(a,"width",8),c=i(a,"height",8),d=i(a,"tile",!1),p=new e(this.scene,0,0,s,u,f,c,d);l!==void 0&&(a.add=l);var S=i(a,"checkerboard",null);if(S){var C=i(S,"color1",16777215),E=i(S,"color2",255),R=i(S,"alpha1",255),M=i(S,"alpha2",255),D=i(S,"height",128);p.createCheckerboard(C,E,R,M,D)}return o(this.scene,p,a),v(p,a),p})}),30985:((h,x,t)=>{var o=t(33663),v=t(39429);v.register("plane",function(r,n,i,e,a,l,s){return this.displayList.add(new o(this.scene,r,n,i,e,a,l,s))})}),80321:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(95643),n=t(30100),i=t(36060),e=t(67277),a=new o({Extends:r,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,e],initialize:function(s,u,f,c,d,p,S){c===void 0&&(c=16777215),d===void 0&&(d=128),p===void 0&&(p=1),S===void 0&&(S=.1),r.call(this,s,"PointLight"),this.initPipeline(i.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(u,f),this.color=n(c),this.intensity=p,this.attenuation=S,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});h.exports=a}),39829:((h,x,t)=>{var o=t(25305),v=t(44603),r=t(23568),n=t(80321);v.register("pointlight",function(i,e){i===void 0&&(i={});var a=r(i,"color",16777215),l=r(i,"radius",128),s=r(i,"intensity",1),u=r(i,"attenuation",.1),f=new n(this.scene,0,0,a,l,s,u);return e!==void 0&&(i.add=e),o(this.scene,f,i),f})}),71255:((h,x,t)=>{var o=t(39429),v=t(80321);o.register("pointlight",function(r,n,i,e,a,l){return this.displayList.add(new v(this.scene,r,n,i,e,a,l))})}),67277:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(57787),h.exports={renderWebGL:v,renderCanvas:r}}),57787:((h,x,t)=>{var o=t(91296),v=function(r,n,i,e){i.addToRenderList(n);var a=r.pipelines.set(n.pipeline),l=o(n,i,e).calc,s=n.width,u=n.height,f=-n._radius,c=-n._radius,d=f+s,p=c+u,S=l.getX(0,0),C=l.getY(0,0),E=l.getX(f,c),R=l.getY(f,c),M=l.getX(f,p),D=l.getY(f,p),B=l.getX(d,p),b=l.getY(d,p),I=l.getX(d,c),N=l.getY(d,c);r.pipelines.preBatch(n),a.batchPointLight(n,i,E,R,M,D,B,b,I,N,S,C),r.pipelines.postBatch(n)};h.exports=v}),591:((h,x,t)=>{var o=t(83419),v=t(81320),r=t(88571),n=new o({Extends:r,initialize:function(e,a,l,s,u,f){a===void 0&&(a=0),l===void 0&&(l=0),s===void 0&&(s=32),u===void 0&&(u=32),f===void 0&&(f=!0);var c=new v(e.sys.textures,"",s,u,f);r.call(this,e,a,l,c),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(i,e){this.width=i,this.height=e,this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=i,a.hitArea.height=e),this},resize:function(i,e,a){return this.texture.setSize(i,e,a),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(i){var e=this.texture;return e.key=i,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(i,e,a,l,s,u){return this.texture.fill(i,e,a,l,s,u),this},clear:function(){return this.texture.clear(),this},stamp:function(i,e,a,l,s){return this.texture.stamp(i,e,a,l,s),this},erase:function(i,e,a){return this.texture.erase(i,e,a),this},draw:function(i,e,a,l,s){return this.texture.draw(i,e,a,l,s),this},drawFrame:function(i,e,a,l,s,u){return this.texture.drawFrame(i,e,a,l,s,u),this},repeat:function(i,e,a,l,s,u,f,c,d){return this.texture.repeat(i,e,a,l,s,u,f,c,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(i,e,a,l,s){return this.texture.batchDraw(i,e,a,l,s),this},batchDrawFrame:function(i,e,a,l,s,u){return this.texture.batchDrawFrame(i,e,a,l,s,u),this},endDraw:function(i){return this.texture.endDraw(i),this},snapshotArea:function(i,e,a,l,s,u,f){return this.texture.snapshotArea(i,e,a,l,s,u,f),this},snapshot:function(i,e,a){return this.snapshotArea(0,0,this.width,this.height,i,e,a)},snapshotPixel:function(i,e,a){return this.snapshotArea(i,e,1,1,a,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});h.exports=n}),34495:((h,x,t)=>{var o=t(25305),v=t(44603),r=t(23568),n=t(591);v.register("renderTexture",function(i,e){i===void 0&&(i={});var a=r(i,"x",0),l=r(i,"y",0),s=r(i,"width",32),u=r(i,"height",32),f=new n(this.scene,a,l,s,u);return e!==void 0&&(i.add=e),o(this.scene,f,i),f})}),60505:((h,x,t)=>{var o=t(39429),v=t(591);o.register("renderTexture",function(r,n,i,e){return this.displayList.add(new v(this.scene,r,n,i,e))})}),77757:((h,x,t)=>{var o=t(9674),v=t(83419),r=t(31401),n=t(95643),i=t(36060),e=t(38745),a=t(26099),l=new v({Extends:n,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Flip,r.Mask,r.Pipeline,r.PostPipeline,r.Size,r.Texture,r.Transform,r.Visible,r.ScrollFactor,e],initialize:function(u,f,c,d,p,S,C,E,R){d===void 0&&(d="__DEFAULT"),S===void 0&&(S=2),C===void 0&&(C=!0),n.call(this,u,"Rope"),this.anims=new o(this),this.points=S,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=C,this._flipX=!1,this._flipY=!1,this._perp=new a,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,p),this.setPosition(f,c),this.setSizeToFrame(),this.initPipeline(i.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(S)&&this.resizeArrays(S.length),this.setPoints(S,E,R),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,u){var f=this.anims.currentFrame;this.anims.update(s,u),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(s,u,f){return this.anims.play(s,u,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(s,u,f){return s===void 0&&(s=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(s,u,f))},setVertical:function(s,u,f){return s===void 0&&(s=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(s,u,f)):this},setTintFill:function(s){return s===void 0&&(s=!1),this.tintFill=s,this},setAlphas:function(s,u){var f=this.points.length;if(f<1)return this;var c=this.alphas;s===void 0?s=[1]:!Array.isArray(s)&&u===void 0&&(s=[s]);var d,p=0;if(u!==void 0)for(d=0;d<f;d++)p=d*2,c[p]=s,c[p+1]=u;else if(s.length===f)for(d=0;d<f;d++)p=d*2,c[p]=s[d],c[p+1]=s[d];else{var S=s[0];for(d=0;d<f;d++)p=d*2,s.length>p&&(S=s[p]),c[p]=S,s.length>p+1&&(S=s[p+1]),c[p+1]=S}return this},setColors:function(s){var u=this.points.length;if(u<1)return this;var f=this.colors;s===void 0?s=[16777215]:Array.isArray(s)||(s=[s]);var c,d=0;if(s.length===u)for(c=0;c<u;c++)d=c*2,f[d]=s[c],f[d+1]=s[c];else{var p=s[0];for(c=0;c<u;c++)d=c*2,s.length>d&&(p=s[d]),f[d]=p,s.length>d+1&&(p=s[d+1]),f[d+1]=p}return this},setPoints:function(s,u,f){if(s===void 0&&(s=2),typeof s=="number"){var c=s;c<2&&(c=2),s=[];var d,p,S;if(this.horizontal)for(S=-this.frame.halfWidth,p=this.frame.width/(c-1),d=0;d<c;d++)s.push({x:S+d*p,y:0});else for(S=-this.frame.halfHeight,p=this.frame.height/(c-1),d=0;d<c;d++)s.push({x:0,y:S+d*p})}var C=s.length,E=this.points.length;return C<1?(console.warn("Rope: Not enough points given"),this):(C===1&&(s.unshift({x:0,y:0}),C++),E!==C&&this.resizeArrays(C),this.dirty=!0,this.points=s,this.updateUVs(),u!=null&&this.setColors(u),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var s=this.uv,u=this.points.length,f=this.frame.u0,c=this.frame.v0,d=this.frame.u1,p=this.frame.v1,S=(d-f)/(u-1),C=(p-c)/(u-1),E=0;E<u;E++){var R=E*4,M,D,B,b;this.horizontal?(this._flipX?(M=d-E*S,B=d-E*S):(M=f+E*S,B=f+E*S),this._flipY?(D=p,b=c):(D=c,b=p)):(this._flipX?(M=f,B=d):(M=d,B=f),this._flipY?(D=p-E*C,b=p-E*C):(D=c+E*C,b=c+E*C)),s[R+0]=M,s[R+1]=D,s[R+2]=B,s[R+3]=b}return this},resizeArrays:function(s){var u=this.colors,f=this.alphas;this.vertices=new Float32Array(s*4),this.uv=new Float32Array(s*4),u=new Uint32Array(s*2),f=new Float32Array(s*2);for(var c=0;c<s*2;c++)u[c]=16777215,f[c]=1;return this.colors=u,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var s=this._perp,u=this.points,f=this.vertices,c=u.length;if(this.dirty=!1,!(c<1)){for(var d,p=u[0],S=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,C=0;C<c;C++){var E=u[C],R=C*4;C<c-1?d=u[C+1]:d=E,s.x=d.y-p.y,s.y=-(d.x-p.x);var M=s.length();s.x/=M,s.y/=M,s.x*=S,s.y*=S,f[R]=E.x+s.x,f[R+1]=E.y+s.y,f[R+2]=E.x-s.x,f[R+3]=E.y-s.y,p=E}return this}},setDebug:function(s,u){return this.debugGraphic=s,!s&&!u?this.debugCallback=null:u?this.debugCallback=u:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(s,u,f){var c=s.debugGraphic,d=f[0],p=f[1],S=f[2],C=f[3];c.lineBetween(d,p,S,C);for(var E=4;E<u;E+=4){var R=f[E+0],M=f[E+1],D=f[E+2],B=f[E+3];c.lineBetween(d,p,R,M),c.lineBetween(S,C,D,B),c.lineBetween(S,C,R,M),c.lineBetween(R,M,D,B),d=R,p=M,S=D,C=B}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(s){return this._flipX=s,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(s){return this._flipY=s,this.updateUVs()}}});h.exports=l}),95262:(h=>{var x=function(){};h.exports=x}),26209:((h,x,t)=>{var o=t(25305),v=t(44603),r=t(23568),n=t(35154),i=t(77757);v.register("rope",function(e,a){e===void 0&&(e={});var l=r(e,"key",null),s=r(e,"frame",null),u=r(e,"horizontal",!0),f=n(e,"points",void 0),c=n(e,"colors",void 0),d=n(e,"alphas",void 0),p=new i(this.scene,0,0,l,s,f,u,c,d);return a!==void 0&&(e.add=a),o(this.scene,p,e),p})}),96819:((h,x,t)=>{var o=t(77757),v=t(39429);v.register("rope",function(r,n,i,e,a,l,s,u){return this.displayList.add(new o(this.scene,r,n,i,e,a,l,s,u))})}),38745:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(20439),r=t(95262),h.exports={renderWebGL:v,renderCanvas:r}}),20439:((h,x,t)=>{var o=t(91296),v=t(70554),r=function(n,i,e,a){e.addToRenderList(i);var l=n.pipelines.set(i.pipeline,i),s=o(i,e,a).calc,u=i.vertices,f=i.uv,c=i.colors,d=i.alphas,p=i.alpha,S=v.getTintAppendFloatAlpha,C=e.roundPixels,E=u.length,R=Math.floor(E*.5);l.flush(),n.pipelines.preBatch(i);var M=l.setGameObject(i),D=l.vertexViewF32,B=l.vertexViewU32,b=l.vertexCount*l.currentShader.vertexComponentCount-1,I=0,N=i.tintFill;i.dirty&&i.updateVertices();for(var z=i.debugCallback,H=[],X=0;X<E;X+=2){var W=u[X+0],V=u[X+1],U=W*s.a+V*s.c+s.e,F=W*s.b+V*s.d+s.f;C&&(U=Math.round(U),F=Math.round(F)),D[++b]=U,D[++b]=F,D[++b]=f[X+0],D[++b]=f[X+1],D[++b]=M,D[++b]=N,B[++b]=S(c[I],e.alpha*(d[I]*p)),I++,z&&(H[X+0]=U,H[X+1]=F)}z&&z.call(i,i,E,H),l.vertexCount+=R,l.currentBatch.count=l.vertexCount-l.currentBatch.start,n.pipelines.postBatch(i)};h.exports=r}),20071:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(95643),n=t(95540),i=t(79291),e=t(61622),a=t(25479),l=t(61340),s=t(95428),u=t(92503),f=new o({Extends:r,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,a],initialize:function(d,p,S,C,E,R,M,D){S===void 0&&(S=0),C===void 0&&(C=0),E===void 0&&(E=128),R===void 0&&(R=128),r.call(this,d,"Shader"),this.blendMode=-1,this.shader;var B=d.sys.renderer;this.renderer=B,this.gl=B.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=B.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=B.width,this._rendererHeight=B.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(S,C),this.setSize(E,R),this.setOrigin(.5,.5),this.setShader(p,M,D),this.renderer.on(u.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(c){return this.renderToTexture?!0:!(r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},setRenderToTexture:function(c,d){if(!this.renderToTexture){var p=this.width,S=this.height,C=this.renderer;this.glTexture=C.createTextureFromSource(null,p,S,0),this.framebuffer=C.createFramebuffer(p,S,this.glTexture,!1),this._rendererWidth=p,this._rendererHeight=S,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture))}return this.shader&&(C.pipelines.clear(),this.load(),this.flush(),C.pipelines.rebind()),this},setShader:function(c,d,p){if(this.renderer.contextLost)return this._deferSetShader={key:c,textures:d,textureData:p},this;if(d===void 0&&(d=[]),typeof c=="string"){var S=this.scene.sys.cache.shader;if(!S.has(c))return console.warn("Shader missing: "+c),this;this.shader=S.get(c)}else this.shader=c;var C=this.gl,E=this.renderer;this.program&&E.deleteProgram(this.program);var R=E.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);C.uniformMatrix4fv(C.getUniformLocation(R.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),C.uniformMatrix4fv(C.getUniformLocation(R.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),C.uniform2f(C.getUniformLocation(R.webGLProgram,"uResolution"),this.width,this.height),this.program=R;var M=new Date,D={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[M.getFullYear(),M.getMonth(),M.getDate(),M.getHours()*60*60+M.getMinutes()*60+M.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=i(!0,{},this.shader.uniforms,D):this.uniforms=D;for(var B=0;B<4;B++)d[B]&&this.setSampler2D("iChannel"+B,d[B],B,p);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,d,p,S){if(this.renderer.contextLost){this._deferProjOrtho={left:c,right:d,bottom:p,top:S};return}var C=-1e3,E=1e3,R=1/(c-d),M=1/(p-S),D=1/(C-E),B=this.projectionMatrix;B[0]=-2*R,B[5]=-2*M,B[10]=2*D,B[12]=(c+d)*R,B[13]=(S+p)*M,B[14]=(E+C)*D;var b=this.program,I=this.gl,N=this.renderer;N.setProgram(b),I.uniformMatrix4fv(I.getUniformLocation(b.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=p},initUniforms:function(){var c=this.renderer.glFuncMap,d=this.program;this._textureCount=0;for(var p in this.uniforms){var S=this.uniforms[p],C=S.type,E=c[C];S.uniformLocation=this.renderer.createUniformLocation(d,p),C!=="sampler2D"&&(S.glMatrix=E.matrix,S.glValueLength=E.length,S.glFunc=E.func)}},setSampler2DBuffer:function(c,d,p,S,C,E){C===void 0&&(C=0),E===void 0&&(E={});var R=this.uniforms[c];return R.value=d,E.width=p,E.height=S,R.textureData=E,this._textureCount=C,this.initSampler2D(R),this},setSampler2D:function(c,d,p,S){p===void 0&&(p=0);var C=this.scene.sys.textures;if(C.exists(d)){var E=C.getFrame(d);if(E.glTexture&&E.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,E.glTexture,E.width,E.height,p,S);var R=this.uniforms[c],M=E.source;R.textureKey=d,R.source=M.image,R.value=E.glTexture,M.isGLTexture&&(S||(S={}),S.width=M.width,S.height=M.height),S&&(R.textureData=S),this._textureCount=p,this.initSampler2D(R)}return this},setUniform:function(c,d){return e(this.uniforms,c,d),this},getUniform:function(c){return n(this.uniforms,c,null)},setChannel0:function(c,d){return this.setSampler2D("iChannel0",c,0,d)},setChannel1:function(c,d){return this.setSampler2D("iChannel1",c,1,d)},setChannel2:function(c,d){return this.setSampler2D("iChannel2",c,2,d)},setChannel3:function(c,d){return this.setSampler2D("iChannel3",c,3,d)},initSampler2D:function(c){if(c.value){var d=c.textureData;if(d&&!c.value.isRenderTexture){var p=this.gl,S=c.value,C=p[n(d,"magFilter","linear").toUpperCase()],E=p[n(d,"minFilter","linear").toUpperCase()],R=p[n(d,"wrapS","repeat").toUpperCase()],M=p[n(d,"wrapT","repeat").toUpperCase()],D=p[n(d,"format","rgba").toUpperCase()],B=n(d,"flipY",!1),b=n(d,"width",S.width),I=n(d,"height",S.height),N=n(d,"source",S.pixels);d.repeat&&(R=p.REPEAT,M=p.REPEAT),d.width&&(N=null),S.update(N,b,I,B,R,M,E,C,D)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var c=this.gl,d=this.uniforms,p,S,C,E,R,M=0;for(var D in d)p=d[D],C=p.glFunc,S=p.glValueLength,E=p.uniformLocation,R=p.value,R!==null&&(S===1?p.glMatrix?C.call(c,E.webGLUniformLocation,p.transpose,R):C.call(c,E.webGLUniformLocation,R):S===2?C.call(c,E.webGLUniformLocation,R.x,R.y):S===3?C.call(c,E.webGLUniformLocation,R.x,R.y,R.z):S===4?C.call(c,E.webGLUniformLocation,R.x,R.y,R.z,R.w):p.type==="sampler2D"&&(c.activeTexture(c.TEXTURE0+M),c.bindTexture(c.TEXTURE_2D,R.webGLTexture),c.uniform1i(E.webGLUniformLocation,M),M++))},load:function(c){var d=this.gl,p=this.width,S=this.height,C=this.renderer,E=this.program,R=this.viewMatrix;if(!this.renderToTexture){var M=-this._displayOriginX,D=-this._displayOriginY;R[0]=c[0],R[1]=c[1],R[4]=c[2],R[5]=c[3],R[8]=c[4],R[9]=c[5],R[12]=R[0]*M+R[4]*D,R[13]=R[1]*M+R[5]*D}d.useProgram(E.webGLProgram),d.uniformMatrix4fv(d.getUniformLocation(E.webGLProgram,"uViewMatrix"),!1,R),d.uniformMatrix4fv(d.getUniformLocation(E.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),d.uniform2f(d.getUniformLocation(E.webGLProgram,"uResolution"),this.width,this.height);var B=this.uniforms,b=B.resolution;b.value.x=p,b.value.y=S,B.time.value=C.game.loop.getDuration();var I=this.pointer;if(I){var N=B.mouse,z=I.x/p,H=1-I.y/S;N.value.x=z.toFixed(2),N.value.y=H.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,d=this.height,p=this.program,S=this.gl,C=this.vertexBuffer,E=this.renderer,R=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(E.setFramebuffer(this.framebuffer),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT)),S.bindBuffer(S.ARRAY_BUFFER,C.webGLBuffer);var M=S.getAttribLocation(p.webGLProgram,"inPosition");M!==-1&&(S.enableVertexAttribArray(M),S.vertexAttribPointer(M,2,S.FLOAT,!1,R,0));var D=this.vertexViewF32;D[3]=d,D[4]=c,D[5]=d,D[8]=c,D[9]=d,D[10]=c;var B=6;S.bufferSubData(S.ARRAY_BUFFER,0,this.bytes.subarray(0,B*R)),S.drawArrays(S.TRIANGLES,0,B),this.renderToTexture&&E.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var c=this._deferSetShader.key,d=this._deferSetShader.textures,p=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(c,d,p)}if(this._deferProjOrtho!==null){var S=this._deferProjOrtho.left,C=this._deferProjOrtho.right,E=this._deferProjOrtho.bottom,R=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(S,C,E,R)}},preDestroy:function(){var c=this.renderer;c.off(u.RESTORE_WEBGL,this.onContextRestored,this),c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(c.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),s(this.uniforms,function(d){c.deleteUniformLocation(d.uniformLocation),d.uniformLocation=null})}});h.exports=f}),80464:(h=>{var x=function(){};h.exports=x}),54935:((h,x,t)=>{var o=t(25305),v=t(44603),r=t(23568),n=t(20071);v.register("shader",function(i,e){i===void 0&&(i={});var a=r(i,"key",null),l=r(i,"x",0),s=r(i,"y",0),u=r(i,"width",128),f=r(i,"height",128),c=new n(this.scene,a,l,s,u,f);return e!==void 0&&(i.add=e),o(this.scene,c,i),c})}),74177:((h,x,t)=>{var o=t(20071),v=t(39429);v.register("shader",function(r,n,i,e,a,l,s){return this.displayList.add(new o(this.scene,r,n,i,e,a,l,s))})}),25479:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(19257),r=t(80464),h.exports={renderWebGL:v,renderCanvas:r}}),19257:((h,x,t)=>{var o=t(91296),v=function(r,n,i,e){if(n.shader){if(i.addToRenderList(n),r.pipelines.clear(),n.renderToTexture)n.load(),n.flush();else{var a=o(n,i,e).calc;(r.width!==n._rendererWidth||r.height!==n._rendererHeight)&&n.projOrtho(0,r.width,r.height,0),n.load(a.matrix),n.flush()}r.pipelines.rebind()}};h.exports=v}),10441:((h,x,t)=>{var o=t(70554),v=function(r,n,i,e,a,l){for(var s=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*e),u=i.pathData,f=i.pathIndexes,c=0;c<f.length;c+=3){var d=f[c]*2,p=f[c+1]*2,S=f[c+2]*2,C=u[d+0]-a,E=u[d+1]-l,R=u[p+0]-a,M=u[p+1]-l,D=u[S+0]-a,B=u[S+1]-l,b=n.getX(C,E),I=n.getY(C,E),N=n.getX(R,M),z=n.getY(R,M),H=n.getX(D,B),X=n.getY(D,B);r.batchTri(i,b,I,N,z,H,X,0,0,1,1,s,s,s,2)}};h.exports=v}),65960:(h=>{var x=function(t,o,v,r){var n=v||o.fillColor,i=r||o.fillAlpha,e=(n&16711680)>>>16,a=(n&65280)>>>8,l=n&255;t.fillStyle="rgba("+e+","+a+","+l+","+i+")"};h.exports=x}),75177:(h=>{var x=function(t,o,v,r){var n=v||o.strokeColor,i=r||o.strokeAlpha,e=(n&16711680)>>>16,a=(n&65280)>>>8,l=n&255;t.strokeStyle="rgba("+e+","+a+","+l+","+i+")",t.lineWidth=o.lineWidth};h.exports=x}),17803:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(95643),n=t(23031),i=new o({Extends:r,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(a,l,s){l===void 0&&(l="Shape"),r.call(this,a,l),this.geom=s,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new n,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,a){return a===void 0&&(a=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=a,this.isFilled=!0),this},setStrokeStyle:function(e,a,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=a,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,a){return this.width=e,this.height=a,this},setDisplaySize:function(e,a){return this.displayWidth=e,this.displayHeight=a,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});h.exports=i}),34682:((h,x,t)=>{var o=t(70554),v=function(r,n,i,e,a){var l=r.strokeTint,s=o.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*i);l.TL=s,l.TR=s,l.BL=s,l.BR=s;var u=n.pathData,f=u.length-1,c=n.lineWidth,d=c/2,p=u[0]-e,S=u[1]-a;n.closePath||(f-=2);for(var C=2;C<f;C+=2){var E=u[C]-e,R=u[C+1]-a;r.batchLine(p,S,E,R,d,d,c,C-2,n.closePath?C===f-1:!1),p=E,S=R}};h.exports=v}),23629:((h,x,t)=>{var o=t(13609),v=t(83419),r=t(39506),n=t(94811),i=t(96503),e=t(36383),a=t(17803),l=new v({Extends:a,Mixins:[o],initialize:function(u,f,c,d,p,S,C,E,R){f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=128),p===void 0&&(p=0),S===void 0&&(S=360),C===void 0&&(C=!1),a.call(this,u,"Arc",new i(0,0,d)),this._startAngle=p,this._endAngle=S,this._anticlockwise=C,this._iterations=.01,this.setPosition(f,c);var M=this.geom.radius*2;this.setSize(M,M),E!==void 0&&this.setFillStyle(E,R),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(s){this._iterations=s,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(s){this.geom.radius=s;var u=s*2;this.setSize(u,u),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(s){this._startAngle=s,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(s){this._endAngle=s,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(s){this._anticlockwise=s,this.updateData()}},setRadius:function(s){return this.radius=s,this},setIterations:function(s){return s===void 0&&(s=.01),this.iterations=s,this},setStartAngle:function(s,u){return this._startAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},setEndAngle:function(s,u){return this._endAngle=s,u!==void 0&&(this._anticlockwise=u),this.updateData()},updateData:function(){var s=this._iterations,u=s,f=this.geom.radius,c=r(this._startAngle),d=r(this._endAngle),p=this._anticlockwise,S=f,C=f;d-=c,p?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var E=[S+Math.cos(c)*f,C+Math.sin(c)*f],R;u<1;)R=d*u+c,E.push(S+Math.cos(R)*f,C+Math.sin(R)*f),u+=s;return R=d+c,E.push(S+Math.cos(R)*f,C+Math.sin(R)*f),E.push(S+Math.cos(c)*f,C+Math.sin(c)*f),this.pathIndexes=n(E),this.pathData=E,this}});h.exports=l}),42542:((h,x,t)=>{var o=t(39506),v=t(65960),r=t(75177),n=t(20926),i=function(e,a,l,s){l.addToRenderList(a);var u=e.currentContext;if(n(e,u,a,l,s)){var f=a.radius;u.beginPath(),u.arc(f-a.originX*(f*2),f-a.originY*(f*2),f,o(a._startAngle),o(a._endAngle),a.anticlockwise),a.closePath&&u.closePath(),a.isFilled&&(v(u,a),u.fill()),a.isStroked&&(r(u,a),u.stroke()),u.restore()}};h.exports=i}),42563:((h,x,t)=>{var o=t(23629),v=t(39429);v.register("arc",function(r,n,i,e,a,l,s,u){return this.displayList.add(new o(this.scene,r,n,i,e,a,l,s,u))}),v.register("circle",function(r,n,i,e,a){return this.displayList.add(new o(this.scene,r,n,i,0,360,!1,e,a))})}),13609:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(41447),r=t(42542),h.exports={renderWebGL:v,renderCanvas:r}}),41447:((h,x,t)=>{var o=t(91296),v=t(10441),r=t(34682),n=function(i,e,a,l){a.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=o(e,a,l),f=s.calcMatrix.copyFrom(u.calc),c=e._displayOriginX,d=e._displayOriginY,p=a.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&v(s,f,e,p,c,d),e.isStroked&&r(s,e,p,c,d),i.pipelines.postBatch(e)};h.exports=n}),89:((h,x,t)=>{var o=t(83419),v=t(33141),r=t(94811),n=t(87841),i=t(17803),e=new o({Extends:i,Mixins:[v],initialize:function(l,s,u,f,c,d){s===void 0&&(s=0),u===void 0&&(u=0),i.call(this,l,"Curve",f),this._smoothness=32,this._curveBounds=new n,this.closePath=!1,this.setPosition(s,u),c!==void 0&&this.setFillStyle(c,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(a){this._smoothness=a,this.updateData()}},setSmoothness:function(a){return this._smoothness=a,this.updateData()},updateData:function(){var a=this._curveBounds,l=this._smoothness;this.geom.getBounds(a,l),this.setSize(a.width,a.height),this.updateDisplayOrigin();for(var s=[],u=this.geom.getPoints(l),f=0;f<u.length;f++)s.push(u[f].x,u[f].y);return s.push(u[0].x,u[0].y),this.pathIndexes=r(s),this.pathData=s,this}});h.exports=e}),3170:((h,x,t)=>{var o=t(65960),v=t(75177),r=t(20926),n=function(i,e,a,l){a.addToRenderList(e);var s=i.currentContext;if(r(i,s,e,a,l)){var u=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,c=e.pathData,d=c.length-1,p=c[0]-u,S=c[1]-f;s.beginPath(),s.moveTo(p,S),e.closePath||(d-=2);for(var C=2;C<d;C+=2){var E=c[C]-u,R=c[C+1]-f;s.lineTo(E,R)}e.closePath&&s.closePath(),e.isFilled&&(o(s,e),s.fill()),e.isStroked&&(v(s,e),s.stroke()),s.restore()}};h.exports=n}),40511:((h,x,t)=>{var o=t(39429),v=t(89);o.register("curve",function(r,n,i,e,a){return this.displayList.add(new v(this.scene,r,n,i,e,a))})}),33141:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(53987),r=t(3170),h.exports={renderWebGL:v,renderCanvas:r}}),53987:((h,x,t)=>{var o=t(10441),v=t(91296),r=t(34682),n=function(i,e,a,l){a.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=v(e,a,l),f=s.calcMatrix.copyFrom(u.calc),c=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,p=a.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&o(s,f,e,p,c,d),e.isStroked&&r(s,e,p,c,d),i.pipelines.postBatch(e)};h.exports=n}),19921:((h,x,t)=>{var o=t(83419),v=t(94811),r=t(54205),n=t(8497),i=t(17803),e=new o({Extends:i,Mixins:[r],initialize:function(l,s,u,f,c,d,p){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=128),c===void 0&&(c=128),i.call(this,l,"Ellipse",new n(f/2,c/2,f,c)),this._smoothness=64,this.setPosition(s,u),this.width=f,this.height=c,d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(a){this._smoothness=a,this.updateData()}},setSize:function(a,l){return this.width=a,this.height=l,this.geom.setPosition(a/2,l/2),this.geom.setSize(a,l),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(a){return this._smoothness=a,this.updateData()},updateData:function(){for(var a=[],l=this.geom.getPoints(this._smoothness),s=0;s<l.length;s++)a.push(l[s].x,l[s].y);return a.push(l[0].x,l[0].y),this.pathIndexes=v(a),this.pathData=a,this}});h.exports=e}),7930:((h,x,t)=>{var o=t(65960),v=t(75177),r=t(20926),n=function(i,e,a,l){a.addToRenderList(e);var s=i.currentContext;if(r(i,s,e,a,l)){var u=e._displayOriginX,f=e._displayOriginY,c=e.pathData,d=c.length-1,p=c[0]-u,S=c[1]-f;s.beginPath(),s.moveTo(p,S),e.closePath||(d-=2);for(var C=2;C<d;C+=2){var E=c[C]-u,R=c[C+1]-f;s.lineTo(E,R)}s.closePath(),e.isFilled&&(o(s,e),s.fill()),e.isStroked&&(v(s,e),s.stroke()),s.restore()}};h.exports=n}),1543:((h,x,t)=>{var o=t(19921),v=t(39429);v.register("ellipse",function(r,n,i,e,a,l){return this.displayList.add(new o(this.scene,r,n,i,e,a,l))})}),54205:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(19467),r=t(7930),h.exports={renderWebGL:v,renderCanvas:r}}),19467:((h,x,t)=>{var o=t(10441),v=t(91296),r=t(34682),n=function(i,e,a,l){a.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=v(e,a,l),f=s.calcMatrix.copyFrom(u.calc),c=e._displayOriginX,d=e._displayOriginY,p=a.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&o(s,f,e,p,c,d),e.isStroked&&r(s,e,p,c,d),i.pipelines.postBatch(e)};h.exports=n}),30479:((h,x,t)=>{var o=t(83419),v=t(17803),r=t(26015),n=new o({Extends:v,Mixins:[r],initialize:function(e,a,l,s,u,f,c,d,p,S,C){a===void 0&&(a=0),l===void 0&&(l=0),s===void 0&&(s=128),u===void 0&&(u=128),f===void 0&&(f=32),c===void 0&&(c=32),v.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(a,l),this.setSize(s,u),this.setFillStyle(d,p),S!==void 0&&this.setOutlineStyle(S,C),this.updateDisplayOrigin()},setFillStyle:function(i,e){return e===void 0&&(e=1),i===void 0?this.showCells=!1:(this.fillColor=i,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(i,e){return e===void 0&&(e=1),i===void 0?this.showAltCells=!1:(this.altFillColor=i,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(i,e){return e===void 0&&(e=1),i===void 0?this.showOutline=!1:(this.outlineFillColor=i,this.outlineFillAlpha=e,this.showOutline=!0),this}});h.exports=n}),49912:((h,x,t)=>{var o=t(65960),v=t(75177),r=t(20926),n=function(i,e,a,l){a.addToRenderList(e);var s=i.currentContext;if(r(i,s,e,a,l)){var u=-e._displayOriginX,f=-e._displayOriginY,c=a.alpha*e.alpha,d=e.width,p=e.height,S=e.cellWidth,C=e.cellHeight,E=Math.ceil(d/S),R=Math.ceil(p/C),M=S,D=C,B=S-(E*S-d),b=C-(R*C-p),I=e.showCells,N=e.showAltCells,z=e.showOutline,H=0,X=0,W=0,V=0,U=0;if(z&&(M--,D--,B===S&&B--,b===C&&b--),I&&e.fillAlpha>0)for(o(s,e),X=0;X<R;X++)for(N&&(W=X%2),H=0;H<E;H++){if(N&&W){W=0;continue}W++,V=H<E-1?M:B,U=X<R-1?D:b,s.fillRect(u+H*S,f+X*C,V,U)}if(N&&e.altFillAlpha>0)for(o(s,e,e.altFillColor,e.altFillAlpha*c),X=0;X<R;X++)for(N&&(W=X%2),H=0;H<E;H++){if(N&&!W){W=1;continue}W=0,V=H<E-1?M:B,U=X<R-1?D:b,s.fillRect(u+H*S,f+X*C,V,U)}if(z&&e.outlineFillAlpha>0){for(v(s,e,e.outlineFillColor,e.outlineFillAlpha*c),H=1;H<E;H++){var F=H*S;s.beginPath(),s.moveTo(F+u,f),s.lineTo(F+u,p+f),s.stroke()}for(X=1;X<R;X++){var k=X*C;s.beginPath(),s.moveTo(u,k+f),s.lineTo(u+d,k+f),s.stroke()}}s.restore()}};h.exports=n}),34137:((h,x,t)=>{var o=t(39429),v=t(30479);o.register("grid",function(r,n,i,e,a,l,s,u,f,c){return this.displayList.add(new v(this.scene,r,n,i,e,a,l,s,u,f,c))})}),26015:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(46161),r=t(49912),h.exports={renderWebGL:v,renderCanvas:r}}),46161:((h,x,t)=>{var o=t(91296),v=t(70554),r=function(n,i,e,a){e.addToRenderList(i);var l=n.pipelines.set(i.pipeline),s=o(i,e,a),u=l.calcMatrix.copyFrom(s.calc);u.translate(-i._displayOriginX,-i._displayOriginY);var f=e.alpha*i.alpha,c=i.width,d=i.height,p=i.cellWidth,S=i.cellHeight,C=Math.ceil(c/p),E=Math.ceil(d/S),R=p,M=S,D=p-(C*p-c),B=S-(E*S-d),b,I,N=i.showCells,z=i.showAltCells,H=i.showOutline,X=0,W=0,V=0,U=0,F=0;if(H&&(R--,M--,D===p&&D--,B===S&&B--),n.pipelines.preBatch(i),N&&i.fillAlpha>0)for(b=l.fillTint,I=v.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*f),b.TL=I,b.TR=I,b.BL=I,b.BR=I,W=0;W<E;W++)for(z&&(V=W%2),X=0;X<C;X++){if(z&&V){V=0;continue}V++,U=X<C-1?R:D,F=W<E-1?M:B,l.batchFillRect(X*p,W*S,U,F)}if(z&&i.altFillAlpha>0)for(b=l.fillTint,I=v.getTintAppendFloatAlpha(i.altFillColor,i.altFillAlpha*f),b.TL=I,b.TR=I,b.BL=I,b.BR=I,W=0;W<E;W++)for(z&&(V=W%2),X=0;X<C;X++){if(z&&!V){V=1;continue}V=0,U=X<C-1?R:D,F=W<E-1?M:B,l.batchFillRect(X*p,W*S,U,F)}if(H&&i.outlineFillAlpha>0){var k=l.strokeTint,Y=v.getTintAppendFloatAlpha(i.outlineFillColor,i.outlineFillAlpha*f);for(k.TL=Y,k.TR=Y,k.BL=Y,k.BR=Y,X=1;X<C;X++){var Z=X*p;l.batchLine(Z,0,Z,d,i.lineWidth,i.lineWidth,1,0,!1)}for(W=1;W<E;W++){var j=W*S;l.batchLine(0,j,c,j,i.lineWidth,i.lineWidth,1,0,!1)}}n.pipelines.postBatch(i)};h.exports=r}),61475:((h,x,t)=>{var o=t(99651),v=t(83419),r=t(17803),n=new v({Extends:r,Mixins:[o],initialize:function(e,a,l,s,u,f,c,d){a===void 0&&(a=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),f===void 0&&(f=15658734),c===void 0&&(c=10066329),d===void 0&&(d=13421772),r.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=c,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(a,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(i){return this.projection=i,this},setFaces:function(i,e,a){return i===void 0&&(i=!0),e===void 0&&(e=!0),a===void 0&&(a=!0),this.showTop=i,this.showLeft=e,this.showRight=a,this},setFillStyle:function(i,e,a){return this.fillTop=i,this.fillLeft=e,this.fillRight=a,this.isFilled=!0,this}});h.exports=n}),11508:((h,x,t)=>{var o=t(65960),v=t(20926),r=function(n,i,e,a){e.addToRenderList(i);var l=n.currentContext;if(v(n,l,i,e,a)&&i.isFilled){var s=i.width,u=i.height,f=s/2,c=s/i.projection;i.showTop&&(o(l,i,i.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-c-u),l.lineTo(f,-u),l.lineTo(f,-1),l.lineTo(0,c-1),l.lineTo(-f,-1),l.lineTo(-f,-u),l.fill()),i.showLeft&&(o(l,i,i.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(-f,-u),l.lineTo(-f,0),l.fill()),i.showRight&&(o(l,i,i.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(f,-u),l.lineTo(f,0),l.fill()),l.restore()}};h.exports=r}),3933:((h,x,t)=>{var o=t(39429),v=t(61475);o.register("isobox",function(r,n,i,e,a,l,s){return this.displayList.add(new v(this.scene,r,n,i,e,a,l,s))})}),99651:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(68149),r=t(11508),h.exports={renderWebGL:v,renderCanvas:r}}),68149:((h,x,t)=>{var o=t(91296),v=t(70554),r=function(n,i,e,a){e.addToRenderList(i);var l=n.pipelines.set(i.pipeline),s=o(i,e,a),u=l.calcMatrix.copyFrom(s.calc),f=i.width,c=i.height,d=f/2,p=f/i.projection,S=e.alpha*i.alpha;if(i.isFilled){var C,E,R,M,D,B,b,I,N;n.pipelines.preBatch(i),i.showTop&&(C=v.getTintAppendFloatAlpha(i.fillTop,S),E=u.getX(-d,-c),R=u.getY(-d,-c),M=u.getX(0,-p-c),D=u.getY(0,-p-c),B=u.getX(d,-c),b=u.getY(d,-c),I=u.getX(0,p-c),N=u.getY(0,p-c),l.batchQuad(i,E,R,M,D,B,b,I,N,0,0,1,1,C,C,C,C,2)),i.showLeft&&(C=v.getTintAppendFloatAlpha(i.fillLeft,S),E=u.getX(-d,0),R=u.getY(-d,0),M=u.getX(0,p),D=u.getY(0,p),B=u.getX(0,p-c),b=u.getY(0,p-c),I=u.getX(-d,-c),N=u.getY(-d,-c),l.batchQuad(i,E,R,M,D,B,b,I,N,0,0,1,1,C,C,C,C,2)),i.showRight&&(C=v.getTintAppendFloatAlpha(i.fillRight,S),E=u.getX(d,0),R=u.getY(d,0),M=u.getX(0,p),D=u.getY(0,p),B=u.getX(0,p-c),b=u.getY(0,p-c),I=u.getX(d,-c),N=u.getY(d,-c),l.batchQuad(i,E,R,M,D,B,b,I,N,0,0,1,1,C,C,C,C,2)),n.pipelines.postBatch(i)}};h.exports=r}),16933:((h,x,t)=>{var o=t(83419),v=t(60561),r=t(17803),n=new o({Extends:r,Mixins:[v],initialize:function(e,a,l,s,u,f,c,d,p){a===void 0&&(a=0),l===void 0&&(l=0),s===void 0&&(s=48),u===void 0&&(u=32),f===void 0&&(f=!1),c===void 0&&(c=15658734),d===void 0&&(d=10066329),p===void 0&&(p=13421772),r.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=d,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(a,l),this.setSize(s,u),this.updateDisplayOrigin()},setProjection:function(i){return this.projection=i,this},setReversed:function(i){return this.isReversed=i,this},setFaces:function(i,e,a){return i===void 0&&(i=!0),e===void 0&&(e=!0),a===void 0&&(a=!0),this.showTop=i,this.showLeft=e,this.showRight=a,this},setFillStyle:function(i,e,a){return this.fillTop=i,this.fillLeft=e,this.fillRight=a,this.isFilled=!0,this}});h.exports=n}),79590:((h,x,t)=>{var o=t(65960),v=t(20926),r=function(n,i,e,a){e.addToRenderList(i);var l=n.currentContext;if(v(n,l,i,e,a)&&i.isFilled){var s=i.width,u=i.height,f=s/2,c=s/i.projection,d=i.isReversed;i.showTop&&d&&(o(l,i,i.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-c-u),l.lineTo(f,-u),l.lineTo(0,c-u),l.fill()),i.showLeft&&(o(l,i,i.fillLeft),l.beginPath(),d?(l.moveTo(-f,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(-f,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),i.showRight&&(o(l,i,i.fillRight),l.beginPath(),d?(l.moveTo(f,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(f,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),l.restore()}};h.exports=r}),49803:((h,x,t)=>{var o=t(39429),v=t(16933);o.register("isotriangle",function(r,n,i,e,a,l,s,u){return this.displayList.add(new v(this.scene,r,n,i,e,a,l,s,u))})}),60561:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(51503),r=t(79590),h.exports={renderWebGL:v,renderCanvas:r}}),51503:((h,x,t)=>{var o=t(91296),v=t(70554),r=function(n,i,e,a){e.addToRenderList(i);var l=n.pipelines.set(i.pipeline),s=o(i,e,a),u=l.calcMatrix.copyFrom(s.calc),f=i.width,c=i.height,d=f/2,p=f/i.projection,S=i.isReversed,C=e.alpha*i.alpha;if(i.isFilled){n.pipelines.preBatch(i);var E,R,M,D,B,b,I;if(i.showTop&&S){E=v.getTintAppendFloatAlpha(i.fillTop,C),R=u.getX(-d,-c),M=u.getY(-d,-c),D=u.getX(0,-p-c),B=u.getY(0,-p-c),b=u.getX(d,-c),I=u.getY(d,-c);var N=u.getX(0,p-c),z=u.getY(0,p-c);l.batchQuad(i,R,M,D,B,b,I,N,z,0,0,1,1,E,E,E,E,2)}i.showLeft&&(E=v.getTintAppendFloatAlpha(i.fillLeft,C),S?(R=u.getX(-d,-c),M=u.getY(-d,-c),D=u.getX(0,p),B=u.getY(0,p),b=u.getX(0,p-c),I=u.getY(0,p-c)):(R=u.getX(-d,0),M=u.getY(-d,0),D=u.getX(0,p),B=u.getY(0,p),b=u.getX(0,p-c),I=u.getY(0,p-c)),l.batchTri(i,R,M,D,B,b,I,0,0,1,1,E,E,E,2)),i.showRight&&(E=v.getTintAppendFloatAlpha(i.fillRight,C),S?(R=u.getX(d,-c),M=u.getY(d,-c),D=u.getX(0,p),B=u.getY(0,p),b=u.getX(0,p-c),I=u.getY(0,p-c)):(R=u.getX(d,0),M=u.getY(d,0),D=u.getX(0,p),B=u.getY(0,p),b=u.getX(0,p-c),I=u.getY(0,p-c)),l.batchTri(i,R,M,D,B,b,I,0,0,1,1,E,E,E,2)),n.pipelines.postBatch(i)}};h.exports=r}),57847:((h,x,t)=>{var o=t(83419),v=t(17803),r=t(23031),n=t(36823),i=new o({Extends:v,Mixins:[n],initialize:function(a,l,s,u,f,c,d,p,S){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=128),d===void 0&&(d=0),v.call(this,a,"Line",new r(u,f,c,d));var C=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,s),this.setSize(C,E),p!==void 0&&this.setStrokeStyle(1,p,S),this.updateDisplayOrigin()},setLineWidth:function(e,a){return a===void 0&&(a=e),this._startWidth=e,this._endWidth=a,this.lineWidth=e,this},setTo:function(e,a,l,s){return this.geom.setTo(e,a,l,s),this}});h.exports=i}),17440:((h,x,t)=>{var o=t(75177),v=t(20926),r=function(n,i,e,a){e.addToRenderList(i);var l=n.currentContext;if(v(n,l,i,e,a)){var s=i._displayOriginX,u=i._displayOriginY;i.isStroked&&(o(l,i),l.beginPath(),l.moveTo(i.geom.x1-s,i.geom.y1-u),l.lineTo(i.geom.x2-s,i.geom.y2-u),l.stroke()),l.restore()}};h.exports=r}),2481:((h,x,t)=>{var o=t(39429),v=t(57847);o.register("line",function(r,n,i,e,a,l,s,u){return this.displayList.add(new v(this.scene,r,n,i,e,a,l,s,u))})}),36823:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(77385),r=t(17440),h.exports={renderWebGL:v,renderCanvas:r}}),77385:((h,x,t)=>{var o=t(91296),v=t(70554),r=function(n,i,e,a){e.addToRenderList(i);var l=n.pipelines.set(i.pipeline),s=o(i,e,a);l.calcMatrix.copyFrom(s.calc);var u=i._displayOriginX,f=i._displayOriginY,c=e.alpha*i.alpha;if(n.pipelines.preBatch(i),i.isStroked){var d=l.strokeTint,p=v.getTintAppendFloatAlpha(i.strokeColor,i.strokeAlpha*c);d.TL=p,d.TR=p,d.BL=p,d.BR=p,l.batchLine(i.geom.x1-u,i.geom.y1-f,i.geom.x2-u,i.geom.y2-f,i._startWidth/2,i._endWidth/2,1,0,!1,s.sprite,s.camera)}n.pipelines.postBatch(i)};h.exports=r}),24949:((h,x,t)=>{var o=t(90273),v=t(83419),r=t(94811),n=t(13829),i=t(25717),e=t(17803),a=t(5469),l=new v({Extends:e,Mixins:[o],initialize:function(u,f,c,d,p,S){f===void 0&&(f=0),c===void 0&&(c=0),e.call(this,u,"Polygon",new i(d));var C=n(this.geom);this.setPosition(f,c),this.setSize(C.width,C.height),p!==void 0&&this.setFillStyle(p,S),this.updateDisplayOrigin(),this.updateData()},smooth:function(s){s===void 0&&(s=1);for(var u=0;u<s;u++)a(this.geom);return this.updateData()},setTo:function(s){this.geom.setTo(s);var u=n(this.geom);return this.setSize(u.width,u.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var s=[],u=this.geom.points,f=0;f<u.length;f++)s.push(u[f].x,u[f].y);return s.push(u[0].x,u[0].y),this.pathIndexes=r(s),this.pathData=s,this}});h.exports=l}),38710:((h,x,t)=>{var o=t(65960),v=t(75177),r=t(20926),n=function(i,e,a,l){a.addToRenderList(e);var s=i.currentContext;if(r(i,s,e,a,l)){var u=e._displayOriginX,f=e._displayOriginY,c=e.pathData,d=c.length-1,p=c[0]-u,S=c[1]-f;s.beginPath(),s.moveTo(p,S),e.closePath||(d-=2);for(var C=2;C<d;C+=2){var E=c[C]-u,R=c[C+1]-f;s.lineTo(E,R)}e.closePath&&s.closePath(),e.isFilled&&(o(s,e),s.fill()),e.isStroked&&(v(s,e),s.stroke()),s.restore()}};h.exports=n}),64827:((h,x,t)=>{var o=t(39429),v=t(24949);o.register("polygon",function(r,n,i,e,a){return this.displayList.add(new v(this.scene,r,n,i,e,a))})}),90273:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(73695),r=t(38710),h.exports={renderWebGL:v,renderCanvas:r}}),73695:((h,x,t)=>{var o=t(10441),v=t(91296),r=t(34682),n=function(i,e,a,l){a.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=v(e,a,l),f=s.calcMatrix.copyFrom(u.calc),c=e._displayOriginX,d=e._displayOriginY,p=a.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&o(s,f,e,p,c,d),e.isStroked&&r(s,e,p,c,d),i.pipelines.postBatch(e)};h.exports=n}),74561:((h,x,t)=>{var o=t(83419),v=t(94811),r=t(87841),n=t(17803),i=t(95597),e=new o({Extends:n,Mixins:[i],initialize:function(l,s,u,f,c,d,p){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=128),c===void 0&&(c=128),n.call(this,l,"Rectangle",new r(0,0,f,c)),this.radius=20,this.isRounded=!1,this.setPosition(s,u),this.setSize(f,c),d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},setRounded:function(a){return a===void 0&&(a=16),this.radius=a,this.isRounded=a>0,this.updateRoundedData()},setSize:function(a,l){this.width=a,this.height=l,this.geom.setSize(a,l),this.updateData(),this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=a,s.hitArea.height=l),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var a=[],l=this.geom,s=this._tempLine;return l.getLineA(s),a.push(s.x1,s.y1,s.x2,s.y2),l.getLineB(s),a.push(s.x2,s.y2),l.getLineC(s),a.push(s.x2,s.y2),l.getLineD(s),a.push(s.x2,s.y2),this.pathData=a,this},updateRoundedData:function(){var a=[],l=this.width/2,s=this.height/2,u=Math.min(l,s),f=Math.min(this.radius,u),c=l,d=s,p=Math.max(1,Math.floor(f/5));return this.arcTo(a,c-l+f,d-s+f,f,Math.PI,Math.PI*1.5,p),a.push(c+l-f,d-s),this.arcTo(a,c+l-f,d-s+f,f,Math.PI*1.5,Math.PI*2,p),a.push(c+l,d+s-f),this.arcTo(a,c+l-f,d+s-f,f,0,Math.PI*.5,p),a.push(c-l+f,d+s),this.arcTo(a,c-l+f,d+s-f,f,Math.PI*.5,Math.PI,p),a.push(c-l,d-s+f),this.pathIndexes=v(a),this.pathData=a,this},arcTo:function(a,l,s,u,f,c,d){for(var p=(c-f)/d,S=0;S<=d;S++){var C=f+p*S;a.push(l+Math.cos(C)*u,s+Math.sin(C)*u)}}});h.exports=e}),48682:((h,x,t)=>{var o=t(65960),v=t(75177),r=t(20926),n=function(e,a,l,s,u,f){var c=Math.min(s/2,u/2),d=Math.min(f,c);if(d===0){e.rect(a,l,s,u);return}e.moveTo(a+d,l),e.lineTo(a+s-d,l),e.arcTo(a+s,l,a+s,l+d,d),e.lineTo(a+s,l+u-d),e.arcTo(a+s,l+u,a+s-d,l+u,d),e.lineTo(a+d,l+u),e.arcTo(a,l+u,a,l+u-d,d),e.lineTo(a,l+d),e.arcTo(a,l,a+d,l,d),e.closePath()},i=function(e,a,l,s){l.addToRenderList(a);var u=e.currentContext;if(r(e,u,a,l,s)){var f=a._displayOriginX,c=a._displayOriginY;a.isFilled&&(o(u,a),a.isRounded?(u.beginPath(),n(u,-f,-c,a.width,a.height,a.radius),u.fill()):u.fillRect(-f,-c,a.width,a.height)),a.isStroked&&(v(u,a),u.beginPath(),a.isRounded?n(u,-f,-c,a.width,a.height,a.radius):u.rect(-f,-c,a.width,a.height),u.stroke()),u.restore()}};h.exports=i}),87959:((h,x,t)=>{var o=t(39429),v=t(74561);o.register("rectangle",function(r,n,i,e,a,l){return this.displayList.add(new v(this.scene,r,n,i,e,a,l))})}),95597:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(52059),r=t(48682),h.exports={renderWebGL:v,renderCanvas:r}}),52059:((h,x,t)=>{var o=t(10441),v=t(91296),r=t(34682),n=t(70554),i=function(e,a,l,s){l.addToRenderList(a);var u=e.pipelines.set(a.pipeline),f=v(a,l,s);u.calcMatrix.copyFrom(f.calc);var c=a._displayOriginX,d=a._displayOriginY,p=l.alpha*a.alpha;if(e.pipelines.preBatch(a),a.isRounded&&a.isFilled)o(u,f.calc,a,p,c,d);else if(a.isFilled){var S=u.fillTint,C=n.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*p);S.TL=C,S.TR=C,S.BL=C,S.BR=C,u.batchFillRect(-c,-d,a.width,a.height)}a.isStroked&&r(u,a,p,c,d),e.pipelines.postBatch(a)};h.exports=i}),55911:((h,x,t)=>{var o=t(81991),v=t(83419),r=t(94811),n=t(17803),i=new v({Extends:n,Mixins:[o],initialize:function(a,l,s,u,f,c,d,p){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=5),f===void 0&&(f=32),c===void 0&&(c=64),n.call(this,a,"Star",null),this._points=u,this._innerRadius=f,this._outerRadius=c,this.setPosition(l,s),this.setSize(c*2,c*2),d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],a=this._points,l=this._innerRadius,s=this._outerRadius,u=Math.PI/2*3,f=Math.PI/a,c=s,d=s;e.push(c,d+-s);for(var p=0;p<a;p++)e.push(c+Math.cos(u)*s,d+Math.sin(u)*s),u+=f,e.push(c+Math.cos(u)*l,d+Math.sin(u)*l),u+=f;return e.push(c,d+-s),this.pathIndexes=r(e),this.pathData=e,this}});h.exports=i}),64272:((h,x,t)=>{var o=t(65960),v=t(75177),r=t(20926),n=function(i,e,a,l){a.addToRenderList(e);var s=i.currentContext;if(r(i,s,e,a,l)){var u=e._displayOriginX,f=e._displayOriginY,c=e.pathData,d=c.length-1,p=c[0]-u,S=c[1]-f;s.beginPath(),s.moveTo(p,S),e.closePath||(d-=2);for(var C=2;C<d;C+=2){var E=c[C]-u,R=c[C+1]-f;s.lineTo(E,R)}s.closePath(),e.isFilled&&(o(s,e),s.fill()),e.isStroked&&(v(s,e),s.stroke()),s.restore()}};h.exports=n}),93697:((h,x,t)=>{var o=t(55911),v=t(39429);v.register("star",function(r,n,i,e,a,l,s){return this.displayList.add(new o(this.scene,r,n,i,e,a,l,s))})}),81991:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(57017),r=t(64272),h.exports={renderWebGL:v,renderCanvas:r}}),57017:((h,x,t)=>{var o=t(10441),v=t(91296),r=t(34682),n=function(i,e,a,l){a.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=v(e,a,l),f=s.calcMatrix.copyFrom(u.calc),c=e._displayOriginX,d=e._displayOriginY,p=a.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&o(s,f,e,p,c,d),e.isStroked&&r(s,e,p,c,d),i.pipelines.postBatch(e)};h.exports=n}),36931:((h,x,t)=>{var o=t(83419),v=t(17803),r=t(16483),n=t(96195),i=new o({Extends:v,Mixins:[n],initialize:function(a,l,s,u,f,c,d,p,S,C,E){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=128),c===void 0&&(c=64),d===void 0&&(d=0),p===void 0&&(p=128),S===void 0&&(S=128),v.call(this,a,"Triangle",new r(u,f,c,d,p,S));var R=this.geom.right-this.geom.left,M=this.geom.bottom-this.geom.top;this.setPosition(l,s),this.setSize(R,M),C!==void 0&&this.setFillStyle(C,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,a,l,s,u,f){return this.geom.setTo(e,a,l,s,u,f),this.updateData()},updateData:function(){var e=[],a=this.geom,l=this._tempLine;return a.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),a.getLineB(l),e.push(l.x2,l.y2),a.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});h.exports=i}),85172:((h,x,t)=>{var o=t(65960),v=t(75177),r=t(20926),n=function(i,e,a,l){a.addToRenderList(e);var s=i.currentContext;if(r(i,s,e,a,l)){var u=e._displayOriginX,f=e._displayOriginY,c=e.geom.x1-u,d=e.geom.y1-f,p=e.geom.x2-u,S=e.geom.y2-f,C=e.geom.x3-u,E=e.geom.y3-f;s.beginPath(),s.moveTo(c,d),s.lineTo(p,S),s.lineTo(C,E),s.closePath(),e.isFilled&&(o(s,e),s.fill()),e.isStroked&&(v(s,e),s.stroke()),s.restore()}};h.exports=n}),45245:((h,x,t)=>{var o=t(39429),v=t(36931);o.register("triangle",function(r,n,i,e,a,l,s,u,f,c){return this.displayList.add(new v(this.scene,r,n,i,e,a,l,s,u,f,c))})}),96195:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(83253),r=t(85172),h.exports={renderWebGL:v,renderCanvas:r}}),83253:((h,x,t)=>{var o=t(91296),v=t(34682),r=t(70554),n=function(i,e,a,l){a.addToRenderList(e);var s=i.pipelines.set(e.pipeline),u=o(e,a,l);s.calcMatrix.copyFrom(u.calc);var f=e._displayOriginX,c=e._displayOriginY,d=a.alpha*e.alpha;if(i.pipelines.preBatch(e),e.isFilled){var p=s.fillTint,S=r.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);p.TL=S,p.TR=S,p.BL=S,p.BR=S;var C=e.geom.x1-f,E=e.geom.y1-c,R=e.geom.x2-f,M=e.geom.y2-c,D=e.geom.x3-f,B=e.geom.y3-c;s.batchFillTriangle(C,E,R,M,D,B,u.sprite,u.camera)}e.isStroked&&v(s,e,d,f,c),i.pipelines.postBatch(e)};h.exports=n}),68287:((h,x,t)=>{var o=t(9674),v=t(83419),r=t(31401),n=t(95643),i=t(92751),e=new v({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.TextureCrop,r.Tint,r.Transform,r.Visible,i],initialize:function(l,s,u,f,c){n.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(f,c),this.setPosition(s,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,l){this.anims.update(a,l)},play:function(a,l){return this.anims.play(a,l)},playReverse:function(a,l){return this.anims.playReverse(a,l)},playAfterDelay:function(a,l){return this.anims.playAfterDelay(a,l)},playAfterRepeat:function(a,l){return this.anims.playAfterRepeat(a,l)},chain:function(a){return this.anims.chain(a)},stop:function(){return this.anims.stop()},stopAfterDelay:function(a){return this.anims.stopAfterDelay(a)},stopAfterRepeat:function(a){return this.anims.stopAfterRepeat(a)},stopOnFrame:function(a){return this.anims.stopOnFrame(a)},toJSON:function(){return r.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});h.exports=e}),76552:(h=>{var x=function(t,o,v,r){v.addToRenderList(o),t.batchSprite(o,o.frame,v,r)};h.exports=x}),15567:((h,x,t)=>{var o=t(25305),v=t(13059),r=t(44603),n=t(23568),i=t(68287);r.register("sprite",function(e,a){e===void 0&&(e={});var l=n(e,"key",null),s=n(e,"frame",null),u=new i(this.scene,0,0,l,s);return a!==void 0&&(e.add=a),o(this.scene,u,e),v(u,e),u})}),46409:((h,x,t)=>{var o=t(39429),v=t(68287);o.register("sprite",function(r,n,i,e){return this.displayList.add(new v(this.scene,r,n,i,e))})}),92751:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(9409),r=t(76552),h.exports={renderWebGL:v,renderCanvas:r}}),9409:(h=>{var x=function(t,o,v,r){v.addToRenderList(o),o.pipeline.batchSprite(o,v,r)};h.exports=x}),14220:(h=>{var x=function(t,o,v){var r=t.canvas,n=t.context,i=t.style,e=[],a=0,l=v.length;i.maxLines>0&&i.maxLines<v.length&&(l=i.maxLines),i.syncFont(r,n);for(var s=t.letterSpacing,u=0;u<l;u++){var f=i.strokeThickness;if(s===0)f+=n.measureText(v[u]).width;else{for(var c=v[u],d=0;d<c.length;d++)f+=n.measureText(c[d]).width;c.length>1&&(f+=s*(c.length-1))}i.wordWrap&&(f-=n.measureText(" ").width),e[u]=Math.ceil(f),a=Math.max(a,e[u])}var p=o.fontSize+i.strokeThickness,S=p*l,C=t.lineSpacing;return l>1&&(S+=C*(l-1)),{width:a,height:S,lines:l,lineWidths:e,lineSpacing:C,lineHeight:p}};h.exports=x}),79557:((h,x,t)=>{var o=t(27919),v=function(r){var n=o.create(this),i=n.getContext("2d",{willReadFrequently:!0});r.syncFont(n,i);var e=i.measureText(r.testString);if("actualBoundingBoxAscent"in e){var a=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return o.remove(n),{ascent:a,descent:l,fontSize:a+l}}var s=Math.ceil(e.width*r.baselineX),u=s,f=2*u;u=u*r.baselineY|0,n.width=s,n.height=f,i.fillStyle="#f00",i.fillRect(0,0,s,f),i.font=r._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(r.testString,0,u);var c={ascent:0,descent:0,fontSize:0},d=i.getImageData(0,0,s,f);if(!d)return c.ascent=u,c.descent=u+6,c.fontSize=c.ascent+c.descent,o.remove(n),c;var p=d.data,S=p.length,C=s*4,E,R,M=0,D=!1;for(E=0;E<u;E++){for(R=0;R<C;R+=4)if(p[M+R]!==255){D=!0;break}if(!D)M+=C;else break}for(c.ascent=u-E,M=S-C,D=!1,E=f;E>u;E--){for(R=0;R<C;R+=4)if(p[M+R]!==255){D=!0;break}if(!D)M-=C;else break}return c.descent=E-u,c.fontSize=c.ascent+c.descent,o.remove(n),c};h.exports=v}),50171:((h,x,t)=>{var o=t(40366),v=t(27919),r=t(83419),n=t(31401),i=t(95643),e=t(14220),a=t(35154),l=t(35846),s=t(61771),u=t(35762),f=t(45650),c=new r({Extends:i,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Crop,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Tint,n.Transform,n.Visible,s],initialize:function(p,S,C,E,R){S===void 0&&(S=0),C===void 0&&(C=0),i.call(this,p,"Text"),this.renderer=p.sys.renderer,this.setPosition(S,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context,this.style=new u(this,R),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=p.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),R&&R.padding&&this.setPadding(R.padding),R&&R.lineSpacing&&this.setLineSpacing(R.lineSpacing),R&&R.letterSpacing&&this.setLetterSpacing(R.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(d){var p=this.style;if(p.wordWrapCallback){var S=p.wordWrapCallback.call(p.wordWrapCallbackScope,d,this);return Array.isArray(S)&&(S=S.join(`
`)),S}else return p.wordWrapWidth?p.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,p,S){for(var C="",E=d.replace(/ +/gi," ").split(this.splitRegExp),R=E.length,M=0;M<R;M++){var D=E[M],B="";D=D.replace(/^ *|\s*$/gi,"");var b=D.length*this.letterSpacing,I=p.measureText(D).width+b;if(I<S){C+=D+`
`;continue}for(var N=S,z=D.split(" "),H=0;H<z.length;H++){var X=z[H],W=X+" ",V=W.length*this.letterSpacing,U=p.measureText(W).width+V;if(U>N){if(H===0){for(var F=W;F.length;){F=F.slice(0,-1);var k=F.length*this.letterSpacing;if(U=p.measureText(F).width+k,U<=N)break}if(!F.length)throw new Error("wordWrapWidth < a single character");var Y=X.substr(F.length);z[H]=Y,B+=F}var Z=z[H].length?H:H+1,j=z.slice(Z).join(" ").replace(/[ \n]*$/gi,"");E.splice(M+1,0,j),R=E.length;break}else B+=W,N-=U}C+=B.replace(/[ \n]*$/gi,"")+`
`}return C=C.replace(/[\s|\n]*$/gi,""),C},basicWordWrap:function(d,p,S){for(var C="",E=d.split(this.splitRegExp),R=E.length-1,M=p.measureText(" ").width,D=0;D<=R;D++){for(var B=S,b=E[D].split(" "),I=b.length-1,N=0;N<=I;N++){var z=b[N],H=z.length*this.letterSpacing,X=p.measureText(z).width+H,W=X;N<I&&(W+=M),W>B&&N>0&&(C+=`
`,B=S),C+=z,N<I?(C+=" ",B-=W):B-=X}D<R&&(C+=`
`)}return C},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var p=this.runWordWrap(d);return p.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},appendText:function(d,p){p===void 0&&(p=!0),!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d=d.toString();var S=this._text.concat(p?`
`+d:d);return S!==this._text&&(this._text=S,this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,p){return this.style.setFixedSize(d,p)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,p){return this.style.setStroke(d,p)},setShadow:function(d,p,S,C,E,R){return this.style.setShadow(d,p,S,C,E,R)},setShadowOffset:function(d,p){return this.style.setShadowOffset(d,p)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,p){return this.style.setWordWrapWidth(d,p)},setWordWrapCallback:function(d,p){return this.style.setWordWrapCallback(d,p)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setLetterSpacing:function(d){return this.letterSpacing=d,this.updateText()},setPadding:function(d,p,S,C){if(typeof d=="object"){var E=d,R=a(E,"x",null);R!==null?(d=R,S=R):(d=a(E,"left",0),S=a(E,"right",d));var M=a(E,"y",null);M!==null?(p=M,C=M):(p=a(E,"top",0),C=a(E,"bottom",p))}else d===void 0&&(d=0),p===void 0&&(p=d),S===void 0&&(S=d),C===void 0&&(C=p);return this.padding.left=d,this.padding.top=p,this.padding.right=S,this.padding.bottom=C,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},setRTL:function(d){d===void 0&&(d=!0);var p=this.style;return p.rtl===d?this:(p.rtl=d,d?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),p.align==="left"?p.align="right":p.align==="right"&&(p.align="left"),this)},updateText:function(){var d=this.canvas,p=this.context,S=this.style,C=S.resolution,E=S.metrics;S.syncFont(d,p);var R=this._text;(S.wordWrapWidth||S.wordWrapCallback)&&(R=this.runWordWrap(this._text));var M=R.split(this.splitRegExp),D=e(this,E,M),B=this.padding,b;S.fixedWidth===0?(this.width=D.width+B.left+B.right,b=D.width):(this.width=S.fixedWidth,b=this.width-B.left-B.right,b<D.width&&(b=D.width)),S.fixedHeight===0?this.height=D.height+B.top+B.bottom:this.height=S.fixedHeight;var I=this.width,N=this.height;this.updateDisplayOrigin(),I*=C,N*=C,I=Math.max(I,1),N=Math.max(N,1),d.width!==I||d.height!==N?(d.width=I,d.height=N,this.frame.setSize(I,N),S.syncFont(d,p),S.rtl&&(p.direction="rtl")):p.clearRect(0,0,I,N),p.save(),p.scale(C,C),S.backgroundColor&&(p.fillStyle=S.backgroundColor,p.fillRect(0,0,I,N)),S.syncStyle(d,p),p.translate(B.left,B.top);for(var z,H,X=0;X<D.lines;X++){if(z=S.strokeThickness/2,H=S.strokeThickness/2+X*D.lineHeight+E.ascent,X>0&&(H+=D.lineSpacing*X),S.rtl)z=I-z-B.left-B.right;else if(S.align==="right")z+=b-D.lineWidths[X];else if(S.align==="center")z+=(b-D.lineWidths[X])/2;else if(S.align==="justify"){var W=.85;if(D.lineWidths[X]/D.width>=W){var V=D.width-D.lineWidths[X],U=p.measureText(" ").width,F=M[X].trim(),k=F.split(" ");V+=(M[X].length-F.length)*U;for(var Y=Math.floor(V/U),Z=0;Y>0;)k[Z]+=" ",Z=(Z+1)%(k.length-1||1),--Y;M[X]=k.join(" ")}}this.autoRound&&(z=Math.round(z),H=Math.round(H));var j=this.letterSpacing;if(S.strokeThickness&&j===0&&(S.syncShadow(p,S.shadowStroke),p.strokeText(M[X],z,H)),S.color)if(S.syncShadow(p,S.shadowFill),j!==0)for(var J=0,q=M[X].split(""),et=0;et<q.length;et++)S.strokeThickness&&(S.syncShadow(p,S.shadowStroke),p.strokeText(q[et],z+J,H),S.syncShadow(p,S.shadowFill)),p.fillText(q[et],z+J,H),J+=p.measureText(q[et]).width+j;else p.fillText(M[X],z,H)}p.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0));var it=this.input;return it&&!it.customHitArea&&(it.hitArea.width=this.width,it.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=n.ToJSON(this),p={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=p,d},preDestroy:function(){l(this.canvas),v.remove(this.canvas);var d=this.texture;d&&d.destroy()}});h.exports=c}),79724:(h=>{var x=function(t,o,v,r){o.width===0||o.height===0||(v.addToRenderList(o),t.batchSprite(o,o.frame,v,r))};h.exports=x}),71259:((h,x,t)=>{var o=t(25305),v=t(44603),r=t(23568),n=t(50171);v.register("text",function(i,e){i===void 0&&(i={});var a=r(i,"text",""),l=r(i,"style",null),s=r(i,"padding",null);s!==null&&(l.padding=s);var u=new n(this.scene,0,0,a,l);return e!==void 0&&(i.add=e),o(this.scene,u,i),u.autoRound=r(i,"autoRound",!0),u.resolution=r(i,"resolution",1),u})}),68005:((h,x,t)=>{var o=t(50171),v=t(39429);v.register("text",function(r,n,i,e){return this.displayList.add(new o(this.scene,r,n,i,e))})}),61771:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(34397),r=t(79724),h.exports={renderWebGL:v,renderCanvas:r}}),35762:((h,x,t)=>{var o=t(83419),v=t(23568),r=t(35154),n=t(79557),i={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new o({initialize:function(l,s){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(s,!1,!0)},setStyle:function(a,l,s){l===void 0&&(l=!0),s===void 0&&(s=!1);for(var u in i){var f=s?i[u][1]:this[u];u==="wordWrapCallback"||u==="wordWrapCallbackScope"?this[u]=r(a,i[u][0],f):a&&u==="fontSize"&&typeof a.fontSize=="number"?this[u]=a.fontSize.toString()+"px":this[u]=v(a,i[u][0],f)}var c=r(a,"font",null);c!==null&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=r(a,"fill",null);d!==null&&(this.color=d);var p=r(a,"metrics",!1);return p?this.metrics={ascent:r(p,"ascent",0),descent:r(p,"descent",0),fontSize:r(p,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=n(this)),l?this.parent.updateText():this.parent},syncFont:function(a,l){l.font=this._font},syncStyle:function(a,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(a,l){l?(a.shadowOffsetX=this.shadowOffsetX,a.shadowOffsetY=this.shadowOffsetY,a.shadowColor=this.shadowColor,a.shadowBlur=this.shadowBlur):(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowColor=0,a.shadowBlur=0)},update:function(a){return a&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=n(this)),this.parent.updateText()},setFont:function(a,l){l===void 0&&(l=!0);var s=a,u="",f="";if(typeof a!="string")s=r(a,"fontFamily","Courier"),u=r(a,"fontSize","16px"),f=r(a,"fontStyle","");else{var c=a.split(" "),d=0;f=c.length>2?c[d++]:"",u=c[d++]||"16px",s=c[d++]||"Courier"}return(s!==this.fontFamily||u!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=s,this.fontSize=u,this.fontStyle=f,l&&this.update(!0)),this.parent},setFontFamily:function(a){return this.fontFamily!==a&&(this.fontFamily=a,this.update(!0)),this.parent},setFontStyle:function(a){return this.fontStyle!==a&&(this.fontStyle=a,this.update(!0)),this.parent},setFontSize:function(a){return typeof a=="number"&&(a=a.toString()+"px"),this.fontSize!==a&&(this.fontSize=a,this.update(!0)),this.parent},setTestString:function(a){return this.testString=a,this.update(!0)},setFixedSize:function(a,l){return this.fixedWidth=a,this.fixedHeight=l,a&&(this.parent.width=a),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(a){return this.backgroundColor=a,this.update(!1)},setFill:function(a){return this.color=a,this.update(!1)},setColor:function(a){return this.color=a,this.update(!1)},setResolution:function(a){return this.resolution=a,this.update(!1)},setStroke:function(a,l){return l===void 0&&(l=this.strokeThickness),a===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==a||this.strokeThickness!==l)&&(this.stroke=a,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(a,l,s,u,f,c){return a===void 0&&(a=0),l===void 0&&(l=0),s===void 0&&(s="#000"),u===void 0&&(u=0),f===void 0&&(f=!1),c===void 0&&(c=!0),this.shadowOffsetX=a,this.shadowOffsetY=l,this.shadowColor=s,this.shadowBlur=u,this.shadowStroke=f,this.shadowFill=c,this.update(!1)},setShadowOffset:function(a,l){return a===void 0&&(a=0),l===void 0&&(l=a),this.shadowOffsetX=a,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(a){return a===void 0&&(a="#000"),this.shadowColor=a,this.update(!1)},setShadowBlur:function(a){return a===void 0&&(a=0),this.shadowBlur=a,this.update(!1)},setShadowStroke:function(a){return this.shadowStroke=a,this.update(!1)},setShadowFill:function(a){return this.shadowFill=a,this.update(!1)},setWordWrapWidth:function(a,l){return l===void 0&&(l=!1),this.wordWrapWidth=a,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(a,l){return l===void 0&&(l=null),this.wordWrapCallback=a,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(a){return a===void 0&&(a="left"),this.align=a,this.update(!1)},setMaxLines:function(a){return a===void 0&&(a=0),this.maxLines=a,this.update(!1)},getTextMetrics:function(){var a=this.metrics;return{ascent:a.ascent,descent:a.descent,fontSize:a.fontSize}},toJSON:function(){var a={};for(var l in i)a[l]=this[l];return a.metrics=this.getTextMetrics(),a},destroy:function(){this.parent=void 0}});h.exports=e}),34397:((h,x,t)=>{var o=t(70554),v=function(r,n,i,e){if(!(n.width===0||n.height===0)){i.addToRenderList(n);var a=n.frame,l=a.width,s=a.height,u=o.getTintAppendFloatAlpha,f=r.pipelines.set(n.pipeline,n),c=f.setTexture2D(a.glTexture,n);f.batchTexture(n,a.glTexture,l,s,n.x,n.y,l/n.style.resolution,s/n.style.resolution,n.scaleX,n.scaleY,n.rotation,n.flipX,n.flipY,n.scrollFactorX,n.scrollFactorY,n.displayOriginX,n.displayOriginY,0,0,l,s,u(n.tintTopLeft,i.alpha*n._alphaTL),u(n.tintTopRight,i.alpha*n._alphaTR),u(n.tintBottomLeft,i.alpha*n._alphaBL),u(n.tintBottomRight,i.alpha*n._alphaBR),n.tintFill,0,0,i,e,!1,c)}};h.exports=v}),20839:((h,x,t)=>{var o=t(27919),v=t(83419),r=t(31401),n=t(95643),i=t(98439),e=t(68703),a=t(56295),l=t(45650),s=t(26099),u=8,f=new v({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,a],initialize:function(d,p,S,C,E,R,M){var D=d.sys.renderer;n.call(this,d,"TileSprite");var B=d.sys.textures.get(R),b=B.get(M);b.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),B=d.sys.textures.get("__MISSING"),b=B.get()),B.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),B=d.sys.textures.get("__MISSING"),b=B.get()),!C||!E?(C=C||b.width,E=E||b.height):(C=Math.floor(C),E=Math.floor(E)),this._tilePosition=new s,this._tileScale=new s(1,1),this.dirty=!1,this.renderer=D,this.canvas=o.create(this,C,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=B,this.displayFrame=b,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=d.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=i(b.width),this.potHeight=i(b.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(p,S),this.setSize(C,E),this.setFrame(M),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(c,d){return this.displayTexture=this.scene.sys.textures.get(c),this.setFrame(d)},setFrame:function(c){var d=this.displayTexture.get(c);return this.potWidth=i(d.width),this.potHeight=i(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=~u:this.renderFlags|=u,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(c,d){return c!==void 0&&(this.tilePositionX=c),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(c,d){return c===void 0&&(c=this.tileScaleX),d===void 0&&(d=c),this.tileScaleX=c,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var c=this.displayFrame;if(c.source.isRenderTexture||c.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,p=this.fillCanvas,S=this.potWidth,C=this.potHeight;(!this.renderer||!this.renderer.gl)&&(S=c.cutWidth,C=c.cutHeight),d.clearRect(0,0,S,C),p.width=S,p.height=C,d.drawImage(c.source.image,c.cutX,c.cutY,c.cutWidth,c.cutHeight,0,0,S,C),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(p,this.fillPattern):this.fillPattern=d.createPattern(p,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var c=this.canvas;if((c.width!==this.width||c.height!==this.height)&&(c.width=this.width,c.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||e.disable(d);var p=this._tileScale.x,S=this._tileScale.y,C=this._tilePosition.x,E=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(p,S),d.translate(-C,-E),d.fillStyle=this.fillPattern,d.fillRect(C,E,this.width/p,this.height/S),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var c=this.texture;c&&c.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(c){this._tilePosition.x=c,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(c){this._tilePosition.y=c,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(c){this._tileScale.x=c,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(c){this._tileScale.y=c,this.dirty=!0}}});h.exports=f}),46992:(h=>{var x=function(t,o,v,r){o.updateCanvas(),v.addToRenderList(o),t.batchSprite(o,o.frame,v,r)};h.exports=x}),14167:((h,x,t)=>{var o=t(25305),v=t(44603),r=t(23568),n=t(20839);v.register("tileSprite",function(i,e){i===void 0&&(i={});var a=r(i,"x",0),l=r(i,"y",0),s=r(i,"width",512),u=r(i,"height",512),f=r(i,"key",""),c=r(i,"frame",""),d=new n(this.scene,a,l,s,u,f,c);return e!==void 0&&(i.add=e),o(this.scene,d,i),d})}),91681:((h,x,t)=>{var o=t(20839),v=t(39429);v.register("tileSprite",function(r,n,i,e,a,l){return this.displayList.add(new o(this.scene,r,n,i,e,a,l))})}),56295:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(18553),r=t(46992),h.exports={renderWebGL:v,renderCanvas:r}}),18553:((h,x,t)=>{var o=t(70554),v=function(r,n,i,e){n.updateCanvas();var a=n.width,l=n.height;if(!(a===0||l===0)){i.addToRenderList(n);var s=o.getTintAppendFloatAlpha,u=r.pipelines.set(n.pipeline,n),f=u.setTexture2D(n.fillPattern,n);u.batchTexture(n,n.fillPattern,n.displayFrame.width*n.tileScaleX,n.displayFrame.height*n.tileScaleY,n.x,n.y,a,l,n.scaleX,n.scaleY,n.rotation,n.flipX,n.flipY,n.scrollFactorX,n.scrollFactorY,n.originX*a,n.originY*l,0,0,a,l,s(n.tintTopLeft,i.alpha*n._alphaTL),s(n.tintTopRight,i.alpha*n._alphaTR),s(n.tintBottomLeft,i.alpha*n._alphaBL),s(n.tintBottomRight,i.alpha*n._alphaBR),n.tintFill,n.tilePositionX%n.displayFrame.width/n.displayFrame.width,n.tilePositionY%n.displayFrame.height/n.displayFrame.height,i,e,!1,f)}};h.exports=v}),18471:((h,x,t)=>{var o=t(45319),v=t(83419),r=t(31401),n=t(51708),i=t(8443),e=t(95643),a=t(36383),l=t(14463),s=t(45650),u=t(10247),f=new v({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.TextureCrop,r.Tint,r.Transform,r.Visible,u],initialize:function(d,p,S,C){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=s(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var E=d.sys.game;this._device=E.device.video,this.setPosition(p,S),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),E.events.on(i.PAUSE,this.globalPause,this),E.events.on(i.RESUME,this.globalResume,this);var R=d.sys.sound;R&&R.on(l.GLOBAL_MUTE,this.globalMute,this),C&&this.load(C)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(c){var d=this.scene.sys.cache.video.get(c);return d?(this.cacheKey=c,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+c),this},changeSource:function(c,d,p,S,C){d===void 0&&(d=!0),p===void 0&&(p=!1),this.cacheKey!==c&&(this.load(c),d&&this.play(p,S,C))},getVideoKey:function(){return this.cacheKey},loadURL:function(c,d,p){d===void 0&&(d=!1);var S=this._device.getVideoURL(c);return S?(this.cacheKey="",this.loadHandler(S.url,d,p)):console.warn("No supported video format found for "+c),this},loadMediaStream:function(c,d,p){return this.loadHandler(null,d,p,c)},loadHandler:function(c,d,p,S){d||(d=!1);var C=this.video;if(C?(this.removeLoadEventHandlers(),this.stop()):(C=document.createElement("video"),C.controls=!1,C.setAttribute("playsinline","playsinline"),C.setAttribute("preload","auto"),C.setAttribute("disablePictureInPicture","true")),d?(C.muted=!0,C.defaultMuted=!0,C.setAttribute("autoplay","autoplay")):(C.muted=!1,C.defaultMuted=!1,C.removeAttribute("autoplay")),p?C.setAttribute("crossorigin",p):C.removeAttribute("crossorigin"),S)if("srcObject"in C)try{C.srcObject=S}catch(R){if(R.name!=="TypeError")throw R;C.src=URL.createObjectURL(S)}else C.src=URL.createObjectURL(S);else C.src=c;this.retry=0,this.video=C,this._playCalled=!1,C.load(),this.addLoadEventHandlers();var E=this.scene.sys.textures.get(this._key);return this.setTexture(E),this},requestVideoFrame:function(c,d){var p=this.video;if(p){var S=d.width,C=d.height,E=this.videoTexture,R=this.videoTextureSource,M=!E||R.source!==p;M?(this._codePaused=p.paused,this._codeMuted=p.muted,E?(R.source=p,R.width=S,R.height=C,E.get().setSize(S,C)):(E=this.scene.sys.textures.create(this._key,p,S,C),E.add("__BASE",0,0,0,S,C),this.setTexture(E),this.videoTexture=E,this.videoTextureSource=E.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(n.VIDEO_TEXTURE,this,E)),this.setSizeToFrame(),this.updateDisplayOrigin()):R.update(),this.isStalled=!1,this.metadata=d;var D=d.mediaTime;M&&(this._lastUpdate=D,this.emit(n.VIDEO_CREATED,this,S,C),this.frameReady||(this.frameReady=!0,this.emit(n.VIDEO_PLAY,this))),this._playingMarker?D>=this._markerOut&&(p.loop?(p.currentTime=this._markerIn,this.emit(n.VIDEO_LOOP,this)):(this.stop(!1),this.emit(n.VIDEO_COMPLETE,this))):D<this._lastUpdate&&this.emit(n.VIDEO_LOOP,this),this._lastUpdate=D,this._getFrame?(this.removeEventHandlers(),p.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(c,d,p){d===void 0&&(d=-1),p===void 0&&(p=a.MAX_SAFE_INTEGER);var S=this.video;return!S||this.isPlaying()?(S||console.warn("Video not loaded"),this):(c===void 0&&(c=S.loop),S.loop=c,this._markerIn=d,this._markerOut=p,this._playingMarker=d>-1&&p>d&&p<a.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=S.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var c=this.video;return!c||this.isPlaying()?(c||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=c.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var c=this.video;c&&(c.addEventListener("error",this._loadCallbackHandler),c.addEventListener("abort",this._loadCallbackHandler),c.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var c=this.video;c&&(c.removeEventListener("error",this._loadCallbackHandler),c.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var c=this.video;if(c){var d=this._callbacks;for(var p in d)c.addEventListener(p,d[p])}},removeEventHandlers:function(){var c=this.video;if(c){var d=this._callbacks;for(var p in d)c.removeEventListener(p,d[p])}},createPlayPromise:function(c){c===void 0&&(c=!0);var d=this.video,p=d.play();if(p!==void 0){var S=this.playSuccess.bind(this),C=this.playError.bind(this);if(!c){var E=this;C=function(){E.failedPlayAttempts++}}p.then(S).catch(C)}else d.addEventListener("playing",this._callbacks.legacy),c||this.failedPlayAttempts++},addMarker:function(c,d,p){return!isNaN(d)&&d>=0&&!isNaN(p)&&p>d&&(this.markers[c]=[d,p]),this},playMarker:function(c,d){var p=this.markers[c];return p&&this.play(d,p[0],p[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,d){return c===void 0&&(c=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,c,d)},snapshotArea:function(c,d,p,S,C,E){c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=this.width),S===void 0&&(S=this.height),C===void 0&&(C=p),E===void 0&&(E=S);var R=this.video,M=this.snapshotTexture;return M?(M.setSize(C,E),R&&M.context.drawImage(R,c,d,p,S,0,0,C,E)):(M=this.scene.sys.textures.createCanvas(s(),C,E),this.snapshotTexture=M,R&&M.context.drawImage(R,c,d,p,S,0,0,C,E)),M.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(n.VIDEO_UNLOCKED,this));var c=this.scene.sys.sound;c&&c.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(c){var d=c.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(n.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(n.VIDEO_UNSUPPORTED,this,c)):(this.stop(!1),this.emit(n.VIDEO_ERROR,this,c))},legacyPlayHandler:function(){var c=this.video;c&&(this.playSuccess(),c.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(n.VIDEO_PLAYING,this)},loadErrorHandler:function(c){this.stop(!1),this.emit(n.VIDEO_ERROR,this,c)},metadataHandler:function(c){this.emit(n.VIDEO_METADATA,this,c)},setSizeToFrame:function(c){c||(c=this.frame),this.width=c.realWidth,this.height=c.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},stalledHandler:function(c){this.isStalled=!0,this.emit(n.VIDEO_STALLED,this,c)},completeHandler:function(){this._playCalled=!1,this.emit(n.VIDEO_COMPLETE,this)},preUpdate:function(c,d){var p=this.video;!p||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(c){var d=this.video;if(d){var p=d.duration;if(p!==1/0&&!isNaN(p)){var S=p*c;this.setCurrentTime(S)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var d=this.video;if(d){if(typeof c=="string"){var p=c[0],S=parseFloat(c.substr(1));p==="+"?c=d.currentTime+S:p==="-"&&(c=d.currentTime-S)}d.currentTime=c}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(n.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(n.VIDEO_SEEKED,this)},getProgress:function(){var c=this.video;if(c){var d=c.duration;if(d!==1/0&&!isNaN(d))return c.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var d=this.video;return d&&(d.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,d){this._systemMuted=d;var p=this.video;p&&(p.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(c){c===void 0&&(c=!0);var d=this.video;return this._codePaused=c,d&&!d.ended&&(c?d.paused||(this.removeEventHandlers(),d.pause()):c||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=o(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,c),this.videoTextureSource.setFlipY(d)),this._key=c,this.flipY=d,!!this.videoTexture},stop:function(c){c===void 0&&(c=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,c&&this.emit(n.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var c=this.scene.sys.game.events;c.off(i.PAUSE,this.globalPause,this),c.off(i.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(l.GLOBAL_MUTE,this.globalMute,this)}});h.exports=f}),58352:(h=>{var x=function(t,o,v,r){o.videoTexture&&(v.addToRenderList(o),t.batchSprite(o,o.frame,v,r))};h.exports=x}),11511:((h,x,t)=>{var o=t(25305),v=t(44603),r=t(23568),n=t(18471);v.register("video",function(i,e){i===void 0&&(i={});var a=r(i,"key",null),l=new n(this.scene,0,0,a);return e!==void 0&&(i.add=e),o(this.scene,l,i),l})}),89025:((h,x,t)=>{var o=t(18471),v=t(39429);v.register("video",function(r,n,i){return this.displayList.add(new o(this.scene,r,n,i))})}),10247:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(29849),r=t(58352),h.exports={renderWebGL:v,renderCanvas:r}}),29849:(h=>{var x=function(t,o,v,r){o.videoTexture&&(v.addToRenderList(o),o.pipeline.batchSprite(o,v,r))};h.exports=x}),41481:((h,x,t)=>{var o=t(10312),v=t(96503),r=t(87902),n=t(83419),i=t(31401),e=t(95643),a=t(87841),l=t(37303),s=new n({Extends:e,Mixins:[i.Depth,i.GetBounds,i.Origin,i.Transform,i.ScrollFactor,i.Visible],initialize:function(f,c,d,p,S){p===void 0&&(p=1),S===void 0&&(S=p),e.call(this,f,"Zone"),this.setPosition(c,d),this.width=p,this.height=S,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,f,c){c===void 0&&(c=!0),this.width=u,this.height=f,this.updateDisplayOrigin();var d=this.input;return c&&d&&!d.customHitArea&&(d.hitArea.width=u,d.hitArea.height=f),this},setDisplaySize:function(u,f){return this.displayWidth=u,this.displayHeight=f,this},setCircleDropZone:function(u){return this.setDropZone(new v(0,0,u),r)},setRectangleDropZone:function(u,f){return this.setDropZone(new a(0,0,u,f),l)},setDropZone:function(u,f){return this.input||this.setInteractive(u,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(u,f,c){c.addToRenderList(f)},renderWebGL:function(u,f,c){c.addToRenderList(f)}});h.exports=s}),95261:((h,x,t)=>{var o=t(44603),v=t(23568),r=t(41481);o.register("zone",function(n){var i=v(n,"x",0),e=v(n,"y",0),a=v(n,"width",1),l=v(n,"height",a);return new r(this.scene,i,e,a,l)})}),84175:((h,x,t)=>{var o=t(41481),v=t(39429);v.register("zone",function(r,n,i,e){return this.displayList.add(new o(this.scene,r,n,i,e))})}),95166:(h=>{var x=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};h.exports=x}),96503:((h,x,t)=>{var o=t(83419),v=t(87902),r=t(26241),n=t(79124),i=t(23777),e=t(28176),a=new o({initialize:function(s,u,f){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=i.CIRCLE,this.x=s,this.y=u,this._radius=f,this._diameter=f*2},contains:function(l,s){return v(this,l,s)},getPoint:function(l,s){return r(this,l,s)},getPoints:function(l,s,u){return n(this,l,s,u)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,s,u){return this.x=l,this.y=s,this._radius=u,this._diameter=u*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});h.exports=a}),71562:(h=>{var x=function(t){return 2*(Math.PI*t.radius)};h.exports=x}),92110:((h,x,t)=>{var o=t(2141),v=function(r,n,i){return i===void 0&&(i=new o),i.x=r.x+r.radius*Math.cos(n),i.y=r.y+r.radius*Math.sin(n),i};h.exports=v}),42250:((h,x,t)=>{var o=t(96503),v=function(r){return new o(r.x,r.y,r.radius)};h.exports=v}),87902:(h=>{var x=function(t,o,v){if(t.radius>0&&o>=t.left&&o<=t.right&&v>=t.top&&v<=t.bottom){var r=(t.x-o)*(t.x-o),n=(t.y-v)*(t.y-v);return r+n<=t.radius*t.radius}else return!1};h.exports=x}),5698:((h,x,t)=>{var o=t(87902),v=function(r,n){return o(r,n.x,n.y)};h.exports=v}),70588:((h,x,t)=>{var o=t(87902),v=function(r,n){return o(r,n.x,n.y)&&o(r,n.right,n.y)&&o(r,n.x,n.bottom)&&o(r,n.right,n.bottom)};h.exports=v}),26394:(h=>{var x=function(t,o){return o.setTo(t.x,t.y,t.radius)};h.exports=x}),76278:(h=>{var x=function(t,o){return t.x===o.x&&t.y===o.y&&t.radius===o.radius};h.exports=x}),2074:((h,x,t)=>{var o=t(87841),v=function(r,n){return n===void 0&&(n=new o),n.x=r.left,n.y=r.top,n.width=r.diameter,n.height=r.diameter,n};h.exports=v}),26241:((h,x,t)=>{var o=t(92110),v=t(62945),r=t(36383),n=t(2141),i=function(e,a,l){l===void 0&&(l=new n);var s=v(a,0,r.PI2);return o(e,s,l)};h.exports=i}),79124:((h,x,t)=>{var o=t(71562),v=t(92110),r=t(62945),n=t(36383),i=function(e,a,l,s){s===void 0&&(s=[]),!a&&l>0&&(a=o(e)/l);for(var u=0;u<a;u++){var f=r(u/a,0,n.PI2);s.push(v(e,f))}return s};h.exports=i}),50884:(h=>{var x=function(t,o,v){return t.x+=o,t.y+=v,t};h.exports=x}),39212:(h=>{var x=function(t,o){return t.x+=o.x,t.y+=o.y,t};h.exports=x}),28176:((h,x,t)=>{var o=t(2141),v=function(r,n){n===void 0&&(n=new o);var i=2*Math.PI*Math.random(),e=Math.random()+Math.random(),a=e>1?2-e:e,l=a*Math.cos(i),s=a*Math.sin(i);return n.x=r.x+l*r.radius,n.y=r.y+s*r.radius,n};h.exports=v}),88911:((h,x,t)=>{var o=t(96503);o.Area=t(95166),o.Circumference=t(71562),o.CircumferencePoint=t(92110),o.Clone=t(42250),o.Contains=t(87902),o.ContainsPoint=t(5698),o.ContainsRect=t(70588),o.CopyFrom=t(26394),o.Equals=t(76278),o.GetBounds=t(2074),o.GetPoint=t(26241),o.GetPoints=t(79124),o.Offset=t(50884),o.OffsetPoint=t(39212),o.Random=t(28176),h.exports=o}),23777:(h=>{var x={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};h.exports=x}),78874:(h=>{var x=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};h.exports=x}),92990:(h=>{var x=function(t){var o=t.width/2,v=t.height/2,r=Math.pow(o-v,2)/Math.pow(o+v,2);return Math.PI*(o+v)*(1+3*r/(10+Math.sqrt(4-3*r)))};h.exports=x}),79522:((h,x,t)=>{var o=t(2141),v=function(r,n,i){i===void 0&&(i=new o);var e=r.width/2,a=r.height/2;return i.x=r.x+e*Math.cos(n),i.y=r.y+a*Math.sin(n),i};h.exports=v}),58102:((h,x,t)=>{var o=t(8497),v=function(r){return new o(r.x,r.y,r.width,r.height)};h.exports=v}),81154:(h=>{var x=function(t,o,v){if(t.width<=0||t.height<=0)return!1;var r=(o-t.x)/t.width,n=(v-t.y)/t.height;return r*=r,n*=n,r+n<.25};h.exports=x}),46662:((h,x,t)=>{var o=t(81154),v=function(r,n){return o(r,n.x,n.y)};h.exports=v}),1632:((h,x,t)=>{var o=t(81154),v=function(r,n){return o(r,n.x,n.y)&&o(r,n.right,n.y)&&o(r,n.x,n.bottom)&&o(r,n.right,n.bottom)};h.exports=v}),65534:(h=>{var x=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};h.exports=x}),8497:((h,x,t)=>{var o=t(83419),v=t(81154),r=t(90549),n=t(48320),i=t(23777),e=t(24820),a=new o({initialize:function(s,u,f,c){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=i.ELLIPSE,this.x=s,this.y=u,this.width=f,this.height=c},contains:function(l,s){return v(this,l,s)},getPoint:function(l,s){return r(this,l,s)},getPoints:function(l,s,u){return n(this,l,s,u)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,s,u,f){return this.x=l,this.y=s,this.width=u,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,s){return s===void 0&&(s=l),this.x=l,this.y=s,this},setSize:function(l,s){return s===void 0&&(s=l),this.width=l,this.height=s,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});h.exports=a}),36146:(h=>{var x=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};h.exports=x}),23694:((h,x,t)=>{var o=t(87841),v=function(r,n){return n===void 0&&(n=new o),n.x=r.left,n.y=r.top,n.width=r.width,n.height=r.height,n};h.exports=v}),90549:((h,x,t)=>{var o=t(79522),v=t(62945),r=t(36383),n=t(2141),i=function(e,a,l){l===void 0&&(l=new n);var s=v(a,0,r.PI2);return o(e,s,l)};h.exports=i}),48320:((h,x,t)=>{var o=t(92990),v=t(79522),r=t(62945),n=t(36383),i=function(e,a,l,s){s===void 0&&(s=[]),!a&&l>0&&(a=o(e)/l);for(var u=0;u<a;u++){var f=r(u/a,0,n.PI2);s.push(v(e,f))}return s};h.exports=i}),73424:(h=>{var x=function(t,o,v){return t.x+=o,t.y+=v,t};h.exports=x}),44808:(h=>{var x=function(t,o){return t.x+=o.x,t.y+=o.y,t};h.exports=x}),24820:((h,x,t)=>{var o=t(2141),v=function(r,n){n===void 0&&(n=new o);var i=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return n.x=r.x+e*Math.cos(i)*r.width/2,n.y=r.y+e*Math.sin(i)*r.height/2,n};h.exports=v}),49203:((h,x,t)=>{var o=t(8497);o.Area=t(78874),o.Circumference=t(92990),o.CircumferencePoint=t(79522),o.Clone=t(58102),o.Contains=t(81154),o.ContainsPoint=t(46662),o.ContainsRect=t(1632),o.CopyFrom=t(65534),o.Equals=t(36146),o.GetBounds=t(23694),o.GetPoint=t(90549),o.GetPoints=t(48320),o.Offset=t(73424),o.OffsetPoint=t(44808),o.Random=t(24820),h.exports=o}),55738:((h,x,t)=>{var o=t(23777),v=t(79291),r={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};r=v(!1,r,o),h.exports=r}),2044:((h,x,t)=>{var o=t(20339),v=function(r,n){return o(r.x,r.y,n.x,n.y)<=r.radius+n.radius};h.exports=v}),81491:(h=>{var x=function(t,o){var v=o.width/2,r=o.height/2,n=Math.abs(t.x-o.x-v),i=Math.abs(t.y-o.y-r),e=v+t.radius,a=r+t.radius;if(n>e||i>a)return!1;if(n<=v||i<=r)return!0;var l=n-v,s=i-r,u=l*l,f=s*s,c=t.radius*t.radius;return u+f<=c};h.exports=x}),63376:((h,x,t)=>{var o=t(2141),v=t(2044),r=function(n,i,e){if(e===void 0&&(e=[]),v(n,i)){var a=n.x,l=n.y,s=n.radius,u=i.x,f=i.y,c=i.radius,d,p,S,C,E;if(l===f)E=(c*c-s*s-u*u+a*a)/(2*(a-u)),d=1,p=-2*f,S=u*u+E*E-2*u*E+f*f-c*c,C=p*p-4*d*S,C===0?e.push(new o(E,-p/(2*d))):C>0&&(e.push(new o(E,(-p+Math.sqrt(C))/(2*d))),e.push(new o(E,(-p-Math.sqrt(C))/(2*d))));else{var R=(a-u)/(l-f),M=(c*c-s*s-u*u+a*a-f*f+l*l)/(2*(l-f));d=R*R+1,p=2*l*R-2*M*R-2*a,S=a*a+l*l+M*M-s*s-2*l*M,C=p*p-4*d*S,C===0?(E=-p/(2*d),e.push(new o(E,M-E*R))):C>0&&(E=(-p+Math.sqrt(C))/(2*d),e.push(new o(E,M-E*R)),E=(-p-Math.sqrt(C))/(2*d),e.push(new o(E,M-E*R)))}}return e};h.exports=r}),97439:((h,x,t)=>{var o=t(4042),v=t(81491),r=function(n,i,e){if(e===void 0&&(e=[]),v(n,i)){var a=i.getLineA(),l=i.getLineB(),s=i.getLineC(),u=i.getLineD();o(a,n,e),o(l,n,e),o(s,n,e),o(u,n,e)}return e};h.exports=r}),4042:((h,x,t)=>{var o=t(2141),v=t(80462),r=function(n,i,e){if(e===void 0&&(e=[]),v(n,i)){var a=n.x1,l=n.y1,s=n.x2,u=n.y2,f=i.x,c=i.y,d=i.radius,p=s-a,S=u-l,C=a-f,E=l-c,R=p*p+S*S,M=2*(p*C+S*E),D=C*C+E*E-d*d,B=M*M-4*R*D,b,I;if(B===0){var N=-M/(2*R);b=a+N*p,I=l+N*S,N>=0&&N<=1&&e.push(new o(b,I))}else if(B>0){var z=(-M-Math.sqrt(B))/(2*R);b=a+z*p,I=l+z*S,z>=0&&z<=1&&e.push(new o(b,I));var H=(-M+Math.sqrt(B))/(2*R);b=a+H*p,I=l+H*S,H>=0&&H<=1&&e.push(new o(b,I))}}return e};h.exports=r}),36100:((h,x,t)=>{var o=t(25836),v=function(r,n,i,e){i===void 0&&(i=!1);var a=r.x1,l=r.y1,s=r.x2,u=r.y2,f=n.x1,c=n.y1,d=n.x2,p=n.y2,S=s-a,C=u-l,E=d-f,R=p-c,M=S*R-C*E;if(M===0)return null;var D,B,b;if(i){if(D=(S*(c-l)+C*(a-f))/(E*C-R*S),S!==0)B=(f+E*D-a)/S;else if(C!==0)B=(c+R*D-l)/C;else return null;if(B<0||D<0||D>1)return null;b=B}else{if(D=((f-a)*R-(c-l)*E)/M,B=((l-c)*S-(a-f)*C)/M,D<0||D>1||B<0||B>1)return null;b=D}return e===void 0&&(e=new o),e.set(a+S*b,l+C*b,b)};h.exports=v}),3073:((h,x,t)=>{var o=t(36100),v=t(23031),r=t(25836),n=new v,i=new r,e=function(a,l,s,u){s===void 0&&(s=!1),u===void 0&&(u=new r);var f=!1;u.set(),i.set();for(var c=l[l.length-1],d=0;d<l.length;d++){var p=l[d];n.setTo(c.x,c.y,p.x,p.y),c=p,o(a,n,s,i)&&(!f||i.z<u.z)&&(u.copy(i),f=!0)}return f?u:null};h.exports=e}),56362:((h,x,t)=>{var o=t(25836),v=t(61369),r=t(3073),n=new o,i=function(e,a,l,s){s===void 0&&(s=new v),Array.isArray(a)||(a=[a]);var u=!1;s.set(),n.set();for(var f=0;f<a.length;f++)r(e,a[f].points,l,n)&&(!u||n.z<s.z)&&(s.set(n.x,n.y,n.z,f),u=!0);return u?s:null};h.exports=i}),60646:((h,x,t)=>{var o=t(2141),v=t(76112),r=t(92773),n=function(i,e,a){if(a===void 0&&(a=[]),r(i,e))for(var l=e.getLineA(),s=e.getLineB(),u=e.getLineC(),f=e.getLineD(),c=[new o,new o,new o,new o],d=[v(l,i,c[0]),v(s,i,c[1]),v(u,i,c[2]),v(f,i,c[3])],p=0;p<4;p++)d[p]&&a.push(c[p]);return a};h.exports=n}),71147:((h,x,t)=>{var o=t(61369),v=t(56362),r=t(23031),n=new r;function i(l,s,u,f,c){var d=Math.cos(l),p=Math.sin(l);n.setTo(s,u,s+d,u+p);var S=v(n,f,!0);S&&c.push(new o(S.x,S.y,l,S.w))}function e(l,s){return l.z-s.z}var a=function(l,s,u){Array.isArray(u)||(u=[u]);for(var f=[],c=[],d=0;d<u.length;d++)for(var p=u[d].points,S=0;S<p.length;S++){var C=Math.atan2(p[S].y-s,p[S].x-l);c.indexOf(C)===-1&&(i(C,l,s,u,f),i(C-1e-5,l,s,u,f),i(C+1e-5,l,s,u,f),c.push(C))}return f.sort(e)};h.exports=a}),68389:((h,x,t)=>{var o=t(87841),v=t(59996),r=function(n,i,e){return e===void 0&&(e=new o),v(n,i)&&(e.x=Math.max(n.x,i.x),e.y=Math.max(n.y,i.y),e.width=Math.min(n.right,i.right)-e.x,e.height=Math.min(n.bottom,i.bottom)-e.y),e};h.exports=r}),52784:((h,x,t)=>{var o=t(60646),v=t(59996),r=function(n,i,e){if(e===void 0&&(e=[]),v(n,i)){var a=n.getLineA(),l=n.getLineB(),s=n.getLineC(),u=n.getLineD();o(a,i,e),o(l,i,e),o(s,i,e),o(u,i,e)}return e};h.exports=r}),26341:((h,x,t)=>{var o=t(89265),v=t(60646),r=function(n,i,e){if(e===void 0&&(e=[]),o(n,i)){var a=i.getLineA(),l=i.getLineB(),s=i.getLineC();v(a,n,e),v(l,n,e),v(s,n,e)}return e};h.exports=r}),38720:((h,x,t)=>{var o=t(4042),v=t(67636),r=function(n,i,e){if(e===void 0&&(e=[]),v(n,i)){var a=n.getLineA(),l=n.getLineB(),s=n.getLineC();o(a,i,e),o(l,i,e),o(s,i,e)}return e};h.exports=r}),13882:((h,x,t)=>{var o=t(2141),v=t(2822),r=t(76112),n=function(i,e,a){if(a===void 0&&(a=[]),v(i,e))for(var l=i.getLineA(),s=i.getLineB(),u=i.getLineC(),f=[new o,new o,new o],c=[r(l,e,f[0]),r(s,e,f[1]),r(u,e,f[2])],d=0;d<3;d++)c[d]&&a.push(f[d]);return a};h.exports=n}),75636:((h,x,t)=>{var o=t(82944),v=t(13882),r=function(n,i,e){if(e===void 0&&(e=[]),o(n,i)){var a=i.getLineA(),l=i.getLineB(),s=i.getLineC();v(n,a,e),v(n,l,e),v(n,s,e)}return e};h.exports=r}),80462:((h,x,t)=>{var o=t(87902),v=t(2141),r=new v,n=function(i,e,a){if(a===void 0&&(a=r),o(e,i.x1,i.y1))return a.x=i.x1,a.y=i.y1,!0;if(o(e,i.x2,i.y2))return a.x=i.x2,a.y=i.y2,!0;var l=i.x2-i.x1,s=i.y2-i.y1,u=e.x-i.x1,f=e.y-i.y1,c=l*l+s*s,d=l,p=s;if(c>0){var S=(u*l+f*s)/c;d*=S,p*=S}a.x=i.x1+d,a.y=i.y1+p;var C=d*d+p*p;return C<=c&&d*l+p*s>=0&&o(e,a.x,a.y)};h.exports=n}),76112:(h=>{var x=function(t,o,v){var r=t.x1,n=t.y1,i=t.x2,e=t.y2,a=o.x1,l=o.y1,s=o.x2,u=o.y2;if(r===i&&n===e||a===s&&l===u)return!1;var f=(u-l)*(i-r)-(s-a)*(e-n);if(f===0)return!1;var c=((s-a)*(n-l)-(u-l)*(r-a))/f,d=((i-r)*(n-l)-(e-n)*(r-a))/f;return c<0||c>1||d<0||d>1?!1:(v&&(v.x=r+c*(i-r),v.y=n+c*(e-n)),!0)};h.exports=x}),92773:(h=>{var x=function(t,o){var v=t.x1,r=t.y1,n=t.x2,i=t.y2,e=o.x,a=o.y,l=o.right,s=o.bottom,u=0;if(v>=e&&v<=l&&r>=a&&r<=s||n>=e&&n<=l&&i>=a&&i<=s)return!0;if(v<e&&n>=e){if(u=r+(i-r)*(e-v)/(n-v),u>a&&u<=s)return!0}else if(v>l&&n<=l&&(u=r+(i-r)*(l-v)/(n-v),u>=a&&u<=s))return!0;if(r<a&&i>=a){if(u=v+(n-v)*(a-r)/(i-r),u>=e&&u<=l)return!0}else if(r>s&&i<=s&&(u=v+(n-v)*(s-r)/(i-r),u>=e&&u<=l))return!0;return!1};h.exports=x}),16204:(h=>{var x=function(t,o,v){v===void 0&&(v=1);var r=o.x1,n=o.y1,i=o.x2,e=o.y2,a=t.x,l=t.y,s=(i-r)*(i-r)+(e-n)*(e-n);if(s===0)return!1;var u=((a-r)*(i-r)+(l-n)*(e-n))/s;if(u<0)return Math.sqrt((r-a)*(r-a)+(n-l)*(n-l))<=v;if(u>=0&&u<=1){var f=((n-l)*(i-r)-(r-a)*(e-n))/s;return Math.abs(f)*Math.sqrt(s)<=v}else return Math.sqrt((i-a)*(i-a)+(e-l)*(e-l))<=v};h.exports=x}),14199:((h,x,t)=>{var o=t(16204),v=function(r,n){if(!o(r,n))return!1;var i=Math.min(n.x1,n.x2),e=Math.max(n.x1,n.x2),a=Math.min(n.y1,n.y2),l=Math.max(n.y1,n.y2);return r.x>=i&&r.x<=e&&r.y>=a&&r.y<=l};h.exports=v}),59996:(h=>{var x=function(t,o){return t.width<=0||t.height<=0||o.width<=0||o.height<=0?!1:!(t.right<o.x||t.bottom<o.y||t.x>o.right||t.y>o.bottom)};h.exports=x}),89265:((h,x,t)=>{var o=t(76112),v=t(37303),r=t(48653),n=t(77493),i=function(e,a){if(a.left>e.right||a.right<e.left||a.top>e.bottom||a.bottom<e.top)return!1;var l=a.getLineA(),s=a.getLineB(),u=a.getLineC();if(v(e,l.x1,l.y1)||v(e,l.x2,l.y2)||v(e,s.x1,s.y1)||v(e,s.x2,s.y2)||v(e,u.x1,u.y1)||v(e,u.x2,u.y2))return!0;var f=e.getLineA(),c=e.getLineB(),d=e.getLineC(),p=e.getLineD();if(o(l,f)||o(l,c)||o(l,d)||o(l,p)||o(s,f)||o(s,c)||o(s,d)||o(s,p)||o(u,f)||o(u,c)||o(u,d)||o(u,p))return!0;var S=n(e),C=r(a,S,!0);return C.length>0};h.exports=i}),84411:(h=>{var x=function(t,o,v,r,n,i){return i===void 0&&(i=0),!(o>t.right+i||v<t.left-i||r>t.bottom+i||n<t.top-i)};h.exports=x}),67636:((h,x,t)=>{var o=t(80462),v=t(10690),r=function(n,i){return n.left>i.right||n.right<i.left||n.top>i.bottom||n.bottom<i.top?!1:!!(v(n,i.x,i.y)||o(n.getLineA(),i)||o(n.getLineB(),i)||o(n.getLineC(),i))};h.exports=r}),2822:((h,x,t)=>{var o=t(76112),v=function(r,n){return!!(r.contains(n.x1,n.y1)||r.contains(n.x2,n.y2)||o(r.getLineA(),n)||o(r.getLineB(),n)||o(r.getLineC(),n))};h.exports=v}),82944:((h,x,t)=>{var o=t(48653),v=t(71694),r=t(76112),n=function(i,e){if(i.left>e.right||i.right<e.left||i.top>e.bottom||i.bottom<e.top)return!1;var a=i.getLineA(),l=i.getLineB(),s=i.getLineC(),u=e.getLineA(),f=e.getLineB(),c=e.getLineC();if(r(a,u)||r(a,f)||r(a,c)||r(l,u)||r(l,f)||r(l,c)||r(s,u)||r(s,f)||r(s,c))return!0;var d=v(i),p=o(e,d,!0);return p.length>0||(d=v(e),p=o(i,d,!0),p.length>0)};h.exports=n}),91865:((h,x,t)=>{h.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}}),91938:(h=>{var x=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};h.exports=x}),84993:(h=>{var x=function(t,o,v){o===void 0&&(o=1),v===void 0&&(v=[]);var r=Math.round(t.x1),n=Math.round(t.y1),i=Math.round(t.x2),e=Math.round(t.y2),a=Math.abs(i-r),l=Math.abs(e-n),s=r<i?1:-1,u=n<e?1:-1,f=a-l;v.push({x:r,y:n});for(var c=1;!(r===i&&n===e);){var d=f<<1;d>-l&&(f-=l,r+=s),d<a&&(f+=a,n+=u),c%o===0&&v.push({x:r,y:n}),c++}return v};h.exports=x}),36469:(h=>{var x=function(t,o,v){var r=o-(t.x1+t.x2)/2,n=v-(t.y1+t.y2)/2;return t.x1+=r,t.y1+=n,t.x2+=r,t.y2+=n,t};h.exports=x}),31116:((h,x,t)=>{var o=t(23031),v=function(r){return new o(r.x1,r.y1,r.x2,r.y2)};h.exports=v}),59944:(h=>{var x=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2)};h.exports=x}),59220:(h=>{var x=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2};h.exports=x}),78177:((h,x,t)=>{var o=t(35001),v=function(r,n,i){i===void 0&&(i=n);var e=o(r),a=r.x2-r.x1,l=r.y2-r.y1;return n&&(r.x1=r.x1-a/e*n,r.y1=r.y1-l/e*n),i&&(r.x2=r.x2+a/e*i,r.y2=r.y2+l/e*i),r};h.exports=v}),26708:((h,x,t)=>{var o=t(52816),v=t(6113),r=t(2141),n=function(i,e,a,l,s){l===void 0&&(l=0),s===void 0&&(s=[]);var u=[],f=i.x1,c=i.y1,d=i.x2-f,p=i.y2-c,S=v(e,s),C,E,R=a-1;for(C=0;C<R;C++)E=S(C/R),u.push(new r(f+d*E,c+p*E));if(E=S(1),u.push(new r(f+d*E,c+p*E)),l>0){var M=u[0],D=[M];for(C=1;C<u.length-1;C++){var B=u[C];o(M,B)>=l&&(D.push(B),M=B)}var b=u[u.length-1];return o(M,b)<l&&D.pop(),D.push(b),D}else return u};h.exports=n}),32125:((h,x,t)=>{var o=t(2141),v=function(r,n){return n===void 0&&(n=new o),n.x=(r.x1+r.x2)/2,n.y=(r.y1+r.y2)/2,n};h.exports=v}),99569:((h,x,t)=>{var o=t(2141),v=function(r,n,i){i===void 0&&(i=new o);var e=r.x1,a=r.y1,l=r.x2,s=r.y2,u=(l-e)*(l-e)+(s-a)*(s-a);if(u===0)return i;var f=((n.x-e)*(l-e)+(n.y-a)*(s-a))/u;return i.x=e+f*(l-e),i.y=a+f*(s-a),i};h.exports=v}),34638:((h,x,t)=>{var o=t(36383),v=t(91938),r=t(2141),n=function(i,e){e===void 0&&(e=new r);var a=v(i)-o.TAU;return e.x=Math.cos(a),e.y=Math.sin(a),e};h.exports=n}),13151:((h,x,t)=>{var o=t(2141),v=function(r,n,i){return i===void 0&&(i=new o),i.x=r.x1+(r.x2-r.x1)*n,i.y=r.y1+(r.y2-r.y1)*n,i};h.exports=v}),15258:((h,x,t)=>{var o=t(35001),v=t(2141),r=function(n,i,e,a){a===void 0&&(a=[]),!i&&e>0&&(i=o(n)/e);for(var l=n.x1,s=n.y1,u=n.x2,f=n.y2,c=0;c<i;c++){var d=c/i,p=l+(u-l)*d,S=s+(f-s)*d;a.push(new v(p,S))}return a};h.exports=r}),26408:(h=>{var x=function(t,o){var v=t.x1,r=t.y1,n=t.x2,i=t.y2,e=(n-v)*(n-v)+(i-r)*(i-r);if(e===0)return!1;var a=((r-o.y)*(n-v)-(v-o.x)*(i-r))/e;return Math.abs(a)*Math.sqrt(e)};h.exports=x}),98770:(h=>{var x=function(t){return Math.abs(t.y1-t.y2)};h.exports=x}),35001:(h=>{var x=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};h.exports=x}),23031:((h,x,t)=>{var o=t(83419),v=t(13151),r=t(15258),n=t(23777),i=t(65822),e=t(26099),a=new o({initialize:function(s,u,f,c){s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=n.LINE,this.x1=s,this.y1=u,this.x2=f,this.y2=c},getPoint:function(l,s){return v(this,l,s)},getPoints:function(l,s,u){return r(this,l,s,u)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,s,u,f){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),this.x1=l,this.y1=s,this.x2=u,this.y2=f,this},setFromObjects:function(l,s){return this.x1=l.x,this.y1=l.y,this.x2=s.x,this.y2=s.y,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});h.exports=a}),64795:((h,x,t)=>{var o=t(36383),v=t(15994),r=t(91938),n=function(i){var e=r(i)-o.TAU;return v(e,-Math.PI,Math.PI)};h.exports=n}),52616:((h,x,t)=>{var o=t(36383),v=t(91938),r=function(n){return Math.cos(v(n)-o.TAU)};h.exports=r}),87231:((h,x,t)=>{var o=t(36383),v=t(91938),r=function(n){return Math.sin(v(n)-o.TAU)};h.exports=r}),89662:(h=>{var x=function(t,o,v){return t.x1+=o,t.y1+=v,t.x2+=o,t.y2+=v,t};h.exports=x}),71165:(h=>{var x=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};h.exports=x}),65822:((h,x,t)=>{var o=t(2141),v=function(r,n){n===void 0&&(n=new o);var i=Math.random();return n.x=r.x1+i*(r.x2-r.x1),n.y=r.y1+i*(r.y2-r.y1),n};h.exports=v}),69777:((h,x,t)=>{var o=t(91938),v=t(64795),r=function(n,i){return 2*v(i)-Math.PI-o(n)};h.exports=r}),39706:((h,x,t)=>{var o=t(64400),v=function(r,n){var i=(r.x1+r.x2)/2,e=(r.y1+r.y2)/2;return o(r,i,e,n)};h.exports=v}),82585:((h,x,t)=>{var o=t(64400),v=function(r,n,i){return o(r,n.x,n.y,i)};h.exports=v}),64400:(h=>{var x=function(t,o,v,r){var n=Math.cos(r),i=Math.sin(r),e=t.x1-o,a=t.y1-v;return t.x1=e*n-a*i+o,t.y1=e*i+a*n+v,e=t.x2-o,a=t.y2-v,t.x2=e*n-a*i+o,t.y2=e*i+a*n+v,t};h.exports=x}),62377:(h=>{var x=function(t,o,v,r,n){return t.x1=o,t.y1=v,t.x2=o+Math.cos(r)*n,t.y2=v+Math.sin(r)*n,t};h.exports=x}),71366:(h=>{var x=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};h.exports=x}),10809:(h=>{var x=function(t){return Math.abs(t.x1-t.x2)};h.exports=x}),2529:((h,x,t)=>{var o=t(23031);o.Angle=t(91938),o.BresenhamPoints=t(84993),o.CenterOn=t(36469),o.Clone=t(31116),o.CopyFrom=t(59944),o.Equals=t(59220),o.Extend=t(78177),o.GetEasedPoints=t(26708),o.GetMidPoint=t(32125),o.GetNearestPoint=t(99569),o.GetNormal=t(34638),o.GetPoint=t(13151),o.GetPoints=t(15258),o.GetShortestDistance=t(26408),o.Height=t(98770),o.Length=t(35001),o.NormalAngle=t(64795),o.NormalX=t(52616),o.NormalY=t(87231),o.Offset=t(89662),o.PerpSlope=t(71165),o.Random=t(65822),o.ReflectAngle=t(69777),o.Rotate=t(39706),o.RotateAroundPoint=t(82585),o.RotateAroundXY=t(64400),o.SetToAngle=t(62377),o.Slope=t(71366),o.Width=t(10809),h.exports=o}),83997:((h,x,t)=>{var o=t(83419),v=t(87841),r=t(26099);function n(e,a,l,s){var u=e-l,f=a-s,c=u*u+f*f;return Math.sqrt(c)}var i=new o({initialize:function(a,l,s){this.vertex1=a,this.vertex2=l,this.vertex3=s,this.bounds=new v,this._inCenter=new r},getInCenter:function(e){e===void 0&&(e=!0);var a=this.vertex1,l=this.vertex2,s=this.vertex3,u,f,c,d,p,S;e?(u=a.x,f=a.y,c=l.x,d=l.y,p=s.x,S=s.y):(u=a.vx,f=a.vy,c=l.vx,d=l.vy,p=s.vx,S=s.vy);var C=n(p,S,c,d),E=n(u,f,p,S),R=n(c,d,u,f),M=C+E+R;return this._inCenter.set((u*C+c*E+p*R)/M,(f*C+d*E+S*R)/M)},contains:function(e,a,l){var s=this.vertex1,u=this.vertex2,f=this.vertex3,c=s.vx,d=s.vy,p=u.vx,S=u.vy,C=f.vx,E=f.vy;if(l){var R=l.a,M=l.b,D=l.c,B=l.d,b=l.e,I=l.f;c=s.vx*R+s.vy*D+b,d=s.vx*M+s.vy*B+I,p=u.vx*R+u.vy*D+b,S=u.vx*M+u.vy*B+I,C=f.vx*R+f.vy*D+b,E=f.vx*M+f.vy*B+I}var N=C-c,z=E-d,H=p-c,X=S-d,W=e-c,V=a-d,U=N*N+z*z,F=N*H+z*X,k=N*W+z*V,Y=H*H+X*X,Z=H*W+X*V,j=U*Y-F*F,J=j===0?0:1/j,q=(Y*k-F*Z)*J,et=(U*Z-F*k)*J;return q>=0&&et>=0&&q+et<1},isCounterClockwise:function(e){var a=this.vertex1,l=this.vertex2,s=this.vertex3,u=(l.vx-a.vx)*(s.vy-a.vy)-(l.vy-a.vy)*(s.vx-a.vx);return e<=0?u>=0:u<0},load:function(e,a,l,s,u){return l=this.vertex1.load(e,a,l,s,u),l=this.vertex2.load(e,a,l,s,u),l=this.vertex3.load(e,a,l,s,u),l},transformCoordinatesLocal:function(e,a,l,s){return this.vertex1.transformCoordinatesLocal(e,a,l,s),this.vertex2.transformCoordinatesLocal(e,a,l,s),this.vertex3.transformCoordinatesLocal(e,a,l,s),this},updateBounds:function(){var e=this.vertex1,a=this.vertex2,l=this.vertex3,s=this.bounds;return s.x=Math.min(e.vx,a.vx,l.vx),s.y=Math.min(e.vy,a.vy,l.vy),s.width=Math.max(e.vx,a.vx,l.vx)-s.x,s.height=Math.max(e.vy,a.vy,l.vy)-s.y,this},isInView:function(e,a,l,s,u,f,c,d,p,S,C){this.update(s,u,f,c,d,p,S,C);var E=this.vertex1,R=this.vertex2,M=this.vertex3;if(E.ta<=0&&R.ta<=0&&M.ta<=0||a&&!this.isCounterClockwise(l))return!1;var D=this.bounds;D.x=Math.min(E.tx,R.tx,M.tx),D.y=Math.min(E.ty,R.ty,M.ty),D.width=Math.max(E.tx,R.tx,M.tx)-D.x,D.height=Math.max(E.ty,R.ty,M.ty)-D.y;var B=e.x+e.width,b=e.y+e.height;return D.width<=0||D.height<=0||e.width<=0||e.height<=0?!1:!(D.right<e.x||D.bottom<e.y||D.x>B||D.y>b)},scrollUV:function(e,a){return this.vertex1.scrollUV(e,a),this.vertex2.scrollUV(e,a),this.vertex3.scrollUV(e,a),this},scaleUV:function(e,a){return this.vertex1.scaleUV(e,a),this.vertex2.scaleUV(e,a),this.vertex3.scaleUV(e,a),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,a,l,s,u,f,c,d){return this.vertex1.update(a,l,s,u,f,c,d,e),this.vertex2.update(a,l,s,u,f,c,d,e),this.vertex3.update(a,l,s,u,f,c,d,e),this},translate:function(e,a){a===void 0&&(a=0);var l=this.vertex1,s=this.vertex2,u=this.vertex3;return l.x+=e,l.y+=a,s.x+=e,s.y+=a,u.x+=e,u.y+=a,this},x:{get:function(){return this.getInCenter().x},set:function(e){var a=this.getInCenter();this.translate(e-a.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var a=this.getInCenter();this.translate(0,e-a.y)}},alpha:{get:function(){var e=this.vertex1,a=this.vertex2,l=this.vertex3;return(e.alpha+a.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,a=this.vertex2,l=this.vertex3;return(e.vz+a.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});h.exports=i}),48803:((h,x,t)=>{var o=t(83997),v=t(95540),r=t(37867),n=t(25836),i=t(39318),e=new n,a=new n,l=new r,s=function(u){var f=v(u,"mesh"),c=v(u,"texture",null),d=v(u,"frame"),p=v(u,"width",1),S=v(u,"height",p),C=v(u,"widthSegments",1),E=v(u,"heightSegments",C),R=v(u,"x",0),M=v(u,"y",0),D=v(u,"z",0),B=v(u,"rotateX",0),b=v(u,"rotateY",0),I=v(u,"rotateZ",0),N=v(u,"zIsUp",!0),z=v(u,"isOrtho",f?f.dirtyCache[11]:!1),H=v(u,"colors",[16777215]),X=v(u,"alphas",[1]),W=v(u,"tile",!1),V=v(u,"flipY",!1),U=v(u,"width",null),F={faces:[],verts:[]};e.set(R,M,D),a.set(B,b,I),l.fromRotationXYTranslation(a,e,N);var k;if(!c&&f)c=f.texture,d||(k=f.frame);else if(f&&typeof c=="string")c=f.scene.sys.textures.get(c);else if(!c)return F;k||(k=c.get(d)),!U&&z&&c&&f&&(p=k.width/f.height,S=k.height/f.height);var Y=p/2,Z=S/2,j=Math.floor(C),J=Math.floor(E),q=j+1,et=J+1,it=p/j,at=S/J,ut=[],dt=[],ft,xt,At=0,gt=1,Wt=0,Ht=1;k&&(At=k.u0,gt=k.u1,V?(Wt=k.v1,Ht=k.v0):(Wt=k.v0,Ht=k.v1));var Gt=gt-At,Ot=Ht-Wt;for(xt=0;xt<et;xt++){var Bt=xt*at-Z;for(ft=0;ft<q;ft++){var Pt=ft*it-Y;dt.push(Pt,-Bt);var te=At+Gt*(ft/j),_t=Wt+Ot*(xt/J);ut.push(te,_t)}}Array.isArray(H)||(H=[H]),Array.isArray(X)||(X=[X]);var nt=0,$=0;for(xt=0;xt<J;xt++)for(ft=0;ft<j;ft++){var _=(ft+q*xt)*2,st=(ft+q*(xt+1))*2,ct=(ft+1+q*(xt+1))*2,pt=(ft+1+q*xt)*2,yt=H[$],kt=X[nt],Jt=new i(dt[_],dt[_+1],0,ut[_],ut[_+1],yt,kt).transformMat4(l),qt=new i(dt[st],dt[st+1],0,ut[st],ut[st+1],yt,kt).transformMat4(l),xe=new i(dt[pt],dt[pt+1],0,ut[pt],ut[pt+1],yt,kt).transformMat4(l),re=new i(dt[st],dt[st+1],0,ut[st],ut[st+1],yt,kt).transformMat4(l),Ne=new i(dt[ct],dt[ct+1],0,ut[ct],ut[ct+1],yt,kt).transformMat4(l),Ni=new i(dt[pt],dt[pt+1],0,ut[pt],ut[pt+1],yt,kt).transformMat4(l);W&&(Jt.setUVs(At,Ht),qt.setUVs(At,Wt),xe.setUVs(gt,Ht),re.setUVs(At,Wt),Ne.setUVs(gt,Wt),Ni.setUVs(gt,Ht)),$++,$===H.length&&($=0),nt++,nt===X.length&&(nt=0),F.verts.push(Jt,qt,xe,re,Ne,Ni),F.faces.push(new o(Jt,qt,xe),new o(re,Ne,Ni))}return f&&(f.faces=f.faces.concat(F.faces),f.vertices=f.vertices.concat(F.verts)),F};h.exports=s}),34684:((h,x,t)=>{var o=t(83997),v=t(37867),r=t(25836),n=t(39318),i=new r,e=new r,a=new v,l=function(s,u,f,c,d,p,S,C,E,R){f===void 0&&(f=1),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),S===void 0&&(S=0),C===void 0&&(C=0),E===void 0&&(E=0),R===void 0&&(R=!0);var M={faces:[],verts:[]},D=s.materials;i.set(c,d,p),e.set(S,C,E),a.fromRotationXYTranslation(e,i,R);for(var B=0;B<s.models.length;B++)for(var b=s.models[B],I=b.vertices,N=b.textureCoords,z=b.faces,H=0;H<z.length;H++){var X=z[H],W=X.vertices[0],V=X.vertices[1],U=X.vertices[2],F=I[W.vertexIndex],k=I[V.vertexIndex],Y=I[U.vertexIndex],Z=W.textureCoordsIndex,j=V.textureCoordsIndex,J=U.textureCoordsIndex,q=Z===-1?{u:0,v:1}:N[Z],et=j===-1?{u:0,v:0}:N[j],it=J===-1?{u:1,v:1}:N[J],at=16777215;X.material!==""&&D[X.material]&&(at=D[X.material]);var ut=new n(F.x*f,F.y*f,F.z*f,q.u,q.v,at).transformMat4(a),dt=new n(k.x*f,k.y*f,k.z*f,et.u,et.v,at).transformMat4(a),ft=new n(Y.x*f,Y.y*f,Y.z*f,it.u,it.v,at).transformMat4(a);M.verts.push(ut,dt,ft),M.faces.push(new o(ut,dt,ft))}return u&&(u.faces=u.faces.concat(M.faces),u.vertices=u.vertices.concat(M.verts)),M};h.exports=l}),92515:((h,x,t)=>{var o=t(83997),v=t(39318),r=function(n,i,e,a,l,s,u,f){if(a===void 0&&(a=!1),s===void 0&&(s=16777215),u===void 0&&(u=1),f===void 0&&(f=!1),n.length!==i.length&&!a){console.warn("GenerateVerts: vertices and uvs count not equal");return}var c={faces:[],vertices:[]},d,p,S,C,E,R,M,D,B,b,I,N=a?3:2,z=Array.isArray(s),H=Array.isArray(u);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var X=e[d],W=e[d]*2,V=e[d]*N;p=n[V],S=n[V+1],C=a?n[V+2]:0,E=i[W],R=i[W+1],f&&(R=1-R),M=z?s[X]:s,D=H?u[X]:u,B=0,b=0,I=0,l&&(B=l[V],b=l[V+1],I=a?l[V+2]:0),c.vertices.push(new v(p,S,C,E,R,M,D,B,b,I))}else{var U=0,F=0;for(d=0;d<n.length;d+=N)p=n[d],S=n[d+1],C=a?n[d+2]:0,E=i[U],R=i[U+1],M=z?s[F]:s,D=H?u[F]:u,B=0,b=0,I=0,l&&(B=l[d],b=l[d+1],I=a?l[d+2]:0),c.vertices.push(new v(p,S,C,E,R,M,D,B,b,I)),U+=2,F++}for(d=0;d<c.vertices.length;d+=3){var k=c.vertices[d],Y=c.vertices[d+1],Z=c.vertices[d+2];c.faces.push(new o(k,Y,Z))}return c};h.exports=r}),85048:(h=>{var x=!0,t="untitled",o="",v="";function r(p){var S=p.indexOf("#");return S>-1?p.substring(0,S):p}function n(p){return p.models.length===0&&p.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),o="",p.models[p.models.length-1]}function i(p,S){var C=p.length>=2?p[1]:t;S.models.push({faces:[],name:C,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function e(p){p.length===2&&(o=p[1])}function a(p,S){var C=p.length,E=C>=2?parseFloat(p[1]):0,R=C>=3?parseFloat(p[2]):0,M=C>=4?parseFloat(p[3]):0;n(S).vertices.push({x:E,y:R,z:M})}function l(p,S){var C=p.length,E=C>=2?parseFloat(p[1]):0,R=C>=3?parseFloat(p[2]):0,M=C>=4?parseFloat(p[3]):0;isNaN(E)&&(E=0),isNaN(R)&&(R=0),isNaN(M)&&(M=0),x&&(R=1-R),n(S).textureCoords.push({u:E,v:R,w:M})}function s(p,S){var C=p.length,E=C>=2?parseFloat(p[1]):0,R=C>=3?parseFloat(p[2]):0,M=C>=4?parseFloat(p[3]):0;n(S).vertexNormals.push({x:E,y:R,z:M})}function u(p,S){var C=p.length-1;if(!(C<3)){for(var E={group:o,material:v,vertices:[]},R=0;R<C;R++){var M=p[R+1],D=M.split("/"),B=D.length;if(!(B<1||B>3)){var b=0,I=0,N=0;b=parseInt(D[0],10),B>1&&D[1]!==""&&(I=parseInt(D[1],10)),B>2&&(N=parseInt(D[2],10)),b!==0&&(b<0&&(b=n(S).vertices.length+1+b),I-=1,b-=1,N-=1,E.vertices.push({textureCoordsIndex:I,vertexIndex:b,vertexNormalIndex:N}))}}n(S).faces.push(E)}}function f(p,S){p.length>=2&&S.materialLibraries.push(p[1])}function c(p){p.length>=2&&(v=p[1])}var d=function(p,S){S===void 0&&(S=!0),x=S;var C={materials:{},materialLibraries:[],models:[]};o="",v="";for(var E=p.split(`
`),R=0;R<E.length;R++){var M=r(E[R]),D=M.replace(/\s\s+/g," ").trim().split(" ");switch(D[0].toLowerCase()){case"o":i(D,C);break;case"g":e(D);break;case"v":a(D,C);break;case"vt":l(D,C);break;case"vn":s(D,C);break;case"f":u(D,C);break;case"mtllib":f(D,C);break;case"usemtl":c(D);break}}return C};h.exports=d}),61485:((h,x,t)=>{var o=t(37589),v=function(r){for(var n={},i=r.split(`
`),e="",a=0;a<i.length;a++){var l=i[a].trim();if(!(l.indexOf("#")===0||l==="")){var s=l.replace(/\s\s+/g," ").trim().split(" ");switch(s[0].toLowerCase()){case"newmtl":{e=s[1];break}case"kd":{var u=Math.floor(s[1]*255),f=s.length>=2?Math.floor(s[2]*255):u,c=s.length>=3?Math.floor(s[3]*255):u;n[e]=o(u,f,c);break}}}}return n};h.exports=v}),92570:(h=>{var x=function(t,o,v,r){var n,i;if(v===void 0&&r===void 0){var e=t.getInCenter();n=e.x,i=e.y}var a=Math.cos(o),l=Math.sin(o),s=t.vertex1,u=t.vertex2,f=t.vertex3,c=s.x-n,d=s.y-i;s.set(c*a-d*l+n,c*l+d*a+i),c=u.x-n,d=u.y-i,u.set(c*a-d*l+n,c*l+d*a+i),c=f.x-n,d=f.y-i,f.set(c*a-d*l+n,c*l+d*a+i)};h.exports=x}),39318:((h,x,t)=>{var o=t(83419),v=t(70554),r=t(25836),n=new o({Extends:r,initialize:function(e,a,l,s,u,f,c,d,p,S){f===void 0&&(f=16777215),c===void 0&&(c=1),d===void 0&&(d=0),p===void 0&&(p=0),S===void 0&&(S=0),r.call(this,e,a,l),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=p,this.nz=S,this.u=s,this.v=u,this.color=f,this.alpha=c,this.tx=0,this.ty=0,this.ta=0,this.tu=s,this.tv=u},setUVs:function(i,e){return this.u=i,this.v=e,this.tu=i,this.tv=e,this},scrollUV:function(i,e){return this.tu+=i,this.tv+=e,this},scaleUV:function(i,e){return this.tu=this.u*i,this.tv=this.v*e,this},transformCoordinatesLocal:function(i,e,a,l){var s=this.x,u=this.y,f=this.z,c=i.val,d=s*c[0]+u*c[4]+f*c[8]+c[12],p=s*c[1]+u*c[5]+f*c[9]+c[13],S=s*c[2]+u*c[6]+f*c[10]+c[14],C=s*c[3]+u*c[7]+f*c[11]+c[15];this.vx=d/C*e,this.vy=-(p/C)*a,l<=0?this.vz=S/C:this.vz=-(S/C)},resize:function(i,e,a,l,s,u){return this.x=i,this.y=e,this.vx=this.x*a,this.vy=-this.y*l,this.vz=0,s<.5?this.vx+=a*(.5-s):s>.5&&(this.vx-=a*(s-.5)),u<.5?this.vy+=l*(.5-u):u>.5&&(this.vy-=l*(u-.5)),this},update:function(i,e,a,l,s,u,f,c){var d=this.vx*i+this.vy*a+s,p=this.vx*e+this.vy*l+u;return f&&(d=Math.round(d),p=Math.round(p)),this.tx=d,this.ty=p,this.ta=this.alpha*c,this},load:function(i,e,a,l,s){return i[++a]=this.tx,i[++a]=this.ty,i[++a]=this.tu,i[++a]=this.tv,i[++a]=l,i[++a]=s,e[++a]=v.getTintAppendFloatAlpha(this.color,this.ta),a}});h.exports=n}),73090:((h,x,t)=>{var o={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};h.exports=o}),96550:(h=>{var x=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};h.exports=x}),99706:((h,x,t)=>{var o=t(2141),v=function(r){return new o(r.x,r.y)};h.exports=v}),68010:(h=>{var x=function(t,o){return o.setTo(t.x,t.y)};h.exports=x}),27814:(h=>{var x=function(t,o){return t.x===o.x&&t.y===o.y};h.exports=x}),73565:(h=>{var x=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};h.exports=x}),87555:((h,x,t)=>{var o=t(2141),v=function(r,n){if(n===void 0&&(n=new o),!Array.isArray(r))throw new Error("GetCentroid points argument must be an array");var i=r.length;if(i<1)throw new Error("GetCentroid points array must not be empty");if(i===1)n.x=r[0].x,n.y=r[0].y;else{for(var e=0;e<i;e++)n.x+=r[e].x,n.y+=r[e].y;n.x/=i,n.y/=i}return n};h.exports=v}),28793:(h=>{var x=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};h.exports=x}),44405:(h=>{var x=function(t){return t.x*t.x+t.y*t.y};h.exports=x}),20873:((h,x,t)=>{var o=t(87841),v=function(r,n){n===void 0&&(n=new o);for(var i=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,s=0;s<r.length;s++){var u=r[s];u.x>i&&(i=u.x),u.x<e&&(e=u.x),u.y>a&&(a=u.y),u.y<l&&(l=u.y)}return n.x=e,n.y=l,n.width=i-e,n.height=a-l,n};h.exports=v}),26152:((h,x,t)=>{var o=t(2141),v=function(r,n,i,e){return i===void 0&&(i=0),e===void 0&&(e=new o),e.x=r.x+(n.x-r.x)*i,e.y=r.y+(n.y-r.y)*i,e};h.exports=v}),55767:(h=>{var x=function(t){return t.setTo(t.y,t.x)};h.exports=x}),79432:((h,x,t)=>{var o=t(2141),v=function(r,n){return n===void 0&&(n=new o),n.setTo(-r.x,-r.y)};h.exports=v}),2141:((h,x,t)=>{var o=t(83419),v=t(23777),r=new o({initialize:function(i,e){i===void 0&&(i=0),e===void 0&&(e=i),this.type=v.POINT,this.x=i,this.y=e},setTo:function(n,i){return n===void 0&&(n=0),i===void 0&&(i=n),this.x=n,this.y=i,this}});h.exports=r}),72930:((h,x,t)=>{var o=t(2141),v=t(44405),r=function(n,i,e){e===void 0&&(e=new o);var a=n.x*i.x+n.y*i.y,l=a/v(i);return l!==0&&(e.x=l*i.x,e.y=l*i.y),e};h.exports=r}),62880:((h,x,t)=>{var o=t(2141),v=function(r,n,i){i===void 0&&(i=new o);var e=r.x*n.x+r.y*n.y;return e!==0&&(i.x=e*n.x,i.y=e*n.y),i};h.exports=v}),15093:((h,x,t)=>{var o=t(28793),v=function(r,n){if(r.x!==0||r.y!==0){var i=o(r);r.x/=i,r.y/=i}return r.x*=n,r.y*=n,r};h.exports=v}),43711:((h,x,t)=>{var o=t(2141);o.Ceil=t(96550),o.Clone=t(99706),o.CopyFrom=t(68010),o.Equals=t(27814),o.Floor=t(73565),o.GetCentroid=t(87555),o.GetMagnitude=t(28793),o.GetMagnitudeSq=t(44405),o.GetRectangleFromPoints=t(20873),o.Interpolate=t(26152),o.Invert=t(55767),o.Negative=t(79432),o.Project=t(72930),o.ProjectUnit=t(62880),o.SetMagnitude=t(15093),h.exports=o}),12306:((h,x,t)=>{var o=t(25717),v=function(r){return new o(r.points)};h.exports=v}),63814:(h=>{var x=function(t,o,v){for(var r=!1,n=-1,i=t.points.length-1;++n<t.points.length;i=n){var e=t.points[n].x,a=t.points[n].y,l=t.points[i].x,s=t.points[i].y;(a<=v&&v<s||s<=v&&v<a)&&o<(l-e)*(v-a)/(s-a)+e&&(r=!r)}return r};h.exports=x}),99338:((h,x,t)=>{var o=t(63814),v=function(r,n){return o(r,n.x,n.y)};h.exports=v}),94811:(h=>{function x(F,k,Y){Y=Y||2;var Z=k&&k.length,j=Z?k[0]*Y:F.length,J=t(F,0,j,Y,!0),q=[];if(!J||J.next===J.prev)return q;var et,it,at,ut,dt,ft,xt;if(Z&&(J=a(F,k,J,Y)),F.length>80*Y){et=at=F[0],it=ut=F[1];for(var At=Y;At<j;At+=Y)dt=F[At],ft=F[At+1],dt<et&&(et=dt),ft<it&&(it=ft),dt>at&&(at=dt),ft>ut&&(ut=ft);xt=Math.max(at-et,ut-it),xt=xt!==0?32767/xt:0}return v(J,q,Y,et,it,xt,0),q}function t(F,k,Y,Z,j){var J,q;if(j===U(F,k,Y,Z)>0)for(J=k;J<Y;J+=Z)q=X(J,F[J],F[J+1],q);else for(J=Y-Z;J>=k;J-=Z)q=X(J,F[J],F[J+1],q);return q&&M(q,q.next)&&(W(q),q=q.next),q}function o(F,k){if(!F)return F;k||(k=F);var Y=F,Z;do if(Z=!1,!Y.steiner&&(M(Y,Y.next)||R(Y.prev,Y,Y.next)===0)){if(W(Y),Y=k=Y.prev,Y===Y.next)break;Z=!0}else Y=Y.next;while(Z||Y!==k);return k}function v(F,k,Y,Z,j,J,q){if(F){!q&&J&&c(F,Z,j,J);for(var et=F,it,at;F.prev!==F.next;){if(it=F.prev,at=F.next,J?n(F,Z,j,J):r(F)){k.push(it.i/Y|0),k.push(F.i/Y|0),k.push(at.i/Y|0),W(F),F=at.next,et=at.next;continue}if(F=at,F===et){q?q===1?(F=i(o(F),k,Y),v(F,k,Y,Z,j,J,2)):q===2&&e(F,k,Y,Z,j,J):v(o(F),k,Y,Z,j,J,1);break}}}}function r(F){var k=F.prev,Y=F,Z=F.next;if(R(k,Y,Z)>=0)return!1;for(var j=k.x,J=Y.x,q=Z.x,et=k.y,it=Y.y,at=Z.y,ut=j<J?j<q?j:q:J<q?J:q,dt=et<it?et<at?et:at:it<at?it:at,ft=j>J?j>q?j:q:J>q?J:q,xt=et>it?et>at?et:at:it>at?it:at,At=Z.next;At!==k;){if(At.x>=ut&&At.x<=ft&&At.y>=dt&&At.y<=xt&&C(j,et,J,it,q,at,At.x,At.y)&&R(At.prev,At,At.next)>=0)return!1;At=At.next}return!0}function n(F,k,Y,Z){var j=F.prev,J=F,q=F.next;if(R(j,J,q)>=0)return!1;for(var et=j.x,it=J.x,at=q.x,ut=j.y,dt=J.y,ft=q.y,xt=et<it?et<at?et:at:it<at?it:at,At=ut<dt?ut<ft?ut:ft:dt<ft?dt:ft,gt=et>it?et>at?et:at:it>at?it:at,Wt=ut>dt?ut>ft?ut:ft:dt>ft?dt:ft,Ht=p(xt,At,k,Y,Z),Gt=p(gt,Wt,k,Y,Z),Ot=F.prevZ,Bt=F.nextZ;Ot&&Ot.z>=Ht&&Bt&&Bt.z<=Gt;){if(Ot.x>=xt&&Ot.x<=gt&&Ot.y>=At&&Ot.y<=Wt&&Ot!==j&&Ot!==q&&C(et,ut,it,dt,at,ft,Ot.x,Ot.y)&&R(Ot.prev,Ot,Ot.next)>=0||(Ot=Ot.prevZ,Bt.x>=xt&&Bt.x<=gt&&Bt.y>=At&&Bt.y<=Wt&&Bt!==j&&Bt!==q&&C(et,ut,it,dt,at,ft,Bt.x,Bt.y)&&R(Bt.prev,Bt,Bt.next)>=0))return!1;Bt=Bt.nextZ}for(;Ot&&Ot.z>=Ht;){if(Ot.x>=xt&&Ot.x<=gt&&Ot.y>=At&&Ot.y<=Wt&&Ot!==j&&Ot!==q&&C(et,ut,it,dt,at,ft,Ot.x,Ot.y)&&R(Ot.prev,Ot,Ot.next)>=0)return!1;Ot=Ot.prevZ}for(;Bt&&Bt.z<=Gt;){if(Bt.x>=xt&&Bt.x<=gt&&Bt.y>=At&&Bt.y<=Wt&&Bt!==j&&Bt!==q&&C(et,ut,it,dt,at,ft,Bt.x,Bt.y)&&R(Bt.prev,Bt,Bt.next)>=0)return!1;Bt=Bt.nextZ}return!0}function i(F,k,Y){var Z=F;do{var j=Z.prev,J=Z.next.next;!M(j,J)&&D(j,Z,Z.next,J)&&N(j,J)&&N(J,j)&&(k.push(j.i/Y|0),k.push(Z.i/Y|0),k.push(J.i/Y|0),W(Z),W(Z.next),Z=F=J),Z=Z.next}while(Z!==F);return o(Z)}function e(F,k,Y,Z,j,J){var q=F;do{for(var et=q.next.next;et!==q.prev;){if(q.i!==et.i&&E(q,et)){var it=H(q,et);q=o(q,q.next),it=o(it,it.next),v(q,k,Y,Z,j,J,0),v(it,k,Y,Z,j,J,0);return}et=et.next}q=q.next}while(q!==F)}function a(F,k,Y,Z){var j=[],J,q,et,it,at;for(J=0,q=k.length;J<q;J++)et=k[J]*Z,it=J<q-1?k[J+1]*Z:F.length,at=t(F,et,it,Z,!1),at===at.next&&(at.steiner=!0),j.push(S(at));for(j.sort(l),J=0;J<j.length;J++)Y=s(j[J],Y);return Y}function l(F,k){return F.x-k.x}function s(F,k){var Y=u(F,k);if(!Y)return k;var Z=H(Y,F);return o(Z,Z.next),o(Y,Y.next)}function u(F,k){var Y=k,Z=F.x,j=F.y,J=-1/0,q;do{if(j<=Y.y&&j>=Y.next.y&&Y.next.y!==Y.y){var et=Y.x+(j-Y.y)*(Y.next.x-Y.x)/(Y.next.y-Y.y);if(et<=Z&&et>J&&(J=et,q=Y.x<Y.next.x?Y:Y.next,et===Z))return q}Y=Y.next}while(Y!==k);if(!q)return null;var it=q,at=q.x,ut=q.y,dt=1/0,ft;Y=q;do Z>=Y.x&&Y.x>=at&&Z!==Y.x&&C(j<ut?Z:J,j,at,ut,j<ut?J:Z,j,Y.x,Y.y)&&(ft=Math.abs(j-Y.y)/(Z-Y.x),N(Y,F)&&(ft<dt||ft===dt&&(Y.x>q.x||Y.x===q.x&&f(q,Y)))&&(q=Y,dt=ft)),Y=Y.next;while(Y!==it);return q}function f(F,k){return R(F.prev,F,k.prev)<0&&R(k.next,F,F.next)<0}function c(F,k,Y,Z){var j=F;do j.z===0&&(j.z=p(j.x,j.y,k,Y,Z)),j.prevZ=j.prev,j.nextZ=j.next,j=j.next;while(j!==F);j.prevZ.nextZ=null,j.prevZ=null,d(j)}function d(F){var k,Y,Z,j,J,q,et,it,at=1;do{for(Y=F,F=null,J=null,q=0;Y;){for(q++,Z=Y,et=0,k=0;k<at&&(et++,Z=Z.nextZ,!!Z);k++);for(it=at;et>0||it>0&&Z;)et!==0&&(it===0||!Z||Y.z<=Z.z)?(j=Y,Y=Y.nextZ,et--):(j=Z,Z=Z.nextZ,it--),J?J.nextZ=j:F=j,j.prevZ=J,J=j;Y=Z}J.nextZ=null,at*=2}while(q>1);return F}function p(F,k,Y,Z,j){return F=(F-Y)*j|0,k=(k-Z)*j|0,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,F|k<<1}function S(F){var k=F,Y=F;do(k.x<Y.x||k.x===Y.x&&k.y<Y.y)&&(Y=k),k=k.next;while(k!==F);return Y}function C(F,k,Y,Z,j,J,q,et){return(j-q)*(k-et)>=(F-q)*(J-et)&&(F-q)*(Z-et)>=(Y-q)*(k-et)&&(Y-q)*(J-et)>=(j-q)*(Z-et)}function E(F,k){return F.next.i!==k.i&&F.prev.i!==k.i&&!I(F,k)&&(N(F,k)&&N(k,F)&&z(F,k)&&(R(F.prev,F,k.prev)||R(F,k.prev,k))||M(F,k)&&R(F.prev,F,F.next)>0&&R(k.prev,k,k.next)>0)}function R(F,k,Y){return(k.y-F.y)*(Y.x-k.x)-(k.x-F.x)*(Y.y-k.y)}function M(F,k){return F.x===k.x&&F.y===k.y}function D(F,k,Y,Z){var j=b(R(F,k,Y)),J=b(R(F,k,Z)),q=b(R(Y,Z,F)),et=b(R(Y,Z,k));return!!(j!==J&&q!==et||j===0&&B(F,Y,k)||J===0&&B(F,Z,k)||q===0&&B(Y,F,Z)||et===0&&B(Y,k,Z))}function B(F,k,Y){return k.x<=Math.max(F.x,Y.x)&&k.x>=Math.min(F.x,Y.x)&&k.y<=Math.max(F.y,Y.y)&&k.y>=Math.min(F.y,Y.y)}function b(F){return F>0?1:F<0?-1:0}function I(F,k){var Y=F;do{if(Y.i!==F.i&&Y.next.i!==F.i&&Y.i!==k.i&&Y.next.i!==k.i&&D(Y,Y.next,F,k))return!0;Y=Y.next}while(Y!==F);return!1}function N(F,k){return R(F.prev,F,F.next)<0?R(F,k,F.next)>=0&&R(F,F.prev,k)>=0:R(F,k,F.prev)<0||R(F,F.next,k)<0}function z(F,k){var Y=F,Z=!1,j=(F.x+k.x)/2,J=(F.y+k.y)/2;do Y.y>J!=Y.next.y>J&&Y.next.y!==Y.y&&j<(Y.next.x-Y.x)*(J-Y.y)/(Y.next.y-Y.y)+Y.x&&(Z=!Z),Y=Y.next;while(Y!==F);return Z}function H(F,k){var Y=new V(F.i,F.x,F.y),Z=new V(k.i,k.x,k.y),j=F.next,J=k.prev;return F.next=k,k.prev=F,Y.next=j,j.prev=Y,Z.next=Y,Y.prev=Z,J.next=Z,Z.prev=J,Z}function X(F,k,Y,Z){var j=new V(F,k,Y);return Z?(j.next=Z.next,j.prev=Z,Z.next.prev=j,Z.next=j):(j.prev=j,j.next=j),j}function W(F){F.next.prev=F.prev,F.prev.next=F.next,F.prevZ&&(F.prevZ.nextZ=F.nextZ),F.nextZ&&(F.nextZ.prevZ=F.prevZ)}function V(F,k,Y){this.i=F,this.x=k,this.y=Y,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}x.deviation=function(F,k,Y,Z){var j=k&&k.length,J=j?k[0]*Y:F.length,q=Math.abs(U(F,0,J,Y));if(j)for(var et=0,it=k.length;et<it;et++){var at=k[et]*Y,ut=et<it-1?k[et+1]*Y:F.length;q-=Math.abs(U(F,at,ut,Y))}var dt=0;for(et=0;et<Z.length;et+=3){var ft=Z[et]*Y,xt=Z[et+1]*Y,At=Z[et+2]*Y;dt+=Math.abs((F[ft]-F[At])*(F[xt+1]-F[ft+1])-(F[ft]-F[xt])*(F[At+1]-F[ft+1]))}return q===0&&dt===0?0:Math.abs((dt-q)/q)};function U(F,k,Y,Z){for(var j=0,J=k,q=Y-Z;J<Y;J+=Z)j+=(F[q]-F[J])*(F[J+1]+F[q+1]),q=J;return j}x.flatten=function(F){for(var k=F[0][0].length,Y={vertices:[],holes:[],dimensions:k},Z=0,j=0;j<F.length;j++){for(var J=0;J<F[j].length;J++)for(var q=0;q<k;q++)Y.vertices.push(F[j][J][q]);j>0&&(Z+=F[j-1].length,Y.holes.push(Z))}return Y},h.exports=x}),13829:((h,x,t)=>{var o=t(87841),v=function(r,n){n===void 0&&(n=new o);for(var i=1/0,e=1/0,a=-i,l=-e,s,u=0;u<r.points.length;u++)s=r.points[u],i=Math.min(i,s.x),e=Math.min(e,s.y),a=Math.max(a,s.x),l=Math.max(l,s.y);return n.x=i,n.y=e,n.width=a-i,n.height=l-e,n};h.exports=v}),26173:(h=>{var x=function(t,o){o===void 0&&(o=[]);for(var v=0;v<t.points.length;v++)o.push(t.points[v].x),o.push(t.points[v].y);return o};h.exports=x}),9564:((h,x,t)=>{var o=t(35001),v=t(23031),r=t(30052),n=function(i,e,a,l){l===void 0&&(l=[]);var s=i.points,u=r(i);!e&&a>0&&(e=u/a);for(var f=0;f<e;f++)for(var c=u*(f/e),d=0,p=0;p<s.length;p++){var S=s[p],C=s[(p+1)%s.length],E=new v(S.x,S.y,C.x,C.y),R=o(E);if(c<d||c>d+R){d+=R;continue}var M=E.getPoint((c-d)/R);l.push(M);break}return l};h.exports=n}),30052:((h,x,t)=>{var o=t(35001),v=t(23031),r=function(n){for(var i=n.points,e=0,a=0;a<i.length;a++){var l=i[a],s=i[(a+1)%i.length],u=new v(l.x,l.y,s.x,s.y);e+=o(u)}return e};h.exports=r}),25717:((h,x,t)=>{var o=t(83419),v=t(63814),r=t(9564),n=t(23777),i=new o({initialize:function(a){this.type=n.POLYGON,this.area=0,this.points=[],a&&this.setTo(a)},contains:function(e,a){return v(this,e,a)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var a,l=0;l<e.length;l++)a={x:0,y:0},typeof e[l]=="number"||typeof e[l]=="string"?(a.x=parseFloat(e[l]),a.y=parseFloat(e[l+1]),l++):Array.isArray(e[l])?(a.x=e[l][0],a.y=e[l][1]):(a.x=e[l].x,a.y=e[l].y),this.points.push(a);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,a,l,s=0;s<this.points.length-1;s++)a=this.points[s],l=this.points[s+1],e+=(l.x-a.x)*(a.y+l.y);return a=this.points[0],l=this.points[this.points.length-1],e+=(a.x-l.x)*(l.y+a.y),this.area=-e*.5,this.area},getPoints:function(e,a,l){return r(this,e,a,l)}});h.exports=i}),8133:(h=>{var x=function(t){return t.points.reverse(),t};h.exports=x}),29524:(h=>{function x(i,e){var a=i.x-e.x,l=i.y-e.y;return a*a+l*l}function t(i,e,a){var l=e.x,s=e.y,u=a.x-l,f=a.y-s;if(u!==0||f!==0){var c=((i.x-l)*u+(i.y-s)*f)/(u*u+f*f);c>1?(l=a.x,s=a.y):c>0&&(l+=u*c,s+=f*c)}return u=i.x-l,f=i.y-s,u*u+f*f}function o(i,e){for(var a=i[0],l=[a],s,u=1,f=i.length;u<f;u++)s=i[u],x(s,a)>e&&(l.push(s),a=s);return a!==s&&l.push(s),l}function v(i,e,a,l,s){for(var u=l,f,c=e+1;c<a;c++){var d=t(i[c],i[e],i[a]);d>u&&(f=c,u=d)}u>l&&(f-e>1&&v(i,e,f,l,s),s.push(i[f]),a-f>1&&v(i,f,a,l,s))}function r(i,e){var a=i.length-1,l=[i[0]];return v(i,0,a,e,l),l.push(i[a]),l}var n=function(i,e,a){e===void 0&&(e=1),a===void 0&&(a=!1);var l=i.points;if(l.length>2){var s=e*e;a||(l=o(l,s)),i.setTo(r(l,s))}return i};h.exports=n}),5469:(h=>{var x=function(o,v){return o[0]=v[0],o[1]=v[1],o},t=function(o){var v,r=[],n=o.points;for(v=0;v<n.length;v++)r.push([n[v].x,n[v].y]);var i=[];for(r.length>0&&i.push(x([0,0],r[0])),v=0;v<r.length-1;v++){var e=r[v],a=r[v+1],l=e[0],s=e[1],u=a[0],f=a[1];i.push([.85*l+.15*u,.85*s+.15*f]),i.push([.15*l+.85*u,.15*s+.85*f])}return r.length>1&&i.push(x([0,0],r[r.length-1])),o.setTo(i)};h.exports=t}),24709:(h=>{var x=function(t,o,v){for(var r=t.points,n=0;n<r.length;n++)r[n].x+=o,r[n].y+=v;return t};h.exports=x}),58423:((h,x,t)=>{var o=t(25717);o.Clone=t(12306),o.Contains=t(63814),o.ContainsPoint=t(99338),o.Earcut=t(94811),o.GetAABB=t(13829),o.GetNumberArray=t(26173),o.GetPoints=t(9564),o.Perimeter=t(30052),o.Reverse=t(8133),o.Simplify=t(29524),o.Smooth=t(5469),o.Translate=t(24709),h.exports=o}),62224:(h=>{var x=function(t){return t.width*t.height};h.exports=x}),98615:(h=>{var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};h.exports=x}),31688:(h=>{var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};h.exports=x}),67502:(h=>{var x=function(t,o,v){return t.x=o-t.width/2,t.y=v-t.height/2,t};h.exports=x}),65085:((h,x,t)=>{var o=t(87841),v=function(r){return new o(r.x,r.y,r.width,r.height)};h.exports=v}),37303:(h=>{var x=function(t,o,v){return t.width<=0||t.height<=0?!1:t.x<=o&&t.x+t.width>=o&&t.y<=v&&t.y+t.height>=v};h.exports=x}),96553:((h,x,t)=>{var o=t(37303),v=function(r,n){return o(r,n.x,n.y)};h.exports=v}),70273:(h=>{var x=function(t,o){return o.width*o.height>t.width*t.height?!1:o.x>t.x&&o.x<t.right&&o.right>t.x&&o.right<t.right&&o.y>t.y&&o.y<t.bottom&&o.bottom>t.y&&o.bottom<t.bottom};h.exports=x}),43459:(h=>{var x=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};h.exports=x}),77493:(h=>{var x=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x,y:t.y}),o.push({x:t.right,y:t.y}),o.push({x:t.right,y:t.bottom}),o.push({x:t.x,y:t.bottom}),o};h.exports=x}),9219:(h=>{var x=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};h.exports=x}),53751:((h,x,t)=>{var o=t(8249),v=function(r,n){var i=o(r);return i<o(n)?r.setSize(n.height*i,n.height):r.setSize(n.width,n.width/i),r.setPosition(n.centerX-r.width/2,n.centerY-r.height/2)};h.exports=v}),16088:((h,x,t)=>{var o=t(8249),v=function(r,n){var i=o(r);return i>o(n)?r.setSize(n.height*i,n.height):r.setSize(n.width,n.width/i),r.setPosition(n.centerX-r.width/2,n.centerY-r.height/2)};h.exports=v}),80774:(h=>{var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};h.exports=x}),83859:(h=>{var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};h.exports=x}),19217:((h,x,t)=>{var o=t(87841),v=t(36383),r=function(n,i){if(i===void 0&&(i=new o),n.length===0)return i;for(var e=Number.MAX_VALUE,a=Number.MAX_VALUE,l=v.MIN_SAFE_INTEGER,s=v.MIN_SAFE_INTEGER,u,f,c,d=0;d<n.length;d++)u=n[d],Array.isArray(u)?(f=u[0],c=u[1]):(f=u.x,c=u.y),e=Math.min(e,f),a=Math.min(a,c),l=Math.max(l,f),s=Math.max(s,c);return i.x=e,i.y=a,i.width=l-e,i.height=s-a,i};h.exports=r}),9477:((h,x,t)=>{var o=t(87841),v=function(r,n,i,e,a){return a===void 0&&(a=new o),a.setTo(Math.min(r,i),Math.min(n,e),Math.abs(r-i),Math.abs(n-e))};h.exports=v}),8249:(h=>{var x=function(t){return t.height===0?NaN:t.width/t.height};h.exports=x}),27165:((h,x,t)=>{var o=t(2141),v=function(r,n){return n===void 0&&(n=new o),n.x=r.centerX,n.y=r.centerY,n};h.exports=v}),20812:((h,x,t)=>{var o=t(13019),v=t(2141),r=function(n,i,e){if(e===void 0&&(e=new v),i<=0||i>=1)return e.x=n.x,e.y=n.y,e;var a=o(n)*i;return i>.5?(a-=n.width+n.height,a<=n.width?(e.x=n.right-a,e.y=n.bottom):(e.x=n.x,e.y=n.bottom-(a-n.width))):a<=n.width?(e.x=n.x+a,e.y=n.y):(e.x=n.right,e.y=n.y+(a-n.width)),e};h.exports=r}),34819:((h,x,t)=>{var o=t(20812),v=t(13019),r=function(n,i,e,a){a===void 0&&(a=[]),!i&&e>0&&(i=v(n)/e);for(var l=0;l<i;l++){var s=l/i;a.push(o(n,s))}return a};h.exports=r}),51313:((h,x,t)=>{var o=t(2141),v=function(r,n){return n===void 0&&(n=new o),n.x=r.width,n.y=r.height,n};h.exports=v}),86091:((h,x,t)=>{var o=t(67502),v=function(r,n,i){var e=r.centerX,a=r.centerY;return r.setSize(r.width+n*2,r.height+i*2),o(r,e,a)};h.exports=v}),53951:((h,x,t)=>{var o=t(87841),v=t(59996),r=function(n,i,e){return e===void 0&&(e=new o),v(n,i)?(e.x=Math.max(n.x,i.x),e.y=Math.max(n.y,i.y),e.width=Math.min(n.right,i.right)-e.x,e.height=Math.min(n.bottom,i.bottom)-e.y):e.setEmpty(),e};h.exports=r}),14649:((h,x,t)=>{var o=t(13019),v=t(2141),r=function(n,i,e,a){if(a===void 0&&(a=[]),!i&&!e)return a;i?e=Math.round(o(n)/i):i=o(n)/e;for(var l=n.x,s=n.y,u=0,f=0;f<e;f++)switch(a.push(new v(l,s)),u){case 0:l+=i,l>=n.right&&(u=1,s+=l-n.right,l=n.right);break;case 1:s+=i,s>=n.bottom&&(u=2,l-=s-n.bottom,s=n.bottom);break;case 2:l-=i,l<=n.left&&(u=3,s-=n.left-l,l=n.left);break;case 3:s-=i,s<=n.top&&(u=0,s=n.top);break}return a};h.exports=r}),33595:(h=>{var x=function(t,o){for(var v=t.x,r=t.right,n=t.y,i=t.bottom,e=0;e<o.length;e++)v=Math.min(v,o[e].x),r=Math.max(r,o[e].x),n=Math.min(n,o[e].y),i=Math.max(i,o[e].y);return t.x=v,t.y=n,t.width=r-v,t.height=i-n,t};h.exports=x}),20074:(h=>{var x=function(t,o){var v=Math.min(t.x,o.x),r=Math.max(t.right,o.right);t.x=v,t.width=r-v;var n=Math.min(t.y,o.y),i=Math.max(t.bottom,o.bottom);return t.y=n,t.height=i-n,t};h.exports=x}),92171:(h=>{var x=function(t,o,v){var r=Math.min(t.x,o),n=Math.max(t.right,o);t.x=r,t.width=n-r;var i=Math.min(t.y,v),e=Math.max(t.bottom,v);return t.y=i,t.height=e-i,t};h.exports=x}),42981:(h=>{var x=function(t,o,v){return t.x+=o,t.y+=v,t};h.exports=x}),46907:(h=>{var x=function(t,o){return t.x+=o.x,t.y+=o.y,t};h.exports=x}),60170:(h=>{var x=function(t,o){return t.x<o.right&&t.right>o.x&&t.y<o.bottom&&t.bottom>o.y};h.exports=x}),13019:(h=>{var x=function(t){return 2*(t.width+t.height)};h.exports=x}),85133:((h,x,t)=>{var o=t(2141),v=t(39506),r=function(n,i,e){e===void 0&&(e=new o),i=v(i);var a=Math.sin(i),l=Math.cos(i),s=l>0?n.width/2:n.width/-2,u=a>0?n.height/2:n.height/-2;return Math.abs(s*a)<Math.abs(u*l)?u=s*a/l:s=u*l/a,e.x=s+n.centerX,e.y=u+n.centerY,e};h.exports=r}),26597:((h,x,t)=>{var o=t(2141),v=function(r,n){return n===void 0&&(n=new o),n.x=r.x+Math.random()*r.width,n.y=r.y+Math.random()*r.height,n};h.exports=v}),86470:((h,x,t)=>{var o=t(30976),v=t(70273),r=t(2141),n=function(i,e,a){if(a===void 0&&(a=new r),v(i,e))switch(o(0,3)){case 0:a.x=i.x+Math.random()*(e.right-i.x),a.y=i.y+Math.random()*(e.top-i.y);break;case 1:a.x=e.x+Math.random()*(i.right-e.x),a.y=e.bottom+Math.random()*(i.bottom-e.bottom);break;case 2:a.x=i.x+Math.random()*(e.x-i.x),a.y=e.y+Math.random()*(i.bottom-e.y);break;case 3:a.x=e.right+Math.random()*(i.right-e.right),a.y=i.y+Math.random()*(e.bottom-i.y);break}return a};h.exports=n}),87841:((h,x,t)=>{var o=t(83419),v=t(37303),r=t(20812),n=t(34819),i=t(23777),e=t(23031),a=t(26597),l=new o({initialize:function(u,f,c,d){u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),this.type=i.RECTANGLE,this.x=u,this.y=f,this.width=c,this.height=d},contains:function(s,u){return v(this,s,u)},getPoint:function(s,u){return r(this,s,u)},getPoints:function(s,u,f){return n(this,s,u,f)},getRandomPoint:function(s){return a(this,s)},setTo:function(s,u,f,c){return this.x=s,this.y=u,this.width=f,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(s,u){return u===void 0&&(u=s),this.x=s,this.y=u,this},setSize:function(s,u){return u===void 0&&(u=s),this.width=s,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(s){return s===void 0&&(s=new e),s.setTo(this.x,this.y,this.right,this.y),s},getLineB:function(s){return s===void 0&&(s=new e),s.setTo(this.right,this.y,this.right,this.bottom),s},getLineC:function(s){return s===void 0&&(s=new e),s.setTo(this.right,this.bottom,this.x,this.bottom),s},getLineD:function(s){return s===void 0&&(s=new e),s.setTo(this.x,this.bottom,this.x,this.y),s},left:{get:function(){return this.x},set:function(s){s>=this.right?this.width=0:this.width=this.right-s,this.x=s}},right:{get:function(){return this.x+this.width},set:function(s){s<=this.x?this.width=0:this.width=s-this.x}},top:{get:function(){return this.y},set:function(s){s>=this.bottom?this.height=0:this.height=this.bottom-s,this.y=s}},bottom:{get:function(){return this.y+this.height},set:function(s){s<=this.y?this.height=0:this.height=s-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(s){this.x=s-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(s){this.y=s-this.height/2}}});h.exports=l}),94845:(h=>{var x=function(t,o){return t.width===o.width&&t.height===o.height};h.exports=x}),31730:(h=>{var x=function(t,o,v){return v===void 0&&(v=o),t.width*=o,t.height*=v,t};h.exports=x}),36899:((h,x,t)=>{var o=t(87841),v=function(r,n,i){i===void 0&&(i=new o);var e=Math.min(r.x,n.x),a=Math.min(r.y,n.y),l=Math.max(r.right,n.right)-e,s=Math.max(r.bottom,n.bottom)-a;return i.setTo(e,a,l,s)};h.exports=v}),93232:((h,x,t)=>{var o=t(87841);o.Area=t(62224),o.Ceil=t(98615),o.CeilAll=t(31688),o.CenterOn=t(67502),o.Clone=t(65085),o.Contains=t(37303),o.ContainsPoint=t(96553),o.ContainsRect=t(70273),o.CopyFrom=t(43459),o.Decompose=t(77493),o.Equals=t(9219),o.FitInside=t(53751),o.FitOutside=t(16088),o.Floor=t(80774),o.FloorAll=t(83859),o.FromPoints=t(19217),o.FromXY=t(9477),o.GetAspectRatio=t(8249),o.GetCenter=t(27165),o.GetPoint=t(20812),o.GetPoints=t(34819),o.GetSize=t(51313),o.Inflate=t(86091),o.Intersection=t(53951),o.MarchingAnts=t(14649),o.MergePoints=t(33595),o.MergeRect=t(20074),o.MergeXY=t(92171),o.Offset=t(42981),o.OffsetPoint=t(46907),o.Overlaps=t(60170),o.Perimeter=t(13019),o.PerimeterPoint=t(85133),o.Random=t(26597),o.RandomOutside=t(86470),o.SameDimensions=t(94845),o.Scale=t(31730),o.Union=t(36899),h.exports=o}),41658:(h=>{var x=function(t){var o=t.x1,v=t.y1,r=t.x2,n=t.y2,i=t.x3,e=t.y3;return Math.abs(((i-o)*(n-v)-(r-o)*(e-v))/2)};h.exports=x}),39208:((h,x,t)=>{var o=t(16483),v=function(r,n,i){var e=i*(Math.sqrt(3)/2),a=r,l=n,s=r+i/2,u=n+e,f=r-i/2,c=n+e;return new o(a,l,s,u,f,c)};h.exports=v}),39545:((h,x,t)=>{var o=t(94811),v=t(16483),r=function(n,i,e,a,l){i===void 0&&(i=null),e===void 0&&(e=1),a===void 0&&(a=1),l===void 0&&(l=[]);for(var s=o(n,i),u,f,c,d,p,S,C,E,R,M=0;M<s.length;M+=3)u=s[M],f=s[M+1],c=s[M+2],d=n[u*2]*e,p=n[u*2+1]*a,S=n[f*2]*e,C=n[f*2+1]*a,E=n[c*2]*e,R=n[c*2+1]*a,l.push(new v(d,p,S,C,E,R));return l};h.exports=r}),90301:((h,x,t)=>{var o=t(16483),v=function(r,n,i,e){e===void 0&&(e=i);var a=r,l=n,s=r,u=n-e,f=r+i,c=n;return new o(a,l,s,u,f,c)};h.exports=v}),23707:((h,x,t)=>{var o=t(97523),v=t(13584),r=function(n,i,e,a){a===void 0&&(a=o);var l=a(n),s=i-l.x,u=e-l.y;return v(n,s,u)};h.exports=r}),97523:((h,x,t)=>{var o=t(2141),v=function(r,n){return n===void 0&&(n=new o),n.x=(r.x1+r.x2+r.x3)/3,n.y=(r.y1+r.y2+r.y3)/3,n};h.exports=v}),24951:((h,x,t)=>{var o=t(26099);function v(n,i,e,a){return n*a-i*e}var r=function(n,i){i===void 0&&(i=new o);var e=n.x3,a=n.y3,l=n.x1-e,s=n.y1-a,u=n.x2-e,f=n.y2-a,c=2*v(l,s,u,f),d=v(s,l*l+s*s,f,u*u+f*f),p=v(l,l*l+s*s,u,u*u+f*f);return i.x=e-d/c,i.y=a+p/c,i};h.exports=r}),85614:((h,x,t)=>{var o=t(96503),v=function(r,n){n===void 0&&(n=new o);var i=r.x1,e=r.y1,a=r.x2,l=r.y2,s=r.x3,u=r.y3,f=a-i,c=l-e,d=s-i,p=u-e,S=f*(i+a)+c*(e+l),C=d*(i+s)+p*(e+u),E=2*(f*(u-l)-c*(s-a)),R,M;if(Math.abs(E)<1e-6){var D=Math.min(i,a,s),B=Math.min(e,l,u);R=(Math.max(i,a,s)-D)*.5,M=(Math.max(e,l,u)-B)*.5,n.x=D+R,n.y=B+M,n.radius=Math.sqrt(R*R+M*M)}else n.x=(p*S-c*C)/E,n.y=(f*C-d*S)/E,R=n.x-i,M=n.y-e,n.radius=Math.sqrt(R*R+M*M);return n};h.exports=v}),74422:((h,x,t)=>{var o=t(16483),v=function(r){return new o(r.x1,r.y1,r.x2,r.y2,r.x3,r.y3)};h.exports=v}),10690:(h=>{var x=function(t,o,v){var r=t.x3-t.x1,n=t.y3-t.y1,i=t.x2-t.x1,e=t.y2-t.y1,a=o-t.x1,l=v-t.y1,s=r*r+n*n,u=r*i+n*e,f=r*a+n*l,c=i*i+e*e,d=i*a+e*l,p=s*c-u*u,S=p===0?0:1/p,C=(c*f-u*d)*S,E=(s*d-u*f)*S;return C>=0&&E>=0&&C+E<1};h.exports=x}),48653:(h=>{var x=function(t,o,v,r){v===void 0&&(v=!1),r===void 0&&(r=[]);for(var n=t.x3-t.x1,i=t.y3-t.y1,e=t.x2-t.x1,a=t.y2-t.y1,l=n*n+i*i,s=n*e+i*a,u=e*e+a*a,f=l*u-s*s,c=f===0?0:1/f,d,p,S,C,E,R,M=t.x1,D=t.y1,B=0;B<o.length&&(S=o[B].x-M,C=o[B].y-D,E=n*S+i*C,R=e*S+a*C,d=(u*E-s*R)*c,p=(l*R-s*E)*c,!(d>=0&&p>=0&&d+p<1&&(r.push({x:o[B].x,y:o[B].y}),v)));B++);return r};h.exports=x}),96006:((h,x,t)=>{var o=t(10690),v=function(r,n){return o(r,n.x,n.y)};h.exports=v}),71326:(h=>{var x=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};h.exports=x}),71694:(h=>{var x=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x1,y:t.y1}),o.push({x:t.x2,y:t.y2}),o.push({x:t.x3,y:t.y3}),o};h.exports=x}),33522:(h=>{var x=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2&&t.x3===o.x3&&t.y3===o.y3};h.exports=x}),20437:((h,x,t)=>{var o=t(2141),v=t(35001),r=function(n,i,e){e===void 0&&(e=new o);var a=n.getLineA(),l=n.getLineB(),s=n.getLineC();if(i<=0||i>=1)return e.x=a.x1,e.y=a.y1,e;var u=v(a),f=v(l),c=v(s),d=u+f+c,p=d*i,S=0;return p<u?(S=p/u,e.x=a.x1+(a.x2-a.x1)*S,e.y=a.y1+(a.y2-a.y1)*S):p>u+f?(p-=u+f,S=p/c,e.x=s.x1+(s.x2-s.x1)*S,e.y=s.y1+(s.y2-s.y1)*S):(p-=u,S=p/f,e.x=l.x1+(l.x2-l.x1)*S,e.y=l.y1+(l.y2-l.y1)*S),e};h.exports=r}),80672:((h,x,t)=>{var o=t(35001),v=t(2141),r=function(n,i,e,a){a===void 0&&(a=[]);var l=n.getLineA(),s=n.getLineB(),u=n.getLineC(),f=o(l),c=o(s),d=o(u),p=f+c+d;!i&&e>0&&(i=p/e);for(var S=0;S<i;S++){var C=p*(S/i),E=0,R=new v;C<f?(E=C/f,R.x=l.x1+(l.x2-l.x1)*E,R.y=l.y1+(l.y2-l.y1)*E):C>f+c?(C-=f+c,E=C/d,R.x=u.x1+(u.x2-u.x1)*E,R.y=u.y1+(u.y2-u.y1)*E):(C-=f,E=C/c,R.x=s.x1+(s.x2-s.x1)*E,R.y=s.y1+(s.y2-s.y1)*E),a.push(R)}return a};h.exports=r}),39757:((h,x,t)=>{var o=t(2141);function v(n,i,e,a){var l=n-e,s=i-a,u=l*l+s*s;return Math.sqrt(u)}var r=function(n,i){i===void 0&&(i=new o);var e=n.x1,a=n.y1,l=n.x2,s=n.y2,u=n.x3,f=n.y3,c=v(u,f,l,s),d=v(e,a,u,f),p=v(l,s,e,a),S=c+d+p;return i.x=(e*c+l*d+u*p)/S,i.y=(a*c+s*d+f*p)/S,i};h.exports=r}),13584:(h=>{var x=function(t,o,v){return t.x1+=o,t.y1+=v,t.x2+=o,t.y2+=v,t.x3+=o,t.y3+=v,t};h.exports=x}),1376:((h,x,t)=>{var o=t(35001),v=function(r){var n=r.getLineA(),i=r.getLineB(),e=r.getLineC();return o(n)+o(i)+o(e)};h.exports=v}),90260:((h,x,t)=>{var o=t(2141),v=function(r,n){n===void 0&&(n=new o);var i=r.x2-r.x1,e=r.y2-r.y1,a=r.x3-r.x1,l=r.y3-r.y1,s=Math.random(),u=Math.random();return s+u>=1&&(s=1-s,u=1-u),n.x=r.x1+(i*s+a*u),n.y=r.y1+(e*s+l*u),n};h.exports=v}),52172:((h,x,t)=>{var o=t(99614),v=t(39757),r=function(n,i){var e=v(n);return o(n,e.x,e.y,i)};h.exports=r}),49907:((h,x,t)=>{var o=t(99614),v=function(r,n,i){return o(r,n.x,n.y,i)};h.exports=v}),99614:(h=>{var x=function(t,o,v,r){var n=Math.cos(r),i=Math.sin(r),e=t.x1-o,a=t.y1-v;return t.x1=e*n-a*i+o,t.y1=e*i+a*n+v,e=t.x2-o,a=t.y2-v,t.x2=e*n-a*i+o,t.y2=e*i+a*n+v,e=t.x3-o,a=t.y3-v,t.x3=e*n-a*i+o,t.y3=e*i+a*n+v,t};h.exports=x}),16483:((h,x,t)=>{var o=t(83419),v=t(10690),r=t(20437),n=t(80672),i=t(23777),e=t(23031),a=t(90260),l=new o({initialize:function(u,f,c,d,p,S){u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),S===void 0&&(S=0),this.type=i.TRIANGLE,this.x1=u,this.y1=f,this.x2=c,this.y2=d,this.x3=p,this.y3=S},contains:function(s,u){return v(this,s,u)},getPoint:function(s,u){return r(this,s,u)},getPoints:function(s,u,f){return n(this,s,u,f)},getRandomPoint:function(s){return a(this,s)},setTo:function(s,u,f,c,d,p){return s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),this.x1=s,this.y1=u,this.x2=f,this.y2=c,this.x3=d,this.y3=p,this},getLineA:function(s){return s===void 0&&(s=new e),s.setTo(this.x1,this.y1,this.x2,this.y2),s},getLineB:function(s){return s===void 0&&(s=new e),s.setTo(this.x2,this.y2,this.x3,this.y3),s},getLineC:function(s){return s===void 0&&(s=new e),s.setTo(this.x3,this.y3,this.x1,this.y1),s},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1<=this.x2&&this.x1<=this.x3?u=this.x1-s:this.x2<=this.x1&&this.x2<=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(s){var u=0;this.x1>=this.x2&&this.x1>=this.x3?u=this.x1-s:this.x2>=this.x1&&this.x2>=this.x3?u=this.x2-s:u=this.x3-s,this.x1-=u,this.x2-=u,this.x3-=u}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1<=this.y2&&this.y1<=this.y3?u=this.y1-s:this.y2<=this.y1&&this.y2<=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(s){var u=0;this.y1>=this.y2&&this.y1>=this.y3?u=this.y1-s:this.y2>=this.y1&&this.y2>=this.y3?u=this.y2-s:u=this.y3-s,this.y1-=u,this.y2-=u,this.y3-=u}}});h.exports=l}),84435:((h,x,t)=>{var o=t(16483);o.Area=t(41658),o.BuildEquilateral=t(39208),o.BuildFromPolygon=t(39545),o.BuildRight=t(90301),o.CenterOn=t(23707),o.Centroid=t(97523),o.CircumCenter=t(24951),o.CircumCircle=t(85614),o.Clone=t(74422),o.Contains=t(10690),o.ContainsArray=t(48653),o.ContainsPoint=t(96006),o.CopyFrom=t(71326),o.Decompose=t(71694),o.Equals=t(33522),o.GetPoint=t(20437),o.GetPoints=t(80672),o.InCenter=t(39757),o.Perimeter=t(1376),o.Offset=t(13584),o.Random=t(90260),o.Rotate=t(52172),o.RotateAroundPoint=t(49907),o.RotateAroundXY=t(99614),h.exports=o}),74457:(h=>{var x=function(t,o,v){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};h.exports=x}),84409:(h=>{var x=function(t,o){return function(v,r,n,i){var e=t.getPixelAlpha(r,n,i.texture.key,i.frame.name);return e&&e>=o}};h.exports=x}),7003:((h,x,t)=>{var o=t(83419),v=t(93301),r=t(50792),n=t(8214),i=t(8443),e=t(78970),a=t(85098),l=t(42515),s=t(36210),u=t(61340),f=t(85955),c=new o({initialize:function(p,S){this.game=p,this.scaleManager,this.canvas,this.config=S,this.enabled=!0,this.events=new r,this.isOver=!0,this.defaultCursor="",this.keyboard=S.inputKeyboard?new e(this):null,this.mouse=S.inputMouse?new a(this):null,this.touch=S.inputTouch?new s(this):null,this.pointers=[],this.pointersTotal=S.inputActivePointers;for(var C=0;C<=this.pointersTotal;C++){var E=new l(this,C);E.smoothFactor=S.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=S.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],p.events.once(i.BOOT,this.boot,this)},boot:function(){var d=this.game,p=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(n.MANAGER_BOOT),p.on(i.PRE_RENDER,this.preRender,this),p.once(i.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(n.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(n.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,p=this.game.loop.delta,S=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(n.MANAGER_UPDATE);for(var C=0;C<S.length;C++){var E=S[C];if(E.sys.input&&E.sys.input.updatePoll(d,p)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d,p){(p||d&&d.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var p=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var S=0;S<d;S++){var C=this.pointers.length,E=new l(this,C);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,p.push(E)}return p},updateInputPlugins:function(d,p){var S=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var C=0;C<S.length;C++){var E=S[C];if(E.sys.input){var R=E.sys.input.update(d,p);if(R&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var p=this.pointers,S=[],C=0;C<d.changedTouches.length;C++)for(var E=d.changedTouches[C],R=1;R<p.length;R++){var M=p[R];if(!M.active){M.touchstart(E,d),this.activePointer=M,S.push(M);break}}this.updateInputPlugins(v.TOUCH_START,S)},onTouchMove:function(d){for(var p=this.pointers,S=[],C=0;C<d.changedTouches.length;C++)for(var E=d.changedTouches[C],R=1;R<p.length;R++){var M=p[R];if(M.active&&M.identifier===E.identifier){var D=document.elementFromPoint(E.clientX,E.clientY),B=D===this.canvas;!this.isOver&&B?this.setCanvasOver(d):this.isOver&&!B&&this.setCanvasOut(d),this.isOver&&(M.touchmove(E,d),this.activePointer=M,S.push(M));break}}this.updateInputPlugins(v.TOUCH_MOVE,S)},onTouchEnd:function(d){for(var p=this.pointers,S=[],C=0;C<d.changedTouches.length;C++)for(var E=d.changedTouches[C],R=1;R<p.length;R++){var M=p[R];if(M.active&&M.identifier===E.identifier){M.touchend(E,d),S.push(M);break}}this.updateInputPlugins(v.TOUCH_END,S)},onTouchCancel:function(d){for(var p=this.pointers,S=[],C=0;C<d.changedTouches.length;C++)for(var E=d.changedTouches[C],R=1;R<p.length;R++){var M=p[R];if(M.active&&M.identifier===E.identifier){M.touchcancel(E,d),S.push(M);break}}this.updateInputPlugins(v.TOUCH_CANCEL,S)},onMouseDown:function(d){var p=this.mousePointer;p.down(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var p=this.mousePointer;p.move(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var p=this.mousePointer;p.up(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var p=this.mousePointer;p.wheel(d),this.activePointer=p,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var p=this.mouse.locked;this.mousePointer.locked=p,this.events.emit(n.POINTERLOCK_CHANGE,d,p)},inputCandidate:function(d,p){var S=d.input;if(!S||!S.enabled||!d.willRender(p))return!1;var C=!0,E=d.parentContainer;if(E)do{if(!E.willRender(p)){C=!1;break}E=E.parentContainer}while(E);return C},hitTest:function(d,p,S,C){C===void 0&&(C=this._tempHitTest);var E=this._tempPoint,R=S.scrollX,M=S.scrollY;C.length=0;var D=d.x,B=d.y;S.getWorldPoint(D,B,E),d.worldX=E.x,d.worldY=E.y;for(var b={x:0,y:0},I=this._tempMatrix,N=this._tempMatrix2,z=0;z<p.length;z++){var H=p[z];if(this.inputCandidate(H,S)){var X=E.x+R*H.scrollFactorX-R,W=E.y+M*H.scrollFactorY-M;H.parentContainer?(H.getWorldTransformMatrix(I,N),I.applyInverse(X,W,b)):f(X,W,H.x,H.y,H.rotation,H.scaleX,H.scaleY,b),this.pointWithinHitArea(H,b.x,b.y)&&C.push(H)}}return C},pointWithinHitArea:function(d,p,S){p+=d.displayOriginX,S+=d.displayOriginY;var C=d.input;return C&&C.hitAreaCallback(C.hitArea,p,S,d)?(C.localX=p,C.localY=S,!0):!1},pointWithinInteractiveObject:function(d,p,S){return d.hitArea?(p+=d.gameObject.displayOriginX,S+=d.gameObject.displayOriginY,d.localX=p,d.localY=S,d.hitAreaCallback(d.hitArea,p,S,d)):!1},transformPointer:function(d,p,S,C){var E=d.position,R=d.prevPosition;R.x=E.x,R.y=E.y;var M=this.scaleManager.transformX(p),D=this.scaleManager.transformY(S),B=d.smoothFactor;!C||B===0?(E.x=M,E.y=D):(E.x=M*B+R.x*(1-B),E.y=D*B+R.y*(1-B))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(i.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});h.exports=c}),48205:((h,x,t)=>{var o=t(96503),v=t(87902),r=t(83419),n=t(93301),i=t(74457),e=t(84409),a=t(20339),l=t(8497),s=t(81154),u=t(8214),f=t(50792),c=t(95540),d=t(23777),p=t(89639),S=t(41212),C=t(37277),E=t(87841),R=t(37303),M=t(44594),D=t(16483),B=t(10690),b=new r({Extends:f,initialize:function(N){f.call(this),this.scene=N,this.systems=N.sys,this.settings=N.sys.settings,this.manager=N.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var z={cancelled:!1};this._eventContainer={stopPropagation:function(){z.cancelled=!0}},this._eventData=z,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,N.sys.events.once(M.BOOT,this.boot,this),N.sys.events.on(M.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(M.DESTROY,this.destroy,this),this.pluginEvents.emit(u.BOOT)},start:function(){var I=this.systems.events;I.on(M.TRANSITION_START,this.transitionIn,this),I.on(M.TRANSITION_OUT,this.transitionOut,this),I.on(M.TRANSITION_COMPLETE,this.transitionComplete,this),I.on(M.PRE_UPDATE,this.preUpdate,this),I.once(M.SHUTDOWN,this.shutdown,this),this.manager.events.on(u.GAME_OUT,this.onGameOut,this),this.manager.events.on(u.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(u.START)},onGameOver:function(I){this.isActive()&&this.emit(u.GAME_OVER,I.timeStamp,I)},onGameOut:function(I){this.isActive()&&this.emit(u.GAME_OUT,I.timeStamp,I)},preUpdate:function(){this.pluginEvents.emit(u.PRE_UPDATE);var I=this._pendingRemoval,N=this._pendingInsertion,z=I.length,H=N.length;if(!(z===0&&H===0)){for(var X=this._list,W=0;W<z;W++){var V=I[W],U=X.indexOf(V);U>-1&&(X.splice(U,1),this.clear(V,!0))}this._pendingRemoval.length=0,this._list=X.concat(N.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(I){this.manager&&this.manager.setCursor(I)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(I,N){if(!this.isActive())return!1;if(this.pluginEvents.emit(u.UPDATE,I,N),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var z,H=this.manager,X=H.pointers;for(z=0;z<X.length;z++)X[z].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=N,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var V=!1;for(z=0;z<X.length;z++){var U=0,F=X[z];this._tempZones=[],this._temp=this.hitTestPointer(F),this.sortGameObjects(this._temp,F),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),U+=this.processOverOutEvents(F),this.getDragState(F)===2&&this.processDragThresholdEvent(F,I),U>0&&(V=!0)}return V},update:function(I,N){if(!this.isActive())return!1;for(var z=!1,H=0;H<N.length;H++){var X=0,W=N[H];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),I){case n.MOUSE_DOWN:X+=this.processDragDownEvent(W),X+=this.processDownEvents(W),X+=this.processOverOutEvents(W);break;case n.MOUSE_UP:X+=this.processDragUpEvent(W),X+=this.processUpEvents(W),X+=this.processOverOutEvents(W);break;case n.TOUCH_START:X+=this.processDragDownEvent(W),X+=this.processDownEvents(W),X+=this.processOverEvents(W);break;case n.TOUCH_END:case n.TOUCH_CANCEL:X+=this.processDragUpEvent(W),X+=this.processUpEvents(W),X+=this.processOutEvents(W);break;case n.MOUSE_MOVE:case n.TOUCH_MOVE:X+=this.processDragMoveEvent(W),X+=this.processMoveEvents(W),X+=this.processOverOutEvents(W);break;case n.MOUSE_WHEEL:X+=this.processWheelEvent(W);break}X>0&&(z=!0)}return this._updatedThisFrame=!0,z},clear:function(I,N){N===void 0&&(N=!1),this.disable(I);var z=I.input;z&&(this.removeDebug(I),this.manager.resetCursor(z),z.gameObject=void 0,z.target=void 0,z.hitArea=void 0,z.hitAreaCallback=void 0,z.callbackContext=void 0,I.input=null),N||this.queueForRemoval(I);var H=this._draggable.indexOf(I);return H>-1&&this._draggable.splice(H,1),I},disable:function(I,N){N===void 0&&(N=!1);var z=I.input;z&&(z.enabled=!1,z.dragState=0);for(var H=this._drag,X=this._over,W=this.manager,V=0,U;V<W.pointers.length;V++)U=H[V].indexOf(I),U>-1&&H[V].splice(U,1),U=X[V].indexOf(I),U>-1&&X[V].splice(U,1);return N&&this.resetCursor(),this},enable:function(I,N,z,H){return H===void 0&&(H=!1),I.input?I.input.enabled=!0:this.setHitArea(I,N,z),I.input&&H&&!I.input.dropZone&&(I.input.dropZone=H),this},hitTestPointer:function(I){for(var N=this.cameras.getCamerasBelowPointer(I),z=0;z<N.length;z++){for(var H=N[z],X=this.manager.hitTest(I,this._list,H),W=0;W<X.length;W++){var V=X[W];V.input.dropZone&&this._tempZones.push(V)}if(X.length>0)return I.camera=H,X}return I.camera=N[0],[]},processDownEvents:function(I){var N=0,z=this._temp,H=this._eventData,X=this._eventContainer;H.cancelled=!1;for(var W=0;W<z.length;W++){var V=z[W];if(!(!V.input||!V.input.enabled)&&(N++,V.emit(u.GAMEOBJECT_POINTER_DOWN,I,V.input.localX,V.input.localY,X),H.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(u.GAMEOBJECT_DOWN,I,V,X),H.cancelled||!this.isActive())))break}return!H.cancelled&&this.isActive()&&(I.downElement===this.manager.game.canvas?this.emit(u.POINTER_DOWN,I,z):this.emit(u.POINTER_DOWN_OUTSIDE,I)),N},getDragState:function(I){return this._dragState[I.id]},setDragState:function(I,N){this._dragState[I.id]=N},processDragThresholdEvent:function(I,N){var z=!1,H=this.dragTimeThreshold,X=this.dragDistanceThreshold;if((X>0&&a(I.x,I.y,I.downX,I.downY)>=X||H>0&&N>=I.downTime+H)&&(z=!0),z)return this.setDragState(I,3),this.processDragStartList(I)},processDragStartList:function(I){if(this.getDragState(I)!==3)return 0;var N=this._drag[I.id];N.length>1&&(N=N.slice(0));for(var z=0;z<N.length;z++){var H=N[z],X=H.input;X.dragState=2,X.dragStartX=H.x,X.dragStartY=H.y,X.dragStartXGlobal=I.worldX,X.dragStartYGlobal=I.worldY,X.dragStartCamera=I.camera,X.dragX=X.dragStartXGlobal-X.dragStartX,X.dragY=X.dragStartYGlobal-X.dragStartY,H.emit(u.GAMEOBJECT_DRAG_START,I,X.dragX,X.dragY),this.emit(u.DRAG_START,I,H)}return this.setDragState(I,4),N.length},processDragDownEvent:function(I){var N=this._temp;if(this._draggable.length===0||N.length===0||!I.primaryDown||this.getDragState(I)!==0)return 0;this.setDragState(I,1);for(var z=[],H=0;H<N.length;H++){var X=N[H];X.input.draggable&&X.input.dragState===0&&z.push(X)}return z.length===0?(this.setDragState(I,0),0):(z.length>1&&(this.sortGameObjects(z,I),this.topOnly&&z.splice(1)),this._drag[I.id]=z,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(I,3),this.processDragStartList(I)):(this.setDragState(I,2),0))},processDragMoveEvent:function(I){if(this.getDragState(I)===2&&this.processDragThresholdEvent(I,this.manager.game.loop.now),this.getDragState(I)!==4)return 0;var N=this._tempZones,z=this._drag[I.id];z.length>1&&(z=z.slice(0));for(var H=0;H<z.length;H++){var X=z[H],W=X.input,V=W.target;if(V){var U=N.indexOf(V);U===0?(X.emit(u.GAMEOBJECT_DRAG_OVER,I,V),this.emit(u.DRAG_OVER,I,X,V)):U>0?(X.emit(u.GAMEOBJECT_DRAG_LEAVE,I,V),this.emit(u.DRAG_LEAVE,I,X,V),W.target=N[0],V=W.target,X.emit(u.GAMEOBJECT_DRAG_ENTER,I,V),this.emit(u.DRAG_ENTER,I,X,V)):(X.emit(u.GAMEOBJECT_DRAG_LEAVE,I,V),this.emit(u.DRAG_LEAVE,I,X,V),N[0]?(W.target=N[0],V=W.target,X.emit(u.GAMEOBJECT_DRAG_ENTER,I,V),this.emit(u.DRAG_ENTER,I,X,V)):W.target=null)}else!V&&N[0]&&(W.target=N[0],V=W.target,X.emit(u.GAMEOBJECT_DRAG_ENTER,I,V),this.emit(u.DRAG_ENTER,I,X,V));var F,k,Y=I.positionToCamera(W.dragStartCamera);if(!X.parentContainer)F=Y.x-W.dragX,k=Y.y-W.dragY;else{var Z=Y.x-W.dragStartXGlobal,j=Y.y-W.dragStartYGlobal,J=X.getParentRotation(),q=Z*Math.cos(J)+j*Math.sin(J),et=j*Math.cos(J)-Z*Math.sin(J);q*=1/X.parentContainer.scaleX,et*=1/X.parentContainer.scaleY,F=q+W.dragStartX,k=et+W.dragStartY}X.emit(u.GAMEOBJECT_DRAG,I,F,k),this.emit(u.DRAG,I,X,F,k)}return z.length},processDragUpEvent:function(I){var N=this._drag[I.id];N.length>1&&(N=N.slice(0));for(var z=0;z<N.length;z++){var H=N[z],X=H.input;if(X&&X.dragState===2){X.dragState=0,X.dragX=X.localX-H.displayOriginX,X.dragY=X.localY-H.displayOriginY,X.dragStartCamera=null;var W=!1,V=X.target;V&&(H.emit(u.GAMEOBJECT_DROP,I,V),this.emit(u.DROP,I,H,V),X.target=null,W=!0),H.input&&H.input.enabled&&(H.emit(u.GAMEOBJECT_DRAG_END,I,X.dragX,X.dragY,W),this.emit(u.DRAG_END,I,H,W))}}return this.setDragState(I,0),N.splice(0),0},processMoveEvents:function(I){var N=0,z=this._temp,H=this._eventData,X=this._eventContainer;H.cancelled=!1;for(var W=0;W<z.length;W++){var V=z[W];if(!(!V.input||!V.input.enabled)&&(N++,V.emit(u.GAMEOBJECT_POINTER_MOVE,I,V.input.localX,V.input.localY,X),H.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(u.GAMEOBJECT_MOVE,I,V,X),H.cancelled||!this.isActive()||this.topOnly)))break}return!H.cancelled&&this.isActive()&&this.emit(u.POINTER_MOVE,I,z),N},processWheelEvent:function(I){var N=0,z=this._temp,H=this._eventData,X=this._eventContainer;H.cancelled=!1;for(var W=I.deltaX,V=I.deltaY,U=I.deltaZ,F=0;F<z.length;F++){var k=z[F];if(!(!k.input||!k.input.enabled)&&(N++,k.emit(u.GAMEOBJECT_POINTER_WHEEL,I,W,V,U,X),H.cancelled||!this.isActive()||k.input&&k.input.enabled&&(this.emit(u.GAMEOBJECT_WHEEL,I,k,W,V,U,X),H.cancelled||!this.isActive())))break}return!H.cancelled&&this.isActive()&&this.emit(u.POINTER_WHEEL,I,z,W,V,U),N},processOverEvents:function(I){var N=this._temp,z=0,H=N.length,X=[];if(H>0){var W=this.manager,V=this._eventData,U=this._eventContainer;V.cancelled=!1;for(var F=0;F<H;F++){var k=N[F];if(!(!k.input||!k.input.enabled)&&(X.push(k),W.setCursor(k.input),k.emit(u.GAMEOBJECT_POINTER_OVER,I,k.input.localX,k.input.localY,U),z++,V.cancelled||!this.isActive()||k.input&&k.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,I,k,U),V.cancelled||!this.isActive())))break}!V.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,I,X)}return this._over[I.id]=X,z},processOutEvents:function(I){var N=this._over[I.id],z=0,H=N.length;if(H>0){var X=this.manager,W=this._eventData,V=this._eventContainer;W.cancelled=!1,this.sortGameObjects(N,I);for(var U=0;U<H;U++){var F=N[U];if(F=N[U],!(!F.input||!F.input.enabled)&&(X.resetCursor(F.input),F.emit(u.GAMEOBJECT_POINTER_OUT,I,V),z++,W.cancelled||!this.isActive()||F.input&&F.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,I,F,V),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(u.POINTER_OUT,I,N),this._over[I.id]=[]}return z},processOverOutEvents:function(I){var N=this._temp,z,H,X=[],W=[],V=[],U=this._over[I.id],F=this._drag[I.id],k=this.manager;for(z=0;z<U.length;z++)H=U[z],N.indexOf(H)===-1&&F.indexOf(H)===-1?X.push(H):V.push(H);for(z=0;z<N.length;z++)H=N[z],U.indexOf(H)===-1&&W.push(H);var Y=X.length,Z=0,j=this._eventData,J=this._eventContainer;if(j.cancelled=!1,Y>0){for(this.sortGameObjects(X,I),z=0;z<Y&&(H=X[z],!(!(!H.input||!H.input.enabled)&&(k.resetCursor(H.input),H.emit(u.GAMEOBJECT_POINTER_OUT,I,J),Z++,j.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,I,H,J),j.cancelled||!this.isActive()))));z++);(!j.cancelled||this.isActive())&&this.emit(u.POINTER_OUT,I,X)}if(Y=W.length,j.cancelled=!1,Y>0){for(this.sortGameObjects(W,I),z=0;z<Y&&(H=W[z],!(!(!H.input||!H.input.enabled)&&(k.setCursor(H.input),H.emit(u.GAMEOBJECT_POINTER_OVER,I,H.input.localX,H.input.localY,J),Z++,j.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,I,H,J),j.cancelled||!this.isActive()))));z++);!j.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,I,W)}return U=V.concat(W),this._over[I.id]=this.sortGameObjects(U,I),Z},processUpEvents:function(I){var N=this._temp,z=this._eventData,H=this._eventContainer;z.cancelled=!1;for(var X=0;X<N.length;X++){var W=N[X];if(!(!W.input||!W.input.enabled)&&(W.emit(u.GAMEOBJECT_POINTER_UP,I,W.input.localX,W.input.localY,H),z.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(u.GAMEOBJECT_UP,I,W,H),z.cancelled||!this.isActive())))break}return!z.cancelled&&this.isActive()&&(I.upElement===this.manager.game.canvas?this.emit(u.POINTER_UP,I,N):this.emit(u.POINTER_UP_OUTSIDE,I)),N.length},forceDownState:function(I,N){this.forceState(I,N,u.GAMEOBJECT_POINTER_DOWN,u.GAMEOBJECT_DOWN,!1)},forceUpState:function(I,N){this.forceState(I,N,u.GAMEOBJECT_POINTER_UP,u.GAMEOBJECT_UP,!1)},forceOverState:function(I,N){this.forceState(I,N,u.GAMEOBJECT_POINTER_OVER,u.GAMEOBJECT_OVER,!0)},forceOutState:function(I,N){this.forceState(I,N,u.GAMEOBJECT_POINTER_OUT,u.GAMEOBJECT_OUT,!1)},forceState:function(I,N,z,H,X){var W=this._eventData,V=this._eventContainer;W.cancelled=!1,N.input&&N.input.enabled&&(N.emit(z,I,N.input.localX,N.input.localY,V),X&&this.setCursor(N.input),!W.cancelled&&this.isActive()&&N.input&&N.input.enabled&&this.emit(H,I,N,V))},queueForInsertion:function(I){return this._pendingInsertion.indexOf(I)===-1&&this._list.indexOf(I)===-1&&this._pendingInsertion.push(I),this},queueForRemoval:function(I){return this._pendingRemoval.push(I),this},setDraggable:function(I,N){N===void 0&&(N=!0),Array.isArray(I)||(I=[I]);for(var z=0;z<I.length;z++){var H=I[z];H.input.draggable=N;var X=this._draggable.indexOf(H);N&&X===-1?this._draggable.push(H):!N&&X>-1&&this._draggable.splice(X,1)}return this},makePixelPerfect:function(I){I===void 0&&(I=1);var N=this.systems.textures;return e(N,I)},setHitArea:function(I,N,z){if(N===void 0)return this.setHitAreaFromTexture(I);Array.isArray(I)||(I=[I]);var H=!1,X=!1,W=!1,V=!1,U=!1,F=!0;if(S(N)&&Object.keys(N).length){var k=N,Y=I.some(function(et){return et.hasOwnProperty("faces")});if(!Y){N=c(k,"hitArea",null),z=c(k,"hitAreaCallback",null),U=c(k,"pixelPerfect",!1);var Z=c(k,"alphaTolerance",1);U&&(N={},z=this.makePixelPerfect(Z))}H=c(k,"draggable",!1),X=c(k,"dropZone",!1),W=c(k,"cursor",!1),V=c(k,"useHandCursor",!1),(!N||!z)&&(this.setHitAreaFromTexture(I),F=!1)}else typeof N=="function"&&!z&&(z=N,N={});for(var j=0;j<I.length;j++){var J=I[j];if(U&&J.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var q=J.input?J.input:i(J,N,z);q.customHitArea=F,q.dropZone=X,q.cursor=V?"pointer":W,J.input=q,H&&this.setDraggable(J),this.queueForInsertion(J)}return this},setHitAreaCircle:function(I,N,z,H,X){X===void 0&&(X=v);var W=new o(N,z,H);return this.setHitArea(I,W,X)},setHitAreaEllipse:function(I,N,z,H,X,W){W===void 0&&(W=s);var V=new l(N,z,H,X);return this.setHitArea(I,V,W)},setHitAreaFromTexture:function(I,N){N===void 0&&(N=R),Array.isArray(I)||(I=[I]);for(var z=0;z<I.length;z++){var H=I[z],X=H.frame,W=0,V=0;if(H.width?(W=H.width,V=H.height):X&&(W=X.realWidth,V=X.realHeight),H.type==="Container"&&(W===0||V===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&V!==0&&(H.input=i(H,new E(0,0,W,V),N),this.queueForInsertion(H))}return this},setHitAreaRectangle:function(I,N,z,H,X,W){W===void 0&&(W=R);var V=new E(N,z,H,X);return this.setHitArea(I,V,W)},setHitAreaTriangle:function(I,N,z,H,X,W,V,U){U===void 0&&(U=B);var F=new D(N,z,H,X,W,V);return this.setHitArea(I,F,U)},enableDebug:function(I,N){N===void 0&&(N=65280);var z=I.input;if(!z||!z.hitArea)return this;var H=z.hitArea,X=H.type,W=z.hitAreaDebug,V=this.systems.add,U=this.systems.updateList;W&&(U.remove(W),W.destroy(),W=null);var F=0,k=0;switch(X){case d.CIRCLE:W=V.arc(0,0,H.radius),F=H.x-H.radius,k=H.y-H.radius;break;case d.ELLIPSE:W=V.ellipse(0,0,H.width,H.height),F=H.x-H.width/2,k=H.y-H.height/2;break;case d.LINE:W=V.line(0,0,H.x1,H.y1,H.x2,H.y2);break;case d.POLYGON:W=V.polygon(0,0,H.points);break;case d.RECTANGLE:W=V.rectangle(0,0,H.width,H.height),F=H.x,k=H.y;break;case d.TRIANGLE:W=V.triangle(0,0,H.x1,H.y1,H.x2,H.y2,H.x3,H.y3);break}return W&&(W.isFilled=!1,W.strokeColor=N,W.preUpdate=function(){W.setVisible(I.visible),W.setStrokeStyle(1/I.scale,W.strokeColor),W.setDisplayOrigin(I.displayOriginX,I.displayOriginY);var Y=I.x,Z=I.y,j=I.rotation,J=I.scaleX,q=I.scaleY;if(I.parentContainer){var et=I.getWorldTransformMatrix();Y=et.tx,Z=et.ty,j=et.rotation,J=et.scaleX,q=et.scaleY}W.setRotation(j),W.setScale(J,q),W.setPosition(Y+F*J,Z+k*q),W.setScrollFactor(I.scrollFactorX,I.scrollFactorY),W.setDepth(I.depth)},U.add(W),z.hitAreaDebug=W),this},removeDebug:function(I){var N=I.input;if(N&&N.hitAreaDebug){var z=N.hitAreaDebug;z.destroy(),N.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(I){return this.pollRate=I,this._pollTimer=0,this},setGlobalTopOnly:function(I){return this.manager.globalTopOnly=I,this},setTopOnly:function(I){return this.topOnly=I,this},sortGameObjects:function(I,N){if(I.length<2||!N.camera)return I;var z=N.camera.renderList;return I.sort(function(H,X){var W=Math.max(z.indexOf(H),0),V=Math.max(z.indexOf(X),0);return V-W})},sortDropZones:function(I){return I.length<2?I:(this.scene.sys.depthSort(),I.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(I,N){if(!I.parentContainer&&!N.parentContainer)return this.displayList.getIndex(N)-this.displayList.getIndex(I);if(I.parentContainer===N.parentContainer)return N.parentContainer.getIndex(N)-I.parentContainer.getIndex(I);if(I.parentContainer===N)return-1;if(N.parentContainer===I)return 1;for(var z=I.getIndexList(),H=N.getIndexList(),X=Math.min(z.length,H.length),W=0;W<X;W++){var V=z[W],U=H[W];if(V!==U)return U-V}return H.length-z.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(I){return this.manager.addPointer(I)},setDefaultCursor:function(I){return this.manager.setDefaultCursor(I),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(u.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var I=0;I<10;I++)this._drag[I]=[],this._over[I]=[];this.removeAllListeners();var N=this.manager;N.canvas.style.cursor=N.defaultCursor;var z=this.systems.events;z.off(M.TRANSITION_START,this.transitionIn,this),z.off(M.TRANSITION_OUT,this.transitionOut,this),z.off(M.TRANSITION_COMPLETE,this.transitionComplete,this),z.off(M.PRE_UPDATE,this.preUpdate,this),N.events.off(u.GAME_OUT,this.onGameOut,this),N.events.off(u.GAME_OVER,this.onGameOver,this),z.off(M.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var I=this.manager.pointers,N=0;N<I.length;N++)I[N].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(u.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(M.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});C.register("InputPlugin",b,"input"),h.exports=b}),89639:((h,x,t)=>{var o=t(35154),v={},r={};r.register=function(n,i,e,a,l){v[n]={plugin:i,mapping:e,settingsKey:a,configKey:l}},r.getPlugin=function(n){return v[n]},r.install=function(n){var i=n.scene.sys,e=i.settings.input,a=i.game.config;for(var l in v){var s=v[l].plugin,u=v[l].mapping,f=v[l].settingsKey,c=v[l].configKey;o(e,f,a[c])&&(n[u]=new s(n))}},r.remove=function(n){v.hasOwnProperty(n)&&delete v[n]},h.exports=r}),42515:((h,x,t)=>{var o=t(31040),v=t(83419),r=t(20339),n=t(43855),i=t(47235),e=t(26099),a=t(25892),l=new v({initialize:function(u,f){this.manager=u,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(s){var u=s.getWorldPoint(this.x,this.y);return this.worldX=u.x,this.worldY=u.y,this},positionToCamera:function(s,u){return s.getWorldPoint(this.x,this.y,u)},updateMotion:function(){var s=this.position.x,u=this.position.y,f=this.midPoint.x,c=this.midPoint.y;if(!(s===f&&u===c)){var d=i(this.motionFactor,f,s),p=i(this.motionFactor,c,u);n(d,s,.1)&&(d=s),n(p,u,.1)&&(p=u),this.midPoint.set(d,p);var S=s-d,C=u-p;this.velocity.set(S,C),this.angle=o(d,p,s,u),this.distance=Math.sqrt(S*S+C*C)}},up:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=s.timeStamp,this.wasTouch=!1)},down:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),a.macOS&&s.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=s.timeStamp),this.wasTouch=!1},move:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.locked&&(this.movementX=s.movementX||s.mozMovementX||s.webkitMovementX||0,this.movementY=s.movementY||s.mozMovementY||s.webkitMovementY||0),this.moveTime=s.timeStamp,this.wasTouch=!1},wheel:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.deltaX=s.deltaX,this.deltaY=s.deltaY,this.deltaZ=s.deltaZ,this.wasTouch=!1},touchstart:function(s,u){s.pointerId&&(this.pointerId=s.pointerId),this.identifier=s.identifier,this.target=s.target,this.active=!0,this.buttons=1,this.event=u,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=u.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(s,u){this.event=u,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.moveTime=u.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(s,u){this.buttons=0,this.event=u,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?r(this.downX,this.downY,this.x,this.y):r(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(s,u){s===void 0&&(s=10),u===void 0&&(u=[]);for(var f=this.prevPosition.x,c=this.prevPosition.y,d=this.position.x,p=this.position.y,S=0;S<s;S++){var C=1/s*S;u[S]={x:i(C,f,d),y:i(C,c,p)}}return u},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(s){this.position.x=s}},y:{get:function(){return this.position.y},set:function(s){this.position.y=s}},time:{get:function(){return this.event?this.event.timeStamp:0}}});h.exports=l}),93301:(h=>{var x={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};h.exports=x}),7179:(h=>{h.exports="boot"}),85375:(h=>{h.exports="destroy"}),39843:(h=>{h.exports="dragend"}),23388:(h=>{h.exports="dragenter"}),16133:(h=>{h.exports="drag"}),27829:(h=>{h.exports="dragleave"}),53904:(h=>{h.exports="dragover"}),56058:(h=>{h.exports="dragstart"}),2642:(h=>{h.exports="drop"}),88171:(h=>{h.exports="gameobjectdown"}),36147:(h=>{h.exports="dragend"}),71692:(h=>{h.exports="dragenter"}),96149:(h=>{h.exports="drag"}),81285:(h=>{h.exports="dragleave"}),74048:(h=>{h.exports="dragover"}),21322:(h=>{h.exports="dragstart"}),49378:(h=>{h.exports="drop"}),86754:(h=>{h.exports="gameobjectmove"}),86433:(h=>{h.exports="gameobjectout"}),60709:(h=>{h.exports="gameobjectover"}),24081:(h=>{h.exports="pointerdown"}),11172:(h=>{h.exports="pointermove"}),18907:(h=>{h.exports="pointerout"}),95579:(h=>{h.exports="pointerover"}),35368:(h=>{h.exports="pointerup"}),26972:(h=>{h.exports="wheel"}),47078:(h=>{h.exports="gameobjectup"}),73802:(h=>{h.exports="gameobjectwheel"}),56718:(h=>{h.exports="gameout"}),25936:(h=>{h.exports="gameover"}),27503:(h=>{h.exports="boot"}),50852:(h=>{h.exports="process"}),96438:(h=>{h.exports="update"}),59152:(h=>{h.exports="pointerlockchange"}),47777:(h=>{h.exports="pointerdown"}),27957:(h=>{h.exports="pointerdownoutside"}),19444:(h=>{h.exports="pointermove"}),54251:(h=>{h.exports="pointerout"}),18667:(h=>{h.exports="pointerover"}),27192:(h=>{h.exports="pointerup"}),24652:(h=>{h.exports="pointerupoutside"}),45132:(h=>{h.exports="wheel"}),44512:(h=>{h.exports="preupdate"}),15757:(h=>{h.exports="shutdown"}),41637:(h=>{h.exports="start"}),93802:(h=>{h.exports="update"}),8214:((h,x,t)=>{h.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}}),97421:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i){this.pad=n,this.events=n.events,this.index=i,this.value=0,this.threshold=.1},update:function(r){this.value=r},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});h.exports=v}),28884:((h,x,t)=>{var o=t(83419),v=t(92734),r=new o({initialize:function(i,e){this.pad=i,this.events=i.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(n){this.value=n;var i=this.pad,e=this.index;n>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,i,this,n),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,e,n,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,i,this,n),this.pad.emit(v.GAMEPAD_BUTTON_UP,e,n,this))},destroy:function(){this.pad=null,this.events=null}});h.exports=r}),99125:((h,x,t)=>{var o=t(97421),v=t(28884),r=t(83419),n=t(50792),i=t(26099),e=new r({Extends:n,initialize:function(l,s){n.call(this),this.manager=l,this.pad=s,this.id=s.id,this.index=s.index;for(var u=[],f=0;f<s.buttons.length;f++)u.push(new v(this,f));this.buttons=u;var c=[];for(f=0;f<s.axes.length;f++)c.push(new o(this,f));this.axes=c,this.vibration=s.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=u[14]?u[14]:d,this._LCRight=u[15]?u[15]:d,this._LCTop=u[12]?u[12]:d,this._LCBottom=u[13]?u[13]:d,this._RCLeft=u[2]?u[2]:d,this._RCRight=u[1]?u[1]:d,this._RCTop=u[3]?u[3]:d,this._RCBottom=u[0]?u[0]:d,this._FBLeftTop=u[4]?u[4]:d,this._FBLeftBottom=u[6]?u[6]:d,this._FBRightTop=u[5]?u[5]:d,this._FBRightBottom=u[7]?u[7]:d;var p={value:0};this._HAxisLeft=c[0]?c[0]:p,this._VAxisLeft=c[1]?c[1]:p,this._HAxisRight=c[2]?c[2]:p,this._VAxisRight=c[3]?c[3]:p,this.leftStick=new i,this.rightStick=new i,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(a){return this.axes[a].getValue()},setAxisThreshold:function(a){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=a},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(a){return this.buttons[a].value},isButtonDown:function(a){return this.buttons[a].pressed},update:function(a){if(!(a.timestamp<this._created)){var l,s=this.buttons,u=a.buttons,f=s.length;for(l=0;l<f;l++)s[l].update(u[l].value);var c=this.axes,d=a.axes;for(f=c.length,l=0;l<f;l++)c[l].update(d[l]);f>=2&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),f>=4&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var a;for(a=0;a<this.buttons.length;a++)this.buttons[a].destroy();for(a=0;a<this.axes.length;a++)this.axes[a].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});h.exports=e}),56654:((h,x,t)=>{var o=t(83419),v=t(50792),r=t(92734),n=t(99125),i=t(35154),e=t(89639),a=t(8214),l=new o({Extends:v,initialize:function(u){v.call(this),this.scene=u.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=u,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,u.pluginEvents.once(a.BOOT,this.boot,this),u.pluginEvents.on(a.START,this.start,this)},boot:function(){var s=this.scene.sys.game,u=this.settings.input,f=s.config;this.enabled=i(u,"gamepad",f.inputGamepad)&&s.device.input.gamepads,this.target=i(u,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var s=this,u=this.target,f=function(c){c.defaultPrevented||!s.isActive()||(s.refreshPads(),s.queue.push(c))};this.onGamepadHandler=f,u.addEventListener("gamepadconnected",f,!1),u.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(a.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(a.UPDATE,this.update);for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].removeAllListeners()},disconnectAll:function(){for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].pad.connected=!1},refreshPads:function(){var s=navigator.getGamepads();if(!s)this.disconnectAll();else for(var u=this.gamepads,f=0;f<s.length;f++){var c=s[f];if(c){var d=c.id,p=c.index,S=u[p];if(S)S.id!==d?(S.destroy(),u[p]=new n(this,c)):S.update(c);else{var C=new n(this,c);u[p]=C,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=C):this._pad3=C:this._pad2=C:this._pad1=C}}}},getAll:function(){for(var s=[],u=this.gamepads,f=0;f<u.length;f++)u[f]&&s.push(u[f]);return s},getPad:function(s){for(var u=this.gamepads,f=0;f<u.length;f++)if(u[f]&&u[f].index===s)return u[f]},update:function(){if(this.enabled){this.refreshPads();var s=this.queue.length;if(s!==0)for(var u=this.queue.splice(0,s),f=0;f<s;f++){var c=u[f],d=this.getPad(c.gamepad.index);c.type==="gamepadconnected"?this.emit(r.CONNECTED,d,c):c.type==="gamepaddisconnected"&&this.emit(r.DISCONNECTED,d,c)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var s=0;s<this.gamepads.length;s++)this.gamepads[s]&&this.gamepads[s].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),h.exports=l}),89651:(h=>{h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}}),65294:(h=>{h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),90089:(h=>{h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),64894:((h,x,t)=>{h.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}}),46008:(h=>{h.exports="down"}),7629:(h=>{h.exports="up"}),42206:(h=>{h.exports="connected"}),86544:(h=>{h.exports="disconnected"}),94784:(h=>{h.exports="down"}),14325:(h=>{h.exports="up"}),92734:((h,x,t)=>{h.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}}),48646:((h,x,t)=>{h.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}}),14350:((h,x,t)=>{var o=t(93301),v=t(79291),r={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};r=v(!1,r,o),h.exports=r}),78970:((h,x,t)=>{var o=t(72905),v=t(83419),r=t(8443),n=t(8214),i=t(46032),e=t(29747),a=new v({initialize:function(s){this.manager=s,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,s.events.once(n.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(r.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(n.MANAGER_PROCESS);var f=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!f&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}},this.onKeyUp=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(n.MANAGER_PROCESS);var f=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!f&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}};var s=this.target;s&&(s.addEventListener("keydown",this.onKeyDown,!1),s.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var f=l[u];typeof f=="string"&&(f=i[f.trim().toUpperCase()]),s.indexOf(f)===-1&&s.push(f)}this.preventDefault=s.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var s=this.captures,u=0;u<l.length;u++){var f=l[u];typeof f=="string"&&(f=i[f.toUpperCase()]),o(s,f)}this.preventDefault=s.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(r.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});h.exports=a}),28846:((h,x,t)=>{var o=t(83419),v=t(50792),r=t(95922),n=t(8443),i=t(35154),e=t(8214),a=t(89639),l=t(30472),s=t(46032),u=t(87960),f=t(74600),c=t(44594),d=t(56583),p=new o({Extends:v,initialize:function(C){v.call(this),this.game=C.systems.game,this.scene=C.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=C,this.manager=C.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,C.pluginEvents.once(e.BOOT,this.boot,this),C.pluginEvents.on(e.START,this.start,this)},boot:function(){var S=this.settings.input;this.enabled=i(S,"keyboard",!0);var C=i(S,"keyboard.capture",null);C&&this.addCaptures(C),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(n.BLUR,this.resetKeys,this),this.scene.sys.events.on(c.PAUSE,this.resetKeys,this),this.scene.sys.events.on(c.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(S){return this.manager.addCapture(S),this},removeCapture:function(S){return this.manager.removeCapture(S),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:s.UP,down:s.DOWN,left:s.LEFT,right:s.RIGHT,space:s.SPACE,shift:s.SHIFT})},addKeys:function(S,C,E){C===void 0&&(C=!0),E===void 0&&(E=!1);var R={};if(typeof S=="string"){S=S.split(",");for(var M=0;M<S.length;M++){var D=S[M].trim();D&&(R[D]=this.addKey(D,C,E))}}else for(var B in S)R[B]=this.addKey(S[B],C,E);return R},addKey:function(S,C,E){C===void 0&&(C=!0),E===void 0&&(E=!1);var R=this.keys;if(S instanceof l){var M=R.indexOf(S);return M>-1?R[M]=S:R[S.keyCode]=S,C&&this.addCapture(S.keyCode),S.setEmitOnRepeat(E),S}return typeof S=="string"&&(S=s[S.toUpperCase()]),R[S]||(R[S]=new l(this,S),C&&this.addCapture(S),R[S].setEmitOnRepeat(E)),R[S]},removeKey:function(S,C,E){C===void 0&&(C=!1),E===void 0&&(E=!1);var R=this.keys,M;if(S instanceof l){var D=R.indexOf(S);D>-1&&(M=this.keys[D],this.keys[D]=void 0)}else typeof S=="string"&&(S=s[S.toUpperCase()]);return R[S]&&(M=R[S],R[S]=void 0),M&&(M.plugin=null,E&&this.removeCapture(M.keyCode),C&&M.destroy()),this},removeAllKeys:function(S,C){S===void 0&&(S=!1),C===void 0&&(C=!1);for(var E=this.keys,R=0;R<E.length;R++){var M=E[R];M&&(E[R]=void 0,C&&this.removeCapture(M.keyCode),S&&M.destroy())}return this},createCombo:function(S,C){return new u(this,S,C)},checkDown:function(S,C){if(C===void 0&&(C=0),this.enabled&&S.isDown){var E=d(this.time-S.timeDown,C);if(E>S._tick)return S._tick=E,!0}return!1},update:function(){var S=this.manager.queue,C=S.length;if(!(!this.isActive()||C===0))for(var E=this.keys,R=0;R<C;R++){var M=S[R],D=M.keyCode,B=E[D],b=!1;M.cancelled===void 0&&(M.cancelled=0,M.stopImmediatePropagation=function(){M.cancelled=1},M.stopPropagation=function(){M.cancelled=-1}),M.cancelled!==-1&&(D===this.prevCode&&M.timeStamp===this.prevTime&&M.type===this.prevType||(this.prevCode=D,this.prevTime=M.timeStamp,this.prevType=M.type,M.type==="keydown"?(B&&(b=B.isDown,B.onDown(M)),!M.cancelled&&(!B||!b)&&(f[D]&&this.emit(r.KEY_DOWN+f[D],M),M.cancelled||this.emit(r.ANY_KEY_DOWN,M))):(B&&B.onUp(M),M.cancelled||(f[D]&&this.emit(r.KEY_UP+f[D],M),M.cancelled||this.emit(r.ANY_KEY_UP,M))),M.cancelled===1&&(M.cancelled=0)))}},resetKeys:function(){for(var S=this.keys,C=0;C<S.length;C++)S[C]&&S[C].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(n.BLUR,this.resetKeys),this.scene.sys.events.off(c.PAUSE,this.resetKeys,this),this.scene.sys.events.off(c.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var S=this.keys,C=0;C<S.length;C++)S[C]&&S[C].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});a.register("KeyboardPlugin",p,"keyboard","keyboard","inputKeyboard"),h.exports=p}),66970:(h=>{var x=function(t,o){return o.timeLastMatched=t.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};h.exports=x}),87960:((h,x,t)=>{var o=t(83419),v=t(95922),r=t(95540),n=t(68769),i=t(92803),e=new o({initialize:function(l,s,u){if(u===void 0&&(u={}),s.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var f=0;f<s.length;f++){var c=s[f];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=r(u,"resetOnWrongKey",!0),this.maxKeyDelay=r(u,"maxKeyDelay",0),this.resetOnMatch=r(u,"resetOnMatch",!1),this.deleteOnMatch=r(u,"deleteOnMatch",!1);var d=this,p=function(S){if(!(d.matched||!d.enabled)){var C=n(S,d);C&&(d.manager.emit(v.COMBO_MATCH,d,S),d.resetOnMatch?i(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=p,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});h.exports=e}),68769:((h,x,t)=>{var o=t(66970),v=function(r,n){if(n.matched)return!0;var i=!1,e=!1;if(r.keyCode===n.current)if(n.index>0&&n.maxKeyDelay>0){var a=n.timeLastMatched+n.maxKeyDelay;r.timeStamp<=a&&(e=!0,i=o(r,n))}else e=!0,i=o(r,n);return!e&&n.resetOnWrongKey&&(n.index=0,n.current=n.keyCodes[0]),i&&(n.timeLastMatched=r.timeStamp,n.matched=!0,n.timeMatched=r.timeStamp),i};h.exports=v}),92803:(h=>{var x=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};h.exports=x}),92612:(h=>{h.exports="keydown"}),23345:(h=>{h.exports="keyup"}),21957:(h=>{h.exports="keycombomatch"}),44743:(h=>{h.exports="down"}),3771:(h=>{h.exports="keydown-"}),46358:(h=>{h.exports="keyup-"}),75674:(h=>{h.exports="up"}),95922:((h,x,t)=>{h.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}}),51442:((h,x,t)=>{h.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}}),37015:(h=>{var x=function(t,o){o===void 0&&(o=50);var v=t.plugin.game.loop.time-t.timeDown;return t.isDown&&v<o};h.exports=x}),90229:(h=>{var x=function(t){return t._justDown?(t._justDown=!1,!0):!1};h.exports=x}),38796:(h=>{var x=function(t){return t._justUp?(t._justUp=!1,!0):!1};h.exports=x}),30472:((h,x,t)=>{var o=t(83419),v=t(50792),r=t(95922),n=new o({Extends:v,initialize:function(e,a){v.call(this),this.plugin=e,this.keyCode=a,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(i){return this.emitOnRepeat=i,this},onDown:function(i){this.originalEvent=i,this.enabled&&(this.altKey=i.altKey,this.ctrlKey=i.ctrlKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.location=i.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(r.DOWN,this,i):(this.isDown=!0,this.isUp=!1,this.timeDown=i.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(r.DOWN,this,i)))},onUp:function(i){this.originalEvent=i,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=i.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(r.UP,this,i))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});h.exports=n}),46032:(h=>{var x={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};h.exports=x}),74600:((h,x,t)=>{var o=t(46032),v={};for(var r in o)v[o[r]]=r;h.exports=v}),41170:(h=>{var x=function(t,o){o===void 0&&(o=50);var v=t.plugin.game.loop.time-t.timeUp;return t.isUp&&v<o};h.exports=x}),85098:((h,x,t)=>{var o=t(83419),v=t(89357),r=t(8214),n=t(29747),i=new o({initialize:function(a){this.manager=a,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=n,this.onMouseDown=n,this.onMouseUp=n,this.onMouseDownWindow=n,this.onMouseUpWindow=n,this.onMouseOver=n,this.onMouseOut=n,this.onMouseWheel=n,this.pointerLockChange=n,this.isTop=!0,a.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var a=this,l=this.manager,s=l.canvas,u=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(c){!c.defaultPrevented&&a.enabled&&l&&l.enabled&&(l.onMouseMove(c),a.preventDefaultMove&&c.preventDefault())},this.onMouseDown=function(c){u&&window.focus(),!c.defaultPrevented&&a.enabled&&l&&l.enabled&&(l.onMouseDown(c),a.preventDefaultDown&&c.target===s&&c.preventDefault())},this.onMouseDownWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&a.enabled&&l&&l.enabled&&c.target!==s&&l.onMouseDown(c)},this.onMouseUp=function(c){!c.defaultPrevented&&a.enabled&&l&&l.enabled&&(l.onMouseUp(c),a.preventDefaultUp&&c.target===s&&c.preventDefault())},this.onMouseUpWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&a.enabled&&l&&l.enabled&&c.target!==s&&l.onMouseUp(c)},this.onMouseOver=function(c){!c.defaultPrevented&&a.enabled&&l&&l.enabled&&l.setCanvasOver(c)},this.onMouseOut=function(c){!c.defaultPrevented&&a.enabled&&l&&l.enabled&&l.setCanvasOut(c)},this.onMouseWheel=function(c){!c.defaultPrevented&&a.enabled&&l&&l.enabled&&l.onMouseWheel(c),a.preventDefaultWheel&&c.target===s&&c.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(c){var d=a.target;a.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,l.onPointerLockChange(c)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});h.exports=i}),87078:((h,x,t)=>{h.exports={MouseManager:t(85098)}}),36210:((h,x,t)=>{var o=t(83419),v=t(8214),r=t(29747),n=new o({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=r,this.onTouchStartWindow=r,this.onTouchMove=r,this.onTouchEnd=r,this.onTouchEndWindow=r,this.onTouchCancel=r,this.onTouchCancelWindow=r,this.isTop=!0,e.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputTouch,this.target=i.inputTouchEventTarget,this.capture=i.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},startListeners:function(){var i=this.target;if(i){var e=this,a=this.manager,l=a.canvas,s=window&&window.focus&&a.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&a&&a.enabled&&(a.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){s&&window.focus(),!d.defaultPrevented&&e.enabled&&a&&a.enabled&&(a.onTouchStart(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&a&&a.enabled&&d.target!==l&&a.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&a&&a.enabled&&(a.onTouchEnd(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&a&&a.enabled&&d.target!==l&&a.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&a&&a.enabled&&(a.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&a&&a.enabled&&a.onTouchCancel(d)};var u=this.capture,f={passive:!0},c={passive:!1};if(i.addEventListener("touchstart",this.onTouchStart,u?c:f),i.addEventListener("touchmove",this.onTouchMove,u?c:f),i.addEventListener("touchend",this.onTouchEnd,u?c:f),i.addEventListener("touchcancel",this.onTouchCancel,u?c:f),window&&a.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,c),window.top.addEventListener("touchend",this.onTouchEndWindow,c),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,c)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("touchstart",this.onTouchStart),i.removeEventListener("touchmove",this.onTouchMove),i.removeEventListener("touchend",this.onTouchEnd),i.removeEventListener("touchcancel",this.onTouchCancel),window&&(i=this.isTop?window.top:window,i.removeEventListener("touchstart",this.onTouchStartWindow),i.removeEventListener("touchend",this.onTouchEndWindow),i.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});h.exports=n}),95618:((h,x,t)=>{h.exports={TouchManager:t(36210)}}),41299:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(54899),n=t(95540),i=t(98356),e=t(3374),a=t(84376),l=t(92638),s=new o({initialize:function(f,c){if(this.loader=f,this.cache=n(c,"cache",!1),this.type=n(c,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=n(c,"key",!1);var d=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var p=n(c,"url");p===void 0?p=f.path+d+"."+n(c,"extension",""):typeof p=="string"&&!p.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(p=f.path+p),this.url=p,this.src="",this.xhrSettings=l(n(c,"responseType",void 0)),n(c,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,n(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=n(c,"config",{}),this.multiFile,this.linkFile,this.base64=typeof p=="string"&&p.indexOf("data:")===0,this.retryAttempts=n(c,"maxRetries",f.maxRetries)},setLink:function(u){this.linkFile=u,u.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===v.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=v.FILE_LOADING,this.src=i(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=a(this,this.loader.xhr)}},onLoad:function(u,f){var c=u.responseURL&&this.loader.localSchemes.some(function(S){return u.responseURL.indexOf(S)===0}),d=c&&f.target.status===0,p=!(f.target&&f.target.status!==200)||d;u.readyState===4&&u.status>=400&&u.status<=599&&(p=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,p)},onBase64Load:function(u){this.xhrLoader=u,this.state=v.FILE_LOADED,this.percentComplete=1,this.loader.emit(r.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(u){u.lengthComputable&&(this.bytesLoaded=u.loaded,this.bytesTotal=u.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(r.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(u){if(this.state!==v.FILE_PENDING_DESTROY){u===void 0&&(u=this.data);var f=this.key,c=this.type;this.loader.emit(r.FILE_COMPLETE,f,c,u),this.loader.emit(r.FILE_KEY_COMPLETE+c+"-"+f,f,c,u),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});s.createObjectURL=function(u,f,c){if(typeof URL=="function")u.src=URL.createObjectURL(f);else{var d=new FileReader;d.onload=function(){u.removeAttribute("crossOrigin"),u.src="data:"+(f.type||c)+";base64,"+d.result.split(",")[1]},d.onerror=u.onerror,d.readAsDataURL(f)}},s.revokeObjectURL=function(u){typeof URL=="function"&&URL.revokeObjectURL(u.src)},h.exports=s}),74099:(h=>{var x={},t={install:function(o){for(var v in x)o[v]=x[v]},register:function(o,v){x[o]=v},destroy:function(){x={}}};h.exports=t}),98356:(h=>{var x=function(t,o){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:o+t.url:!1};h.exports=x}),74261:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(35072),n=t(50792),i=t(54899),e=t(74099),a=t(95540),l=t(35154),s=t(41212),u=t(37277),f=t(44594),c=t(92638),d=new o({Extends:n,initialize:function(S){n.call(this);var C=S.sys.game.config,E=S.sys.settings.loader;this.scene=S,this.systems=S.sys,this.cacheManager=S.sys.cache,this.textureManager=S.sys.textures,this.sceneManager=S.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(a(E,"baseURL",C.loaderBaseURL)),this.setPath(a(E,"path",C.loaderPath)),this.setPrefix(a(E,"prefix",C.loaderPrefix)),this.maxParallelDownloads=a(E,"maxParallelDownloads",C.loaderMaxParallelDownloads),this.xhr=c(a(E,"responseType",C.loaderResponseType),a(E,"async",C.loaderAsync),a(E,"user",C.loaderUser),a(E,"password",C.loaderPassword),a(E,"timeout",C.loaderTimeout),a(E,"withCredentials",C.loaderWithCredentials)),this.crossOrigin=a(E,"crossOrigin",C.loaderCrossOrigin),this.imageLoadType=a(E,"imageLoadType",C.loaderImageLoadType),this.localSchemes=a(E,"localScheme",C.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new r,this.inflight=new r,this.queue=new r,this._deleteQueue=new r,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=a(E,"maxRetries",C.loaderMaxRetries),S.sys.events.once(f.BOOT,this.boot,this),S.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.baseURL=p,this},setPath:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.path=p,this},setPrefix:function(p){return p===void 0&&(p=""),this.prefix=p,this},setCORS:function(p){return this.crossOrigin=p,this},addFile:function(p){Array.isArray(p)||(p=[p]);for(var S=0;S<p.length;S++){var C=p[S];this.keyExists(C)||(this.list.set(C),this.emit(i.ADD,C.key,C.type,this,C),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(p){var S=p.hasCacheConflict();return S||this.list.iterate(function(C){if(C.type===p.type&&C.key===p.key)return S=!0,!1}),!S&&this.isLoading()&&(this.inflight.iterate(function(C){if(C.type===p.type&&C.key===p.key)return S=!0,!1}),this.queue.iterate(function(C){if(C.type===p.type&&C.key===p.key)return S=!0,!1})),S},addPack:function(p,S){if(typeof S=="string"){var C=l(p,S);C&&(p={packKey:C})}var E=0,R=this.baseURL,M=this.path,D=this.prefix;for(var B in p)if(Object.prototype.hasOwnProperty.call(p,B)){var b=p[B],I=a(b,"baseURL",R),N=a(b,"path",M),z=a(b,"prefix",D),H=a(b,"files",null),X=a(b,"defaultType","void");if(Array.isArray(H)){this.setBaseURL(I),this.setPath(N),this.setPrefix(z);for(var W=0;W<H.length;W++){var V=H[W],U=V.hasOwnProperty("type")?V.type:X;this[U]&&(this[U](V),E++)}}}return this.setBaseURL(R),this.setPath(M),this.setPrefix(D),E>0},removePack:function(p,S){var C=this.systems.anims,E=this.cacheManager,R=this.textureManager,M={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},D;if(s(p))D=p;else if(D=E.json.get(p),!D){console.warn("Asset Pack not found in JSON cache:",p);return}S&&(D={_:D[S]});for(var B in D){var b=D[B],I=a(b,"prefix",""),N=a(b,"files"),z=a(b,"defaultType");if(Array.isArray(N))for(var H=0;H<N.length;H++){var X=N[H],W=X.hasOwnProperty("type")?X.type:z;if(!W){console.warn("No type:",X);continue}var V=I+X.key;if(W==="animation"&&C.remove(V),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(R.remove(V),!M[W]))){if(W==="pack"){this.removePack(V,X.dataKey);continue}if(W==="spine"){var U=E.custom.spine.get(V);if(!U)continue;var F=U.prefix===void 0?"":U.prefix;E.custom.spine.remove(V);var k=E.custom.spineTextures.get(V);if(!k)continue;E.custom.spineTextures.remove(V);for(var Y=0;Y<k.pages.length;Y++){var Z=k.pages[Y],j=F+Z.name,J=V+":"+j;R.exists(J)?R.remove(J):R.remove(j)}}var q=M[W];if(q!==null){if(!q){console.warn("Unknown type:",W);continue}var et=E[q];et.remove(V)}}}}},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(i.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(i.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(p){if((p.state===v.FILE_POPULATED||p.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(p),this.list.delete(p),p.crossOrigin||(p.crossOrigin=this.crossOrigin),p.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(p,S){this.inflight&&(this.inflight.delete(p),this.updateProgress(),S?(this.totalComplete++,this.queue.set(p),this.emit(i.FILE_LOAD,p),p.onProcess()):(this.totalFailed++,this._deleteQueue.set(p),this.emit(i.FILE_LOAD_ERROR,p),this.fileProcessComplete(p)))},fileProcessComplete:function(p){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(p.state===v.FILE_ERRORED?p.multiFile&&p.multiFile.onFileFailed(p):p.state===v.FILE_COMPLETE&&(p.multiFile?p.multiFile.isReadyToProcess()&&(p.multiFile.addToCache(),p.multiFile.pendingDestroy()):(p.addToCache(),p.pendingDestroy())),this.queue.delete(p),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(i.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(f.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(i.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(p){this._deleteQueue.set(p)},saveJSON:function(p,S){return this.save(JSON.stringify(p),S)},save:function(p,S,C){S===void 0&&(S="file.json"),C===void 0&&(C="application/json");var E=new Blob([p],{type:C}),R=URL.createObjectURL(E),M=document.createElement("a");return M.download=S,M.textContent="Download "+S,M.href=R,M.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var p=this.systems.game.config,S=this.systems.settings.loader;this.setBaseURL(a(S,"baseURL",p.loaderBaseURL)),this.setPath(a(S,"path",p.loaderPath)),this.setPrefix(a(S,"prefix",p.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",d,"load"),h.exports=d}),3374:((h,x,t)=>{var o=t(79291),v=t(92638),r=function(n,i){var e=n===void 0?v():o({},n);if(i)for(var a in i)i[a]!==void 0&&(e[a]=i[a]);return e};h.exports=r}),26430:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(54899),n=new o({initialize:function(e,a,l,s){var u=[];s.forEach(function(d){d&&u.push(d)}),this.loader=e,this.type=a,this.key=l;var f=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+f),this.multiKeyIndex=e.multiKeyIndex++,this.files=u,this.state=v.FILE_PENDING,this.complete=!1,this.pending=u.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var c=0;c<u.length;c++)u[c].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(i){return this.files.push(i),i.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(i){var e=this.files.indexOf(i);e!==-1&&this.pending--},onFileFailed:function(i){var e=this.files.indexOf(i);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,i.type,i.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var i=this.key,e=this.type;this.loader.emit(r.FILE_COMPLETE,i,e),this.loader.emit(r.FILE_KEY_COMPLETE+e+"-"+i,i,e),this.loader.flagForRemoval(this);for(var a=0;a<this.files.length;a++)this.files[a].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});h.exports=n}),84376:((h,x,t)=>{var o=t(3374),v=function(r,n){var i=o(n,r.xhrSettings);if(r.base64){var e=r.url.split(";base64,").pop()||r.url.split(",").pop(),a;r.xhrSettings.responseType==="arraybuffer"?a={response:Uint8Array.from(atob(e),function(u){return u.charCodeAt(0)}).buffer}:a={responseText:atob(e)},r.onBase64Load(a);return}var l=new XMLHttpRequest;if(l.open("GET",r.src,i.async,i.user,i.password),l.responseType=r.xhrSettings.responseType,l.timeout=i.timeout,i.headers)for(var s in i.headers)l.setRequestHeader(s,i.headers[s]);return i.header&&i.headerValue&&l.setRequestHeader(i.header,i.headerValue),i.requestedWith&&l.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&l.overrideMimeType(i.overrideMimeType),i.withCredentials&&(l.withCredentials=!0),l.onload=r.onLoad.bind(r,l),l.onerror=r.onError.bind(r,l),l.onprogress=r.onProgress.bind(r),l.ontimeout=r.onError.bind(r,l),l.send(),l};h.exports=v}),92638:(h=>{var x=function(t,o,v,r,n,i){return t===void 0&&(t=""),o===void 0&&(o=!0),v===void 0&&(v=""),r===void 0&&(r=""),n===void 0&&(n=0),i===void 0&&(i=!1),{responseType:t,async:o,user:v,password:r,timeout:n,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:i}};h.exports=x}),23906:(h=>{var x={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};h.exports=x}),42155:(h=>{h.exports="addfile"}),38991:(h=>{h.exports="complete"}),27540:(h=>{h.exports="filecomplete"}),87464:(h=>{h.exports="filecomplete-"}),94486:(h=>{h.exports="loaderror"}),13035:(h=>{h.exports="load"}),38144:(h=>{h.exports="fileprogress"}),97520:(h=>{h.exports="postprocess"}),85595:(h=>{h.exports="progress"}),55680:(h=>{h.exports="start"}),54899:((h,x,t)=>{h.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}}),14135:((h,x,t)=>{var o=t(83419),v=t(74099),r=t(518),n=t(54899),i=new o({Extends:r,initialize:(function(a,l,s,u,f){r.call(this,a,l,s,u,f),this.type="animationJSON"}),onProcess:function(){this.loader.once(n.POST_PROCESS,this.onLoadComplete,this),r.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(e,a,l,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new i(this,e[u]));else this.addFile(new i(this,e,a,s,l));return this}),h.exports=i}),76272:((h,x,t)=>{var o=t(83419),v=t(74099),r=t(95540),n=t(19550),i=t(41212),e=t(518),a=t(26430),l=new o({Extends:a,initialize:function(u,f,c,d,p,S){var C,E;if(i(f)){var R=f;f=r(R,"key"),C=new n(u,{key:f,url:r(R,"textureURL"),extension:r(R,"textureExtension","png"),normalMap:r(R,"normalMap"),xhrSettings:r(R,"textureXhrSettings")}),E=new e(u,{key:f,url:r(R,"atlasURL"),extension:r(R,"atlasExtension","json"),xhrSettings:r(R,"atlasXhrSettings")})}else C=new n(u,f,c,p),E=new e(u,f,d,S);C.linkFile?a.call(this,u,"atlasjson",f,[C,E,C.linkFile]):a.call(this,u,"atlasjson",f,[C,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,f),u.addToCache(),this.complete=!0}}});v.register("aseprite",function(s,u,f,c,d){var p;if(Array.isArray(s))for(var S=0;S<s.length;S++)p=new l(this,s[S]),this.addFile(p.files);else p=new l(this,s,u,f,c,d),this.addFile(p.files);return this}),h.exports=l}),38734:((h,x,t)=>{var o=t(83419),v=t(74099),r=t(95540),n=t(19550),i=t(41212),e=t(518),a=t(26430),l=new o({Extends:a,initialize:function(u,f,c,d,p,S){var C,E;if(i(f)){var R=f;f=r(R,"key"),C=new n(u,{key:f,url:r(R,"textureURL"),extension:r(R,"textureExtension","png"),normalMap:r(R,"normalMap"),xhrSettings:r(R,"textureXhrSettings")}),E=new e(u,{key:f,url:r(R,"atlasURL"),extension:r(R,"atlasExtension","json"),xhrSettings:r(R,"atlasXhrSettings")})}else C=new n(u,f,c,p),E=new e(u,f,d,S);C.linkFile?a.call(this,u,"atlasjson",f,[C,E,C.linkFile]):a.call(this,u,"atlasjson",f,[C,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,u.data,f),this.complete=!0}}});v.register("atlas",function(s,u,f,c,d){var p;if(Array.isArray(s))for(var S=0;S<s.length;S++)p=new l(this,s[S]),this.addFile(p.files);else p=new l(this,s,u,f,c,d),this.addFile(p.files);return this}),h.exports=l}),74599:((h,x,t)=>{var o=t(83419),v=t(74099),r=t(95540),n=t(19550),i=t(41212),e=t(26430),a=t(57318),l=new o({Extends:e,initialize:function(u,f,c,d,p,S){var C,E;if(i(f)){var R=f;f=r(R,"key"),C=new n(u,{key:f,url:r(R,"textureURL"),extension:r(R,"textureExtension","png"),normalMap:r(R,"normalMap"),xhrSettings:r(R,"textureXhrSettings")}),E=new a(u,{key:f,url:r(R,"atlasURL"),extension:r(R,"atlasExtension","xml"),xhrSettings:r(R,"atlasXhrSettings")})}else C=new n(u,f,c,p),E=new a(u,f,d,S);C.linkFile?e.call(this,u,"atlasxml",f,[C,E,C.linkFile]):e.call(this,u,"atlasxml",f,[C,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(s.key,s.data,u.data,f),this.complete=!0}}});v.register("atlasXML",function(s,u,f,c,d){var p;if(Array.isArray(s))for(var S=0;S<s.length;S++)p=new l(this,s[S]),this.addFile(p.files);else p=new l(this,s,u,f,c,d),this.addFile(p.files);return this}),h.exports=l}),21097:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(89749),a=t(41212),l=new o({Extends:r,initialize:(function(u,f,c,d,p){if(a(f)){var S=f;f=i(S,"key"),d=i(S,"xhrSettings"),p=i(S,"context",p)}var C={type:"audio",cache:u.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:f,url:c.url,xhrSettings:d,config:{context:p}};r.call(this,u,C)}),onProcess:function(){this.state=v.FILE_PROCESSING;var s=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(u){s.data=u,s.onProcessComplete()},function(u){console.error("Error decoding audio: "+s.key+" - ",u?u.message:null),s.onProcessError()}),this.config.context=null}});l.create=function(s,u,f,c,d){var p=s.systems.game,S=p.config.audio,C=p.device.audio;a(u)&&(f=i(u,"url",[]),c=i(u,"config",{}));var E=l.getAudioURL(p,f);return E?C.webAudio&&!S.disableWebAudio?new l(s,u,E,d,p.sound.context):new e(s,u,E,c):(console.warn('No audio URLs for "%s" can play on this device',u),null)},l.getAudioURL=function(s,u){Array.isArray(u)||(u=[u]);for(var f=0;f<u.length;f++){var c=i(u[f],"url",u[f]);if(c.indexOf("blob:")===0||c.indexOf("data:")===0)return{url:c,type:""};var d=c.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=i(u[f],"type",d?d[1]:"").toLowerCase(),s.device.audio[d])return{url:c,type:d}}return null},n.register("audio",function(s,u,f,c){var d=this.systems.game,p=d.config.audio,S=d.device.audio;if(p.noAudio||!S.webAudio&&!S.audioData)return this;var C;if(Array.isArray(s))for(var E=0;E<s.length;E++)C=l.create(this,s[E]),C&&this.addFile(C);else C=l.create(this,s,u,f,c),C&&this.addFile(C);return this}),h.exports=l}),89524:((h,x,t)=>{var o=t(21097),v=t(83419),r=t(74099),n=t(95540),i=t(41212),e=t(518),a=t(26430),l=new v({Extends:a,initialize:function(u,f,c,d,p,S,C){if(i(f)){var E=f;f=n(E,"key"),c=n(E,"jsonURL"),d=n(E,"audioURL"),p=n(E,"audioConfig"),S=n(E,"audioXhrSettings"),C=n(E,"jsonXhrSettings")}var R;if(!d)R=new e(u,f,c,C),a.call(this,u,"audiosprite",f,[R]),this.config.resourceLoad=!0,this.config.audioConfig=p,this.config.audioXhrSettings=S;else{var M=o.create(u,f,d,p,S);M&&(R=new e(u,f,c,C),a.call(this,u,"audiosprite",f,[M,R]),this.config.resourceLoad=!1)}},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,this.config.resourceLoad&&s.type==="json"&&s.data.hasOwnProperty("resources"))){var f=s.data.resources,c=n(this.config,"audioConfig"),d=n(this.config,"audioXhrSettings"),p=o.create(this.loader,s.key,f,c,d);p&&(this.addToMultiFile(p),this.loader.addFile(p))}},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1];s.addToCache(),u.addToCache(),this.complete=!0}}});r.register("audioSprite",function(s,u,f,c,d,p){var S=this.systems.game,C=S.config.audio,E=S.device.audio;if(C&&C.noAudio||!E.webAudio&&!E.audioData)return this;var R;if(Array.isArray(s))for(var M=0;M<s.length;M++)R=new l(this,s[M]),R.files&&this.addFile(R.files);else R=new l(this,s,u,f,c,d,p),R.files&&this.addFile(R.files);return this})}),85722:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=new o({Extends:r,initialize:function(s,u,f,c,d){var p="bin";if(e(u)){var S=u;u=i(S,"key"),f=i(S,"url"),c=i(S,"xhrSettings"),p=i(S,"extension",p),d=i(S,"dataType",d)}var C={type:"binary",cache:s.cacheManager.binary,extension:p,responseType:"arraybuffer",key:u,url:f,xhrSettings:c,config:{dataType:d}};r.call(this,s,C)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});n.register("binary",function(l,s,u,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new a(this,l[c]));else this.addFile(new a(this,l,s,f,u));return this}),h.exports=a}),97025:((h,x,t)=>{var o=t(83419),v=t(74099),r=t(95540),n=t(19550),i=t(41212),e=t(26430),a=t(21859),l=t(57318),s=new o({Extends:e,initialize:function(f,c,d,p,S,C){var E,R;if(i(c)){var M=c;c=r(M,"key"),E=new n(f,{key:c,url:r(M,"textureURL"),extension:r(M,"textureExtension","png"),normalMap:r(M,"normalMap"),xhrSettings:r(M,"textureXhrSettings")}),R=new l(f,{key:c,url:r(M,"fontDataURL"),extension:r(M,"fontDataExtension","xml"),xhrSettings:r(M,"fontDataXhrSettings")})}else E=new n(f,c,d,S),R=new l(f,c,p,C);E.linkFile?e.call(this,f,"bitmapfont",c,[E,R,E.linkFile]):e.call(this,f,"bitmapfont",c,[E,R])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],f=this.files[1];u.addToCache();var c=u.cache.get(u.key),d=a(f.data,u.cache.getFrame(u.key),0,0,c);this.loader.cacheManager.bitmapFont.add(u.key,{data:d,texture:u.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(u,f,c,d,p){var S;if(Array.isArray(u))for(var C=0;C<u.length;C++)S=new s(this,u[C]),this.addFile(S.files);else S=new s(this,u,f,c,d,p),this.addFile(S.files);return this}),h.exports=s}),16024:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=new o({Extends:r,initialize:function(s,u,f,c){var d="css";if(e(u)){var p=u;u=i(p,"key"),f=i(p,"url"),c=i(p,"xhrSettings"),d=i(p,"extension",d)}var S={type:"script",cache:!1,extension:d,responseType:"text",key:u,url:f,xhrSettings:c};r.call(this,s,S)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});n.register("css",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new a(this,l[f]));else this.addFile(new a(this,l,s,u));return this}),h.exports=a}),69559:((h,x,t)=>{var o=t(38734),v=t(85722),r=t(83419),n=t(74099),i=t(95540),e=t(19550),a=t(41212),l=t(518),s=t(31403),u=t(46975),f=t(59327),c=t(26430),d=t(82038),p=t(55222),S=new r({Extends:c,initialize:function(E,R,M,D){if(M.multiAtlasURL){var B=new l(E,{key:R,url:M.multiAtlasURL,xhrSettings:D,config:M});c.call(this,E,"texture",R,[B])}else{var b=M.textureURL.substr(M.textureURL.length-3);M.type||(M.type=b.toLowerCase()==="ktx"?"KTX":"PVR");var I=new v(E,{key:R,url:M.textureURL,extension:b,xhrSettings:D,config:M});if(M.atlasURL){var N=new l(E,{key:R,url:M.atlasURL,xhrSettings:D,config:M});c.call(this,E,"texture",R,[I,N])}else c.call(this,E,"texture",R,[I])}this.config=M},onFileComplete:function(C){var E=this.files.indexOf(C);if(E!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(C.type==="json"&&C.data.hasOwnProperty("textures")){var R=C.data.textures,M=this.config,D=this.loader,B=D.baseURL,b=D.path,I=D.prefix,N=i(M,"multiBaseURL",this.baseURL),z=i(M,"multiPath",this.path),H=i(M,"prefix",this.prefix),X=i(M,"textureXhrSettings");N&&D.setBaseURL(N),z&&D.setPath(z),H&&D.setPrefix(H);for(var W=0;W<R.length;W++){var V=R[W].image,U="CMA"+this.multiKeyIndex+"_"+V,F=new v(D,U,V,X);if(this.addToMultiFile(F),D.addFile(F),R[W].normalMap){var k=new v(D,U,R[W].normalMap,X);k.type="normalMap",F.setLink(k),this.addToMultiFile(k),D.addFile(k)}}D.setBaseURL(B),D.setPath(b),D.setPrefix(I)}}},addToCache:function(){function C(N){console.warn('Compressed Texture Invalid: "'+B.key+'". '+N)}if(this.isReadyToProcess()){var E=this.config;if(E.multiAtlasURL)this.addMultiToCache();else{var R=this.loader.systems.renderer,M=this.loader.textureManager,D,B=this.files[0],b=this.files[1];if(E.type==="PVR"?D=d(B.data):E.type==="KTX"&&(D=s(B.data),D||C("KTX file contains unsupported format.")),D&&!p(D)&&(C("Texture dimensions failed verification. Check the texture format specifications for "+E.format+" 0x"+D.internalFormat.toString(16)+"."),D=null),D&&!R.supportsCompressedTexture(E.format,D.internalFormat)&&(C("Texture format "+E.format+" with internal format "+D.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),D=null),D){D.format=R.getCompressedTextureName(E.format,D.internalFormat);var I=b&&b.data?b.data:null;M.addCompressedTexture(B.key,D,I)}}this.complete=!0}},addMultiToCache:function(){for(var C=this.config,E=this.files[0],R=[],M=[],D=[],B=this.loader.systems.renderer,b=this.loader.textureManager,I,N=1;N<this.files.length;N++){var z=this.files[N];if(z.type!=="normalMap")for(var H=z.key.indexOf("_"),X=z.key.substr(H+1),W=z.data,V=0;V<E.data.textures.length;V++){var U=E.data.textures[V];if(U.image===X){C.type==="PVR"?I=d(W):C.type==="KTX"&&(I=s(W)),I&&B.supportsCompressedTexture(C.format,I.internalFormat)&&(I.format=B.getCompressedTextureName(C.format,I.internalFormat),M.push(I),R.push(U),z.linkFile&&D.push(z.linkFile.data));break}}}D.length===0&&(D=void 0),b.addAtlasJSONArray(this.key,M,R,D),this.complete=!0}});n.register("texture",function(C,E,R){var M=this.systems.renderer,D=function(b,I,N,z){var H={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(a(I)){var X=I;I=i(X,"key"),N=i(X,"url"),z=i(X,"xhrSettings")}var W=!1;for(var V in N)if(M.supportsCompressedTexture(V)){var U=N[V];typeof U=="string"?H.textureURL=U:H=u(U,H),H.format=V.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",I);else if(H.format==="IMG"){var F,k;H.multiAtlasURL?(k=new f(b,I,H.multiAtlasURL,H.multiPath,H.multiBaseURL,z),F=k.files):H.atlasURL?(k=new o(b,I,H.textureURL,H.atlasURL,z),F=k.files):F=new e(b,I,H.textureURL,z),b.addFile(F)}else{var Y=new S(b,I,H,z);b.addFile(Y.files)}};if(Array.isArray(C))for(var B=0;B<C.length;B++)D(this,C[B]);else D(this,C,E,R);return this}),h.exports=S}),87674:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(98356),a=t(41212),l=new o({Extends:r,initialize:function(u,f,c,d,p,S){var C="ttf";if(a(f)){var E=f;f=i(E,"key"),c=i(E,"url"),d=i(E,"format","truetype"),p=i(E,"descriptors",null),S=i(E,"xhrSettings"),C=i(E,"extension",C)}else d===void 0&&(d="truetype");var R={type:"font",cache:!1,extension:C,responseType:"text",key:f,url:c,xhrSettings:S};r.call(this,u,R),this.data={format:d,descriptors:p},this.state=v.FILE_POPULATED},onProcess:function(){this.state=v.FILE_PROCESSING,this.src=e(this,this.loader.baseURL);var s,u=this.key,f="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?s=new FontFace(u,f,this.data.descriptors):s=new FontFace(u,f);var c=this;s.load().then(function(){document.fonts.add(s),document.body.classList.add("fonts-loaded"),c.onProcessComplete()}).catch(function(){console.warn("Font failed to load",f),c.onProcessComplete()})}});n.register("font",function(s,u,f,c,d){if(Array.isArray(s))for(var p=0;p<s.length;p++)this.addFile(new l(this,s[p]));else this.addFile(new l(this,s,u,f,c,d));return this}),h.exports=l}),47931:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=t(73894),l=new o({Extends:r,initialize:function(u,f,c,d,p){var S="glsl";if(e(f)){var C=f;f=i(C,"key"),c=i(C,"url"),d=i(C,"shaderType","fragment"),p=i(C,"xhrSettings"),S=i(C,"extension",S)}else d===void 0&&(d="fragment");var E={type:"glsl",cache:u.cacheManager.shader,extension:S,responseType:"text",key:f,url:c,config:{shaderType:d},xhrSettings:p};r.call(this,u,E)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s=this.data.split(`
`),u=this.extractBlock(s,0);if(u)for(;u;){var f=this.getShaderName(u.header),c=this.getShaderType(u.header),d=this.getShaderUniforms(u.header),p=u.shader;if(this.cache.has(f)){var S=this.cache.get(f);c==="fragment"?S.fragmentSrc=p:S.vertexSrc=p,S.uniforms||(S.uniforms=d)}else c==="fragment"?this.cache.add(f,new a(f,p,"",d)):this.cache.add(f,new a(f,"",p,d));u=this.extractBlock(s,u.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new a(this.key,this.data)):this.cache.add(this.key,new a(this.key,"",this.data))},getShaderName:function(s){for(var u=0;u<s.length;u++){var f=s[u].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(s){for(var u=0;u<s.length;u++){var f=s[u].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(s){for(var u={},f=0;f<s.length;f++){var c=s[f].trim();if(c.substring(0,8)==="uniform."){var d=c.indexOf(":");if(d){var p=c.substring(8,d);try{u[p]=JSON.parse(c.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+p)}}}}return u},extractBlock:function(s,u){for(var f=-1,c=-1,d=-1,p=!1,S=!1,C=[],E=[],R=u;R<s.length;R++){var M=s[R].trim();if(M==="---")if(f===-1)f=R,p=!0;else if(p)c=R,p=!1,S=!0;else{S=!1;break}else p?C.push(M):S&&(E.push(M),d=R)}return!p&&c!==-1?{header:C,shader:E.join(`
`),offset:d}:null}});n.register("glsl",function(s,u,f,c){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new l(this,s[d]));else this.addFile(new l(this,s,u,f,c));return this}),h.exports=l}),89749:((h,x,t)=>{var o=t(83419),v=t(54899),r=t(41299),n=t(95540),i=t(98356),e=t(41212),a=new o({Extends:r,initialize:function(s,u,f,c){if(e(u)){var d=u;u=n(d,"key"),c=n(d,"config",c)}var p={type:"audio",cache:s.cacheManager.audio,extension:f.type,key:u,url:f.url,config:c};r.call(this,s,p),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var s=this.data[l];s.oncanplaythrough=null,s.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var s=l.target;s.oncanplaythrough=null,s.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var s=0;s<l;s++){var u=new Audio;u.dataset||(u.dataset={}),u.dataset.name=this.key+("0"+s).slice(-2),u.dataset.used="false",this.locked?u.dataset.locked="true":(u.dataset.locked="false",u.preload="auto",u.oncanplaythrough=this.onProgress.bind(this),u.onerror=this.onError.bind(this)),this.data.push(u)}for(s=0;s<this.data.length;s++)u=this.data[s],u.src=i(this,this.loader.baseURL),this.locked||u.load();this.locked&&setTimeout(this.onLoad.bind(this))}});h.exports=a}),88470:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=new o({Extends:r,initialize:function(s,u,f,c){var d="html";if(e(u)){var p=u;u=i(p,"key"),f=i(p,"url"),c=i(p,"xhrSettings"),d=i(p,"extension",d)}var S={type:"text",cache:s.cacheManager.html,extension:d,responseType:"text",key:u,url:f,xhrSettings:c};r.call(this,s,S)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});n.register("html",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new a(this,l[f]));else this.addFile(new a(this,l,s,u));return this}),h.exports=a}),14643:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=new o({Extends:r,initialize:function(s,u,f,c,d,p){c===void 0&&(c=512),d===void 0&&(d=512);var S="html";if(e(u)){var C=u;u=i(C,"key"),f=i(C,"url"),p=i(C,"xhrSettings"),S=i(C,"extension",S),c=i(C,"width",c),d=i(C,"height",d)}var E={type:"html",cache:s.textureManager,extension:S,responseType:"text",key:u,url:f,xhrSettings:p,config:{width:c,height:d}};r.call(this,s,E)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.config.width,s=this.config.height,u=[];u.push('<svg width="'+l+'px" height="'+s+'px" viewBox="0 0 '+l+" "+s+'" xmlns="http://www.w3.org/2000/svg">'),u.push('<foreignObject width="100%" height="100%">'),u.push('<body xmlns="http://www.w3.org/1999/xhtml">'),u.push(this.xhrLoader.responseText),u.push("</body>"),u.push("</foreignObject>"),u.push("</svg>");var f=[u.join(`
`)],c=this;try{var d=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{c.state=v.FILE_ERRORED,c.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){r.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){r.revokeObjectURL(c.data),c.onProcessError()},r.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});n.register("htmlTexture",function(l,s,u,f,c){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new a(this,l[d]));else this.addFile(new a(this,l,s,u,f,c));return this}),h.exports=a}),19550:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=t(98356),l=new o({Extends:r,initialize:function s(u,f,c,d,p){var S="png",C;if(e(f)){var E=f;f=i(E,"key"),c=i(E,"url"),C=i(E,"normalMap"),d=i(E,"xhrSettings"),S=i(E,"extension",S),p=i(E,"frameConfig")}Array.isArray(c)&&(C=c[1],c=c[0]);var R={type:"image",cache:u.textureManager,extension:S,responseType:"blob",key:f,url:c,xhrSettings:d,config:p};if(r.call(this,u,R),C){var M=new s(u,this.key,C,d,p);M.type="normalMap",this.setLink(M),u.addFile(M)}this.useImageElementLoad=u.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){r.revokeObjectURL(s.data),s.onProcessComplete()},this.data.onerror=function(){r.revokeObjectURL(s.data),s.onProcessError()},r.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var s=this.state;this.state=v.FILE_PROCESSING,s===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=v.FILE_LOADING,this.src=a(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){s.state=v.FILE_LOADED,s.loader.nextFile(s,!0)},this.data.onerror=function(){s.loader.nextFile(s,!1)},this.data.src=this.src},addToCache:function(){var s=this.linkFile;s?s.state>=v.FILE_COMPLETE&&(s.type==="spritesheet"?s.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,s.data,this.data):this.cache.addImage(this.key,this.data,s.data)):this.cache.addImage(this.key,this.data)}});n.register("image",function(s,u,f){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,f));return this}),h.exports=l}),518:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(35154),a=t(41212),l=new o({Extends:r,initialize:(function(u,f,c,d,p){var S="json";if(a(f)){var C=f;f=i(C,"key"),c=i(C,"url"),d=i(C,"xhrSettings"),S=i(C,"extension",S),p=i(C,"dataKey",p)}var E={type:"json",cache:u.cacheManager.json,extension:S,responseType:"text",key:f,url:c,xhrSettings:d,config:p};r.call(this,u,E),a(c)&&(p?this.data=e(c,p):this.data=c,this.state=v.FILE_POPULATED)}),onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var s=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var u=this.config;typeof u=="string"?this.data=e(s,u,s):this.data=s}this.onProcessComplete()}});n.register("json",function(s,u,f,c){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new l(this,s[d]));else this.addFile(new l(this,s,u,c,f));return this}),h.exports=l}),59327:((h,x,t)=>{var o=t(83419),v=t(74099),r=t(95540),n=t(19550),i=t(41212),e=t(518),a=t(26430),l=new o({Extends:a,initialize:function(u,f,c,d,p,S,C){if(i(f)){var E=f;f=r(E,"key"),r(E,"url",!1)?c=r(E,"url"):c=r(E,"atlasURL"),S=r(E,"xhrSettings"),d=r(E,"path"),p=r(E,"baseURL"),C=r(E,"textureXhrSettings")}var R=new e(u,f,c,S);a.call(this,u,"multiatlas",f,[R]),this.config.path=d,this.config.baseURL=p,this.config.textureXhrSettings=C},onFileComplete:function(s){var u=this.files.indexOf(s);if(u!==-1&&(this.pending--,s.type==="json"&&s.data.hasOwnProperty("textures"))){var f=s.data.textures,c=this.config,d=this.loader,p=d.baseURL,S=d.path,C=d.prefix,E=r(c,"baseURL",this.baseURL),R=r(c,"path",this.path),M=r(c,"prefix",this.prefix),D=r(c,"textureXhrSettings");d.setBaseURL(E),d.setPath(R),d.setPrefix(M);for(var B=0;B<f.length;B++){var b=f[B].image,I="MA"+this.multiKeyIndex+"_"+b,N=new n(d,I,b,D);if(this.addToMultiFile(N),d.addFile(N),f[B].normalMap){var z=new n(d,I,f[B].normalMap,D);z.type="normalMap",N.setLink(z),this.addToMultiFile(z),d.addFile(z)}}d.setBaseURL(p),d.setPath(S),d.setPrefix(C)}},addToCache:function(){if(this.isReadyToProcess()){for(var s=this.files[0],u=[],f=[],c=[],d=1;d<this.files.length;d++){var p=this.files[d];if(p.type!=="normalMap")for(var S=p.key.indexOf("_"),C=p.key.substr(S+1),E=p.data,R=0;R<s.data.textures.length;R++){var M=s.data.textures[R];if(M.image===C){f.push(E),u.push(M),p.linkFile&&c.push(p.linkFile.data);break}}}c.length===0&&(c=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,u,c),this.complete=!0}}});v.register("multiatlas",function(s,u,f,c,d){var p;if(Array.isArray(s))for(var S=0;S<s.length;S++)p=new l(this,s[S]),this.addFile(p.files);else p=new l(this,s,u,f,c,d),this.addFile(p.files);return this}),h.exports=l}),99297:((h,x,t)=>{var o=t(83419),v=t(74099),r=t(95540),n=t(41212),i=t(26430),e=t(34328),a=new o({Extends:i,initialize:function(s,u,f,c){var d="js",p=[];if(n(u)){var S=u;u=r(S,"key"),f=r(S,"url"),c=r(S,"xhrSettings"),d=r(S,"extension",d)}Array.isArray(f)||(f=[f]);for(var C=0;C<f.length;C++){var E=new e(s,{key:u+"_"+C.toString(),url:f[C],extension:d,xhrSettings:c});E.onProcess=function(){this.onProcessComplete()},p.push(E)}i.call(this,s,"scripts",u,p)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var s=this.files[l];s.data=document.createElement("script"),s.data.language="javascript",s.data.type="text/javascript",s.data.defer=!1,s.data.text=s.xhrLoader.responseText,document.head.appendChild(s.data)}this.complete=!0}}});v.register("scripts",function(l,s,u){var f;if(Array.isArray(l))for(var c=0;c<l.length;c++)f=new a(this,l[c]),this.addFile(f.files);else f=new a(this,l,s,u),this.addFile(f.files);return this}),h.exports=a}),41846:((h,x,t)=>{var o=t(83419),v=t(74099),r=t(95540),n=t(41212),i=t(26430),e=t(85048),a=t(61485),l=t(78776),s=new o({Extends:i,initialize:function(f,c,d,p,S,C){var E,R,M=f.cacheManager.obj;if(n(c)){var D=c;c=r(D,"key"),E=new l(f,{key:c,type:"obj",cache:M,url:r(D,"url"),extension:r(D,"extension","obj"),xhrSettings:r(D,"xhrSettings"),config:{flipUV:r(D,"flipUV",S)}}),p=r(D,"matURL"),p&&(R=new l(f,{key:c,type:"mat",cache:M,url:p,extension:r(D,"matExtension","mat"),xhrSettings:r(D,"xhrSettings")}))}else E=new l(f,{key:c,url:d,type:"obj",cache:M,extension:"obj",xhrSettings:C,config:{flipUV:S}}),p&&(R=new l(f,{key:c,url:p,type:"mat",cache:M,extension:"mat",xhrSettings:C}));i.call(this,f,"obj",c,[E,R])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],f=this.files[1],c=e(u.data,u.config.flipUV);f&&(c.materials=a(f.data)),u.cache.add(u.key,c),this.complete=!0}}});v.register("obj",function(u,f,c,d,p){var S;if(Array.isArray(u))for(var C=0;C<u.length;C++)S=new s(this,u[C]),this.addFile(S.files);else S=new s(this,u,f,c,d,p),this.addFile(S.files);return this}),h.exports=s}),58610:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(74099),n=t(518),i=new o({Extends:n,initialize:(function(a,l,s,u,f){n.call(this,a,l,s,u,f),this.type="packfile"}),onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});r.register("pack",function(e,a,l,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new i(this,e[u]));else this.addFile(new i(this,e,a,s,l));return this}),h.exports=i}),48988:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=new o({Extends:r,initialize:function(s,u,f,c,d,p){var S="js";if(e(u)){var C=u;u=i(C,"key"),f=i(C,"url"),p=i(C,"xhrSettings"),S=i(C,"extension",S),c=i(C,"start"),d=i(C,"mapping")}var E={type:"plugin",cache:!1,extension:S,responseType:"text",key:u,url:f,xhrSettings:p,config:{start:c,mapping:d}};r.call(this,s,E),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=i(s,"start",!1),f=i(s,"mapping",null);if(this.state===v.FILE_POPULATED)l.install(this.key,this.data,u,f);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var c=l.install(this.key,window[this.key],u,f);(u||f)&&(this.loader.systems[f]=c,this.loader.scene[f]=c)}this.onProcessComplete()}});n.register("plugin",function(l,s,u,f,c){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new a(this,l[d]));else this.addFile(new a(this,l,s,u,f,c));return this}),h.exports=a}),67397:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=new o({Extends:r,initialize:function(s,u,f,c,d){var p="svg";if(e(u)){var S=u;u=i(S,"key"),f=i(S,"url"),c=i(S,"svgConfig",{}),d=i(S,"xhrSettings"),p=i(S,"extension",p)}var C={type:"svg",cache:s.textureManager,extension:p,responseType:"text",key:u,url:f,xhrSettings:d,config:{width:i(c,"width"),height:i(c,"height"),scale:i(c,"scale")}};r.call(this,s,C)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.xhrLoader.responseText,s=[l],u=this.config.width,f=this.config.height,c=this.config.scale;t:if(u&&f||c){var d=null,p=new DOMParser;d=p.parseFromString(l,"text/xml");var S=d.getElementsByTagName("svg")[0],C=S.hasAttribute("viewBox"),E=parseFloat(S.getAttribute("width")),R=parseFloat(S.getAttribute("height"));if(!C&&E&&R)S.setAttribute("viewBox","0  0 "+E+" "+R);else if(C&&!E&&!R){var M=S.getAttribute("viewBox").split(/\s+|,/);E=M[2],R=M[3]}if(c)if(E&&R)u=E*c,f=R*c;else break t;S.setAttribute("width",u.toString()+"px"),S.setAttribute("height",f.toString()+"px"),s=[new XMLSerializer().serializeToString(S)]}try{var D=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var B=this,b=!1;this.data.onload=function(){b||r.revokeObjectURL(B.data),B.onProcessComplete()},this.data.onerror=function(){b?B.onProcessError():(b=!0,r.revokeObjectURL(B.data),B.data.src="data:image/svg+xml,"+encodeURIComponent(s.join("")))},r.createObjectURL(this.data,D,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});n.register("svg",function(l,s,u,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new a(this,l[c]));else this.addFile(new a(this,l,s,u,f));return this}),h.exports=a}),88423:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=new o({Extends:r,initialize:function(s,u,f,c){var d="js";if(e(u)){var p=u;u=i(p,"key"),f=i(p,"url"),c=i(p,"xhrSettings"),d=i(p,"extension",d)}var S={type:"text",extension:d,responseType:"text",key:u,url:f,xhrSettings:c};r.call(this,s,S)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),s=eval;this.loader.sceneManager.add(this.key,s(l)),this.complete=!0}});n.register("sceneFile",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new a(this,l[f]));else this.addFile(new a(this,l,s,u));return this}),h.exports=a}),56812:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=new o({Extends:r,initialize:function(s,u,f,c,d,p){var S="js";if(e(u)){var C=u;u=i(C,"key"),f=i(C,"url"),p=i(C,"xhrSettings"),S=i(C,"extension",S),c=i(C,"systemKey"),d=i(C,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:S,responseType:"text",key:u,url:f,xhrSettings:p,config:{systemKey:c,sceneKey:d}};r.call(this,s,E),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,s=this.config,u=this.key,f=i(s,"systemKey",u),c=i(s,"sceneKey",u);this.state===v.FILE_POPULATED?l.installScenePlugin(f,this.data,c,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(f,window[this.key],c,this.loader.scene,!0)),this.onProcessComplete()}});n.register("scenePlugin",function(l,s,u,f,c){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new a(this,l[d]));else this.addFile(new a(this,l,s,u,f,c));return this}),h.exports=a}),34328:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=new o({Extends:r,initialize:function(s,u,f,c,d){var p="js";if(e(u)){var S=u;u=i(S,"key"),f=i(S,"url"),c=i(S,"type","script"),d=i(S,"xhrSettings"),p=i(S,"extension",p)}else c===void 0&&(c="script");var C={type:c,cache:!1,extension:p,responseType:"text",key:u,url:f,xhrSettings:d};r.call(this,s,C)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});n.register("script",function(l,s,u,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new a(this,l[c]));else this.addFile(new a(this,l,s,u,f));return this}),h.exports=a}),85035:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(74099),n=t(19550),i=new o({Extends:n,initialize:function(a,l,s,u,f){n.call(this,a,l,s,f,u),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});r.register("spritesheet",function(e,a,l,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new i(this,e[u]));else this.addFile(new i(this,e,a,l,s));return this}),h.exports=i}),78776:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=new o({Extends:r,initialize:function(s,u,f,c){var d="text",p="txt",S=s.cacheManager.text;if(e(u)){var C=u;u=i(C,"key"),f=i(C,"url"),c=i(C,"xhrSettings"),p=i(C,"extension",p),d=i(C,"type",d),S=i(C,"cache",S)}var E={type:d,cache:S,extension:p,responseType:"text",key:u,url:f,xhrSettings:c};r.call(this,s,E)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});n.register("text",function(l,s,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new a(this,l[f]));else this.addFile(new a(this,l,s,u));return this}),h.exports=a}),49477:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=t(80341),l=new o({Extends:r,initialize:function(u,f,c,d){var p="csv";if(e(f)){var S=f;f=i(S,"key"),c=i(S,"url"),d=i(S,"xhrSettings"),p=i(S,"extension",p)}var C={type:"tilemapCSV",cache:u.cacheManager.tilemap,extension:p,responseType:"text",key:f,url:c,xhrSettings:d};r.call(this,u,C),this.tilemapFormat=a.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,s)}});n.register("tilemapCSV",function(s,u,f){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,f));return this}),h.exports=l}),40807:((h,x,t)=>{var o=t(83419),v=t(74099),r=t(518),n=t(80341),i=new o({Extends:r,initialize:function(a,l,s,u){r.call(this,a,l,s,u),this.type="tilemapJSON",this.cache=a.cacheManager.tilemap},addToCache:function(){var e={format:n.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapImpact",function(e,a,l){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new i(this,e[s]));else this.addFile(new i(this,e,a,l));return this}),h.exports=i}),56775:((h,x,t)=>{var o=t(83419),v=t(74099),r=t(518),n=t(80341),i=new o({Extends:r,initialize:function(a,l,s,u){r.call(this,a,l,s,u),this.type="tilemapJSON",this.cache=a.cacheManager.tilemap},addToCache:function(){var e={format:n.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapTiledJSON",function(e,a,l){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new i(this,e[s]));else this.addFile(new i(this,e,a,l));return this}),h.exports=i}),25771:((h,x,t)=>{var o=t(83419),v=t(74099),r=t(95540),n=t(19550),i=t(41212),e=t(26430),a=t(78776),l=new o({Extends:e,initialize:function(u,f,c,d,p,S){var C,E;if(i(f)){var R=f;f=r(R,"key"),C=new n(u,{key:f,url:r(R,"textureURL"),extension:r(R,"textureExtension","png"),normalMap:r(R,"normalMap"),xhrSettings:r(R,"textureXhrSettings")}),E=new a(u,{key:f,url:r(R,"atlasURL"),extension:r(R,"atlasExtension","txt"),xhrSettings:r(R,"atlasXhrSettings")})}else C=new n(u,f,c,p),E=new a(u,f,d,S);C.linkFile?e.call(this,u,"unityatlas",f,[C,E,C.linkFile]):e.call(this,u,"unityatlas",f,[C,E])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(s.key,s.data,u.data,f),this.complete=!0}}});v.register("unityAtlas",function(s,u,f,c,d){var p;if(Array.isArray(s))for(var S=0;S<s.length;S++)p=new l(this,s[S]),this.addFile(p.files);else p=new l(this,s,u,f,c,d),this.addFile(p.files);return this}),h.exports=l}),33720:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(98356),e=t(95540),a=t(41212),l=new o({Extends:r,initialize:function(u,f,c,d){if(d===void 0&&(d=!1),a(f)){var p=f;f=e(p,"key"),c=e(p,"url",[]),d=e(p,"noAudio",!1)}var S=u.systems.game.device.video.getVideoURL(c);S||console.warn("VideoFile: No supported format for "+f);var C={type:"video",cache:u.cacheManager.video,extension:S.type,key:f,url:S.url,config:{noAudio:d}};r.call(this,u,C)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=i(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});n.register("video",function(s,u,f){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,f));return this}),h.exports=l}),57318:((h,x,t)=>{var o=t(83419),v=t(23906),r=t(41299),n=t(74099),i=t(95540),e=t(41212),a=t(56836),l=new o({Extends:r,initialize:function(u,f,c,d){var p="xml";if(e(f)){var S=f;f=i(S,"key"),c=i(S,"url"),d=i(S,"xhrSettings"),p=i(S,"extension",p)}var C={type:"xml",cache:u.cacheManager.xml,extension:p,responseType:"text",key:f,url:c,xhrSettings:d};r.call(this,u,C)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=a(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});n.register("xml",function(s,u,f){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,u,f));return this}),h.exports=l}),64589:((h,x,t)=>{h.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}}),57777:((h,x,t)=>{var o=t(23906),v=t(79291),r={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};r=v(!1,r,o),h.exports=r}),53307:(h=>{var x=function(t){for(var o=0,v=0;v<t.length;v++)o+=+t[v];return o/t.length};h.exports=x}),85710:((h,x,t)=>{var o=t(6411),v=function(r,n){return o(r)/o(n)/o(r-n)};h.exports=v}),30976:(h=>{var x=function(t,o){return Math.floor(Math.random()*(o-t+1)+t)};h.exports=x}),87842:(h=>{var x=function(t,o,v,r,n){var i=(r-o)*.5,e=(n-v)*.5,a=t*t,l=t*a;return(2*v-2*r+i+e)*l+(-3*v+3*r-2*i-e)*a+i*t+v};h.exports=x}),26302:(h=>{var x=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var r=Math.pow(v,-o);return Math.ceil(t*r)/r};h.exports=x}),45319:(h=>{var x=function(t,o,v){return Math.max(o,Math.min(v,t))};h.exports=x}),39506:((h,x,t)=>{var o=t(36383),v=function(r){return r*o.DEG_TO_RAD};h.exports=v}),61241:(h=>{var x=function(t,o){return Math.abs(t-o)};h.exports=x}),38857:((h,x,t)=>{var o=t(45319),v=t(83419),r=t(37867),n=t(29747),i=new r,e=new v({initialize:function a(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f=a.DefaultOrder),this._x=l,this._y=s,this._z=u,this._order=f,this.onChangeCallback=n},x:{get:function(){return this._x},set:function(a){this._x=a,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(a){this._y=a,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(a){this._z=a,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(a){this._order=a,this.onChangeCallback(this)}},set:function(a,l,s,u){return u===void 0&&(u=this._order),this._x=a,this._y=l,this._z=s,this._order=u,this.onChangeCallback(this),this},copy:function(a){return this.set(a.x,a.y,a.z,a.order)},setFromQuaternion:function(a,l,s){return l===void 0&&(l=this._order),s===void 0&&(s=!1),i.fromQuat(a),this.setFromRotationMatrix(i,l,s)},setFromRotationMatrix:function(a,l,s){l===void 0&&(l=this._order),s===void 0&&(s=!1);var u=a.val,f=u[0],c=u[4],d=u[8],p=u[1],S=u[5],C=u[9],E=u[2],R=u[6],M=u[10],D=0,B=0,b=0,I=.99999;switch(l){case"XYZ":{B=Math.asin(o(d,-1,1)),Math.abs(d)<I?(D=Math.atan2(-C,M),b=Math.atan2(-c,f)):D=Math.atan2(R,S);break}case"YXZ":{D=Math.asin(-o(C,-1,1)),Math.abs(C)<I?(B=Math.atan2(d,M),b=Math.atan2(p,S)):B=Math.atan2(-E,f);break}case"ZXY":{D=Math.asin(o(R,-1,1)),Math.abs(R)<I?(B=Math.atan2(-E,M),b=Math.atan2(-c,S)):b=Math.atan2(p,f);break}case"ZYX":{B=Math.asin(-o(E,-1,1)),Math.abs(E)<I?(D=Math.atan2(R,M),b=Math.atan2(p,f)):b=Math.atan2(-c,S);break}case"YZX":{b=Math.asin(o(p,-1,1)),Math.abs(p)<I?(D=Math.atan2(-C,S),B=Math.atan2(-E,f)):B=Math.atan2(d,M);break}case"XZY":{b=Math.asin(-o(c,-1,1)),Math.abs(c)<I?(D=Math.atan2(R,S),B=Math.atan2(d,f)):D=Math.atan2(-C,M);break}}return this._x=D,this._y=B,this._z=b,this._order=l,s&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",h.exports=e}),6411:(h=>{var x=function(t){if(t===0)return 1;for(var o=t;--t;)o*=t;return o};h.exports=x}),99472:(h=>{var x=function(t,o){return Math.random()*(o-t)+t};h.exports=x}),77623:(h=>{var x=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var r=Math.pow(v,-o);return Math.floor(t*r)/r};h.exports=x}),62945:((h,x,t)=>{var o=t(45319),v=function(r,n,i){return r=o(r,0,1),(i-n)*r+n};h.exports=v}),38265:(h=>{var x=function(t,o){return t/o/1e3};h.exports=x}),78702:(h=>{var x=function(t){return t==parseFloat(t)?!(t%2):void 0};h.exports=x}),94883:(h=>{var x=function(t){return t===parseFloat(t)?!(t%2):void 0};h.exports=x}),28915:(h=>{var x=function(t,o,v){return(o-t)*v+t};h.exports=x}),94908:(h=>{var x=function(t,o,v){return v===void 0&&(v=0),t.clone().lerp(o,v)};h.exports=x}),94434:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n){this.val=new Float32Array(9),n?this.copy(n):this.identity()},clone:function(){return new v(this)},set:function(r){return this.copy(r)},copy:function(r){var n=this.val,i=r.val;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this},fromMat4:function(r){var n=r.val,i=this.val;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[4],i[4]=n[5],i[5]=n[6],i[6]=n[8],i[7]=n[9],i[8]=n[10],this},fromArray:function(r){var n=this.val;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this},identity:function(){var r=this.val;return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,this},transpose:function(){var r=this.val,n=r[1],i=r[2],e=r[5];return r[1]=r[3],r[2]=r[6],r[3]=n,r[5]=r[7],r[6]=i,r[7]=e,this},invert:function(){var r=this.val,n=r[0],i=r[1],e=r[2],a=r[3],l=r[4],s=r[5],u=r[6],f=r[7],c=r[8],d=c*l-s*f,p=-c*a+s*u,S=f*a-l*u,C=n*d+i*p+e*S;return C?(C=1/C,r[0]=d*C,r[1]=(-c*i+e*f)*C,r[2]=(s*i-e*l)*C,r[3]=p*C,r[4]=(c*n-e*u)*C,r[5]=(-s*n+e*a)*C,r[6]=S*C,r[7]=(-f*n+i*u)*C,r[8]=(l*n-i*a)*C,this):null},adjoint:function(){var r=this.val,n=r[0],i=r[1],e=r[2],a=r[3],l=r[4],s=r[5],u=r[6],f=r[7],c=r[8];return r[0]=l*c-s*f,r[1]=e*f-i*c,r[2]=i*s-e*l,r[3]=s*u-a*c,r[4]=n*c-e*u,r[5]=e*a-n*s,r[6]=a*f-l*u,r[7]=i*u-n*f,r[8]=n*l-i*a,this},determinant:function(){var r=this.val,n=r[0],i=r[1],e=r[2],a=r[3],l=r[4],s=r[5],u=r[6],f=r[7],c=r[8];return n*(c*l-s*f)+i*(-c*a+s*u)+e*(f*a-l*u)},multiply:function(r){var n=this.val,i=n[0],e=n[1],a=n[2],l=n[3],s=n[4],u=n[5],f=n[6],c=n[7],d=n[8],p=r.val,S=p[0],C=p[1],E=p[2],R=p[3],M=p[4],D=p[5],B=p[6],b=p[7],I=p[8];return n[0]=S*i+C*l+E*f,n[1]=S*e+C*s+E*c,n[2]=S*a+C*u+E*d,n[3]=R*i+M*l+D*f,n[4]=R*e+M*s+D*c,n[5]=R*a+M*u+D*d,n[6]=B*i+b*l+I*f,n[7]=B*e+b*s+I*c,n[8]=B*a+b*u+I*d,this},translate:function(r){var n=this.val,i=r.x,e=r.y;return n[6]=i*n[0]+e*n[3]+n[6],n[7]=i*n[1]+e*n[4]+n[7],n[8]=i*n[2]+e*n[5]+n[8],this},rotate:function(r){var n=this.val,i=n[0],e=n[1],a=n[2],l=n[3],s=n[4],u=n[5],f=Math.sin(r),c=Math.cos(r);return n[0]=c*i+f*l,n[1]=c*e+f*s,n[2]=c*a+f*u,n[3]=c*l-f*i,n[4]=c*s-f*e,n[5]=c*u-f*a,this},scale:function(r){var n=this.val,i=r.x,e=r.y;return n[0]=i*n[0],n[1]=i*n[1],n[2]=i*n[2],n[3]=e*n[3],n[4]=e*n[4],n[5]=e*n[5],this},fromQuat:function(r){var n=r.x,i=r.y,e=r.z,a=r.w,l=n+n,s=i+i,u=e+e,f=n*l,c=n*s,d=n*u,p=i*s,S=i*u,C=e*u,E=a*l,R=a*s,M=a*u,D=this.val;return D[0]=1-(p+C),D[3]=c+M,D[6]=d-R,D[1]=c-M,D[4]=1-(f+C),D[7]=S+E,D[2]=d+R,D[5]=S-E,D[8]=1-(f+p),this},normalFromMat4:function(r){var n=r.val,i=this.val,e=n[0],a=n[1],l=n[2],s=n[3],u=n[4],f=n[5],c=n[6],d=n[7],p=n[8],S=n[9],C=n[10],E=n[11],R=n[12],M=n[13],D=n[14],B=n[15],b=e*f-a*u,I=e*c-l*u,N=e*d-s*u,z=a*c-l*f,H=a*d-s*f,X=l*d-s*c,W=p*M-S*R,V=p*D-C*R,U=p*B-E*R,F=S*D-C*M,k=S*B-E*M,Y=C*B-E*D,Z=b*Y-I*k+N*F+z*U-H*V+X*W;return Z?(Z=1/Z,i[0]=(f*Y-c*k+d*F)*Z,i[1]=(c*U-u*Y-d*V)*Z,i[2]=(u*k-f*U+d*W)*Z,i[3]=(l*k-a*Y-s*F)*Z,i[4]=(e*Y-l*U+s*V)*Z,i[5]=(a*U-e*k-s*W)*Z,i[6]=(M*X-D*H+B*z)*Z,i[7]=(D*N-R*X-B*I)*Z,i[8]=(R*H-M*N+B*b)*Z,this):null}});h.exports=v}),37867:((h,x,t)=>{var o=t(83419),v=t(25836),r=1e-6,n=new o({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new n(this)},set:function(u){return this.copy(u)},setValues:function(u,f,c,d,p,S,C,E,R,M,D,B,b,I,N,z){var H=this.val;return H[0]=u,H[1]=f,H[2]=c,H[3]=d,H[4]=p,H[5]=S,H[6]=C,H[7]=E,H[8]=R,H[9]=M,H[10]=D,H[11]=B,H[12]=b,H[13]=I,H[14]=N,H[15]=z,this},copy:function(u){var f=u.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(u){return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(u,f,c){var d=i.fromQuat(c),p=d.val,S=f.x,C=f.y,E=f.z;return this.setValues(p[0]*S,p[1]*S,p[2]*S,0,p[4]*C,p[5]*C,p[6]*C,0,p[8]*E,p[9]*E,p[10]*E,0,u.x,u.y,u.z,1)},xyz:function(u,f,c){this.identity();var d=this.val;return d[12]=u,d[13]=f,d[14]=c,this},scaling:function(u,f,c){this.zero();var d=this.val;return d[0]=u,d[5]=f,d[10]=c,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var u=this.val,f=u[1],c=u[2],d=u[3],p=u[6],S=u[7],C=u[11];return u[1]=u[4],u[2]=u[8],u[3]=u[12],u[4]=f,u[6]=u[9],u[7]=u[13],u[8]=c,u[9]=p,u[11]=u[14],u[12]=d,u[13]=S,u[14]=C,this},getInverse:function(u){return this.copy(u),this.invert()},invert:function(){var u=this.val,f=u[0],c=u[1],d=u[2],p=u[3],S=u[4],C=u[5],E=u[6],R=u[7],M=u[8],D=u[9],B=u[10],b=u[11],I=u[12],N=u[13],z=u[14],H=u[15],X=f*C-c*S,W=f*E-d*S,V=f*R-p*S,U=c*E-d*C,F=c*R-p*C,k=d*R-p*E,Y=M*N-D*I,Z=M*z-B*I,j=M*H-b*I,J=D*z-B*N,q=D*H-b*N,et=B*H-b*z,it=X*et-W*q+V*J+U*j-F*Z+k*Y;return it?(it=1/it,this.setValues((C*et-E*q+R*J)*it,(d*q-c*et-p*J)*it,(N*k-z*F+H*U)*it,(B*F-D*k-b*U)*it,(E*j-S*et-R*Z)*it,(f*et-d*j+p*Z)*it,(z*V-I*k-H*W)*it,(M*k-B*V+b*W)*it,(S*q-C*j+R*Y)*it,(c*j-f*q-p*Y)*it,(I*F-N*V+H*X)*it,(D*V-M*F-b*X)*it,(C*Z-S*J-E*Y)*it,(f*J-c*Z+d*Y)*it,(N*W-I*U-z*X)*it,(M*U-D*W+B*X)*it)):this},adjoint:function(){var u=this.val,f=u[0],c=u[1],d=u[2],p=u[3],S=u[4],C=u[5],E=u[6],R=u[7],M=u[8],D=u[9],B=u[10],b=u[11],I=u[12],N=u[13],z=u[14],H=u[15];return this.setValues(C*(B*H-b*z)-D*(E*H-R*z)+N*(E*b-R*B),-(c*(B*H-b*z)-D*(d*H-p*z)+N*(d*b-p*B)),c*(E*H-R*z)-C*(d*H-p*z)+N*(d*R-p*E),-(c*(E*b-R*B)-C*(d*b-p*B)+D*(d*R-p*E)),-(S*(B*H-b*z)-M*(E*H-R*z)+I*(E*b-R*B)),f*(B*H-b*z)-M*(d*H-p*z)+I*(d*b-p*B),-(f*(E*H-R*z)-S*(d*H-p*z)+I*(d*R-p*E)),f*(E*b-R*B)-S*(d*b-p*B)+M*(d*R-p*E),S*(D*H-b*N)-M*(C*H-R*N)+I*(C*b-R*D),-(f*(D*H-b*N)-M*(c*H-p*N)+I*(c*b-p*D)),f*(C*H-R*N)-S*(c*H-p*N)+I*(c*R-p*C),-(f*(C*b-R*D)-S*(c*b-p*D)+M*(c*R-p*C)),-(S*(D*z-B*N)-M*(C*z-E*N)+I*(C*B-E*D)),f*(D*z-B*N)-M*(c*z-d*N)+I*(c*B-d*D),-(f*(C*z-E*N)-S*(c*z-d*N)+I*(c*E-d*C)),f*(C*B-E*D)-S*(c*B-d*D)+M*(c*E-d*C))},determinant:function(){var u=this.val,f=u[0],c=u[1],d=u[2],p=u[3],S=u[4],C=u[5],E=u[6],R=u[7],M=u[8],D=u[9],B=u[10],b=u[11],I=u[12],N=u[13],z=u[14],H=u[15],X=f*C-c*S,W=f*E-d*S,V=f*R-p*S,U=c*E-d*C,F=c*R-p*C,k=d*R-p*E,Y=M*N-D*I,Z=M*z-B*I,j=M*H-b*I,J=D*z-B*N,q=D*H-b*N,et=B*H-b*z;return X*et-W*q+V*J+U*j-F*Z+k*Y},multiply:function(u){var f=this.val,c=f[0],d=f[1],p=f[2],S=f[3],C=f[4],E=f[5],R=f[6],M=f[7],D=f[8],B=f[9],b=f[10],I=f[11],N=f[12],z=f[13],H=f[14],X=f[15],W=u.val,V=W[0],U=W[1],F=W[2],k=W[3];return f[0]=V*c+U*C+F*D+k*N,f[1]=V*d+U*E+F*B+k*z,f[2]=V*p+U*R+F*b+k*H,f[3]=V*S+U*M+F*I+k*X,V=W[4],U=W[5],F=W[6],k=W[7],f[4]=V*c+U*C+F*D+k*N,f[5]=V*d+U*E+F*B+k*z,f[6]=V*p+U*R+F*b+k*H,f[7]=V*S+U*M+F*I+k*X,V=W[8],U=W[9],F=W[10],k=W[11],f[8]=V*c+U*C+F*D+k*N,f[9]=V*d+U*E+F*B+k*z,f[10]=V*p+U*R+F*b+k*H,f[11]=V*S+U*M+F*I+k*X,V=W[12],U=W[13],F=W[14],k=W[15],f[12]=V*c+U*C+F*D+k*N,f[13]=V*d+U*E+F*B+k*z,f[14]=V*p+U*R+F*b+k*H,f[15]=V*S+U*M+F*I+k*X,this},multiplyLocal:function(u){var f=this.val,c=u.val;return this.setValues(f[0]*c[0]+f[1]*c[4]+f[2]*c[8]+f[3]*c[12],f[0]*c[1]+f[1]*c[5]+f[2]*c[9]+f[3]*c[13],f[0]*c[2]+f[1]*c[6]+f[2]*c[10]+f[3]*c[14],f[0]*c[3]+f[1]*c[7]+f[2]*c[11]+f[3]*c[15],f[4]*c[0]+f[5]*c[4]+f[6]*c[8]+f[7]*c[12],f[4]*c[1]+f[5]*c[5]+f[6]*c[9]+f[7]*c[13],f[4]*c[2]+f[5]*c[6]+f[6]*c[10]+f[7]*c[14],f[4]*c[3]+f[5]*c[7]+f[6]*c[11]+f[7]*c[15],f[8]*c[0]+f[9]*c[4]+f[10]*c[8]+f[11]*c[12],f[8]*c[1]+f[9]*c[5]+f[10]*c[9]+f[11]*c[13],f[8]*c[2]+f[9]*c[6]+f[10]*c[10]+f[11]*c[14],f[8]*c[3]+f[9]*c[7]+f[10]*c[11]+f[11]*c[15],f[12]*c[0]+f[13]*c[4]+f[14]*c[8]+f[15]*c[12],f[12]*c[1]+f[13]*c[5]+f[14]*c[9]+f[15]*c[13],f[12]*c[2]+f[13]*c[6]+f[14]*c[10]+f[15]*c[14],f[12]*c[3]+f[13]*c[7]+f[14]*c[11]+f[15]*c[15])},premultiply:function(u){return this.multiplyMatrices(u,this)},multiplyMatrices:function(u,f){var c=u.val,d=f.val,p=c[0],S=c[4],C=c[8],E=c[12],R=c[1],M=c[5],D=c[9],B=c[13],b=c[2],I=c[6],N=c[10],z=c[14],H=c[3],X=c[7],W=c[11],V=c[15],U=d[0],F=d[4],k=d[8],Y=d[12],Z=d[1],j=d[5],J=d[9],q=d[13],et=d[2],it=d[6],at=d[10],ut=d[14],dt=d[3],ft=d[7],xt=d[11],At=d[15];return this.setValues(p*U+S*Z+C*et+E*dt,R*U+M*Z+D*et+B*dt,b*U+I*Z+N*et+z*dt,H*U+X*Z+W*et+V*dt,p*F+S*j+C*it+E*ft,R*F+M*j+D*it+B*ft,b*F+I*j+N*it+z*ft,H*F+X*j+W*it+V*ft,p*k+S*J+C*at+E*xt,R*k+M*J+D*at+B*xt,b*k+I*J+N*at+z*xt,H*k+X*J+W*at+V*xt,p*Y+S*q+C*ut+E*At,R*Y+M*q+D*ut+B*At,b*Y+I*q+N*ut+z*At,H*Y+X*q+W*ut+V*At)},translate:function(u){return this.translateXYZ(u.x,u.y,u.z)},translateXYZ:function(u,f,c){var d=this.val;return d[12]=d[0]*u+d[4]*f+d[8]*c+d[12],d[13]=d[1]*u+d[5]*f+d[9]*c+d[13],d[14]=d[2]*u+d[6]*f+d[10]*c+d[14],d[15]=d[3]*u+d[7]*f+d[11]*c+d[15],this},scale:function(u){return this.scaleXYZ(u.x,u.y,u.z)},scaleXYZ:function(u,f,c){var d=this.val;return d[0]=d[0]*u,d[1]=d[1]*u,d[2]=d[2]*u,d[3]=d[3]*u,d[4]=d[4]*f,d[5]=d[5]*f,d[6]=d[6]*f,d[7]=d[7]*f,d[8]=d[8]*c,d[9]=d[9]*c,d[10]=d[10]*c,d[11]=d[11]*c,this},makeRotationAxis:function(u,f){var c=Math.cos(f),d=Math.sin(f),p=1-c,S=u.x,C=u.y,E=u.z,R=p*S,M=p*C;return this.setValues(R*S+c,R*C-d*E,R*E+d*C,0,R*C+d*E,M*C+c,M*E-d*S,0,R*E-d*C,M*E+d*S,p*E*E+c,0,0,0,0,1)},rotate:function(u,f){var c=this.val,d=f.x,p=f.y,S=f.z,C=Math.sqrt(d*d+p*p+S*S);if(Math.abs(C)<r)return this;C=1/C,d*=C,p*=C,S*=C;var E=Math.sin(u),R=Math.cos(u),M=1-R,D=c[0],B=c[1],b=c[2],I=c[3],N=c[4],z=c[5],H=c[6],X=c[7],W=c[8],V=c[9],U=c[10],F=c[11],k=c[12],Y=c[13],Z=c[14],j=c[15],J=d*d*M+R,q=p*d*M+S*E,et=S*d*M-p*E,it=d*p*M-S*E,at=p*p*M+R,ut=S*p*M+d*E,dt=d*S*M+p*E,ft=p*S*M-d*E,xt=S*S*M+R;return this.setValues(D*J+N*q+W*et,B*J+z*q+V*et,b*J+H*q+U*et,I*J+X*q+F*et,D*it+N*at+W*ut,B*it+z*at+V*ut,b*it+H*at+U*ut,I*it+X*at+F*ut,D*dt+N*ft+W*xt,B*dt+z*ft+V*xt,b*dt+H*ft+U*xt,I*dt+X*ft+F*xt,k,Y,Z,j)},rotateX:function(u){var f=this.val,c=Math.sin(u),d=Math.cos(u),p=f[4],S=f[5],C=f[6],E=f[7],R=f[8],M=f[9],D=f[10],B=f[11];return f[4]=p*d+R*c,f[5]=S*d+M*c,f[6]=C*d+D*c,f[7]=E*d+B*c,f[8]=R*d-p*c,f[9]=M*d-S*c,f[10]=D*d-C*c,f[11]=B*d-E*c,this},rotateY:function(u){var f=this.val,c=Math.sin(u),d=Math.cos(u),p=f[0],S=f[1],C=f[2],E=f[3],R=f[8],M=f[9],D=f[10],B=f[11];return f[0]=p*d-R*c,f[1]=S*d-M*c,f[2]=C*d-D*c,f[3]=E*d-B*c,f[8]=p*c+R*d,f[9]=S*c+M*d,f[10]=C*c+D*d,f[11]=E*c+B*d,this},rotateZ:function(u){var f=this.val,c=Math.sin(u),d=Math.cos(u),p=f[0],S=f[1],C=f[2],E=f[3],R=f[4],M=f[5],D=f[6],B=f[7];return f[0]=p*d+R*c,f[1]=S*d+M*c,f[2]=C*d+D*c,f[3]=E*d+B*c,f[4]=R*d-p*c,f[5]=M*d-S*c,f[6]=D*d-C*c,f[7]=B*d-E*c,this},fromRotationTranslation:function(u,f){var c=u.x,d=u.y,p=u.z,S=u.w,C=c+c,E=d+d,R=p+p,M=c*C,D=c*E,B=c*R,b=d*E,I=d*R,N=p*R,z=S*C,H=S*E,X=S*R;return this.setValues(1-(b+N),D+X,B-H,0,D-X,1-(M+N),I+z,0,B+H,I-z,1-(M+b),0,f.x,f.y,f.z,1)},fromQuat:function(u){var f=u.x,c=u.y,d=u.z,p=u.w,S=f+f,C=c+c,E=d+d,R=f*S,M=f*C,D=f*E,B=c*C,b=c*E,I=d*E,N=p*S,z=p*C,H=p*E;return this.setValues(1-(B+I),M+H,D-z,0,M-H,1-(R+I),b+N,0,D+z,b-N,1-(R+B),0,0,0,0,1)},frustum:function(u,f,c,d,p,S){var C=1/(f-u),E=1/(d-c),R=1/(p-S);return this.setValues(p*2*C,0,0,0,0,p*2*E,0,0,(f+u)*C,(d+c)*E,(S+p)*R,-1,0,0,S*p*2*R,0)},perspective:function(u,f,c,d){var p=1/Math.tan(u/2),S=1/(c-d);return this.setValues(p/f,0,0,0,0,p,0,0,0,0,(d+c)*S,-1,0,0,2*d*c*S,0)},perspectiveLH:function(u,f,c,d){return this.setValues(2*c/u,0,0,0,0,2*c/f,0,0,0,0,-d/(c-d),1,0,0,c*d/(c-d),0)},ortho:function(u,f,c,d,p,S){var C=u-f,E=c-d,R=p-S;return C=C===0?C:1/C,E=E===0?E:1/E,R=R===0?R:1/R,this.setValues(-2*C,0,0,0,0,-2*E,0,0,0,0,2*R,0,(u+f)*C,(d+c)*E,(S+p)*R,1)},lookAtRH:function(u,f,c){var d=this.val;return s.subVectors(u,f),s.lengthSq()===0&&(s.z=1),s.normalize(),a.crossVectors(c,s),a.lengthSq()===0&&(Math.abs(c.z)===1?s.x+=1e-4:s.z+=1e-4,s.normalize(),a.crossVectors(c,s)),a.normalize(),l.crossVectors(s,a),d[0]=a.x,d[1]=a.y,d[2]=a.z,d[4]=l.x,d[5]=l.y,d[6]=l.z,d[8]=s.x,d[9]=s.y,d[10]=s.z,this},lookAt:function(u,f,c){var d=u.x,p=u.y,S=u.z,C=c.x,E=c.y,R=c.z,M=f.x,D=f.y,B=f.z;if(Math.abs(d-M)<r&&Math.abs(p-D)<r&&Math.abs(S-B)<r)return this.identity();var b=d-M,I=p-D,N=S-B,z=1/Math.sqrt(b*b+I*I+N*N);b*=z,I*=z,N*=z;var H=E*N-R*I,X=R*b-C*N,W=C*I-E*b;z=Math.sqrt(H*H+X*X+W*W),z?(z=1/z,H*=z,X*=z,W*=z):(H=0,X=0,W=0);var V=I*W-N*X,U=N*H-b*W,F=b*X-I*H;return z=Math.sqrt(V*V+U*U+F*F),z?(z=1/z,V*=z,U*=z,F*=z):(V=0,U=0,F=0),this.setValues(H,V,b,0,X,U,I,0,W,F,N,0,-(H*d+X*p+W*S),-(V*d+U*p+F*S),-(b*d+I*p+N*S),1)},yawPitchRoll:function(u,f,c){this.zero(),i.zero(),e.zero();var d=this.val,p=i.val,S=e.val,C=Math.sin(c),E=Math.cos(c);return d[10]=1,d[15]=1,d[0]=E,d[1]=C,d[4]=-C,d[5]=E,C=Math.sin(f),E=Math.cos(f),p[0]=1,p[15]=1,p[5]=E,p[10]=E,p[9]=-C,p[6]=C,C=Math.sin(u),E=Math.cos(u),S[5]=1,S[15]=1,S[0]=E,S[2]=-C,S[8]=C,S[10]=E,this.multiplyLocal(i),this.multiplyLocal(e),this},setWorldMatrix:function(u,f,c,d,p){return this.yawPitchRoll(u.y,u.x,u.z),i.scaling(c.x,c.y,c.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(i),this.multiplyLocal(e),d&&this.multiplyLocal(d),p&&this.multiplyLocal(p),this},multiplyToMat4:function(u,f){var c=this.val,d=u.val,p=c[0],S=c[1],C=c[2],E=c[3],R=c[4],M=c[5],D=c[6],B=c[7],b=c[8],I=c[9],N=c[10],z=c[11],H=c[12],X=c[13],W=c[14],V=c[15],U=d[0],F=d[1],k=d[2],Y=d[3],Z=d[4],j=d[5],J=d[6],q=d[7],et=d[8],it=d[9],at=d[10],ut=d[11],dt=d[12],ft=d[13],xt=d[14],At=d[15];return f.setValues(U*p+F*R+k*b+Y*H,F*S+F*M+k*I+Y*X,k*C+F*D+k*N+Y*W,Y*E+F*B+k*z+Y*V,Z*p+j*R+J*b+q*H,Z*S+j*M+J*I+q*X,Z*C+j*D+J*N+q*W,Z*E+j*B+J*z+q*V,et*p+it*R+at*b+ut*H,et*S+it*M+at*I+ut*X,et*C+it*D+at*N+ut*W,et*E+it*B+at*z+ut*V,dt*p+ft*R+xt*b+At*H,dt*S+ft*M+xt*I+At*X,dt*C+ft*D+xt*N+At*W,dt*E+ft*B+xt*z+At*V)},fromRotationXYTranslation:function(u,f,c){var d=f.x,p=f.y,S=f.z,C=Math.sin(u.x),E=Math.cos(u.x),R=Math.sin(u.y),M=Math.cos(u.y),D=d,B=p,b=S,I=-C,N=0-I*R,z=0-E*R,H=I*M,X=E*M;return c||(D=M*d+R*S,B=N*d+E*p+H*S,b=z*d+C*p+X*S),this.setValues(M,N,z,0,0,E,C,0,R,H,X,0,D,B,b,1)},getMaxScaleOnAxis:function(){var u=this.val,f=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],c=u[4]*u[4]+u[5]*u[5]+u[6]*u[6],d=u[8]*u[8]+u[9]*u[9]+u[10]*u[10];return Math.sqrt(Math.max(f,c,d))}}),i=new n,e=new n,a=new v,l=new v,s=new v;h.exports=n}),86883:(h=>{var x=function(t,o,v){return Math.min(t+o,v)};h.exports=x}),50040:(h=>{var x=function(t){var o=t.length;if(o===0)return 0;t.sort(function(r,n){return r-n});var v=Math.floor(o/2);return o%2===0?(t[v]+t[v-1])/2:t[v]};h.exports=x}),37204:(h=>{var x=function(t,o,v){return Math.max(t-o,v)};h.exports=x}),65201:(h=>{var x=function(t,o,v,r){v===void 0&&(v=o+1);var n=(t-o)/(v-o);return n>1?r!==void 0?(n=(r-t)/(r-v),n<0&&(n=0)):n=1:n<0&&(n=0),n};h.exports=x}),15746:((h,x,t)=>{var o=t(83419),v=t(94434),r=t(29747),n=t(25836),i=1e-6,e=new Int8Array([1,2,0]),a=new Float32Array([0,0,0]),l=new n(1,0,0),s=new n(0,1,0),u=new n,f=new v,c=new o({initialize:function(p,S,C,E){this.onChangeCallback=r,this.set(p,S,C,E)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,p,S,C,E){return E===void 0&&(E=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=p||0,this._z=S||0,this._w=C||0),E&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,p=this.y,S=this.z,C=this.w;return Math.sqrt(d*d+p*p+S*S+C*C)},lengthSq:function(){var d=this.x,p=this.y,S=this.z,C=this.w;return d*d+p*p+S*S+C*C},normalize:function(){var d=this.x,p=this.y,S=this.z,C=this.w,E=d*d+p*p+S*S+C*C;return E>0&&(E=1/Math.sqrt(E),this._x=d*E,this._y=p*E,this._z=S*E,this._w=C*E),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,p){p===void 0&&(p=0);var S=this.x,C=this.y,E=this.z,R=this.w;return this.set(S+p*(d.x-S),C+p*(d.y-C),E+p*(d.z-E),R+p*(d.w-R))},rotationTo:function(d,p){var S=d.x*p.x+d.y*p.y+d.z*p.z;return S<-.999999?(u.copy(l).cross(d).length()<i&&u.copy(s).cross(d),u.normalize(),this.setAxisAngle(u,Math.PI)):S>.999999?this.set(0,0,0,1):(u.copy(d).cross(p),this._x=u.x,this._y=u.y,this._z=u.z,this._w=1+S,this.normalize())},setAxes:function(d,p,S){var C=f.val;return C[0]=p.x,C[3]=p.y,C[6]=p.z,C[1]=S.x,C[4]=S.y,C[7]=S.z,C[2]=-d.x,C[5]=-d.y,C[8]=-d.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,p){p=p*.5;var S=Math.sin(p);return this.set(S*d.x,S*d.y,S*d.z,Math.cos(p))},multiply:function(d){var p=this.x,S=this.y,C=this.z,E=this.w,R=d.x,M=d.y,D=d.z,B=d.w;return this.set(p*B+E*R+S*D-C*M,S*B+E*M+C*R-p*D,C*B+E*D+p*M-S*R,E*B-p*R-S*M-C*D)},slerp:function(d,p){var S=this.x,C=this.y,E=this.z,R=this.w,M=d.x,D=d.y,B=d.z,b=d.w,I=S*M+C*D+E*B+R*b;I<0&&(I=-I,M=-M,D=-D,B=-B,b=-b);var N=1-p,z=p;if(1-I>i){var H=Math.acos(I),X=Math.sin(H);N=Math.sin((1-p)*H)/X,z=Math.sin(p*H)/X}return this.set(N*S+z*M,N*C+z*D,N*E+z*B,N*R+z*b)},invert:function(){var d=this.x,p=this.y,S=this.z,C=this.w,E=d*d+p*p+S*S+C*C,R=E?1/E:0;return this.set(-d*R,-p*R,-S*R,C*R)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var p=this.x,S=this.y,C=this.z,E=this.w,R=Math.sin(d),M=Math.cos(d);return this.set(p*M+E*R,S*M+C*R,C*M-S*R,E*M-p*R)},rotateY:function(d){d*=.5;var p=this.x,S=this.y,C=this.z,E=this.w,R=Math.sin(d),M=Math.cos(d);return this.set(p*M-C*R,S*M+E*R,C*M+p*R,E*M-S*R)},rotateZ:function(d){d*=.5;var p=this.x,S=this.y,C=this.z,E=this.w,R=Math.sin(d),M=Math.cos(d);return this.set(p*M+S*R,S*M-p*R,C*M+E*R,E*M-C*R)},calculateW:function(){var d=this.x,p=this.y,S=this.z;return this.w=-Math.sqrt(1-d*d-p*p-S*S),this},setFromEuler:function(d,p){var S=d.x/2,C=d.y/2,E=d.z/2,R=Math.cos(S),M=Math.cos(C),D=Math.cos(E),B=Math.sin(S),b=Math.sin(C),I=Math.sin(E);switch(d.order){case"XYZ":{this.set(B*M*D+R*b*I,R*b*D-B*M*I,R*M*I+B*b*D,R*M*D-B*b*I,p);break}case"YXZ":{this.set(B*M*D+R*b*I,R*b*D-B*M*I,R*M*I-B*b*D,R*M*D+B*b*I,p);break}case"ZXY":{this.set(B*M*D-R*b*I,R*b*D+B*M*I,R*M*I+B*b*D,R*M*D-B*b*I,p);break}case"ZYX":{this.set(B*M*D-R*b*I,R*b*D+B*M*I,R*M*I-B*b*D,R*M*D+B*b*I,p);break}case"YZX":{this.set(B*M*D+R*b*I,R*b*D+B*M*I,R*M*I-B*b*D,R*M*D-B*b*I,p);break}case"XZY":{this.set(B*M*D-R*b*I,R*b*D-B*M*I,R*M*I+B*b*D,R*M*D+B*b*I,p);break}}return this},setFromRotationMatrix:function(d){var p=d.val,S=p[0],C=p[4],E=p[8],R=p[1],M=p[5],D=p[9],B=p[2],b=p[6],I=p[10],N=S+M+I,z;return N>0?(z=.5/Math.sqrt(N+1),this.set((b-D)*z,(E-B)*z,(R-C)*z,.25/z)):S>M&&S>I?(z=2*Math.sqrt(1+S-M-I),this.set(.25*z,(C+R)/z,(E+B)/z,(b-D)/z)):M>I?(z=2*Math.sqrt(1+M-S-I),this.set((C+R)/z,.25*z,(D+b)/z,(E-B)/z)):(z=2*Math.sqrt(1+I-S-M),this.set((E+B)/z,(D+b)/z,.25*z,(R-C)/z)),this},fromMat3:function(d){var p=d.val,S=p[0]+p[4]+p[8],C;if(S>0)C=Math.sqrt(S+1),this.w=.5*C,C=.5/C,this._x=(p[7]-p[5])*C,this._y=(p[2]-p[6])*C,this._z=(p[3]-p[1])*C;else{var E=0;p[4]>p[0]&&(E=1),p[8]>p[E*3+E]&&(E=2);var R=e[E],M=e[R];C=Math.sqrt(p[E*3+E]-p[R*3+R]-p[M*3+M]+1),a[E]=.5*C,C=.5/C,a[R]=(p[R*3+E]+p[E*3+R])*C,a[M]=(p[M*3+E]+p[E*3+M])*C,this._x=a[0],this._y=a[1],this._z=a[2],this._w=(p[M*3+R]-p[R*3+M])*C}return this.onChangeCallback(this),this}});h.exports=c}),43396:((h,x,t)=>{var o=t(36383),v=function(r){return r*o.RAD_TO_DEG};h.exports=v}),74362:(h=>{var x=function(t,o){o===void 0&&(o=1);var v=Math.random()*2*Math.PI;return t.x=Math.cos(v)*o,t.y=Math.sin(v)*o,t};h.exports=x}),60706:(h=>{var x=function(t,o){o===void 0&&(o=1);var v=Math.random()*2*Math.PI,r=Math.random()*2-1,n=Math.sqrt(1-r*r)*o;return t.x=Math.cos(v)*n,t.y=Math.sin(v)*n,t.z=r*o,t};h.exports=x}),67421:(h=>{var x=function(t,o){return o===void 0&&(o=1),t.x=(Math.random()*2-1)*o,t.y=(Math.random()*2-1)*o,t.z=(Math.random()*2-1)*o,t.w=(Math.random()*2-1)*o,t};h.exports=x}),36305:(h=>{var x=function(t,o){var v=t.x,r=t.y;return t.x=v*Math.cos(o)-r*Math.sin(o),t.y=v*Math.sin(o)+r*Math.cos(o),t};h.exports=x}),11520:(h=>{var x=function(t,o,v,r){var n=Math.cos(r),i=Math.sin(r),e=t.x-o,a=t.y-v;return t.x=e*n-a*i+o,t.y=e*i+a*n+v,t};h.exports=x}),1163:(h=>{var x=function(t,o,v,r,n){var i=r+Math.atan2(t.y-v,t.x-o);return t.x=o+n*Math.cos(i),t.y=v+n*Math.sin(i),t};h.exports=x}),70336:(h=>{var x=function(t,o,v,r,n){return t.x=o+n*Math.cos(r),t.y=v+n*Math.sin(r),t};h.exports=x}),72678:((h,x,t)=>{var o=t(25836),v=t(37867),r=t(15746),n=new v,i=new r,e=new o,a=function(l,s,u){return i.setAxisAngle(s,u),n.fromRotationTranslation(i,e.set(0,0,0)),l.transformMat4(n)};h.exports=a}),2284:(h=>{var x=function(t){return t>0?Math.ceil(t):Math.floor(t)};h.exports=x}),41013:(h=>{var x=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var r=Math.pow(v,-o);return Math.round(t*r)/r};h.exports=x}),16922:(h=>{var x=function(t,o,v,r){o===void 0&&(o=1),v===void 0&&(v=1),r===void 0&&(r=1),r*=Math.PI/t;for(var n=[],i=[],e=0;e<t;e++)v-=o*r,o+=v*r,n[e]=v,i[e]=o;return{sin:i,cos:n,length:t}};h.exports=x}),7602:(h=>{var x=function(t,o,v){return t<=o?0:t>=v?1:(t=(t-o)/(v-o),t*t*(3-2*t))};h.exports=x}),54261:(h=>{var x=function(t,o,v){return t=Math.max(0,Math.min(1,(t-o)/(v-o))),t*t*t*(t*(t*6-15)+10)};h.exports=x}),44408:((h,x,t)=>{var o=t(26099),v=function(r,n,i,e){e===void 0&&(e=new o);var a=0,l=0,s=n*i;return r>0&&r<=s&&(r>n-1?(l=Math.floor(r/n),a=r-l*n):a=r),e.set(a,l)};h.exports=v}),85955:((h,x,t)=>{var o=t(26099),v=function(r,n,i,e,a,l,s,u){u===void 0&&(u=new o);var f=Math.sin(a),c=Math.cos(a),d=c*l,p=f*l,S=-f*s,C=c*s,E=1/(d*C+S*-p);return u.x=C*E*r+-S*E*n+(e*S-i*C)*E,u.y=d*E*n+-p*E*r+(-e*d+i*p)*E,u};h.exports=v}),26099:((h,x,t)=>{var o=t(83419),v=t(43855),r=new o({initialize:function(i,e){this.x=0,this.y=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0):(e===void 0&&(e=i),this.x=i||0,this.y=e||0)},clone:function(){return new r(this.x,this.y)},copy:function(n){return this.x=n.x||0,this.y=n.y||0,this},setFromObject:function(n){return this.x=n.x||0,this.y=n.y||0,this},set:function(n,i){return i===void 0&&(i=n),this.x=n,this.y=i,this},setTo:function(n,i){return this.set(n,i)},setToPolar:function(n,i){return i==null&&(i=1),this.x=Math.cos(n)*i,this.y=Math.sin(n)*i,this},equals:function(n){return this.x===n.x&&this.y===n.y},fuzzyEquals:function(n,i){return v(this.x,n.x,i)&&v(this.y,n.y,i)},angle:function(){var n=Math.atan2(this.y,this.x);return n<0&&(n+=2*Math.PI),n},setAngle:function(n){return this.setToPolar(n,this.length())},add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.x-=n.x,this.y-=n.y,this},multiply:function(n){return this.x*=n.x,this.y*=n.y,this},scale:function(n){return isFinite(n)?(this.x*=n,this.y*=n):(this.x=0,this.y=0),this},divide:function(n){return this.x/=n.x,this.y/=n.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(n){var i=n.x-this.x,e=n.y-this.y;return Math.sqrt(i*i+e*e)},distanceSq:function(n){var i=n.x-this.x,e=n.y-this.y;return i*i+e*e},length:function(){var n=this.x,i=this.y;return Math.sqrt(n*n+i*i)},setLength:function(n){return this.normalize().scale(n)},lengthSq:function(){var n=this.x,i=this.y;return n*n+i*i},normalize:function(){var n=this.x,i=this.y,e=n*n+i*i;return e>0&&(e=1/Math.sqrt(e),this.x=n*e,this.y=i*e),this},normalizeRightHand:function(){var n=this.x;return this.x=this.y*-1,this.y=n,this},normalizeLeftHand:function(){var n=this.x;return this.x=this.y,this.y=n*-1,this},dot:function(n){return this.x*n.x+this.y*n.y},cross:function(n){return this.x*n.y-this.y*n.x},lerp:function(n,i){i===void 0&&(i=0);var e=this.x,a=this.y;return this.x=e+i*(n.x-e),this.y=a+i*(n.y-a),this},transformMat3:function(n){var i=this.x,e=this.y,a=n.val;return this.x=a[0]*i+a[3]*e+a[6],this.y=a[1]*i+a[4]*e+a[7],this},transformMat4:function(n){var i=this.x,e=this.y,a=n.val;return this.x=a[0]*i+a[4]*e+a[12],this.y=a[1]*i+a[5]*e+a[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(n){var i=this.length();return i&&i>n&&this.scale(n/i),this},reflect:function(n){return n=n.clone().normalize(),this.subtract(n.scale(2*this.dot(n)))},mirror:function(n){return this.reflect(n).negate()},rotate:function(n){var i=Math.cos(n),e=Math.sin(n);return this.set(i*this.x-e*this.y,e*this.x+i*this.y)},project:function(n){var i=this.dot(n)/n.dot(n);return this.copy(n).scale(i)}});r.ZERO=new r,r.RIGHT=new r(1,0),r.LEFT=new r(-1,0),r.UP=new r(0,-1),r.DOWN=new r(0,1),r.ONE=new r(1,1),h.exports=r}),25836:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e){this.x=0,this.y=0,this.z=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0,this.z=n.z||0):(this.x=n||0,this.y=i||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this},max:function(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(r,n){return this.x=r.x+n.x,this.y=r.y+n.y,this.z=r.z+n.z,this},subVectors:function(r,n){return this.x=r.x-n.x,this.y=r.y-n.y,this.z=r.z-n.z,this},crossVectors:function(r,n){var i=r.x,e=r.y,a=r.z,l=n.x,s=n.y,u=n.z;return this.x=e*u-a*s,this.y=a*l-i*u,this.z=i*s-e*l,this},equals:function(r){return this.x===r.x&&this.y===r.y&&this.z===r.z},copy:function(r){return this.x=r.x,this.y=r.y,this.z=r.z||0,this},set:function(r,n,i){return typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=n||0,this.z=i||0),this},setFromMatrixPosition:function(r){return this.fromArray(r.val,12)},setFromMatrixColumn:function(r,n){return this.fromArray(r.val,n*4)},fromArray:function(r,n){return n===void 0&&(n=0),this.x=r[n],this.y=r[n+1],this.z=r[n+2],this},add:function(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z||0,this},addScalar:function(r){return this.x+=r,this.y+=r,this.z+=r,this},addScale:function(r,n){return this.x+=r.x*n,this.y+=r.y*n,this.z+=r.z*n||0,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z||0,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z||1,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r,this.z*=r):(this.x=0,this.y=0,this.z=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(r){var n=r.x-this.x,i=r.y-this.y,e=r.z-this.z||0;return Math.sqrt(n*n+i*i+e*e)},distanceSq:function(r){var n=r.x-this.x,i=r.y-this.y,e=r.z-this.z||0;return n*n+i*i+e*e},length:function(){var r=this.x,n=this.y,i=this.z;return Math.sqrt(r*r+n*n+i*i)},lengthSq:function(){var r=this.x,n=this.y,i=this.z;return r*r+n*n+i*i},normalize:function(){var r=this.x,n=this.y,i=this.z,e=r*r+n*n+i*i;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=n*e,this.z=i*e),this},dot:function(r){return this.x*r.x+this.y*r.y+this.z*r.z},cross:function(r){var n=this.x,i=this.y,e=this.z,a=r.x,l=r.y,s=r.z;return this.x=i*s-e*l,this.y=e*a-n*s,this.z=n*l-i*a,this},lerp:function(r,n){n===void 0&&(n=0);var i=this.x,e=this.y,a=this.z;return this.x=i+n*(r.x-i),this.y=e+n*(r.y-e),this.z=a+n*(r.z-a),this},applyMatrix3:function(r){var n=this.x,i=this.y,e=this.z,a=r.val;return this.x=a[0]*n+a[3]*i+a[6]*e,this.y=a[1]*n+a[4]*i+a[7]*e,this.z=a[2]*n+a[5]*i+a[8]*e,this},applyMatrix4:function(r){var n=this.x,i=this.y,e=this.z,a=r.val,l=1/(a[3]*n+a[7]*i+a[11]*e+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*e+a[12])*l,this.y=(a[1]*n+a[5]*i+a[9]*e+a[13])*l,this.z=(a[2]*n+a[6]*i+a[10]*e+a[14])*l,this},transformMat3:function(r){var n=this.x,i=this.y,e=this.z,a=r.val;return this.x=n*a[0]+i*a[3]+e*a[6],this.y=n*a[1]+i*a[4]+e*a[7],this.z=n*a[2]+i*a[5]+e*a[8],this},transformMat4:function(r){var n=this.x,i=this.y,e=this.z,a=r.val;return this.x=a[0]*n+a[4]*i+a[8]*e+a[12],this.y=a[1]*n+a[5]*i+a[9]*e+a[13],this.z=a[2]*n+a[6]*i+a[10]*e+a[14],this},transformCoordinates:function(r){var n=this.x,i=this.y,e=this.z,a=r.val,l=n*a[0]+i*a[4]+e*a[8]+a[12],s=n*a[1]+i*a[5]+e*a[9]+a[13],u=n*a[2]+i*a[6]+e*a[10]+a[14],f=n*a[3]+i*a[7]+e*a[11]+a[15];return this.x=l/f,this.y=s/f,this.z=u/f,this},transformQuat:function(r){var n=this.x,i=this.y,e=this.z,a=r.x,l=r.y,s=r.z,u=r.w,f=u*n+l*e-s*i,c=u*i+s*n-a*e,d=u*e+a*i-l*n,p=-a*n-l*i-s*e;return this.x=f*u+p*-a+c*-s-d*-l,this.y=c*u+p*-l+d*-a-f*-s,this.z=d*u+p*-s+f*-l-c*-a,this},project:function(r){var n=this.x,i=this.y,e=this.z,a=r.val,l=a[0],s=a[1],u=a[2],f=a[3],c=a[4],d=a[5],p=a[6],S=a[7],C=a[8],E=a[9],R=a[10],M=a[11],D=a[12],B=a[13],b=a[14],I=a[15],N=1/(n*f+i*S+e*M+I);return this.x=(n*l+i*c+e*C+D)*N,this.y=(n*s+i*d+e*E+B)*N,this.z=(n*u+i*p+e*R+b)*N,this},projectViewMatrix:function(r,n){return this.applyMatrix4(r).applyMatrix4(n)},unprojectViewMatrix:function(r,n){return this.applyMatrix4(r).applyMatrix4(n)},unproject:function(r,n){var i=r.x,e=r.y,a=r.z,l=r.w,s=this.x-i,u=l-this.y-1-e,f=this.z;return this.x=2*s/a-1,this.y=2*u/l-1,this.z=2*f-1,this.project(n)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),h.exports=v}),61369:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e,a){this.x=0,this.y=0,this.z=0,this.w=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0,this.z=n.z||0,this.w=n.w||0):(this.x=n||0,this.y=i||0,this.z=e||0,this.w=a||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(r){return this.x=r.x,this.y=r.y,this.z=r.z||0,this.w=r.w||0,this},equals:function(r){return this.x===r.x&&this.y===r.y&&this.z===r.z&&this.w===r.w},set:function(r,n,i,e){return typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=n||0,this.z=i||0,this.w=e||0),this},add:function(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z||0,this.w+=r.w||0,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z||0,this.w-=r.w||0,this},scale:function(r){return this.x*=r,this.y*=r,this.z*=r,this.w*=r,this},length:function(){var r=this.x,n=this.y,i=this.z,e=this.w;return Math.sqrt(r*r+n*n+i*i+e*e)},lengthSq:function(){var r=this.x,n=this.y,i=this.z,e=this.w;return r*r+n*n+i*i+e*e},normalize:function(){var r=this.x,n=this.y,i=this.z,e=this.w,a=r*r+n*n+i*i+e*e;return a>0&&(a=1/Math.sqrt(a),this.x=r*a,this.y=n*a,this.z=i*a,this.w=e*a),this},dot:function(r){return this.x*r.x+this.y*r.y+this.z*r.z+this.w*r.w},lerp:function(r,n){n===void 0&&(n=0);var i=this.x,e=this.y,a=this.z,l=this.w;return this.x=i+n*(r.x-i),this.y=e+n*(r.y-e),this.z=a+n*(r.z-a),this.w=l+n*(r.w-l),this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z||1,this.w*=r.w||1,this},divide:function(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z||1,this.w/=r.w||1,this},distance:function(r){var n=r.x-this.x,i=r.y-this.y,e=r.z-this.z||0,a=r.w-this.w||0;return Math.sqrt(n*n+i*i+e*e+a*a)},distanceSq:function(r){var n=r.x-this.x,i=r.y-this.y,e=r.z-this.z||0,a=r.w-this.w||0;return n*n+i*i+e*e+a*a},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(r){var n=this.x,i=this.y,e=this.z,a=this.w,l=r.val;return this.x=l[0]*n+l[4]*i+l[8]*e+l[12]*a,this.y=l[1]*n+l[5]*i+l[9]*e+l[13]*a,this.z=l[2]*n+l[6]*i+l[10]*e+l[14]*a,this.w=l[3]*n+l[7]*i+l[11]*e+l[15]*a,this},transformQuat:function(r){var n=this.x,i=this.y,e=this.z,a=r.x,l=r.y,s=r.z,u=r.w,f=u*n+l*e-s*i,c=u*i+s*n-a*e,d=u*e+a*i-l*n,p=-a*n-l*i-s*e;return this.x=f*u+p*-a+c*-s-d*-l,this.y=c*u+p*-l+d*-a-f*-s,this.z=d*u+p*-s+f*-l-c*-a,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,h.exports=v}),60417:(h=>{var x=function(t,o,v){return Math.abs(t-o)<=v};h.exports=x}),15994:(h=>{var x=function(t,o,v){var r=v-o;return o+((t-o)%r+r)%r};h.exports=x}),31040:(h=>{var x=function(t,o,v,r){return Math.atan2(r-o,v-t)};h.exports=x}),55495:(h=>{var x=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)};h.exports=x}),128:(h=>{var x=function(t,o){return Math.atan2(o.x-t.x,o.y-t.y)};h.exports=x}),41273:(h=>{var x=function(t,o,v,r){return Math.atan2(v-t,r-o)};h.exports=x}),1432:((h,x,t)=>{var o=t(36383),v=function(r){return r>Math.PI&&(r-=o.PI2),Math.abs(((r+o.TAU)%o.PI2-o.PI2)%o.PI2)};h.exports=v}),49127:((h,x,t)=>{var o=t(12407),v=function(r,n){return o(n-r)};h.exports=v}),52285:((h,x,t)=>{var o=t(12407),v=2*Math.PI,r=function(n,i){var e=o(i-n);return e>0&&(e-=v),e};h.exports=r}),67317:((h,x,t)=>{var o=t(86554),v=function(r,n){return o(n-r)};h.exports=v}),12407:(h=>{var x=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};h.exports=x}),53993:((h,x,t)=>{var o=t(99472),v=function(){return o(-Math.PI,Math.PI)};h.exports=v}),86564:((h,x,t)=>{var o=t(99472),v=function(){return o(-180,180)};h.exports=v}),90154:((h,x,t)=>{var o=t(12407),v=function(r){return o(r+Math.PI)};h.exports=v}),48736:((h,x,t)=>{var o=t(36383),v=function(r,n,i){return i===void 0&&(i=.05),r===n||(Math.abs(n-r)<=i||Math.abs(n-r)>=o.PI2-i?r=n:(Math.abs(n-r)>Math.PI&&(n<r?n+=o.PI2:n-=o.PI2),n>r?r+=i:n<r&&(r-=i))),r};h.exports=v}),61430:(h=>{var x=function(t,o){var v=o-t;if(v===0)return 0;var r=Math.floor((v- -180)/360);return v-r*360};h.exports=x}),86554:((h,x,t)=>{var o=t(15994),v=function(r){return o(r,-Math.PI,Math.PI)};h.exports=v}),30954:((h,x,t)=>{var o=t(15994),v=function(r){return o(r,-180,180)};h.exports=v}),25588:((h,x,t)=>{h.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),GetClockwiseDistance:t(49127),GetCounterClockwiseDistance:t(52285),GetShortestDistance:t(67317),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}}),36383:(h=>{var x={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};h.exports=x}),20339:(h=>{var x=function(t,o,v,r){var n=t-v,i=o-r;return Math.sqrt(n*n+i*i)};h.exports=x}),52816:(h=>{var x=function(t,o){var v=t.x-o.x,r=t.y-o.y;return Math.sqrt(v*v+r*r)};h.exports=x}),64559:(h=>{var x=function(t,o){var v=t.x-o.x,r=t.y-o.y;return v*v+r*r};h.exports=x}),82340:(h=>{var x=function(t,o,v,r){return Math.max(Math.abs(t-v),Math.abs(o-r))};h.exports=x}),14390:(h=>{var x=function(t,o,v,r,n){return n===void 0&&(n=2),Math.sqrt(Math.pow(v-t,n)+Math.pow(r-o,n))};h.exports=x}),2243:(h=>{var x=function(t,o,v,r){return Math.abs(t-v)+Math.abs(o-r)};h.exports=x}),89774:(h=>{var x=function(t,o,v,r){var n=t-v,i=o-r;return n*n+i*i};h.exports=x}),50994:((h,x,t)=>{h.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}}),62640:((h,x,t)=>{var o=t(54178),v=t(41521),r=t(79980),n=t(85433),i=t(99140),e=t(48857),a=t(81596),l=t(59133),s=t(98516),u=t(35248),f=t(82500),c=t(49752);h.exports={Power0:a,Power1:l.Out,Power2:n.Out,Power3:s.Out,Power4:u.Out,Linear:a,Quad:l.Out,Cubic:n.Out,Quart:s.Out,Quint:u.Out,Sine:f.Out,Expo:e.Out,Circ:r.Out,Elastic:i.Out,Back:o.Out,Bounce:v.Out,Stepped:c,"Quad.easeIn":l.In,"Cubic.easeIn":n.In,"Quart.easeIn":s.In,"Quint.easeIn":u.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":r.In,"Elastic.easeIn":i.In,"Back.easeIn":o.In,"Bounce.easeIn":v.In,"Quad.easeOut":l.Out,"Cubic.easeOut":n.Out,"Quart.easeOut":s.Out,"Quint.easeOut":u.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":r.Out,"Elastic.easeOut":i.Out,"Back.easeOut":o.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":n.InOut,"Quart.easeInOut":s.InOut,"Quint.easeInOut":u.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":r.InOut,"Elastic.easeInOut":i.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":v.InOut}}),1639:(h=>{var x=function(t,o){return o===void 0&&(o=1.70158),t*t*((o+1)*t-o)};h.exports=x}),50099:(h=>{var x=function(t,o){o===void 0&&(o=1.70158);var v=o*1.525;return(t*=2)<1?.5*(t*t*((v+1)*t-v)):.5*((t-=2)*t*((v+1)*t+v)+2)};h.exports=x}),41286:(h=>{var x=function(t,o){return o===void 0&&(o=1.70158),--t*t*((o+1)*t+o)+1};h.exports=x}),54178:((h,x,t)=>{h.exports={In:t(1639),Out:t(41286),InOut:t(50099)}}),59590:(h=>{var x=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};h.exports=x}),41788:(h=>{var x=function(t){var o=!1;return t<.5?(t=1-t*2,o=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,o?(1-t)*.5:t*.5+.5};h.exports=x}),69905:(h=>{var x=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};h.exports=x}),41521:((h,x,t)=>{h.exports={In:t(59590),Out:t(69905),InOut:t(41788)}}),91861:(h=>{var x=function(t){return 1-Math.sqrt(1-t*t)};h.exports=x}),4177:(h=>{var x=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};h.exports=x}),57512:(h=>{var x=function(t){return Math.sqrt(1- --t*t)};h.exports=x}),79980:((h,x,t)=>{h.exports={In:t(91861),Out:t(57512),InOut:t(4177)}}),51150:(h=>{var x=function(t){return t*t*t};h.exports=x}),82820:(h=>{var x=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};h.exports=x}),35033:(h=>{var x=function(t){return--t*t*t+1};h.exports=x}),85433:((h,x,t)=>{h.exports={In:t(51150),Out:t(35033),InOut:t(82820)}}),69965:(h=>{var x=function(t,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var r=v/4;return o<1?o=1:r=v*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/v))};h.exports=x}),50665:(h=>{var x=function(t,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var r=v/4;return o<1?o=1:r=v*Math.asin(1/o)/(2*Math.PI),(t*=2)<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/v)):o*Math.pow(2,-10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/v)*.5+1};h.exports=x}),7744:(h=>{var x=function(t,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var r=v/4;return o<1?o=1:r=v*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*t)*Math.sin((t-r)*(2*Math.PI)/v)+1};h.exports=x}),99140:((h,x,t)=>{h.exports={In:t(69965),Out:t(7744),InOut:t(50665)}}),24590:(h=>{var x=function(t){return Math.pow(2,10*(t-1))-.001};h.exports=x}),87844:(h=>{var x=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};h.exports=x}),89433:(h=>{var x=function(t){return 1-Math.pow(2,-10*t)};h.exports=x}),48857:((h,x,t)=>{h.exports={In:t(24590),Out:t(89433),InOut:t(87844)}}),48820:((h,x,t)=>{h.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}}),7147:(h=>{var x=function(t){return t};h.exports=x}),81596:((h,x,t)=>{h.exports=t(7147)}),34826:(h=>{var x=function(t){return t*t};h.exports=x}),20544:(h=>{var x=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};h.exports=x}),92029:(h=>{var x=function(t){return t*(2-t)};h.exports=x}),59133:((h,x,t)=>{h.exports={In:t(34826),Out:t(92029),InOut:t(20544)}}),64413:(h=>{var x=function(t){return t*t*t*t};h.exports=x}),78137:(h=>{var x=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};h.exports=x}),45840:(h=>{var x=function(t){return 1- --t*t*t*t};h.exports=x}),98516:((h,x,t)=>{h.exports={In:t(64413),Out:t(45840),InOut:t(78137)}}),87745:(h=>{var x=function(t){return t*t*t*t*t};h.exports=x}),16509:(h=>{var x=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};h.exports=x}),17868:(h=>{var x=function(t){return--t*t*t*t*t+1};h.exports=x}),35248:((h,x,t)=>{h.exports={In:t(87745),Out:t(17868),InOut:t(16509)}}),80461:(h=>{var x=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};h.exports=x}),34025:(h=>{var x=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};h.exports=x}),52768:(h=>{var x=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};h.exports=x}),82500:((h,x,t)=>{h.exports={In:t(80461),Out:t(52768),InOut:t(34025)}}),72251:(h=>{var x=function(t,o){return o===void 0&&(o=1),t<=0?0:t>=1?1:((o*t|0)+1)*(1/o)};h.exports=x}),49752:((h,x,t)=>{h.exports=t(72251)}),75698:(h=>{var x=function(t,o){return o===void 0&&(o=1e-4),Math.ceil(t-o)};h.exports=x}),43855:(h=>{var x=function(t,o,v){return v===void 0&&(v=1e-4),Math.abs(t-o)<v};h.exports=x}),25777:(h=>{var x=function(t,o){return o===void 0&&(o=1e-4),Math.floor(t+o)};h.exports=x}),5470:(h=>{var x=function(t,o,v){return v===void 0&&(v=1e-4),t>o-v};h.exports=x}),94977:(h=>{var x=function(t,o,v){return v===void 0&&(v=1e-4),t<o+v};h.exports=x}),48379:((h,x,t)=>{h.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}}),75508:((h,x,t)=>{var o=t(36383),v=t(79291),r={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};r=v(!1,r,o),h.exports=r}),89318:((h,x,t)=>{var o=t(85710),v=function(r,n){for(var i=0,e=r.length-1,a=0;a<=e;a++)i+=Math.pow(1-n,e-a)*Math.pow(n,a)*r[a]*o(e,a);return i};h.exports=v}),77259:((h,x,t)=>{var o=t(87842),v=function(r,n){var i=r.length-1,e=i*n,a=Math.floor(e);return r[0]===r[i]?(n<0&&(a=Math.floor(e=i*(1+n))),o(e-a,r[(a-1+i)%i],r[a],r[(a+1)%i],r[(a+2)%i])):n<0?r[0]-(o(-e,r[0],r[0],r[1],r[1])-r[0]):n>1?r[i]-(o(e-i,r[i],r[i],r[i-1],r[i-1])-r[i]):o(e-a,r[a?a-1:0],r[a],r[i<a+1?i:a+1],r[i<a+2?i:a+2])};h.exports=v}),36316:(h=>{function x(n,i){var e=1-n;return e*e*e*i}function t(n,i){var e=1-n;return 3*e*e*n*i}function o(n,i){return 3*(1-n)*n*n*i}function v(n,i){return n*n*n*i}var r=function(n,i,e,a,l){return x(n,i)+t(n,e)+o(n,a)+v(n,l)};h.exports=r}),28392:((h,x,t)=>{var o=t(28915),v=function(r,n){var i=r.length-1,e=i*n,a=Math.floor(e);return n<0?o(r[0],r[1],e):n>1?o(r[i],r[i-1],i-e):o(r[a],r[a+1>i?i:a+1],e-a)};h.exports=v}),32112:(h=>{function x(r,n){var i=1-r;return i*i*n}function t(r,n){return 2*(1-r)*r*n}function o(r,n){return r*r*n}var v=function(r,n,i,e){return x(r,n)+t(r,i)+o(r,e)};h.exports=v}),47235:((h,x,t)=>{var o=t(7602),v=function(r,n,i){return n+(i-n)*o(r,0,1)};h.exports=v}),50178:((h,x,t)=>{var o=t(54261),v=function(r,n,i){return n+(i-n)*o(r,0,1)};h.exports=v}),38289:((h,x,t)=>{h.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}}),98439:(h=>{var x=function(t){var o=Math.log(t)/.6931471805599453;return 1<<Math.ceil(o)};h.exports=x}),50030:(h=>{var x=function(t,o){return t>0&&(t&t-1)===0&&o>0&&(o&o-1)===0};h.exports=x}),81230:(h=>{var x=function(t){return t>0&&(t&t-1)===0};h.exports=x}),49001:((h,x,t)=>{h.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}}),28453:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n){n===void 0&&(n=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],n&&this.init(n)},rnd:function(){var r=2091639*this.s0+this.c*23283064365386963e-26;return this.c=r|0,this.s0=this.s1,this.s1=this.s2,this.s2=r-this.c,this.s2},hash:function(r){var n,i=this.n;r=r.toString();for(var e=0;e<r.length;e++)i+=r.charCodeAt(e),n=.02519603282416938*i,i=n>>>0,n-=i,n*=i,i=n>>>0,n-=i,i+=n*4294967296;return this.n=i,(i>>>0)*23283064365386963e-26},init:function(r){typeof r=="string"?this.state(r):this.sow(r)},sow:function(r){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!r)for(var n=0;n<r.length&&r[n]!=null;n++){var i=r[n];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(r,n){return Math.floor(this.realInRange(0,n-r+1)+r)},between:function(r,n){return Math.floor(this.realInRange(0,n-r+1)+r)},realInRange:function(r,n){return this.frac()*(n-r)+r},normal:function(){return 1-2*this.frac()},uuid:function(){var r="",n="";for(n=r="";r++<36;n+=~r%5|r*3&4?(r^15?8^this.frac()*(r^20?16:4):4).toString(16):"-");return n},pick:function(r){return r[this.integerInRange(0,r.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(r){return r[~~(Math.pow(this.frac(),2)*(r.length-.5)+.5)]},timestamp:function(r,n){return this.realInRange(r||9466848e5,n||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(r){return typeof r=="string"&&r.match(/^!rnd/)&&(r=r.split(","),this.c=parseFloat(r[1]),this.s0=parseFloat(r[2]),this.s1=parseFloat(r[3]),this.s2=parseFloat(r[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(r){for(var n=r.length-1,i=n;i>0;i--){var e=Math.floor(this.frac()*(i+1)),a=r[e];r[e]=r[i],r[i]=a}return r}});h.exports=v}),63448:(h=>{var x=function(t,o,v,r){return v===void 0&&(v=0),o===0?t:(t-=v,t=o*Math.ceil(t/o),r?(v+t)/o:v+t)};h.exports=x}),56583:(h=>{var x=function(t,o,v,r){return v===void 0&&(v=0),o===0?t:(t-=v,t=o*Math.floor(t/o),r?(v+t)/o:v+t)};h.exports=x}),77720:(h=>{var x=function(t,o,v,r){return v===void 0&&(v=0),o===0?t:(t-=v,t=o*Math.round(t/o),r?(v+t)/o:v+t)};h.exports=x}),73697:((h,x,t)=>{h.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}}),85454:((h,x,t)=>{t(63595);var o=t(8054),v=t(79291),r={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};r.Sound=t(23717),r=v(!1,r,o),h.exports=r,t.g.Phaser=r}),71289:((h,x,t)=>{var o=t(83419),v=t(92209),r=t(88571),n=new o({Extends:r,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,a,l,s,u){r.call(this,e,a,l,s,u),this.body=null}});h.exports=n}),86689:((h,x,t)=>{var o=t(83419),v=t(39506),r=t(20339),n=t(89774),i=t(66022),e=t(95540),a=t(46975),l=t(72441),s=t(47956),u=t(37277),f=t(44594),c=t(26099),d=t(82248),p=new o({initialize:function(C){this.scene=C,this.systems=C.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,C.sys.events.once(f.BOOT,this.boot,this),C.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new i(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new i(this.world));var S=this.systems.events;e(this.config,"customUpdate",!1)||S.on(f.UPDATE,this.world.update,this.world),S.on(f.POST_UPDATE,this.world.postUpdate,this.world),S.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var S=this.systems.game.config.physics,C=this.systems.settings.physics,E=a(e(C,"arcade",{}),e(S,"arcade",{}));return E},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(S,C,E,R,M){return E===void 0&&(E=null),R===void 0&&(R=null),M===void 0&&(M=E),this.world.collideObjects(S,C,E,R,M,!0)},collide:function(S,C,E,R,M){return E===void 0&&(E=null),R===void 0&&(R=null),M===void 0&&(M=E),this.world.collideObjects(S,C,E,R,M,!1)},collideTiles:function(S,C,E,R,M){return this.world.collideTiles(S,C,E,R,M)},overlapTiles:function(S,C,E,R,M){return this.world.overlapTiles(S,C,E,R,M)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(S,C,E,R,M,D){R===void 0&&(R=60);var B=Math.atan2(E-S.y,C-S.x);return S.body.acceleration.setToPolar(B,R),M!==void 0&&D!==void 0&&S.body.maxVelocity.set(M,D),B},accelerateToObject:function(S,C,E,R,M){return this.accelerateTo(S,C.x,C.y,E,R,M)},closest:function(S,C){C||(C=this.world.bodies.entries);for(var E=Number.MAX_VALUE,R=null,M=S.x,D=S.y,B=C.length,b=0;b<B;b++){var I=C[b],N=I.body||I;if(!(S===I||S===N||S===N.gameObject||S===N.center)){var z=n(M,D,N.center.x,N.center.y);z<E&&(R=I,E=z)}}return R},furthest:function(S,C){C||(C=this.world.bodies.entries);for(var E=-1,R=null,M=S.x,D=S.y,B=C.length,b=0;b<B;b++){var I=C[b],N=I.body||I;if(!(S===I||S===N||S===N.gameObject||S===N.center)){var z=n(M,D,N.center.x,N.center.y);z>E&&(R=I,E=z)}}return R},moveTo:function(S,C,E,R,M){R===void 0&&(R=60),M===void 0&&(M=0);var D=Math.atan2(E-S.y,C-S.x);return M>0&&(R=r(S.x,S.y,C,E)/(M/1e3)),S.body.velocity.setToPolar(D,R),D},moveToObject:function(S,C,E,R){return this.moveTo(S,C.x,C.y,E,R)},velocityFromAngle:function(S,C,E){return C===void 0&&(C=60),E===void 0&&(E=new c),E.setToPolar(v(S),C)},velocityFromRotation:function(S,C,E){return C===void 0&&(C=60),E===void 0&&(E=new c),E.setToPolar(S,C)},overlapRect:function(S,C,E,R,M,D){return s(this.world,S,C,E,R,M,D)},overlapCirc:function(S,C,E,R,M){return l(this.world,S,C,E,R,M)},shutdown:function(){if(this.world){var S=this.systems.events;S.off(f.UPDATE,this.world.update,this.world),S.off(f.POST_UPDATE,this.world.postUpdate,this.world),S.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",p,"arcadePhysics"),h.exports=p}),13759:((h,x,t)=>{var o=t(83419),v=t(92209),r=t(68287),n=new o({Extends:r,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,a,l,s,u){r.call(this,e,a,l,s,u),this.body=null}});h.exports=n}),37742:((h,x,t)=>{var o=t(83419),v=t(78389),r=t(37747),n=t(63012),i=t(43396),e=t(87841),a=t(37303),l=t(95829),s=t(26099),u=new o({Mixins:[v],initialize:function(c,d){var p=64,S=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=d!==void 0;E&&d.displayWidth&&(p=d.displayWidth,S=d.displayHeight),E||(d=C),this.world=c,this.gameObject=E?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=c.defaults.debugShowBody,this.debugShowVelocity=c.defaults.debugShowVelocity,this.debugBodyColor=c.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=p,this.height=S,this.sourceWidth=p,this.sourceHeight=S,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(p/2),this.halfHeight=Math.abs(S/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=c.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=r.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new s(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,c=this.transform;if(f.parentContainer){var d=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);c.x=d.tx,c.y=d.ty,c.rotation=i(d.rotation),c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.displayOriginX=f.displayOriginX,c.displayOriginY=f.displayOriginY}else c.x=f.x,c.y=f.y,c.rotation=f.angle,c.scaleX=f.scaleX,c.scaleY=f.scaleY,c.displayOriginX=f.displayOriginX,c.displayOriginY=f.displayOriginY;var p=!1;if(this.syncBounds){var S=f.getBounds(this._bounds);this.width=S.width,this.height=S.height,p=!0}else{var C=Math.abs(c.scaleX),E=Math.abs(c.scaleY);(this._sx!==C||this._sy!==E)&&(this.width=this.sourceWidth*C,this.height=this.sourceHeight*E,this._sx=C,this._sy=E,p=!0)}p&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var c=this.wasTouching,d=this.touching,p=this.blocked;f?l(!0,c):(c.none=d.none,c.up=d.up,c.down=d.down,c.left=d.left,c.right=d.right),l(!0,d),l(!0,p),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,c){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}f&&this.update(c)},update:function(f){var c=this.prev,d=this.position,p=this.velocity;if(c.set(d.x,d.y),!this.moves){this._dx=d.x-c.x,this._dy=d.y-c.y;return}if(this.directControl){var S=this.autoFrame;p.set((d.x-S.x)/f,(d.y-S.y)/f),this.world.updateMotion(this,f),this._dx=d.x-S.x,this._dy=d.y-S.y}else this.world.updateMotion(this,f),this.newVelocity.set(p.x*f,p.y*f),d.add(this.newVelocity),this._dx=d.x-c.x,this._dy=d.y-c.y;var C=p.x,E=p.y;if(this.updateCenter(),this.angle=Math.atan2(E,C),this.speed=Math.sqrt(C*C+E*E),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var R=this.blocked;this.world.emit(n.WORLD_BOUNDS,this,R.up,R.down,R.left,R.right)}},postUpdate:function(){var f=this.position,c=f.x-this.prevFrame.x,d=f.y-this.prevFrame.y,p=this.gameObject;if(this.moves){var S=this.deltaMax.x,C=this.deltaMax.y;S!==0&&c!==0&&(c<0&&c<-S?c=-S:c>0&&c>S&&(c=S)),C!==0&&d!==0&&(d<0&&d<-C?d=-C:d>0&&d>C&&(d=C)),p&&(p.x+=c,p.y+=d)}c<0?this.facing=r.FACING_LEFT:c>0&&(this.facing=r.FACING_RIGHT),d<0?this.facing=r.FACING_UP:d>0&&(this.facing=r.FACING_DOWN),this.allowRotation&&p&&(p.angle+=this.deltaZ()),this._tx=c,this._ty=d,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,c=this.velocity,d=this.blocked,p=this.customBoundsRectangle,S=this.world.checkCollision,C=this.worldBounce?-this.worldBounce.x:-this.bounce.x,E=this.worldBounce?-this.worldBounce.y:-this.bounce.y,R=!1;return f.x<p.x&&S.left?(f.x=p.x,c.x*=C,d.left=!0,R=!0):this.right>p.right&&S.right&&(f.x=p.right-this.width,c.x*=C,d.right=!0,R=!0),f.y<p.y&&S.up?(f.y=p.y,c.y*=E,d.up=!0,R=!0):this.bottom>p.bottom&&S.down&&(f.y=p.bottom-this.height,c.y*=E,d.down=!0,R=!0),R&&(this.blocked.none=!1,this.updateCenter()),R},setOffset:function(f,c){return c===void 0&&(c=f),this.offset.set(f,c),this},setGameObject:function(f,c){if(c===void 0&&(c=!0),!f||!f.hasTransformComponent)return this;var d=this.world;return this.gameObject&&this.gameObject.body&&(d.disable(this.gameObject),this.gameObject.body=null),f.body&&d.disable(f),this.gameObject=f,f.body=this,this.setSize(),this.enable=c,this},setSize:function(f,c,d){d===void 0&&(d=!0);var p=this.gameObject;if(p&&(!f&&p.frame&&(f=p.frame.realWidth),!c&&p.frame&&(c=p.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=c,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&p&&p.getCenter){var S=(p.width-f)/2,C=(p.height-c)/2;this.offset.set(S,C)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,c,d){return c===void 0&&(c=this.offset.x),d===void 0&&(d=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,d),this.updateCenter()):this.isCircle=!1,this},reset:function(f,c){this.stop();var d=this.gameObject;d&&(d.setPosition(f,c),this.rotation=d.angle,this.preRotation=d.angle);var p=this.position;d&&d.getTopLeft?d.getTopLeft(p):p.set(f,c),this.prev.copy(p),this.prevFrame.copy(p),this.autoFrame.copy(p),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,c){if(!this.isCircle)return a(this,f,c);if(this.radius>0&&f>=this.left&&f<=this.right&&c>=this.top&&c<=this.bottom){var d=(this.center.x-f)*(this.center.x-f),p=(this.center.y-c)*(this.center.y-c);return d+p<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var c=this.position,d=c.x+this.halfWidth,p=c.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(d,p,this.width/2):(this.checkCollision.up&&f.lineBetween(c.x,c.y,c.x+this.width,c.y),this.checkCollision.right&&f.lineBetween(c.x+this.width,c.y,c.x+this.width,c.y+this.height),this.checkCollision.down&&f.lineBetween(c.x,c.y+this.height,c.x+this.width,c.y+this.height),this.checkCollision.left&&f.lineBetween(c.x,c.y,c.x,c.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(d,p,d+this.velocity.x/2,p+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,c,d,p){f===void 0&&(f=!0),this.collideWorldBounds=f;var S=c!==void 0,C=d!==void 0;return(S||C)&&(this.worldBounce||(this.worldBounce=new s),S&&(this.worldBounce.x=c),C&&(this.worldBounce.y=d)),p!==void 0&&(this.onWorldBounds=p),this},setVelocity:function(f,c){return this.velocity.set(f,c),f=this.velocity.x,c=this.velocity.y,this.speed=Math.sqrt(f*f+c*c),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,c){return this.maxVelocity.set(f,c),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,c){return this.slideFactor.set(f,c),this},setBounce:function(f,c){return this.bounce.set(f,c),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,c){return this.acceleration.set(f,c),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,c){return this.drag.set(f,c),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,c){return this.gravity.set(f,c),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,c){return this.friction.set(f,c),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,c,d,p){this.x+=f,this.updateCenter(),c!==null&&(this.velocity.x=c*this.slideFactor.x);var S=this.blocked;d&&(S.left=!0,S.none=!1),p&&(S.right=!0,S.none=!1)},processY:function(f,c,d,p){this.y+=f,this.updateCenter(),c!==null&&(this.velocity.y=c*this.slideFactor.y);var S=this.blocked;d&&(S.up=!0,S.none=!1),p&&(S.down=!0,S.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});h.exports=u}),79342:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e,a,l,s,u){this.world=n,this.name="",this.active=!0,this.overlapOnly=i,this.object1=e,this.object2=a,this.collideCallback=l,this.processCallback=s,this.callbackContext=u},setName:function(r){return this.name=r,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});h.exports=v}),66022:((h,x,t)=>{var o=t(71289),v=t(13759),r=t(37742),n=t(83419),i=t(37747),e=t(60758),a=t(72624),l=t(71464),s=new n({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(u,f,c,d,p){return this.world.addCollider(u,f,c,d,p)},overlap:function(u,f,c,d,p){return this.world.addOverlap(u,f,c,d,p)},existing:function(u,f){var c=f?i.STATIC_BODY:i.DYNAMIC_BODY;return this.world.enableBody(u,c),u},staticImage:function(u,f,c,d){var p=new o(this.scene,u,f,c,d);return this.sys.displayList.add(p),this.world.enableBody(p,i.STATIC_BODY),p},image:function(u,f,c,d){var p=new o(this.scene,u,f,c,d);return this.sys.displayList.add(p),this.world.enableBody(p,i.DYNAMIC_BODY),p},staticSprite:function(u,f,c,d){var p=new v(this.scene,u,f,c,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,i.STATIC_BODY),p},sprite:function(u,f,c,d){var p=new v(this.scene,u,f,c,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,i.DYNAMIC_BODY),p},staticGroup:function(u,f){return this.sys.updateList.add(new l(this.world,this.world.scene,u,f))},group:function(u,f){return this.sys.updateList.add(new e(this.world,this.world.scene,u,f))},body:function(u,f,c,d){var p=new r(this.world);return p.position.set(u,f),c&&d&&p.setSize(c,d),this.world.add(p,i.DYNAMIC_BODY),p},staticBody:function(u,f,c,d){var p=new a(this.world);return p.position.set(u,f),c&&d&&p.setSize(c,d),this.world.add(p,i.STATIC_BODY),p},destroy:function(){this.world=null,this.scene=null,this.sys=null}});h.exports=s}),79599:(h=>{var x=function(t){var o=0;if(!Array.isArray(t))o=t;else for(var v=0;v<t.length;v++)o|=t[v];return o};h.exports=x}),64897:((h,x,t)=>{var o=t(37747),v=function(r,n,i,e){var a=0,l=r.deltaAbsX()+n.deltaAbsX()+e;return r._dx===0&&n._dx===0?(r.embedded=!0,n.embedded=!0):r._dx>n._dx?(a=r.right-n.x,a>l&&!i||r.checkCollision.right===!1||n.checkCollision.left===!1?a=0:(r.touching.none=!1,r.touching.right=!0,n.touching.none=!1,n.touching.left=!0,n.physicsType===o.STATIC_BODY&&!i&&(r.blocked.none=!1,r.blocked.right=!0),r.physicsType===o.STATIC_BODY&&!i&&(n.blocked.none=!1,n.blocked.left=!0))):r._dx<n._dx&&(a=r.x-n.width-n.x,-a>l&&!i||r.checkCollision.left===!1||n.checkCollision.right===!1?a=0:(r.touching.none=!1,r.touching.left=!0,n.touching.none=!1,n.touching.right=!0,n.physicsType===o.STATIC_BODY&&!i&&(r.blocked.none=!1,r.blocked.left=!0),r.physicsType===o.STATIC_BODY&&!i&&(n.blocked.none=!1,n.blocked.right=!0))),r.overlapX=a,n.overlapX=a,a};h.exports=v}),45170:((h,x,t)=>{var o=t(37747),v=function(r,n,i,e){var a=0,l=r.deltaAbsY()+n.deltaAbsY()+e;return r._dy===0&&n._dy===0?(r.embedded=!0,n.embedded=!0):r._dy>n._dy?(a=r.bottom-n.y,a>l&&!i||r.checkCollision.down===!1||n.checkCollision.up===!1?a=0:(r.touching.none=!1,r.touching.down=!0,n.touching.none=!1,n.touching.up=!0,n.physicsType===o.STATIC_BODY&&!i&&(r.blocked.none=!1,r.blocked.down=!0),r.physicsType===o.STATIC_BODY&&!i&&(n.blocked.none=!1,n.blocked.up=!0))):r._dy<n._dy&&(a=r.y-n.bottom,-a>l&&!i||r.checkCollision.up===!1||n.checkCollision.down===!1?a=0:(r.touching.none=!1,r.touching.up=!0,n.touching.none=!1,n.touching.down=!0,n.physicsType===o.STATIC_BODY&&!i&&(r.blocked.none=!1,r.blocked.up=!0),r.physicsType===o.STATIC_BODY&&!i&&(n.blocked.none=!1,n.blocked.down=!0))),r.overlapY=a,n.overlapY=a,a};h.exports=v}),60758:((h,x,t)=>{var o=t(13759),v=t(83419),r=t(78389),n=t(37747),i=t(95540),e=t(26479),a=t(41212),l=new v({Extends:e,Mixins:[r],initialize:function(u,f,c,d){if(!c&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(a(c))d=c,c=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(c)&&a(c[0])){var p=this;c.forEach(function(S){S.internalCreateCallback=p.createCallbackHandler,S.internalRemoveCallback=p.removeCallbackHandler,S.classType=i(S,"classType",o)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=u,d&&(d.classType=i(d,"classType",o)),this.physicsType=n.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:i(d,"collideWorldBounds",!1),setBoundsRectangle:i(d,"customBoundsRectangle",null),setAccelerationX:i(d,"accelerationX",0),setAccelerationY:i(d,"accelerationY",0),setAllowDrag:i(d,"allowDrag",!0),setAllowGravity:i(d,"allowGravity",!0),setAllowRotation:i(d,"allowRotation",!0),setDamping:i(d,"useDamping",!1),setBounceX:i(d,"bounceX",0),setBounceY:i(d,"bounceY",0),setDragX:i(d,"dragX",0),setDragY:i(d,"dragY",0),setEnable:i(d,"enable",!0),setGravityX:i(d,"gravityX",0),setGravityY:i(d,"gravityY",0),setFrictionX:i(d,"frictionX",0),setFrictionY:i(d,"frictionY",0),setMaxSpeed:i(d,"maxSpeed",-1),setMaxVelocityX:i(d,"maxVelocityX",1e4),setMaxVelocityY:i(d,"maxVelocityY",1e4),setVelocityX:i(d,"velocityX",0),setVelocityY:i(d,"velocityY",0),setAngularVelocity:i(d,"angularVelocity",0),setAngularAcceleration:i(d,"angularAcceleration",0),setAngularDrag:i(d,"angularDrag",0),setMass:i(d,"mass",1),setImmovable:i(d,"immovable",!1)},e.call(this,f,c,d),this.type="PhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,n.DYNAMIC_BODY);var u=s.body;for(var f in this.defaults)u[f](this.defaults[f])},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},setVelocity:function(s,u,f){f===void 0&&(f=0);for(var c=this.getChildren(),d=0;d<c.length;d++)c[d].body.velocity.set(s+d*f,u+d*f);return this},setVelocityX:function(s,u){u===void 0&&(u=0);for(var f=this.getChildren(),c=0;c<f.length;c++)f[c].body.velocity.x=s+c*u;return this},setVelocityY:function(s,u){u===void 0&&(u=0);for(var f=this.getChildren(),c=0;c<f.length;c++)f[c].body.velocity.y=s+c*u;return this}});h.exports=l}),3017:(h=>{var x,t,o,v,r,n,i,e,a,l,s,u,f,c,d,p,S,C=function(b,I,N){x=b,t=I;var z=x.velocity.x,H=t.velocity.x;return o=x.pushable,a=x._dx<0,l=x._dx>0,s=x._dx===0,d=Math.abs(x.right-t.x)<=Math.abs(t.right-x.x),i=H-z*x.bounce.x,v=t.pushable,u=t._dx<0,f=t._dx>0,c=t._dx===0,p=!d,e=z-H*t.bounce.x,S=Math.abs(N),E()},E=function(){return l&&d&&t.blocked.right?(x.processX(-S,i,!1,!0),1):a&&p&&t.blocked.left?(x.processX(S,i,!0),1):f&&p&&x.blocked.right?(t.processX(-S,e,!1,!0),2):u&&d&&x.blocked.left?(t.processX(S,e,!0),2):0},R=function(){var b=x.velocity.x,I=t.velocity.x,N=Math.sqrt(I*I*t.mass/x.mass)*(I>0?1:-1),z=Math.sqrt(b*b*x.mass/t.mass)*(b>0?1:-1),H=(N+z)*.5;return N-=H,z-=H,r=H+N*x.bounce.x,n=H+z*t.bounce.x,a&&p?M(0):u&&d?M(1):l&&d?M(2):f&&p?M(3):!1},M=function(b){if(o&&v)S*=.5,b===0||b===3?(x.processX(S,r),t.processX(-S,n)):(x.processX(-S,r),t.processX(S,n));else if(o&&!v)b===0||b===3?x.processX(S,i,!0):x.processX(-S,i,!1,!0);else if(!o&&v)b===0||b===3?t.processX(-S,e,!1,!0):t.processX(S,e,!0);else{var I=S*.5;b===0?c?(x.processX(S,0,!0),t.processX(0,null,!1,!0)):f?(x.processX(I,0,!0),t.processX(-I,0,!1,!0)):(x.processX(I,t.velocity.x,!0),t.processX(-I,null,!1,!0)):b===1?s?(x.processX(0,null,!1,!0),t.processX(S,0,!0)):l?(x.processX(-I,0,!1,!0),t.processX(I,0,!0)):(x.processX(-I,null,!1,!0),t.processX(I,x.velocity.x,!0)):b===2?c?(x.processX(-S,0,!1,!0),t.processX(0,null,!0)):u?(x.processX(-I,0,!1,!0),t.processX(I,0,!0)):(x.processX(-I,t.velocity.x,!1,!0),t.processX(I,null,!0)):b===3&&(s?(x.processX(0,null,!0),t.processX(-S,0,!1,!0)):a?(x.processX(I,0,!0),t.processX(-I,0,!1,!0)):(x.processX(I,t.velocity.y,!0),t.processX(-I,null,!1,!0)))}return!0},D=function(b){if(b===1?t.velocity.x=0:d?t.processX(S,e,!0):t.processX(-S,e,!1,!0),x.moves){var I=x.directControl?x.y-x.autoFrame.y:x.y-x.prev.y;t.y+=I*x.friction.y,t._dy=t.y-t.prev.y}},B=function(b){if(b===2?x.velocity.x=0:p?x.processX(S,i,!0):x.processX(-S,i,!1,!0),t.moves){var I=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;x.y+=I*t.friction.y,x._dy=x.y-x.prev.y}};h.exports={BlockCheck:E,Check:R,Set:C,Run:M,RunImmovableBody1:D,RunImmovableBody2:B}}),47962:(h=>{var x,t,o,v,r,n,i,e,a,l,s,u,f,c,d,p,S,C=function(b,I,N){x=b,t=I;var z=x.velocity.y,H=t.velocity.y;return o=x.pushable,a=x._dy<0,l=x._dy>0,s=x._dy===0,d=Math.abs(x.bottom-t.y)<=Math.abs(t.bottom-x.y),i=H-z*x.bounce.y,v=t.pushable,u=t._dy<0,f=t._dy>0,c=t._dy===0,p=!d,e=z-H*t.bounce.y,S=Math.abs(N),E()},E=function(){return l&&d&&t.blocked.down?(x.processY(-S,i,!1,!0),1):a&&p&&t.blocked.up?(x.processY(S,i,!0),1):f&&p&&x.blocked.down?(t.processY(-S,e,!1,!0),2):u&&d&&x.blocked.up?(t.processY(S,e,!0),2):0},R=function(){var b=x.velocity.y,I=t.velocity.y,N=Math.sqrt(I*I*t.mass/x.mass)*(I>0?1:-1),z=Math.sqrt(b*b*x.mass/t.mass)*(b>0?1:-1),H=(N+z)*.5;return N-=H,z-=H,r=H+N*x.bounce.y,n=H+z*t.bounce.y,a&&p?M(0):u&&d?M(1):l&&d?M(2):f&&p?M(3):!1},M=function(b){if(o&&v)S*=.5,b===0||b===3?(x.processY(S,r),t.processY(-S,n)):(x.processY(-S,r),t.processY(S,n));else if(o&&!v)b===0||b===3?x.processY(S,i,!0):x.processY(-S,i,!1,!0);else if(!o&&v)b===0||b===3?t.processY(-S,e,!1,!0):t.processY(S,e,!0);else{var I=S*.5;b===0?c?(x.processY(S,0,!0),t.processY(0,null,!1,!0)):f?(x.processY(I,0,!0),t.processY(-I,0,!1,!0)):(x.processY(I,t.velocity.y,!0),t.processY(-I,null,!1,!0)):b===1?s?(x.processY(0,null,!1,!0),t.processY(S,0,!0)):l?(x.processY(-I,0,!1,!0),t.processY(I,0,!0)):(x.processY(-I,null,!1,!0),t.processY(I,x.velocity.y,!0)):b===2?c?(x.processY(-S,0,!1,!0),t.processY(0,null,!0)):u?(x.processY(-I,0,!1,!0),t.processY(I,0,!0)):(x.processY(-I,t.velocity.y,!1,!0),t.processY(I,null,!0)):b===3&&(s?(x.processY(0,null,!0),t.processY(-S,0,!1,!0)):a?(x.processY(I,0,!0),t.processY(-I,0,!1,!0)):(x.processY(I,t.velocity.y,!0),t.processY(-I,null,!1,!0)))}return!0},D=function(b){if(b===1?t.velocity.y=0:d?t.processY(S,e,!0):t.processY(-S,e,!1,!0),x.moves){var I=x.directControl?x.x-x.autoFrame.x:x.x-x.prev.x;t.x+=I*x.friction.x,t._dx=t.x-t.prev.x}},B=function(b){if(b===2?x.velocity.y=0:p?x.processY(S,i,!0):x.processY(-S,i,!1,!0),t.moves){var I=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;x.x+=I*t.friction.x,x._dx=x.x-x.prev.x}};h.exports={BlockCheck:E,Check:R,Set:C,Run:M,RunImmovableBody1:D,RunImmovableBody2:B}}),14087:((h,x,t)=>{var o=t(64897),v=t(3017),r=function(n,i,e,a,l){l===void 0&&(l=o(n,i,e,a));var s=n.immovable,u=i.immovable;if(e||l===0||s&&u||n.customSeparateX||i.customSeparateX)return l!==0||n.embedded&&i.embedded;var f=v.Set(n,i,l);return!s&&!u?f>0?!0:v.Check():(s?v.RunImmovableBody1(f):u&&v.RunImmovableBody2(f),!0)};h.exports=r}),89936:((h,x,t)=>{var o=t(45170),v=t(47962),r=function(n,i,e,a,l){l===void 0&&(l=o(n,i,e,a));var s=n.immovable,u=i.immovable;if(e||l===0||s&&u||n.customSeparateY||i.customSeparateY)return l!==0||n.embedded&&i.embedded;var f=v.Set(n,i,l);return!s&&!u?f>0?!0:v.Check():(s?v.RunImmovableBody1(f):u&&v.RunImmovableBody2(f),!0)};h.exports=r}),95829:(h=>{var x=function(t,o){return o===void 0&&(o={}),o.none=t,o.up=!1,o.down=!1,o.left=!1,o.right=!1,t||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};h.exports=x}),72624:((h,x,t)=>{var o=t(87902),v=t(83419),r=t(78389),n=t(37747),i=t(37303),e=t(95829),a=t(26099),l=new v({Mixins:[r],initialize:function(u,f){var c=64,d=64,p={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=f!==void 0;S&&f.displayWidth&&(c=f.displayWidth,d=f.displayHeight),S||(f=p),this.world=u,this.gameObject=S?f:void 0,this.isBody=!0,this.debugShowBody=u.defaults.debugShowStaticBody,this.debugBodyColor=u.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(f.x-c*f.originX,f.y-d*f.originY),this.width=c,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=a.ZERO,this.allowGravity=!1,this.gravity=a.ZERO,this.bounce=a.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=n.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(s,u,f){if(u===void 0&&(u=!0),f===void 0&&(f=!0),!s||!s.hasTransformComponent)return this;var c=this.world;return this.gameObject&&this.gameObject.body&&(c.disable(this.gameObject),this.gameObject.body=null),s.body&&c.disable(s),this.gameObject=s,s.body=this,this.setSize(),u&&this.updateFromGameObject(),this.enable=f,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,u){return u===void 0&&(u=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,u),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,u,f){f===void 0&&(f=!0);var c=this.gameObject;if(c&&c.frame&&(s||(s=c.frame.realWidth),u||(u=c.frame.realHeight)),this.world.staticTree.remove(this),this.width=s,this.height=u,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(u/2),f&&c&&c.getCenter){var d=c.displayWidth/2,p=c.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,p-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,u,f){return u===void 0&&(u=this.offset.x),f===void 0&&(f=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,u){var f=this.gameObject;s===void 0&&(s=f.x),u===void 0&&(u=f.y),this.world.staticTree.remove(this),f.setPosition(s,u),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,u){return this.isCircle?o(this,s,u):i(this,s,u)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var u=this.position,f=u.x+this.halfWidth,c=u.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(f,c,this.width/2):s.strokeRect(u.x,u.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});h.exports=l}),71464:((h,x,t)=>{var o=t(13759),v=t(83419),r=t(78389),n=t(37747),i=t(95540),e=t(26479),a=t(41212),l=new v({Extends:e,Mixins:[r],initialize:function(u,f,c,d){!c&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:a(c)?(d=c,c=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=i(d,"classType",o)):Array.isArray(c)&&a(c[0])?(d=c,c=null,d.forEach(function(p){p.internalCreateCallback=this.createCallbackHandler,p.internalRemoveCallback=this.removeCallbackHandler,p.createMultipleCallback=this.createMultipleCallbackHandler,p.classType=i(p,"classType",o)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=u,this.physicsType=n.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,f,c,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,n.STATIC_BODY)},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var s=this.children.entries,u=0;u<s.length;u++)s[u].body.reset();return this}});h.exports=l}),82248:((h,x,t)=>{var o=t(55495),v=t(37742),r=t(45319),n=t(83419),i=t(79342),e=t(37747),a=t(20339),l=t(52816),s=t(50792),u=t(63012),f=t(43855),c=t(5470),d=t(94977),p=t(64897),S=t(45170),C=t(96523),E=t(35154),R=t(36383),M=t(25774),D=t(96602),B=t(87841),b=t(59542),I=t(40012),N=t(14087),z=t(89936),H=t(35072),X=t(72624),W=t(2483),V=t(61340),U=t(26099),F=t(15994),k=new n({Extends:s,initialize:function(Z,j){s.call(this),this.scene=Z,this.bodies=new H,this.staticBodies=new H,this.pendingDestroy=new H,this.colliders=new M,this.gravity=new U(E(j,"gravity.x",0),E(j,"gravity.y",0)),this.bounds=new B(E(j,"x",0),E(j,"y",0),E(j,"width",Z.sys.scale.width),E(j,"height",Z.sys.scale.height)),this.checkCollision={up:E(j,"checkCollision.up",!0),down:E(j,"checkCollision.down",!0),left:E(j,"checkCollision.left",!0),right:E(j,"checkCollision.right",!0)},this.fps=E(j,"fps",60),this.fixedStep=E(j,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(j,"timeScale",1),this.OVERLAP_BIAS=E(j,"overlapBias",4),this.TILE_BIAS=E(j,"tileBias",16),this.forceX=E(j,"forceX",!1),this.isPaused=E(j,"isPaused",!1),this._total=0,this.drawDebug=E(j,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:E(j,"debugShowBody",!0),debugShowStaticBody:E(j,"debugShowStaticBody",!0),debugShowVelocity:E(j,"debugShowVelocity",!0),bodyDebugColor:E(j,"debugBodyColor",16711935),staticBodyDebugColor:E(j,"debugStaticBodyColor",255),velocityDebugColor:E(j,"debugVelocityColor",65280)},this.maxEntries=E(j,"maxEntries",16),this.useTree=E(j,"useTree",!0),this.tree=new b(this.maxEntries),this.staticTree=new b(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new V,this._tempMatrix2=new V,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(Y,Z){Z===void 0&&(Z=e.DYNAMIC_BODY),Array.isArray(Y)||(Y=[Y]);for(var j=0;j<Y.length;j++){var J=Y[j];if(J.isParent)for(var q=J.getChildren(),et=0;et<q.length;et++){var it=q[et];it.isParent?this.enable(it,Z):this.enableBody(it,Z)}else this.enableBody(J,Z)}},enableBody:function(Y,Z){return Z===void 0&&(Z=e.DYNAMIC_BODY),Y.hasTransformComponent&&(Y.body||(Z===e.DYNAMIC_BODY?Y.body=new v(this,Y):Z===e.STATIC_BODY&&(Y.body=new X(this,Y))),this.add(Y.body)),Y},add:function(Y){return Y.physicsType===e.DYNAMIC_BODY?this.bodies.set(Y):Y.physicsType===e.STATIC_BODY&&(this.staticBodies.set(Y),this.staticTree.insert(Y)),Y.enable=!0,Y},disable:function(Y){Array.isArray(Y)||(Y=[Y]);for(var Z=0;Z<Y.length;Z++){var j=Y[Z];if(j.isParent)for(var J=j.getChildren(),q=0;q<J.length;q++){var et=J[q];et.isParent?this.disable(et):this.disableBody(et.body)}else this.disableBody(j.body)}},disableBody:function(Y){this.remove(Y),Y.enable=!1},remove:function(Y){Y.physicsType===e.DYNAMIC_BODY?(this.tree.remove(Y),this.bodies.delete(Y)):Y.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(Y),this.staticTree.remove(Y))},createDebugGraphic:function(){var Y=this.scene.sys.add.graphics({x:0,y:0});return Y.setDepth(Number.MAX_VALUE),this.debugGraphic=Y,this.drawDebug=!0,Y},setBounds:function(Y,Z,j,J,q,et,it,at){return this.bounds.setTo(Y,Z,j,J),q!==void 0&&this.setBoundsCollision(q,et,it,at),this},setBoundsCollision:function(Y,Z,j,J){return Y===void 0&&(Y=!0),Z===void 0&&(Z=!0),j===void 0&&(j=!0),J===void 0&&(J=!0),this.checkCollision.left=Y,this.checkCollision.right=Z,this.checkCollision.up=j,this.checkCollision.down=J,this},pause:function(){return this.isPaused=!0,this.emit(u.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(u.RESUME),this},addCollider:function(Y,Z,j,J,q){j===void 0&&(j=null),J===void 0&&(J=null),q===void 0&&(q=j);var et=new i(this,!1,Y,Z,j,J,q);return this.colliders.add(et),et},addOverlap:function(Y,Z,j,J,q){j===void 0&&(j=null),J===void 0&&(J=null),q===void 0&&(q=j);var et=new i(this,!0,Y,Z,j,J,q);return this.colliders.add(et),et},removeCollider:function(Y){return this.colliders.remove(Y),this},setFPS:function(Y){return this.fps=Y,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(Y,Z){if(!(this.isPaused||this.bodies.size===0)){var j,J=this._frameTime,q=this._frameTimeMS*this.timeScale;this._elapsed+=Z;var et,it=this.bodies.entries,at=this._elapsed>=q;for(this.fixedStep||(J=Z*.001,at=!0,this._elapsed=0),j=0;j<it.length;j++)et=it[j],et.enable&&et.preUpdate(at,J);if(at){this._elapsed-=q,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(it));var ut=this.colliders.update();for(j=0;j<ut.length;j++){var dt=ut[j];dt.active&&dt.update()}this.emit(u.WORLD_STEP,J)}for(;this._elapsed>=q;)this._elapsed-=q,this.step(J)}},step:function(Y){var Z,j,J=this.bodies.entries,q=J.length;for(Z=0;Z<q;Z++)j=J[Z],j.enable&&j.update(Y);this.useTree&&(this.tree.clear(),this.tree.load(J));var et=this.colliders.update();for(Z=0;Z<et.length;Z++){var it=et[Z];it.active&&it.update()}this.emit(u.WORLD_STEP,Y),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var Y,Z,j=this.bodies.entries,J=j.length,q=this.bodies,et=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,Y=0;Y<J;Y++)Z=j[Y],Z.enable&&Z.postUpdate();if(this.drawDebug){var it=this.debugGraphic;for(it.clear(),Y=0;Y<J;Y++)Z=j[Y],Z.willDrawDebug()&&Z.drawDebug(it);for(j=et.entries,J=j.length,Y=0;Y<J;Y++)Z=j[Y],Z.willDrawDebug()&&Z.drawDebug(it)}var at=this.pendingDestroy;if(at.size>0){var ut=this.tree,dt=this.staticTree;for(j=at.entries,J=j.length,Y=0;Y<J;Y++)Z=j[Y],Z.physicsType===e.DYNAMIC_BODY?(ut.remove(Z),q.delete(Z)):Z.physicsType===e.STATIC_BODY&&(dt.remove(Z),et.delete(Z)),Z.world=void 0,Z.gameObject=void 0;at.clear()}},updateMotion:function(Y,Z){Y.allowRotation&&this.computeAngularVelocity(Y,Z),this.computeVelocity(Y,Z)},computeAngularVelocity:function(Y,Z){var j=Y.angularVelocity,J=Y.angularAcceleration,q=Y.angularDrag,et=Y.maxAngular;J?j+=J*Z:Y.allowDrag&&q&&(q*=Z,c(j-q,0,.1)?j-=q:d(j+q,0,.1)?j+=q:j=0),j=r(j,-et,et);var it=j-Y.angularVelocity;Y.angularVelocity+=it,Y.rotation+=Y.angularVelocity*Z},computeVelocity:function(Y,Z){var j=Y.velocity.x,J=Y.acceleration.x,q=Y.drag.x,et=Y.maxVelocity.x,it=Y.velocity.y,at=Y.acceleration.y,ut=Y.drag.y,dt=Y.maxVelocity.y,ft=Y.speed,xt=Y.maxSpeed,At=Y.allowDrag,gt=Y.useDamping;Y.allowGravity&&(j+=(this.gravity.x+Y.gravity.x)*Z,it+=(this.gravity.y+Y.gravity.y)*Z),J?j+=J*Z:At&&q&&(gt?(q=Math.pow(q,Z),j*=q,ft=Math.sqrt(j*j+it*it),f(ft,0,.001)&&(j=0)):(q*=Z,c(j-q,0,.01)?j-=q:d(j+q,0,.01)?j+=q:j=0)),at?it+=at*Z:At&&ut&&(gt?(ut=Math.pow(ut,Z),it*=ut,ft=Math.sqrt(j*j+it*it),f(ft,0,.001)&&(it=0)):(ut*=Z,c(it-ut,0,.01)?it-=ut:d(it+ut,0,.01)?it+=ut:it=0)),j=r(j,-et,et),it=r(it,-dt,dt),Y.velocity.set(j,it),xt>-1&&Y.velocity.length()>xt&&(Y.velocity.normalize().scale(xt),ft=xt),Y.speed=ft},separate:function(Y,Z,j,J,q){var et,it,at=!1,ut=!0;if(!Y.enable||!Z.enable||Y.checkCollision.none||Z.checkCollision.none||!this.intersects(Y,Z)||(Y.collisionMask&Z.collisionCategory)===0||(Z.collisionMask&Y.collisionCategory)===0||j&&j.call(J,Y.gameObject||Y,Z.gameObject||Z)===!1)return at;if(Y.isCircle||Z.isCircle){var dt=this.separateCircle(Y,Z,q);dt.result?(at=!0,ut=!1):(et=dt.x,it=dt.y,ut=!0)}if(ut){var ft=!1,xt=!1,At=this.OVERLAP_BIAS;q?(ft=N(Y,Z,q,At,et),xt=z(Y,Z,q,At,it)):this.forceX||Math.abs(this.gravity.y+Y.gravity.y)<Math.abs(this.gravity.x+Y.gravity.x)?(ft=N(Y,Z,q,At,et),this.intersects(Y,Z)&&(xt=z(Y,Z,q,At,it))):(xt=z(Y,Z,q,At,it),this.intersects(Y,Z)&&(ft=N(Y,Z,q,At,et))),at=ft||xt}return at&&(q?(Y.onOverlap||Z.onOverlap)&&this.emit(u.OVERLAP,Y.gameObject,Z.gameObject,Y,Z):(Y.onCollide||Z.onCollide)&&this.emit(u.COLLIDE,Y.gameObject,Z.gameObject,Y,Z)),at},separateCircle:function(Y,Z,j){p(Y,Z,!1,0),S(Y,Z,!1,0);var J=Y.isCircle,q=Z.isCircle,et=Y.center,it=Z.center,at=Y.immovable,ut=Z.immovable,dt=Y.velocity,ft=Z.velocity,xt=0,At=!0;if(J!==q){At=!1;var gt=et.x,Wt=et.y,Ht=Y.halfWidth,Gt=Z.position.x,Ot=Z.position.y,Bt=Z.right,Pt=Z.bottom;q&&(gt=it.x,Wt=it.y,Ht=Z.halfWidth,Gt=Y.position.x,Ot=Y.position.y,Bt=Y.right,Pt=Y.bottom),Wt<Ot?gt<Gt?xt=a(gt,Wt,Gt,Ot)-Ht:gt>Bt&&(xt=a(gt,Wt,Bt,Ot)-Ht):Wt>Pt&&(gt<Gt?xt=a(gt,Wt,Gt,Pt)-Ht:gt>Bt&&(xt=a(gt,Wt,Bt,Pt)-Ht)),xt*=-1}else xt=Y.halfWidth+Z.halfWidth-l(et,it);Y.overlapR=xt,Z.overlapR=xt;var te=o(et,it),_t=(xt+R.EPSILON)*Math.cos(te),nt=(xt+R.EPSILON)*Math.sin(te),$={overlap:xt,result:!1,x:_t,y:nt};if(j&&(!At||At&&xt!==0))return $.result=!0,$;if(!At&&xt===0||at&&ut||Y.customSeparateX||Z.customSeparateX)return $.x=void 0,$.y=void 0,$;var _=!Y.pushable&&!Z.pushable;if(At){var st=et.x-it.x,ct=et.y-it.y,pt=Math.sqrt(Math.pow(st,2)+Math.pow(ct,2)),yt=(it.x-et.x)/pt||0,kt=(it.y-et.y)/pt||0,Jt=2*(dt.x*yt+dt.y*kt-ft.x*yt-ft.y*kt)/(Y.mass+Z.mass);(at||ut||!Y.pushable||!Z.pushable)&&(Jt*=2),!at&&Y.pushable&&(dt.x=dt.x-Jt/Y.mass*yt,dt.y=dt.y-Jt/Y.mass*kt,dt.multiply(Y.bounce)),!ut&&Z.pushable&&(ft.x=ft.x+Jt/Z.mass*yt,ft.y=ft.y+Jt/Z.mass*kt,ft.multiply(Z.bounce)),!at&&!ut&&(_t*=.5,nt*=.5),(!at||Y.pushable||_)&&(Y.x-=_t,Y.y-=nt,Y.updateCenter()),(!ut||Z.pushable||_)&&(Z.x+=_t,Z.y+=nt,Z.updateCenter()),$.result=!0}else!at&&(Y.pushable||_)&&(Y.x-=_t,Y.y-=nt,Y.updateCenter()),!ut&&(Z.pushable||_)&&(Z.x+=_t,Z.y+=nt,Z.updateCenter()),$.x=void 0,$.y=void 0;return $},intersects:function(Y,Z){return Y===Z?!1:!Y.isCircle&&!Z.isCircle?!(Y.right<=Z.left||Y.bottom<=Z.top||Y.left>=Z.right||Y.top>=Z.bottom):Y.isCircle?Z.isCircle?l(Y.center,Z.center)<=Y.halfWidth+Z.halfWidth:this.circleBodyIntersects(Y,Z):this.circleBodyIntersects(Z,Y)},circleBodyIntersects:function(Y,Z){var j=r(Y.center.x,Z.left,Z.right),J=r(Y.center.y,Z.top,Z.bottom),q=(Y.center.x-j)*(Y.center.x-j),et=(Y.center.y-J)*(Y.center.y-J);return q+et<=Y.halfWidth*Y.halfWidth},overlap:function(Y,Z,j,J,q){return j===void 0&&(j=null),J===void 0&&(J=null),q===void 0&&(q=j),this.collideObjects(Y,Z,j,J,q,!0)},collide:function(Y,Z,j,J,q){return j===void 0&&(j=null),J===void 0&&(J=null),q===void 0&&(q=j),this.collideObjects(Y,Z,j,J,q,!1)},collideObjects:function(Y,Z,j,J,q,et){var it,at;Y.isParent&&(Y.physicsType===void 0||Z===void 0||Y===Z)&&(Y=Y.children.entries),Z&&Z.isParent&&Z.physicsType===void 0&&(Z=Z.children.entries);var ut=Array.isArray(Y),dt=Array.isArray(Z);if(this._total=0,!ut&&!dt)this.collideHandler(Y,Z,j,J,q,et);else if(!ut&&dt)for(it=0;it<Z.length;it++)this.collideHandler(Y,Z[it],j,J,q,et);else if(ut&&!dt)if(Z)for(it=0;it<Y.length;it++)this.collideHandler(Y[it],Z,j,J,q,et);else for(it=0;it<Y.length;it++){var ft=Y[it];for(at=it+1;at<Y.length;at++)it!==at&&this.collideHandler(ft,Y[at],j,J,q,et)}else for(it=0;it<Y.length;it++)for(at=0;at<Z.length;at++)this.collideHandler(Y[it],Z[at],j,J,q,et);return this._total>0},collideHandler:function(Y,Z,j,J,q,et){if(Z===void 0&&Y.isParent)return this.collideGroupVsGroup(Y,Y,j,J,q,et);if(!Y||!Z)return!1;if(Y.body||Y.isBody){if(Z.body||Z.isBody)return this.collideSpriteVsSprite(Y,Z,j,J,q,et);if(Z.isParent)return this.collideSpriteVsGroup(Y,Z,j,J,q,et);if(Z.isTilemap)return this.collideSpriteVsTilemapLayer(Y,Z,j,J,q,et)}else if(Y.isParent){if(Z.body||Z.isBody)return this.collideSpriteVsGroup(Z,Y,j,J,q,et);if(Z.isParent)return this.collideGroupVsGroup(Y,Z,j,J,q,et);if(Z.isTilemap)return this.collideGroupVsTilemapLayer(Y,Z,j,J,q,et)}else if(Y.isTilemap){if(Z.body||Z.isBody)return this.collideSpriteVsTilemapLayer(Z,Y,j,J,q,et);if(Z.isParent)return this.collideGroupVsTilemapLayer(Z,Y,j,J,q,et)}},canCollide:function(Y,Z){return Y&&Z&&(Y.collisionMask&Z.collisionCategory)!==0&&(Z.collisionMask&Y.collisionCategory)!==0},collideSpriteVsSprite:function(Y,Z,j,J,q,et){var it=Y.isBody?Y:Y.body,at=Z.isBody?Z:Z.body;return this.canCollide(it,at)?(this.separate(it,at,J,q,et)&&(j&&j.call(q,Y,Z),this._total++),!0):!1},collideSpriteVsGroup:function(Y,Z,j,J,q,et){var it=Y.isBody?Y:Y.body;if(!(Z.getLength()===0||!it||!it.enable||it.checkCollision.none||!this.canCollide(it,Z))){var at,ut,dt;if(this.useTree||Z.physicsType===e.STATIC_BODY){var ft=this.treeMinMax;ft.minX=it.left,ft.minY=it.top,ft.maxX=it.right,ft.maxY=it.bottom;var xt=Z.physicsType===e.DYNAMIC_BODY?this.tree.search(ft):this.staticTree.search(ft);for(ut=xt.length,at=0;at<ut;at++)dt=xt[at],!(it===dt||!dt.enable||dt.checkCollision.none||!Z.contains(dt.gameObject))&&this.separate(it,dt,J,q,et)&&(j&&j.call(q,it.gameObject,dt.gameObject),this._total++)}else{var At=Z.getChildren(),gt=Z.children.entries.indexOf(Y);for(ut=At.length,at=0;at<ut;at++)dt=At[at].body,!(!dt||at===gt||!dt.enable)&&this.separate(it,dt,J,q,et)&&(j&&j.call(q,it.gameObject,dt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(Y,Z,j,J,q,et){if(!this.canCollide(Y,Z))return!1;var it=Y.getChildren();if(it.length===0)return!1;for(var at=!1,ut=0;ut<it.length;ut++)(it[ut].body||it[ut].isBody)&&this.collideSpriteVsTilemapLayer(it[ut],Z,j,J,q,et)&&(at=!0);return at},collideTiles:function(Y,Z,j,J,q){return Z.length===0||Y.body&&!Y.body.enable||Y.isBody&&!Y.enable?!1:this.collideSpriteVsTilesHandler(Y,Z,j,J,q,!1,!1)},overlapTiles:function(Y,Z,j,J,q){return Z.length===0||Y.body&&!Y.body.enable||Y.isBody&&!Y.enable?!1:this.collideSpriteVsTilesHandler(Y,Z,j,J,q,!0,!1)},collideSpriteVsTilemapLayer:function(Y,Z,j,J,q,et){var it=Y.isBody?Y:Y.body;if(!it.enable||it.checkCollision.none||!this.canCollide(it,Z))return!1;var at=Z.layer,ut=it.x-at.tileWidth*Z.scaleX,dt=it.y-at.tileHeight*Z.scaleY,ft=it.width+at.tileWidth*Z.scaleX,xt=it.height+at.tileHeight*Z.scaleY,At=et?null:this.tileFilterOptions,gt=C(ut,dt,ft,xt,At,Z.scene.cameras.main,Z.layer);return gt.length===0?!1:this.collideSpriteVsTilesHandler(Y,gt,j,J,q,et,!0)},collideSpriteVsTilesHandler:function(Y,Z,j,J,q,et,it){for(var at=Y.isBody?Y:Y.body,ut,dt={left:0,right:0,top:0,bottom:0},ft,xt=!1,At=0;At<Z.length;At++){ut=Z[At],ft=ut.tilemapLayer;var gt=ft.tileToWorldXY(ut.x,ut.y);dt.left=gt.x,dt.top=gt.y,dt.right=dt.left+ut.width*ft.scaleX,dt.bottom=dt.top+ut.height*ft.scaleY,W(dt,at)&&(!J||J.call(q,Y,ut))&&D(ut,Y)&&(et||I(At,at,ut,dt,ft,this.TILE_BIAS,it))&&(this._total++,xt=!0,j&&j.call(q,Y,ut),et&&at.onOverlap?this.emit(u.TILE_OVERLAP,Y,ut,at):at.onCollide&&this.emit(u.TILE_COLLIDE,Y,ut,at))}return xt},collideGroupVsGroup:function(Y,Z,j,J,q,et){if(!(Y.getLength()===0||Z.getLength()===0||!this.canCollide(Y,Z)))for(var it=Y.getChildren(),at=0;at<it.length;at++)this.collideSpriteVsGroup(it[at],Z,j,J,q,et)},wrap:function(Y,Z){Y.body?this.wrapObject(Y,Z):Y.getChildren?this.wrapArray(Y.getChildren(),Z):Array.isArray(Y)?this.wrapArray(Y,Z):this.wrapObject(Y,Z)},wrapArray:function(Y,Z){for(var j=0;j<Y.length;j++)this.wrapObject(Y[j],Z)},wrapObject:function(Y,Z){Z===void 0&&(Z=0),Y.x=F(Y.x,this.bounds.left-Z,this.bounds.right+Z),Y.y=F(Y.y,this.bounds.top-Z,this.bounds.bottom+Z)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});h.exports=k}),1093:(h=>{var x={setAcceleration:function(t,o){return this.body.acceleration.set(t,o),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};h.exports=x}),59023:(h=>{var x={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};h.exports=x}),62069:(h=>{var x={setBounce:function(t,o){return this.body.bounce.set(t,o),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,o,v,r){return this.body.setCollideWorldBounds(t,o,v,r),this}};h.exports=x}),78389:((h,x,t)=>{var o=t(79599),v={setCollisionCategory:function(r){var n=this.body?this.body:this;return n.collisionCategory=r,this},willCollideWith:function(r){var n=this.body?this.body:this;return(n.collisionMask&r)!==0},addCollidesWith:function(r){var n=this.body?this.body:this;return n.collisionMask=n.collisionMask|r,this},removeCollidesWith:function(r){var n=this.body?this.body:this;return n.collisionMask=n.collisionMask&~r,this},setCollidesWith:function(r){var n=this.body?this.body:this;return n.collisionMask=o(r),this},resetCollisionCategory:function(){var r=this.body?this.body:this;return r.collisionCategory=1,r.collisionMask=2147483647,this}};h.exports=v}),87118:(h=>{var x={setDebug:function(t,o,v){return this.debugShowBody=t,this.debugShowVelocity=o,this.debugBodyColor=v,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};h.exports=x}),52819:(h=>{var x={setDrag:function(t,o){return this.body.drag.set(t,o),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};h.exports=x}),4074:(h=>{var x={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,o,v,r,n){return t&&this.body.reset(o,v),r&&(this.body.gameObject.active=!0),n&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,o){return t===void 0&&(t=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};h.exports=x}),40831:(h=>{var x={setFriction:function(t,o){return this.body.friction.set(t,o),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};h.exports=x}),26775:(h=>{var x={setGravity:function(t,o){return this.body.gravity.set(t,o),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};h.exports=x}),9437:(h=>{var x={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};h.exports=x}),30621:(h=>{var x={setMass:function(t){return this.body.mass=t,this}};h.exports=x}),72441:((h,x,t)=>{var o=t(47956),v=t(96503),r=t(2044),n=t(81491),i=function(e,a,l,s,u,f){var c=o(e,a-s,l-s,2*s,2*s,u,f);if(c.length===0)return c;for(var d=new v(a,l,s),p=new v,S=[],C=0;C<c.length;C++){var E=c[C];E.isCircle?(p.setTo(E.center.x,E.center.y,E.halfWidth),r(d,p)&&S.push(E)):n(d,E)&&S.push(E)}return S};h.exports=i}),47956:(h=>{var x=function(t,o,v,r,n,i,e){i===void 0&&(i=!0),e===void 0&&(e=!1);var a=[],l=[],s=t.treeMinMax;if(s.minX=o,s.minY=v,s.maxX=o+r,s.maxY=v+n,e&&(l=t.staticTree.search(s)),i&&t.useTree)a=t.tree.search(s);else if(i){var u=t.bodies,f={position:{x:o,y:v},left:o,top:v,right:o+r,bottom:v+n,isCircle:!1},c=t.intersects;u.iterate(function(d){c(d,f)&&a.push(d)})}return l.concat(a)};h.exports=x}),62121:(h=>{var x={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};h.exports=x}),29384:(h=>{var x={setOffset:function(t,o){return this.body.setOffset(t,o),this},setSize:function(t,o,v){return this.body.setSize(t,o,v),this},setBodySize:function(t,o,v){return this.body.setSize(t,o,v),this},setCircle:function(t,o,v){return this.body.setCircle(t,o,v),this}};h.exports=x}),15098:(h=>{var x={setVelocity:function(t,o){return this.body.setVelocity(t,o),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,o){return this.body.maxVelocity.set(t,o),this}};h.exports=x}),92209:((h,x,t)=>{h.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}}),37747:(h=>{var x={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};h.exports=x}),20009:(h=>{h.exports="collide"}),36768:(h=>{h.exports="overlap"}),60473:(h=>{h.exports="pause"}),89954:(h=>{h.exports="resume"}),61804:(h=>{h.exports="tilecollide"}),7161:(h=>{h.exports="tileoverlap"}),34689:(h=>{h.exports="worldbounds"}),16006:(h=>{h.exports="worldstep"}),63012:((h,x,t)=>{h.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}}),27064:((h,x,t)=>{var o=t(37747),v=t(79291),r={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};r=v(!1,r,o),h.exports=r}),96602:(h=>{var x=function(t,o){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,o,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,o,t):!0};h.exports=x}),36294:(h=>{var x=function(t,o){o<0?(t.blocked.none=!1,t.blocked.left=!0):o>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=o,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};h.exports=x}),67013:(h=>{var x=function(t,o){o<0?(t.blocked.none=!1,t.blocked.up=!0):o>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=o,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};h.exports=x}),40012:((h,x,t)=>{var o=t(21329),v=t(53442),r=t(2483),n=function(i,e,a,l,s,u,f){var c=l.left,d=l.top,p=l.right,S=l.bottom,C=a.faceLeft||a.faceRight,E=a.faceTop||a.faceBottom;if(f||(C=!0,E=!0),!C&&!E)return!1;var R=0,M=0,D=0,B=1;if(e.deltaAbsX()>e.deltaAbsY()?D=-1:e.deltaAbsX()<e.deltaAbsY()&&(B=-1),e.deltaX()!==0&&e.deltaY()!==0&&C&&E&&(D=Math.min(Math.abs(e.position.x-p),Math.abs(e.right-c)),B=Math.min(Math.abs(e.position.y-S),Math.abs(e.bottom-d))),D<B){if(C&&(R=o(e,a,c,p,u,f),R!==0&&!r(l,e)))return!0;E&&(M=v(e,a,d,S,u,f))}else{if(E&&(M=v(e,a,d,S,u,f),M!==0&&!r(l,e)))return!0;C&&(R=o(e,a,c,p,u,f))}return R!==0||M!==0};h.exports=n}),21329:((h,x,t)=>{var o=t(36294),v=function(r,n,i,e,a,l){var s=0,u=n.faceLeft,f=n.faceRight,c=n.collideLeft,d=n.collideRight;return l||(u=!0,f=!0,c=!0,d=!0),r.deltaX()<0&&d&&r.checkCollision.left?f&&r.x<e&&(s=r.x-e,s<-a&&(s=0)):r.deltaX()>0&&c&&r.checkCollision.right&&u&&r.right>i&&(s=r.right-i,s>a&&(s=0)),s!==0&&(r.customSeparateX?r.overlapX=s:o(r,s)),s};h.exports=v}),53442:((h,x,t)=>{var o=t(67013),v=function(r,n,i,e,a,l){var s=0,u=n.faceTop,f=n.faceBottom,c=n.collideUp,d=n.collideDown;return l||(u=!0,f=!0,c=!0,d=!0),r.deltaY()<0&&d&&r.checkCollision.up?f&&r.y<e&&(s=r.y-e,s<-a&&(s=0)):r.deltaY()>0&&c&&r.checkCollision.down&&u&&r.bottom>i&&(s=r.bottom-i,s>a&&(s=0)),s!==0&&(r.customSeparateY?r.overlapY=s:o(r,s)),s};h.exports=v}),2483:(h=>{var x=function(t,o){return!(o.right<=t.left||o.bottom<=t.top||o.position.x>=t.right||o.position.y>=t.bottom)};h.exports=x}),55173:((h,x,t)=>{var o={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};h.exports=o}),44563:((h,x,t)=>{h.exports={Arcade:t(27064),Matter:t(3875)}}),68174:((h,x,t)=>{var o=t(83419),v=t(26099),r=new o({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(n){if(n=n.hasOwnProperty("body")?n.body:n,!n.hasOwnProperty("bounds")||!n.hasOwnProperty("centerOfMass"))return!1;var i=this.boundsCenter,e=this.centerDiff,a=n.bounds.max.x-n.bounds.min.x,l=n.bounds.max.y-n.bounds.min.y,s=a*n.centerOfMass.x,u=l*n.centerOfMass.y;return i.set(a/2,l/2),e.set(s-i.x,u-i.y),!0},getTopLeft:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var a=this.boundsCenter,l=this.centerDiff;return new v(i+a.x+l.x,e+a.y+l.y)}return!1},getTopCenter:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var a=this.boundsCenter,l=this.centerDiff;return new v(i+l.x,e+a.y+l.y)}return!1},getTopRight:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var a=this.boundsCenter,l=this.centerDiff;return new v(i-(a.x-l.x),e+a.y+l.y)}return!1},getLeftCenter:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var a=this.boundsCenter,l=this.centerDiff;return new v(i+a.x+l.x,e+l.y)}return!1},getCenter:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var a=this.centerDiff;return new v(i+a.x,e+a.y)}return!1},getRightCenter:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var a=this.boundsCenter,l=this.centerDiff;return new v(i-(a.x-l.x),e+l.y)}return!1},getBottomLeft:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var a=this.boundsCenter,l=this.centerDiff;return new v(i+a.x+l.x,e-(a.y-l.y))}return!1},getBottomCenter:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var a=this.boundsCenter,l=this.centerDiff;return new v(i+l.x,e-(a.y-l.y))}return!1},getBottomRight:function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(n)){var a=this.boundsCenter,l=this.centerDiff;return new v(i-(a.x-l.x),e-(a.y-l.y))}return!1}});h.exports=r}),19933:((h,x,t)=>{var o=t(6790);o.Body=t(22562),o.Composite=t(69351),o.World=t(4372),o.Collision=t(52284),o.Detector=t(81388),o.Pairs=t(99561),o.Pair=t(4506),o.Query=t(73296),o.Resolver=t(66272),o.Constraint=t(48140),o.Common=t(53402),o.Engine=t(48413),o.Events=t(35810),o.Sleeping=t(53614),o.Plugin=t(73832),o.Bodies=t(66280),o.Composites=t(74116),o.Axes=t(66615),o.Bounds=t(15647),o.Svg=t(74058),o.Vector=t(31725),o.Vertices=t(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,h.exports=o}),28137:((h,x,t)=>{var o=t(66280),v=t(83419),r=t(74116),n=t(48140),i=t(74058),e=t(75803),a=t(23181),l=t(34803),s=t(73834),u=t(19496),f=t(85791),c=t(98713),d=t(41598),p=new v({initialize:function(C){this.world=C,this.scene=C.scene,this.sys=C.scene.sys},rectangle:function(S,C,E,R,M){var D=o.rectangle(S,C,E,R,M);return this.world.add(D),D},trapezoid:function(S,C,E,R,M,D){var B=o.trapezoid(S,C,E,R,M,D);return this.world.add(B),B},circle:function(S,C,E,R,M){var D=o.circle(S,C,E,R,M);return this.world.add(D),D},polygon:function(S,C,E,R,M){var D=o.polygon(S,C,E,R,M);return this.world.add(D),D},fromVertices:function(S,C,E,R,M,D,B){typeof E=="string"&&(E=d.fromPath(E));var b=o.fromVertices(S,C,E,R,M,D,B);return this.world.add(b),b},fromPhysicsEditor:function(S,C,E,R,M){M===void 0&&(M=!0);var D=u.parseBody(S,C,E,R);return M&&!this.world.has(D)&&this.world.add(D),D},fromSVG:function(S,C,E,R,M,D){R===void 0&&(R=1),M===void 0&&(M={}),D===void 0&&(D=!0);for(var B=E.getElementsByTagName("path"),b=[],I=0;I<B.length;I++){var N=i.pathToVertices(B[I],30);R!==1&&d.scale(N,R,R),b.push(N)}var z=o.fromVertices(S,C,b,M);return D&&this.world.add(z),z},fromJSON:function(S,C,E,R,M){R===void 0&&(R={}),M===void 0&&(M=!0);var D=f.parseBody(S,C,E,R);return D&&M&&this.world.add(D),D},imageStack:function(S,C,E,R,M,D,B,b,I){B===void 0&&(B=0),b===void 0&&(b=0),I===void 0&&(I={});var N=this.world,z=this.sys.displayList;I.addToWorld=!1;var H=r.stack(E,R,M,D,B,b,function(X,W){var V=new a(N,X,W,S,C,I);return z.add(V),V.body});return N.add(H),H},stack:function(S,C,E,R,M,D,B){var b=r.stack(S,C,E,R,M,D,B);return this.world.add(b),b},pyramid:function(S,C,E,R,M,D,B){var b=r.pyramid(S,C,E,R,M,D,B);return this.world.add(b),b},chain:function(S,C,E,R,M,D){return r.chain(S,C,E,R,M,D)},mesh:function(S,C,E,R,M){return r.mesh(S,C,E,R,M)},newtonsCradle:function(S,C,E,R,M){var D=r.newtonsCradle(S,C,E,R,M);return this.world.add(D),D},car:function(S,C,E,R,M){var D=r.car(S,C,E,R,M);return this.world.add(D),D},softBody:function(S,C,E,R,M,D,B,b,I,N){var z=r.softBody(S,C,E,R,M,D,B,b,I,N);return this.world.add(z),z},joint:function(S,C,E,R,M){return this.constraint(S,C,E,R,M)},spring:function(S,C,E,R,M){return this.constraint(S,C,E,R,M)},constraint:function(S,C,E,R,M){R===void 0&&(R=1),M===void 0&&(M={}),M.bodyA=S.type==="body"?S:S.body,M.bodyB=C.type==="body"?C:C.body,isNaN(E)||(M.length=E),M.stiffness=R;var D=n.create(M);return this.world.add(D),D},worldConstraint:function(S,C,E,R){E===void 0&&(E=1),R===void 0&&(R={}),R.bodyB=S.type==="body"?S:S.body,isNaN(C)||(R.length=C),R.stiffness=E;var M=n.create(R);return this.world.add(M),M},mouseSpring:function(S){return this.pointerConstraint(S)},pointerConstraint:function(S){S===void 0&&(S={}),S.hasOwnProperty("render")||(S.render={visible:!1});var C=new c(this.scene,this.world,S);return this.world.add(C.constraint),C},image:function(S,C,E,R,M){var D=new a(this.world,S,C,E,R,M);return this.sys.displayList.add(D),D},tileBody:function(S,C){return new s(this.world,S,C)},sprite:function(S,C,E,R,M){var D=new l(this.world,S,C,E,R,M);return this.sys.displayList.add(D),this.sys.updateList.add(D),D},gameObject:function(S,C,E){return e(this.world,S,C,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});h.exports=p}),75803:((h,x,t)=>{var o=t(31884),v=t(95540),r=t(26099);function n(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var i=function(e,a,l,s){l===void 0&&(l={}),s===void 0&&(s=!0);var u=a.x,f=a.y;a.body={temp:!0,position:{x:u,y:f}};var c=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(c.forEach(function(p){for(var S in p)n(p[S])?Object.defineProperty(a,S,{get:p[S].get,set:p[S].set}):Object.defineProperty(a,S,{value:p[S]})}),a.world=e,a._tempVec2=new r(u,f),l.hasOwnProperty("type")&&l.type==="body")a.setExistingBody(l,s);else{var d=v(l,"shape",null);d||(d="rectangle"),l.addToWorld=s,a.setBody(d,l)}return a};h.exports=i}),23181:((h,x,t)=>{var o=t(83419),v=t(31884),r=t(95643),n=t(95540),i=t(88571),e=t(72699),a=t(26099),l=new o({Extends:i,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,e],initialize:function(u,f,c,d,p,S){r.call(this,u.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,p),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new a(f,c);var C=n(S,"shape",null);C?this.setBody(C,S):this.setRectangle(this.width,this.height,S),this.setPosition(f,c),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=l}),42045:((h,x,t)=>{var o=t(60461),v=t(66615),r=t(66280),n=t(22562),i=t(68174),e=t(15647),a=t(83419),l=t(52284),s=t(53402),u=t(69351),f=t(74116),c=t(48140),d=t(81388),p=t(20339),S=t(28137),C=t(95540),E=t(35154),R=t(46975),M=t(4506),D=t(99561),B=t(37277),b=t(73296),I=t(66272),N=t(44594),z=t(74058),H=t(31725),X=t(41598),W=t(68243);s.setDecomp(t(55973));var V=new a({initialize:function(F){this.scene=F,this.systems=F.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=n,this.composite=u,this.collision=l,this.detector=d,this.pair=M,this.pairs=D,this.query=b,this.resolver=I,this.constraint=c,this.bodies=r,this.composites=f,this.axes=v,this.bounds=e,this.svg=z,this.vector=H,this.vertices=X,this.verts=X,this._tempVec2=H.create(),I._restingThresh=E(this.config,"restingThresh",4),I._restingThreshTangent=E(this.config,"restingThreshTangent",6),I._positionDampen=E(this.config,"positionDampen",.9),I._positionWarming=E(this.config,"positionWarming",.8),I._frictionNormalMultiplier=E(this.config,"frictionNormalMultiplier",5),F.sys.events.once(N.BOOT,this.boot,this),F.sys.events.on(N.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new S(this.world),this.bodyBounds=new i,this.systems.events.once(N.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new S(this.world));var U=this.systems.events;U.on(N.UPDATE,this.world.update,this.world),U.on(N.POST_UPDATE,this.world.postUpdate,this.world),U.once(N.SHUTDOWN,this.shutdown,this)},getConfig:function(){var U=this.systems.game.config.physics,F=this.systems.settings.physics,k=R(C(F,"matter",{}),C(U,"matter",{}));return k},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(U,F){this.world.step(U,F)},containsPoint:function(U,F,k){U=this.getMatterBodies(U);var Y=H.create(F,k),Z=b.point(U,Y);return Z.length>0},intersectPoint:function(U,F,k){k=this.getMatterBodies(k);var Y=H.create(U,F),Z=[],j=b.point(k,Y);return j.forEach(function(J){Z.indexOf(J)===-1&&Z.push(J)}),Z},intersectRect:function(U,F,k,Y,Z,j){Z===void 0&&(Z=!1),j=this.getMatterBodies(j);var J={min:{x:U,y:F},max:{x:U+k,y:F+Y}},q=[],et=b.region(j,J,Z);return et.forEach(function(it){q.indexOf(it)===-1&&q.push(it)}),q},intersectRay:function(U,F,k,Y,Z,j){Z===void 0&&(Z=1),j=this.getMatterBodies(j);for(var J=[],q=b.ray(j,H.create(U,F),H.create(k,Y),Z),et=0;et<q.length;et++)J.push(q[et].body);return J},intersectBody:function(U,F){F=this.getMatterBodies(F);for(var k=[],Y=b.collides(U,F),Z=0;Z<Y.length;Z++){var j=Y[Z];j.bodyA===U?k.push(j.bodyB):k.push(j.bodyA)}return k},overlap:function(U,F,k,Y,Z){k===void 0&&(k=null),Y===void 0&&(Y=null),Z===void 0&&(Z=k),Array.isArray(U)||(U=[U]),U=this.getMatterBodies(U),F=this.getMatterBodies(F);for(var j=!1,J=0;J<U.length;J++)for(var q=U[J],et=b.collides(q,F),it=0;it<et.length;it++){var at=et[it],ut=at.bodyA.id===q.id?at.bodyB:at.bodyA;if(!Y||Y.call(Z,q,ut,at)){if(j=!0,k)k.call(Z,q,ut,at);else if(!Y)return!0}}return j},setCollisionCategory:function(U,F){return U=this.getMatterBodies(U),U.forEach(function(k){k.collisionFilter.category=F}),this},setCollisionGroup:function(U,F){return U=this.getMatterBodies(U),U.forEach(function(k){k.collisionFilter.group=F}),this},setCollidesWith:function(U,F){U=this.getMatterBodies(U);var k=0;if(!Array.isArray(F))k=F;else for(var Y=0;Y<F.length;Y++)k|=F[Y];return U.forEach(function(Z){Z.collisionFilter.mask=k}),this},getMatterBodies:function(U){if(!U)return this.world.getAllBodies();Array.isArray(U)||(U=[U]);for(var F=[],k=0;k<U.length;k++){var Y=U[k].hasOwnProperty("body")?U[k].body:U[k];F.push(Y)}return F},setVelocity:function(U,F,k){U=this.getMatterBodies(U);var Y=this._tempVec2;return Y.x=F,Y.y=k,U.forEach(function(Z){n.setVelocity(Z,Y)}),this},setVelocityX:function(U,F){U=this.getMatterBodies(U);var k=this._tempVec2;return k.x=F,U.forEach(function(Y){k.y=Y.velocity.y,n.setVelocity(Y,k)}),this},setVelocityY:function(U,F){U=this.getMatterBodies(U);var k=this._tempVec2;return k.y=F,U.forEach(function(Y){k.x=Y.velocity.x,n.setVelocity(Y,k)}),this},setAngularVelocity:function(U,F){return U=this.getMatterBodies(U),U.forEach(function(k){n.setAngularVelocity(k,F)}),this},applyForce:function(U,F){U=this.getMatterBodies(U);var k=this._tempVec2;return U.forEach(function(Y){k.x=Y.position.x,k.y=Y.position.y,n.applyForce(Y,k,F)}),this},applyForceFromPosition:function(U,F,k,Y){U=this.getMatterBodies(U);var Z=this._tempVec2;return U.forEach(function(j){Y===void 0&&(Y=j.angle),Z.x=k*Math.cos(Y),Z.y=k*Math.sin(Y),n.applyForce(j,F,Z)}),this},applyForceFromAngle:function(U,F,k){U=this.getMatterBodies(U);var Y=this._tempVec2;return U.forEach(function(Z){k===void 0&&(k=Z.angle),Y.x=F*Math.cos(k),Y.y=F*Math.sin(k),n.applyForce(Z,{x:Z.position.x,y:Z.position.y},Y)}),this},getConstraintLength:function(U){var F=U.pointA.x,k=U.pointA.y,Y=U.pointB.x,Z=U.pointB.y;return U.bodyA&&(F+=U.bodyA.position.x,k+=U.bodyA.position.y),U.bodyB&&(Y+=U.bodyB.position.x,Z+=U.bodyB.position.y),p(F,k,Y,Z)},alignBody:function(U,F,k,Y){U=U.hasOwnProperty("body")?U.body:U;var Z;switch(Y){case o.TOP_LEFT:case o.LEFT_TOP:Z=this.bodyBounds.getTopLeft(U,F,k);break;case o.TOP_CENTER:Z=this.bodyBounds.getTopCenter(U,F,k);break;case o.TOP_RIGHT:case o.RIGHT_TOP:Z=this.bodyBounds.getTopRight(U,F,k);break;case o.LEFT_CENTER:Z=this.bodyBounds.getLeftCenter(U,F,k);break;case o.CENTER:Z=this.bodyBounds.getCenter(U,F,k);break;case o.RIGHT_CENTER:Z=this.bodyBounds.getRightCenter(U,F,k);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:Z=this.bodyBounds.getBottomLeft(U,F,k);break;case o.BOTTOM_CENTER:Z=this.bodyBounds.getBottomCenter(U,F,k);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:Z=this.bodyBounds.getBottomRight(U,F,k);break}return Z&&n.setPosition(U,Z),this},shutdown:function(){var U=this.systems.events;this.world&&(U.off(N.UPDATE,this.world.update,this.world),U.off(N.POST_UPDATE,this.world.postUpdate,this.world)),U.off(N.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(N.START,this.start,this),this.scene=null,this.systems=null}});B.register("MatterPhysics",V,"matterPhysics"),h.exports=V}),34803:((h,x,t)=>{var o=t(9674),v=t(83419),r=t(31884),n=t(95643),i=t(95540),e=t(72699),a=t(68287),l=t(26099),s=new v({Extends:a,Mixins:[r.Bounce,r.Collision,r.Force,r.Friction,r.Gravity,r.Mass,r.Sensor,r.SetBody,r.Sleep,r.Static,r.Transform,r.Velocity,e],initialize:function(f,c,d,p,S,C){n.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(p,S),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new l(c,d);var E=i(C,"shape",null);E?this.setBody(E,C):this.setRectangle(this.width,this.height,C),this.setPosition(c,d),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=s}),73834:((h,x,t)=>{var o=t(66280),v=t(22562),r=t(83419),n=t(31884),i=t(62644),e=t(50792),a=t(95540),l=t(97022),s=t(41598),u=new r({Extends:e,Mixins:[n.Bounce,n.Collision,n.Friction,n.Gravity,n.Mass,n.Sensor,n.Sleep,n.Static],initialize:function(c,d,p){e.call(this),this.tile=d,this.world=c,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var S=a(p,"body",null),C=a(p,"addToWorld",!0);if(S)this.setBody(S,C);else{var E=d.getCollisionGroup(),R=a(E,"objects",[]);R.length>0?this.setFromTileCollision(p):this.setFromTileRectangle(p)}if(d.flipX||d.flipY){var M={x:d.getCenterX(),y:d.getCenterY()},D=d.flipX?-1:1,B=d.flipY?-1:1;v.scale(S,D,B,M)}},setFromTileRectangle:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);var c=this.tile.getBounds(),d=c.x+c.width/2,p=c.y+c.height/2,S=o.rectangle(d,p,c.width,c.height,f);return this.setBody(S,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,p=this.tile.getLeft(),S=this.tile.getTop(),C=this.tile.getCollisionGroup(),E=a(C,"objects",[]),R=[],M=0;M<E.length;M++){var D=E[M],B=p+D.x*c,b=S+D.y*d,I=D.width*c,N=D.height*d,z=null;if(D.rectangle)z=o.rectangle(B+I/2,b+N/2,I,N,f);else if(D.ellipse)z=o.circle(B+I/2,b+N/2,I/2,f);else if(D.polygon||D.polyline){var H=D.polygon?D.polygon:D.polyline,X=H.map(function(F){return{x:F.x*c,y:F.y*d}}),W=s.create(X),V=s.centre(W);B+=V.x,b+=V.y,z=o.fromVertices(B,b,W,f)}z&&R.push(z)}if(R.length===1)this.setBody(R[0],f.addToWorld);else if(R.length>1){var U=i(f);U.parts=R,this.setBody(v.create(U),U.addToWorld)}return this},setBody:function(f,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});h.exports=u}),19496:((h,x,t)=>{var o=t(66280),v=t(22562),r=t(53402),n=t(95540),i=t(41598),e={parseBody:function(a,l,s,u){u===void 0&&(u={});for(var f=n(s,"fixtures",[]),c=[],d=0;d<f.length;d++)for(var p=this.parseFixture(f[d]),S=0;S<p.length;S++)c.push(p[S]);var C=r.clone(s,!0);r.extend(C,u,!0),delete C.fixtures,delete C.type;var E=v.create(C);return v.setParts(E,c),v.setPosition(E,{x:a,y:l}),E},parseFixture:function(a){var l=r.extend({},!1,a);delete l.circle,delete l.vertices;var s;if(a.circle){var u=n(a.circle,"x"),f=n(a.circle,"y"),c=n(a.circle,"radius");s=[o.circle(u,f,c,l)]}else a.vertices&&(s=this.parseVertices(a.vertices,l));return s},parseVertices:function(a,l){l===void 0&&(l={});for(var s=[],u=0;u<a.length;u++)i.clockwiseSort(a[u]),s.push(v.create(r.extend({position:i.centre(a[u]),vertices:a[u]},l)));return o.flagCoincidentParts(s)}};h.exports=e}),85791:((h,x,t)=>{var o=t(66280),v=t(22562),r={parseBody:function(n,i,e,a){a===void 0&&(a={});var l,s=e.vertices;if(s.length===1)a.vertices=s[0],l=v.create(a),o.flagCoincidentParts(l.parts);else{for(var u=[],f=0;f<s.length;f++){var c=v.create({vertices:s[f]});u.push(c)}o.flagCoincidentParts(u),a.parts=u,l=v.create(a)}return l.label=e.label,v.setPosition(l,{x:n,y:i}),l}};h.exports=r}),98713:((h,x,t)=>{var o=t(15647),v=t(83419),r=t(69351),n=t(48140),i=t(81388),e=t(1121),a=t(8214),l=t(46975),s=t(53614),u=t(26099),f=t(41598),c=new v({initialize:function(p,S,C){C===void 0&&(C={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=p,this.world=S,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=n.create(l(C,E)),this.world.on(e.BEFORE_UPDATE,this.update,this),p.sys.input.on(a.POINTER_DOWN,this.onDown,this),p.sys.input.on(a.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var p=this.position,S=this.constraint;this.camera.getWorldPoint(d.x,d.y,p);for(var C=r.allBodies(this.world.localWorld),E=0;E<C.length;E++){var R=C[E];if(!R.ignorePointer&&o.contains(R.bounds,p)&&i.canCollide(R.collisionFilter,S.collisionFilter)&&this.hitTestBody(R,p))return this.world.emit(e.DRAG_START,R,this.part,this),!0}return!1},hitTestBody:function(d,p){for(var S=this.constraint,C=d.parts.length,E=C>1?1:0,R=E;R<C;R++){var M=d.parts[R];if(f.contains(M.vertices,p))return S.pointA=p,S.pointB={x:p.x-d.position.x,y:p.y-d.position.y},S.bodyB=d,S.angleB=d.angle,s.set(d,!1),this.part=M,this.body=d,!0}return!1},update:function(){var d=this.pointer,p=this.body;if(!this.active||!d){p&&this.stopDrag();return}if(!d.isDown&&p){this.stopDrag();return}else if(d.isDown){if(!this.camera||!p&&!this.getBody(d))return;p=this.body;var S=this.position,C=this.constraint;this.camera.getWorldPoint(d.x,d.y,S),C.pointA.x=S.x,C.pointA.y=S.y,s.set(p,!1),this.world.emit(e.DRAG,p,this)}},stopDrag:function(){var d=this.body,p=this.constraint;p.bodyB=null,p.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(a.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(a.POINTER_UP,this.onUp,this)}});h.exports=c}),68243:((h,x,t)=>{var o=t(66280),v=t(22562),r=t(83419),n=t(53402),i=t(69351),e=t(48413),a=t(50792),l=t(1121),s=t(95540),u=t(35154),f=t(22562),c=t(35810),d=t(73834),p=t(4372),S=t(13037),C=t(31725),E=new r({Extends:a,initialize:function(M,D){a.call(this),this.scene=M,this.engine=e.create(D),this.localWorld=this.engine.world;var B=u(D,"gravity",null);B?this.setGravity(B.x,B.y,B.scale):B===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(D,"enabled",!0),this.getDelta=u(D,"getDelta",this.update60Hz);var b=s(D,"runner",{}),I=s(b,"fps",!1);I&&(b.delta=1e3/s(b,"fps",60)),this.runner=S.create(b),this.autoUpdate=u(D,"autoUpdate",!0);var N=u(D,"debug",!1);if(this.drawDebug=typeof N=="object"?!0:N,this.debugGraphic,this.debugConfig={showAxes:s(N,"showAxes",!1),showAngleIndicator:s(N,"showAngleIndicator",!1),angleColor:s(N,"angleColor",15208787),showBroadphase:s(N,"showBroadphase",!1),broadphaseColor:s(N,"broadphaseColor",16757760),showBounds:s(N,"showBounds",!1),boundsColor:s(N,"boundsColor",16777215),showVelocity:s(N,"showVelocity",!1),velocityColor:s(N,"velocityColor",44783),showCollisions:s(N,"showCollisions",!1),collisionColor:s(N,"collisionColor",16094476),showSeparations:s(N,"showSeparations",!1),separationColor:s(N,"separationColor",16753920),showBody:s(N,"showBody",!0),showStaticBody:s(N,"showStaticBody",!0),showInternalEdges:s(N,"showInternalEdges",!1),renderFill:s(N,"renderFill",!1),renderLine:s(N,"renderLine",!0),fillColor:s(N,"fillColor",1075465),fillOpacity:s(N,"fillOpacity",1),lineColor:s(N,"lineColor",2678297),lineOpacity:s(N,"lineOpacity",1),lineThickness:s(N,"lineThickness",1),staticFillColor:s(N,"staticFillColor",857979),staticLineColor:s(N,"staticLineColor",1255396),showSleeping:s(N,"showSleeping",!1),staticBodySleepOpacity:s(N,"staticBodySleepOpacity",.7),sleepFillColor:s(N,"sleepFillColor",4605510),sleepLineColor:s(N,"sleepLineColor",10066585),showSensors:s(N,"showSensors",!0),sensorFillColor:s(N,"sensorFillColor",857979),sensorLineColor:s(N,"sensorLineColor",1255396),showPositions:s(N,"showPositions",!0),positionSize:s(N,"positionSize",4),positionColor:s(N,"positionColor",14697178),showJoint:s(N,"showJoint",!0),jointColor:s(N,"jointColor",14737474),jointLineOpacity:s(N,"jointLineOpacity",1),jointLineThickness:s(N,"jointLineThickness",2),pinSize:s(N,"pinSize",4),pinColor:s(N,"pinColor",4382944),springColor:s(N,"springColor",14697184),anchorColor:s(N,"anchorColor",15724527),anchorSize:s(N,"anchorSize",4),showConvexHulls:s(N,"showConvexHulls",!1),hullColor:s(N,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),s(D,"setBounds",!1)){var z=D.setBounds;if(typeof z=="boolean")this.setBounds();else{var H=s(z,"x",0),X=s(z,"y",0),W=s(z,"width",M.sys.scale.width),V=s(z,"height",M.sys.scale.height),U=s(z,"thickness",64),F=s(z,"left",!0),k=s(z,"right",!0),Y=s(z,"top",!0),Z=s(z,"bottom",!0);this.setBounds(H,X,W,V,U,F,k,Y,Z)}}},setCompositeRenderStyle:function(R){var M=R.bodies,D=R.constraints,B=R.composites,b,I,N;for(b=0;b<M.length;b++)I=M[b],N=I.render,this.setBodyRenderStyle(I,N.lineColor,N.lineOpacity,N.lineThickness,N.fillColor,N.fillOpacity);for(b=0;b<D.length;b++)I=D[b],N=I.render,this.setConstraintRenderStyle(I,N.lineColor,N.lineOpacity,N.lineThickness,N.pinSize,N.anchorColor,N.anchorSize);for(b=0;b<B.length;b++)I=B[b],this.setCompositeRenderStyle(I);return this},setBodyRenderStyle:function(R,M,D,B,b,I){var N=R.render,z=this.debugConfig;return N?(M==null&&(M=R.isStatic?z.staticLineColor:z.lineColor),D==null&&(D=z.lineOpacity),B==null&&(B=z.lineThickness),b==null&&(b=R.isStatic?z.staticFillColor:z.fillColor),I==null&&(I=z.fillOpacity),M!==!1&&(N.lineColor=M),D!==!1&&(N.lineOpacity=D),B!==!1&&(N.lineThickness=B),b!==!1&&(N.fillColor=b),I!==!1&&(N.fillOpacity=I),this):this},setConstraintRenderStyle:function(R,M,D,B,b,I,N){var z=R.render,H=this.debugConfig;if(!z)return this;if(M==null){var X=z.type;X==="line"?M=H.jointColor:X==="pin"?M=H.pinColor:X==="spring"&&(M=H.springColor)}return D==null&&(D=H.jointLineOpacity),B==null&&(B=H.jointLineThickness),b==null&&(b=H.pinSize),I==null&&(I=H.anchorColor),N==null&&(N=H.anchorSize),M!==!1&&(z.lineColor=M),D!==!1&&(z.lineOpacity=D),B!==!1&&(z.lineThickness=B),b!==!1&&(z.pinSize=b),I!==!1&&(z.anchorColor=I),N!==!1&&(z.anchorSize=N),this},setEventsProxy:function(){var R=this,M=this.engine,D=this.localWorld;this.drawDebug&&(c.on(D,"compositeModified",function(B){R.setCompositeRenderStyle(B)}),c.on(D,"beforeAdd",function(B){for(var b=[].concat(B.object),I=0;I<b.length;I++){var N=b[I],z=N.render;N.type==="body"?R.setBodyRenderStyle(N,z.lineColor,z.lineOpacity,z.lineThickness,z.fillColor,z.fillOpacity):N.type==="composite"?R.setCompositeRenderStyle(N):N.type==="constraint"&&R.setConstraintRenderStyle(N,z.lineColor,z.lineOpacity,z.lineThickness,z.pinSize,z.anchorColor,z.anchorSize)}})),c.on(D,"beforeAdd",function(B){R.emit(l.BEFORE_ADD,B)}),c.on(D,"afterAdd",function(B){R.emit(l.AFTER_ADD,B)}),c.on(D,"beforeRemove",function(B){R.emit(l.BEFORE_REMOVE,B)}),c.on(D,"afterRemove",function(B){R.emit(l.AFTER_REMOVE,B)}),c.on(M,"beforeUpdate",function(B){R.emit(l.BEFORE_UPDATE,B)}),c.on(M,"afterUpdate",function(B){R.emit(l.AFTER_UPDATE,B)}),c.on(M,"collisionStart",function(B){var b=B.pairs,I,N;b.length>0&&b.map(function(z){I=z.bodyA,N=z.bodyB,I.gameObject&&I.gameObject.emit("collide",I,N,z),N.gameObject&&N.gameObject.emit("collide",N,I,z),c.trigger(I,"onCollide",{pair:z}),c.trigger(N,"onCollide",{pair:z}),I.onCollideCallback&&I.onCollideCallback(z),N.onCollideCallback&&N.onCollideCallback(z),I.onCollideWith[N.id]&&I.onCollideWith[N.id](N,z),N.onCollideWith[I.id]&&N.onCollideWith[I.id](I,z)}),R.emit(l.COLLISION_START,B,I,N)}),c.on(M,"collisionActive",function(B){var b=B.pairs,I,N;b.length>0&&b.map(function(z){I=z.bodyA,N=z.bodyB,I.gameObject&&I.gameObject.emit("collideActive",I,N,z),N.gameObject&&N.gameObject.emit("collideActive",N,I,z),c.trigger(I,"onCollideActive",{pair:z}),c.trigger(N,"onCollideActive",{pair:z}),I.onCollideActiveCallback&&I.onCollideActiveCallback(z),N.onCollideActiveCallback&&N.onCollideActiveCallback(z)}),R.emit(l.COLLISION_ACTIVE,B,I,N)}),c.on(M,"collisionEnd",function(B){var b=B.pairs,I,N;b.length>0&&b.map(function(z){I=z.bodyA,N=z.bodyB,I.gameObject&&I.gameObject.emit("collideEnd",I,N,z),N.gameObject&&N.gameObject.emit("collideEnd",N,I,z),c.trigger(I,"onCollideEnd",{pair:z}),c.trigger(N,"onCollideEnd",{pair:z}),I.onCollideEndCallback&&I.onCollideEndCallback(z),N.onCollideEndCallback&&N.onCollideEndCallback(z)}),R.emit(l.COLLISION_END,B,I,N)})},setBounds:function(R,M,D,B,b,I,N,z,H){return R===void 0&&(R=0),M===void 0&&(M=0),D===void 0&&(D=this.scene.sys.scale.width),B===void 0&&(B=this.scene.sys.scale.height),b===void 0&&(b=64),I===void 0&&(I=!0),N===void 0&&(N=!0),z===void 0&&(z=!0),H===void 0&&(H=!0),this.updateWall(I,"left",R-b,M-b,b,B+b*2),this.updateWall(N,"right",R+D,M-b,b,B+b*2),this.updateWall(z,"top",R,M-b,D,b),this.updateWall(H,"bottom",R,M+B,D,b),this},updateWall:function(R,M,D,B,b,I){var N=this.walls[M];R?(N&&p.remove(this.localWorld,N),D+=b/2,B+=I/2,this.walls[M]=this.create(D,B,b,I,{isStatic:!0,friction:0,frictionStatic:0})):(N&&p.remove(this.localWorld,N),this.walls[M]=null)},createDebugGraphic:function(){var R=this.scene.sys.add.graphics({x:0,y:0});return R.setDepth(Number.MAX_VALUE),this.debugGraphic=R,this.drawDebug=!0,R},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(R,M,D){return R===void 0&&(R=0),M===void 0&&(M=1),D===void 0&&(D=.001),this.localWorld.gravity.x=R,this.localWorld.gravity.y=M,this.localWorld.gravity.scale=D,this},create:function(R,M,D,B,b){var I=o.rectangle(R,M,D,B,b);return p.add(this.localWorld,I),I},add:function(R){return p.add(this.localWorld,R),this},remove:function(R,M){Array.isArray(R)||(R=[R]);for(var D=0;D<R.length;D++){var B=R[D],b=B.body?B.body:B;i.remove(this.localWorld,b,M)}return this},removeConstraint:function(R,M){return i.remove(this.localWorld,R,M),this},convertTilemapLayer:function(R,M){var D=R.layer,B=R.getTilesWithin(0,0,D.width,D.height,{isColliding:!0});return this.convertTiles(B,M),this},convertTiles:function(R,M){if(R.length===0)return this;for(var D=0;D<R.length;D++)new d(this,R[D],M);return this},nextGroup:function(R){return f.nextGroup(R)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=n.now(),this.emit(l.RESUME),this},update:function(R){if(!(!this.enabled||!this.autoUpdate)){var M=this.engine,D=this.runner,B=n.now(),b=D.delta,I=0,N=R-D.timeLastTick;if((!N||!D.timeLastTick||N>Math.max(S._maxFrameDelta,D.maxFrameTime))&&(N=D.frameDelta||S._frameDeltaFallback),D.frameDeltaSmoothing){D.frameDeltaHistory.push(N),D.frameDeltaHistory=D.frameDeltaHistory.slice(-D.frameDeltaHistorySize);var z=D.frameDeltaHistory.slice(0).sort(),H=D.frameDeltaHistory.slice(z.length*S._smoothingLowerBound,z.length*S._smoothingUpperBound),X=S._mean(H);N=X||N}D.frameDeltaSnapping&&(N=1e3/Math.round(1e3/N)),D.frameDelta=N,D.timeLastTick=R,D.timeBuffer+=D.frameDelta,D.timeBuffer=n.clamp(D.timeBuffer,0,D.frameDelta+b*S._timeBufferMargin),D.lastUpdatesDeferred=0;for(var W=D.maxUpdates||Math.ceil(D.maxFrameTime/b),V=n.now();b>0&&D.timeBuffer>=b*S._timeBufferMargin;){e.update(M,b),D.timeBuffer-=b,I+=1;var U=n.now()-B,F=n.now()-V,k=U+S._elapsedNextEstimate*F/I;if(I>=W||k>D.maxFrameTime){D.lastUpdatesDeferred=Math.round(Math.max(0,D.timeBuffer/b-S._timeBufferMargin));break}}}},step:function(R){e.update(this.engine,R)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(R){var M=R.hasOwnProperty("body")?R.body:R;return i.get(this.localWorld,M.id,M.type)!==null},getAllBodies:function(){return i.allBodies(this.localWorld)},getAllConstraints:function(){return i.allConstraints(this.localWorld)},getAllComposites:function(){return i.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var R=this.debugConfig,M=this.engine,D=this.debugGraphic,B=i.allBodies(this.localWorld);this.debugGraphic.clear(),R.showBroadphase&&M.broadphase.controller&&this.renderGrid(M.broadphase,D,R.broadphaseColor,.5),R.showBounds&&this.renderBodyBounds(B,D,R.boundsColor,.5),(R.showBody||R.showStaticBody)&&this.renderBodies(B),R.showJoint&&this.renderJoints(),(R.showAxes||R.showAngleIndicator)&&this.renderBodyAxes(B,D,R.showAxes,R.angleColor,.5),R.showVelocity&&this.renderBodyVelocity(B,D,R.velocityColor,1,2),R.showSeparations&&this.renderSeparations(M.pairs.list,D,R.separationColor),R.showCollisions&&this.renderCollisions(M.pairs.list,D,R.collisionColor)}},renderGrid:function(R,M,D,B){M.lineStyle(1,D,B);for(var b=n.keys(R.buckets),I=0;I<b.length;I++){var N=b[I];if(!(R.buckets[N].length<2)){var z=N.split(/C|R/);M.strokeRect(parseInt(z[1],10)*R.bucketWidth,parseInt(z[2],10)*R.bucketHeight,R.bucketWidth,R.bucketHeight)}}return this},renderSeparations:function(R,M,D){M.lineStyle(1,D,1);for(var B=0;B<R.length;B++){var b=R[B];if(b.isActive){var I=b.collision,N=I.bodyA,z=I.bodyB,H=N.position,X=z.position,W=I.penetration,V=!N.isStatic&&!z.isStatic?4:1;z.isStatic&&(V=0),M.lineBetween(X.x,X.y,X.x-W.x*V,X.y-W.y*V),V=!N.isStatic&&!z.isStatic?4:1,N.isStatic&&(V=0),M.lineBetween(H.x,H.y,H.x-W.x*V,H.y-W.y*V)}}return this},renderCollisions:function(R,M,D){M.lineStyle(1,D,.5),M.fillStyle(D,1);var B,b;for(B=0;B<R.length;B++)if(b=R[B],!!b.isActive)for(var I=0;I<b.contactCount;I++){var N=b.contacts[I],z=N.vertex;z&&M.fillRect(z.x-2,z.y-2,5,5)}for(B=0;B<R.length;B++)if(b=R[B],!!b.isActive){var H=b.collision,X=b.contacts;if(b.contactCount>0){var W=X[0].vertex.x,V=X[0].vertex.y;b.contactCount===2&&(W=(X[0].vertex.x+X[1].vertex.x)/2,V=(X[0].vertex.y+X[1].vertex.y)/2),H.bodyB===H.supports[0].body||H.bodyA.isStatic?M.lineBetween(W-H.normal.x*8,V-H.normal.y*8,W,V):M.lineBetween(W+H.normal.x*8,V+H.normal.y*8,W,V)}}return this},renderBodyBounds:function(R,M,D,B){M.lineStyle(1,D,B);for(var b=0;b<R.length;b++){var I=R[b];if(I.render.visible){var N=I.bounds;if(N)M.strokeRect(N.min.x,N.min.y,N.max.x-N.min.x,N.max.y-N.min.y);else for(var z=I.parts,H=z.length>1?1:0;H<z.length;H++){var X=z[H];M.strokeRect(X.bounds.min.x,X.bounds.min.y,X.bounds.max.x-X.bounds.min.x,X.bounds.max.y-X.bounds.min.y)}}}return this},renderBodyAxes:function(R,M,D,B,b){M.lineStyle(1,B,b);for(var I=0;I<R.length;I++){var N=R[I],z=N.parts;if(N.render.visible){var H,X,W;if(D)for(X=z.length>1?1:0;X<z.length;X++)for(H=z[X],W=0;W<H.axes.length;W++){var V=H.axes[W];M.lineBetween(H.position.x,H.position.y,H.position.x+V.x*20,H.position.y+V.y*20)}else for(X=z.length>1?1:0;X<z.length;X++)for(H=z[X],W=0;W<H.axes.length;W++)M.lineBetween(H.position.x,H.position.y,(H.vertices[0].x+H.vertices[H.vertices.length-1].x)/2,(H.vertices[0].y+H.vertices[H.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(R,M,D,B,b){M.lineStyle(b,D,B);for(var I=0;I<R.length;I++){var N=R[I];N.render.visible&&M.lineBetween(N.position.x,N.position.y,N.position.x+(N.position.x-N.positionPrev.x)*2,N.position.y+(N.position.y-N.positionPrev.y)*2)}return this},renderBodies:function(R){for(var M=this.debugGraphic,D=this.debugConfig,B=D.showBody,b=D.showStaticBody,I=D.showSleeping,N=D.showInternalEdges,z=D.showConvexHulls,H=D.renderFill,X=D.renderLine,W=D.staticBodySleepOpacity,V=D.sleepFillColor,U=D.sleepLineColor,F=D.hullColor,k=0;k<R.length;k++){var Y=R[k];if(Y.render.visible&&!(!b&&Y.isStatic||!B&&!Y.isStatic)){var Z=Y.render.lineColor,j=Y.render.lineOpacity,J=Y.render.lineThickness,q=Y.render.fillColor,et=Y.render.fillOpacity;I&&Y.isSleeping&&(Y.isStatic?(j*=W,et*=W):(Z=U,q=V)),H||(q=null),X||(Z=null),this.renderBody(Y,M,N,Z,j,J,q,et);var it=Y.parts.length;z&&it>1&&this.renderConvexHull(Y,M,F,J)}}},renderBody:function(R,M,D,B,b,I,N,z){B===void 0&&(B=null),b===void 0&&(b=null),I===void 0&&(I=1),N===void 0&&(N=null),z===void 0&&(z=null);for(var H=this.debugConfig,X=H.sensorFillColor,W=H.sensorLineColor,V=R.parts,U=V.length,F=U>1?1:0;F<U;F++){var k=V[F],Y=k.render,Z=Y.opacity;if(!(!Y.visible||Z===0||k.isSensor&&!H.showSensors)){var j=k.circleRadius;if(M.beginPath(),k.isSensor?(N!==null&&M.fillStyle(X,z*Z),B!==null&&M.lineStyle(I,W,b*Z)):(N!==null&&M.fillStyle(N,z*Z),B!==null&&M.lineStyle(I,B,b*Z)),j)M.arc(k.position.x,k.position.y,j,0,2*Math.PI);else{var J=k.vertices,q=J.length;M.moveTo(J[0].x,J[0].y);for(var et=1;et<q;et++){var it=J[et];if(!J[et-1].isInternal||D?M.lineTo(it.x,it.y):M.moveTo(it.x,it.y),et<q&&it.isInternal&&!D){var at=(et+1)%q;M.moveTo(J[at].x,J[at].y)}}M.closePath()}N!==null&&M.fillPath(),B!==null&&M.strokePath()}}if(H.showPositions&&!R.isStatic){var ut=R.position.x,dt=R.position.y,ft=Math.ceil(H.positionSize/2);M.fillStyle(H.positionColor,1),M.fillRect(ut-ft,dt-ft,H.positionSize,H.positionSize)}return this},renderConvexHull:function(R,M,D,B){B===void 0&&(B=1);var b=R.parts,I=b.length;if(I>1){var N=R.vertices;M.lineStyle(B,D),M.beginPath(),M.moveTo(N[0].x,N[0].y);for(var z=1;z<N.length;z++)M.lineTo(N[z].x,N[z].y);M.lineTo(N[0].x,N[0].y),M.strokePath()}return this},renderJoints:function(){for(var R=this.debugGraphic,M=i.allConstraints(this.localWorld),D=0;D<M.length;D++){var B=M[D].render,b=B.lineColor,I=B.lineOpacity,N=B.lineThickness,z=B.pinSize,H=B.anchorColor,X=B.anchorSize;this.renderConstraint(M[D],R,b,I,N,z,H,X)}},renderConstraint:function(R,M,D,B,b,I,N,z){var H=R.render;if(!H.visible||!R.pointA||!R.pointB)return this;M.lineStyle(b,D,B);var X=R.bodyA,W=R.bodyB,V,U;if(X?V=C.add(X.position,R.pointA):V=R.pointA,H.type==="pin")M.strokeCircle(V.x,V.y,I);else{if(W?U=C.add(W.position,R.pointB):U=R.pointB,M.beginPath(),M.moveTo(V.x,V.y),H.type==="spring")for(var F=C.sub(U,V),k=C.perp(C.normalise(F)),Y=Math.ceil(n.clamp(R.length/5,12,20)),Z,j=1;j<Y;j+=1)Z=j%2===0?1:-1,M.lineTo(V.x+F.x*(j/Y)+k.x*Z*4,V.y+F.y*(j/Y)+k.y*Z*4);M.lineTo(U.x,U.y)}return M.strokePath(),H.anchors&&z>0&&(M.fillStyle(N),M.fillCircle(V.x,V.y,z),M.fillCircle(U.x,U.y,z)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});h.exports=E}),70410:(h=>{var x={setBounce:function(t){return this.body.restitution=t,this}};h.exports=x}),66968:(h=>{var x={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var o=0;if(!Array.isArray(t))o=t;else for(var v=0;v<t.length;v++)o|=t[v];return this.body.collisionFilter.mask=o,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,o){Array.isArray(t)||(t=[t]);for(var v=0;v<t.length;v++){var r=t[v].hasOwnProperty("body")?t[v].body:t[v];this.body.setOnCollideWith(r,o)}return this}};h.exports=x}),51607:((h,x,t)=>{var o=t(22562),v={applyForce:function(r){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,r),this},applyForceFrom:function(r,n){return o.applyForce(this.body,r,n),this},thrust:function(r){var n=this.body.angle;return this._tempVec2.set(r*Math.cos(n),r*Math.sin(n)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(r){var n=this.body.angle-Math.PI/2;return this._tempVec2.set(r*Math.cos(n),r*Math.sin(n)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(r){var n=this.body.angle+Math.PI/2;return this._tempVec2.set(r*Math.cos(n),r*Math.sin(n)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(r){var n=this.body.angle-Math.PI;return this._tempVec2.set(r*Math.cos(n),r*Math.sin(n)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};h.exports=v}),5436:(h=>{var x={setFriction:function(t,o,v){return this.body.friction=t,o!==void 0&&(this.body.frictionAir=o),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};h.exports=x}),39858:(h=>{var x={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};h.exports=x}),37302:((h,x,t)=>{var o=t(22562),v=t(26099),r={setMass:function(n){return o.setMass(this.body,n),this},setDensity:function(n){return o.setDensity(this.body,n),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};h.exports=r}),39132:(h=>{var x={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};h.exports=x}),57772:((h,x,t)=>{var o=t(66280),v=t(22562),r=t(43855),n=t(95540),i=t(19496),e=t(85791),a=t(41598),l={setRectangle:function(s,u,f){return this.setBody({type:"rectangle",width:s,height:u},f)},setCircle:function(s,u){return this.setBody({type:"circle",radius:s},u)},setPolygon:function(s,u,f){return this.setBody({type:"polygon",sides:u,radius:s},f)},setTrapezoid:function(s,u,f,c){return this.setBody({type:"trapezoid",width:s,height:u,slope:f},c)},setExistingBody:function(s,u){u===void 0&&(u=!0),this.body&&this.world.remove(this.body,!0),this.body=s;for(var f=0;f<s.parts.length;f++)s.parts[f].gameObject=this;var c=this;if(s.destroy=function(){c.world.remove(c.body,!0),c.body.gameObject=null},u&&(this.world.has(s)&&this.world.remove(s,!0),this.world.add(s)),this._originComponent){var d=s.render.sprite.xOffset,p=s.render.sprite.yOffset,S=s.centerOfMass.x,C=s.centerOfMass.y;if(r(S,.5)&&r(C,.5))this.setOrigin(d+.5,p+.5);else{var E=s.centerOffset.x,R=s.centerOffset.y;this.setOrigin(d+E/this.displayWidth,p+R/this.displayHeight)}}return this},setBody:function(s,u){if(!s)return this;var f;typeof s=="string"&&(s={type:s});var c=n(s,"type","rectangle"),d=n(s,"x",this._tempVec2.x),p=n(s,"y",this._tempVec2.y),S=n(s,"width",this.width),C=n(s,"height",this.height);switch(c){case"rectangle":f=o.rectangle(d,p,S,C,u);break;case"circle":var E=n(s,"radius",Math.max(S,C)/2),R=n(s,"maxSides",25);f=o.circle(d,p,E,u,R);break;case"trapezoid":var M=n(s,"slope",.5);f=o.trapezoid(d,p,S,C,M,u);break;case"polygon":var D=n(s,"sides",5),B=n(s,"radius",Math.max(S,C)/2);f=o.polygon(d,p,D,B,u);break;case"fromVertices":case"fromVerts":var b=n(s,"verts",null);if(b)if(typeof b=="string"&&(b=a.fromPath(b)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,b),f=this.body;else{var I=n(s,"flagInternal",!1),N=n(s,"removeCollinear",.01),z=n(s,"minimumArea",10);f=o.fromVertices(d,p,b,u,I,N,z)}break;case"fromPhysicsEditor":f=i.parseBody(d,p,s,u);break;case"fromPhysicsTracer":f=e.parseBody(d,p,s,u);break}return f&&this.setExistingBody(f,s.addToWorld),this}};h.exports=l}),38083:((h,x,t)=>{var o=t(1121),v=t(53614),r=t(35810),n={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(i){return i===void 0&&(i=60),this.body.sleepThreshold=i,this},setSleepEvents:function(i,e){return this.setSleepStartEvent(i),this.setSleepEndEvent(e),this},setSleepStartEvent:function(i){if(i){var e=this.world;r.on(this.body,"sleepStart",function(a){e.emit(o.SLEEP_START,a,this)})}else r.off(this.body,"sleepStart");return this},setSleepEndEvent:function(i){if(i){var e=this.world;r.on(this.body,"sleepEnd",function(a){e.emit(o.SLEEP_END,a,this)})}else r.off(this.body,"sleepEnd");return this}};h.exports=n}),90556:((h,x,t)=>{var o=t(22562),v={setStatic:function(r){return o.setStatic(this.body,r),this},isStatic:function(){return this.body.isStatic}};h.exports=v}),85436:((h,x,t)=>{var o=t(22562),v=t(36383),r=t(86554),n=t(30954),i=4,e={x:{get:function(){return this.body.position.x},set:function(a){this._tempVec2.set(a,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(a){this._tempVec2.set(this.x,a),o.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(a){this.setScale(a,a)}},scaleX:{get:function(){return this._scaleX},set:function(a){var l=1/this._scaleX,s=1/this._scaleY;this._scaleX=a,this._scaleX===0?this.renderFlags&=~i:this.renderFlags|=i,o.scale(this.body,l,s),o.scale(this.body,a,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(a){var l=1/this._scaleX,s=1/this._scaleY;this._scaleY=a,this._scaleY===0?this.renderFlags&=~i:this.renderFlags|=i,o.scale(this.body,l,s),o.scale(this.body,this._scaleX,a)}},angle:{get:function(){return n(this.body.angle*v.RAD_TO_DEG)},set:function(a){this.rotation=n(a)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(a){this._rotation=r(a),o.setAngle(this.body,this._rotation)}},setPosition:function(a,l){return a===void 0&&(a=0),l===void 0&&(l=a),this._tempVec2.set(a,l),o.setPosition(this.body,this._tempVec2),this},setRotation:function(a){return a===void 0&&(a=0),this._rotation=r(a),o.setAngle(this.body,a),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(a){return a===void 0&&(a=0),this.angle=a,o.setAngle(this.body,this.rotation),this},setScale:function(a,l,s){a===void 0&&(a=1),l===void 0&&(l=a);var u=1/this._scaleX,f=1/this._scaleY;return this._scaleX=a,this._scaleY=l,o.scale(this.body,u,f,s),o.scale(this.body,a,l,s),this}};h.exports=e}),42081:((h,x,t)=>{var o=t(22562),v={setVelocityX:function(r){return this._tempVec2.set(r,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(r){return this._tempVec2.set(this.body.velocity.x,r),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(r,n){return this._tempVec2.set(r,n),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(r){return o.setAngularVelocity(this.body,r),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(r){return o.setAngularSpeed(this.body,r),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};h.exports=v}),31884:((h,x,t)=>{h.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}}),85608:(h=>{h.exports="afteradd"}),1213:(h=>{h.exports="afterremove"}),25968:(h=>{h.exports="afterupdate"}),67205:(h=>{h.exports="beforeadd"}),39438:(h=>{h.exports="beforeremove"}),44823:(h=>{h.exports="beforeupdate"}),92593:(h=>{h.exports="collisionactive"}),60128:(h=>{h.exports="collisionend"}),76861:(h=>{h.exports="collisionstart"}),92362:(h=>{h.exports="dragend"}),76408:(h=>{h.exports="drag"}),93971:(h=>{h.exports="dragstart"}),5656:(h=>{h.exports="pause"}),47861:(h=>{h.exports="resume"}),79099:(h=>{h.exports="sleepend"}),35906:(h=>{h.exports="sleepstart"}),1121:((h,x,t)=>{h.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}}),3875:((h,x,t)=>{h.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}}),22562:((h,x,t)=>{var o={};h.exports=o;var v=t(41598),r=t(31725),n=t(53614),i=t(53402),e=t(15647),a=t(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(s){var u={id:i.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:s.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!s.hasOwnProperty("position")&&s.hasOwnProperty("vertices")?s.position=v.centre(s.vertices):s.hasOwnProperty("vertices")||(u.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=i.extend(u,s);return l(f,s),f.setOnCollideWith=function(c,d){return d?this.onCollideWith[c.id]=d:delete this.onCollideWith[c.id],this},f},o.nextGroup=function(s){return s?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var l=function(s,u){if(u=u||{},o.set(s,{bounds:s.bounds||e.create(s.vertices),positionPrev:s.positionPrev||r.clone(s.position),anglePrev:s.anglePrev||s.angle,vertices:s.vertices,parts:s.parts||[s],isStatic:s.isStatic,isSleeping:s.isSleeping,parent:s.parent||s}),v.rotate(s.vertices,s.angle,s.position),a.rotate(s.axes,s.angle),e.update(s.bounds,s.vertices,s.velocity),o.set(s,{axes:u.axes||s.axes,area:u.area||s.area,mass:u.mass||s.mass,inertia:u.inertia||s.inertia}),s.parts.length===1){var f=s.bounds,c=s.centerOfMass,d=s.centerOffset,p=f.max.x-f.min.x,S=f.max.y-f.min.y;c.x=-(f.min.x-s.position.x)/p,c.y=-(f.min.y-s.position.y)/S,d.x=p*c.x,d.y=S*c.y}};o.set=function(s,u,f){var c;typeof u=="string"&&(c=u,u={},u[c]=f);for(c in u)if(Object.prototype.hasOwnProperty.call(u,c))switch(f=u[c],c){case"isStatic":o.setStatic(s,f);break;case"isSleeping":n.set(s,f);break;case"mass":o.setMass(s,f);break;case"density":o.setDensity(s,f);break;case"inertia":o.setInertia(s,f);break;case"vertices":o.setVertices(s,f);break;case"position":o.setPosition(s,f);break;case"angle":o.setAngle(s,f);break;case"velocity":o.setVelocity(s,f);break;case"angularVelocity":o.setAngularVelocity(s,f);break;case"speed":o.setSpeed(s,f);break;case"angularSpeed":o.setAngularSpeed(s,f);break;case"parts":o.setParts(s,f);break;case"centre":o.setCentre(s,f);break;default:s[c]=f}},o.setStatic=function(s,u){for(var f=0;f<s.parts.length;f++){var c=s.parts[f];u?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=u}},o.setMass=function(s,u){var f=s.inertia/(s.mass/6);s.inertia=f*(u/6),s.inverseInertia=1/s.inertia,s.mass=u,s.inverseMass=1/s.mass,s.density=s.mass/s.area},o.setDensity=function(s,u){o.setMass(s,u*s.area),s.density=u},o.setInertia=function(s,u){s.inertia=u,s.inverseInertia=1/s.inertia},o.setVertices=function(s,u){u[0].body===s?s.vertices=u:s.vertices=v.create(u,s),s.axes=a.fromVertices(s.vertices),s.area=v.area(s.vertices),o.setMass(s,s.density*s.area);var f=v.centre(s.vertices);v.translate(s.vertices,f,-1),o.setInertia(s,o._inertiaScale*v.inertia(s.vertices,s.mass)),v.translate(s.vertices,s.position),e.update(s.bounds,s.vertices,s.velocity)},o.setParts=function(s,u,f){var c;for(u=u.slice(0),s.parts.length=0,s.parts.push(s),s.parent=s,c=0;c<u.length;c++){var d=u[c];d!==s&&(d.parent=s,s.parts.push(d))}if(s.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var p=[];for(c=0;c<u.length;c++)p=p.concat(u[c].vertices);v.clockwiseSort(p);var S=v.hull(p),C=v.centre(S);o.setVertices(s,S),v.translate(s.vertices,C)}var E=o._totalProperties(s),R=E.centre.x,M=E.centre.y,D=s.bounds,B=s.centerOfMass,b=s.centerOffset;e.update(D,s.vertices,s.velocity),B.x=-(D.min.x-R)/(D.max.x-D.min.x),B.y=-(D.min.y-M)/(D.max.y-D.min.y),b.x=R,b.y=M,s.area=E.area,s.parent=s,s.position.x=R,s.position.y=M,s.positionPrev.x=R,s.positionPrev.y=M,o.setMass(s,E.mass),o.setInertia(s,E.inertia),o.setPosition(s,E.centre)}},o.setCentre=function(s,u,f){f?(s.positionPrev.x+=u.x,s.positionPrev.y+=u.y,s.position.x+=u.x,s.position.y+=u.y):(s.positionPrev.x=u.x-(s.position.x-s.positionPrev.x),s.positionPrev.y=u.y-(s.position.y-s.positionPrev.y),s.position.x=u.x,s.position.y=u.y)},o.setPosition=function(s,u,f){var c=r.sub(u,s.position);f?(s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.velocity.x=c.x,s.velocity.y=c.y,s.speed=r.magnitude(c)):(s.positionPrev.x+=c.x,s.positionPrev.y+=c.y);for(var d=0;d<s.parts.length;d++){var p=s.parts[d];p.position.x+=c.x,p.position.y+=c.y,v.translate(p.vertices,c),e.update(p.bounds,p.vertices,s.velocity)}},o.setAngle=function(s,u,f){var c=u-s.angle;f?(s.anglePrev=s.angle,s.angularVelocity=c,s.angularSpeed=Math.abs(c)):s.anglePrev+=c;for(var d=0;d<s.parts.length;d++){var p=s.parts[d];p.angle+=c,v.rotate(p.vertices,c,s.position),a.rotate(p.axes,c),e.update(p.bounds,p.vertices,s.velocity),d>0&&r.rotateAbout(p.position,c,s.position,p.position)}},o.setVelocity=function(s,u){var f=s.deltaTime/o._baseDelta;s.positionPrev.x=s.position.x-u.x*f,s.positionPrev.y=s.position.y-u.y*f,s.velocity.x=(s.position.x-s.positionPrev.x)/f,s.velocity.y=(s.position.y-s.positionPrev.y)/f,s.speed=r.magnitude(s.velocity)},o.getVelocity=function(s){var u=o._baseDelta/s.deltaTime;return{x:(s.position.x-s.positionPrev.x)*u,y:(s.position.y-s.positionPrev.y)*u}},o.getSpeed=function(s){return r.magnitude(o.getVelocity(s))},o.setSpeed=function(s,u){o.setVelocity(s,r.mult(r.normalise(o.getVelocity(s)),u))},o.setAngularVelocity=function(s,u){var f=s.deltaTime/o._baseDelta;s.anglePrev=s.angle-u*f,s.angularVelocity=(s.angle-s.anglePrev)/f,s.angularSpeed=Math.abs(s.angularVelocity)},o.getAngularVelocity=function(s){return(s.angle-s.anglePrev)*o._baseDelta/s.deltaTime},o.getAngularSpeed=function(s){return Math.abs(o.getAngularVelocity(s))},o.setAngularSpeed=function(s,u){o.setAngularVelocity(s,i.sign(o.getAngularVelocity(s))*u)},o.translate=function(s,u,f){o.setPosition(s,r.add(s.position,u),f)},o.rotate=function(s,u,f,c){if(!f)o.setAngle(s,s.angle+u,c);else{var d=Math.cos(u),p=Math.sin(u),S=s.position.x-f.x,C=s.position.y-f.y;o.setPosition(s,{x:f.x+(S*d-C*p),y:f.y+(S*p+C*d)},c),o.setAngle(s,s.angle+u,c)}},o.scale=function(s,u,f,c){var d=0,p=0;c=c||s.position;for(var S=s.inertia===1/0,C=0;C<s.parts.length;C++){var E=s.parts[C];E.scale.x=u,E.scale.y=f,v.scale(E.vertices,u,f,c),E.axes=a.fromVertices(E.vertices),E.area=v.area(E.vertices),o.setMass(E,s.density*E.area),v.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),o.setInertia(E,o._inertiaScale*v.inertia(E.vertices,E.mass)),v.translate(E.vertices,{x:E.position.x,y:E.position.y}),C>0&&(d+=E.area,p+=E.inertia),E.position.x=c.x+(E.position.x-c.x)*u,E.position.y=c.y+(E.position.y-c.y)*f,e.update(E.bounds,E.vertices,s.velocity)}s.parts.length>1&&(s.area=d,s.isStatic||(o.setMass(s,s.density*d),o.setInertia(s,p))),s.circleRadius&&(u===f?s.circleRadius*=u:s.circleRadius=null),S&&o.setInertia(s,1/0)},o.update=function(s,u){u=(typeof u<"u"?u:16.666666666666668)*s.timeScale;var f=u*u,c=o._timeCorrection?u/(s.deltaTime||u):1,d=1-s.frictionAir*(u/i._baseDelta),p=(s.position.x-s.positionPrev.x)*c,S=(s.position.y-s.positionPrev.y)*c;s.velocity.x=p*d+s.force.x/s.mass*f,s.velocity.y=S*d+s.force.y/s.mass*f,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.position.x+=s.velocity.x,s.position.y+=s.velocity.y,s.deltaTime=u,s.angularVelocity=(s.angle-s.anglePrev)*d*c+s.torque/s.inertia*f,s.anglePrev=s.angle,s.angle+=s.angularVelocity,s.speed=r.magnitude(s.velocity),s.angularSpeed=Math.abs(s.angularVelocity);for(var C=0;C<s.parts.length;C++){var E=s.parts[C];v.translate(E.vertices,s.velocity),C>0&&(E.position.x+=s.velocity.x,E.position.y+=s.velocity.y),s.angularVelocity!==0&&(v.rotate(E.vertices,s.angularVelocity,s.position),a.rotate(E.axes,s.angularVelocity),C>0&&r.rotateAbout(E.position,s.angularVelocity,s.position,E.position)),e.update(E.bounds,E.vertices,s.velocity)}},o.updateVelocities=function(s){var u=o._baseDelta/s.deltaTime,f=s.velocity;f.x=(s.position.x-s.positionPrev.x)*u,f.y=(s.position.y-s.positionPrev.y)*u,s.speed=Math.sqrt(f.x*f.x+f.y*f.y),s.angularVelocity=(s.angle-s.anglePrev)*u,s.angularSpeed=Math.abs(s.angularVelocity)},o.applyForce=function(s,u,f){var c={x:u.x-s.position.x,y:u.y-s.position.y};s.force.x+=f.x,s.force.y+=f.y,s.torque+=c.x*f.y-c.y*f.x},o._totalProperties=function(s){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=s.parts.length===1?0:1;f<s.parts.length;f++){var c=s.parts[f],d=c.mass!==1/0?c.mass:1;u.mass+=d,u.area+=c.area,u.inertia+=c.inertia,u.centre=r.add(u.centre,r.mult(c.position,d))}return u.centre=r.div(u.centre,u.mass),u},o.wrap=function(s,u){var f=e.wrap(s.bounds,u);return f&&o.translate(s,f),f}})()}),69351:((h,x,t)=>{var o={};h.exports=o;var v=t(35810),r=t(53402),n=t(15647),i=t(22562);(function(){o.create=function(e){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},o.setModified=function(e,a,l,s){if(v.trigger(e,"compositeModified",e),e.isModified=a,a&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&o.setModified(e.parent,a,l,s),s)for(var u=0;u<e.composites.length;u++){var f=e.composites[u];o.setModified(f,a,l,s)}},o.add=function(e,a){var l=[].concat(a);v.trigger(e,"beforeAdd",{object:a});for(var s=0;s<l.length;s++){var u=l[s];switch(u.type){case"body":if(u.parent!==u){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(e,u);break;case"constraint":o.addConstraint(e,u);break;case"composite":o.addComposite(e,u);break;case"mouseConstraint":o.addConstraint(e,u.constraint);break}}return v.trigger(e,"afterAdd",{object:a}),e},o.remove=function(e,a,l){var s=[].concat(a);v.trigger(e,"beforeRemove",{object:a});for(var u=0;u<s.length;u++){var f=s[u];switch(f.type){case"body":o.removeBody(e,f,l);break;case"constraint":o.removeConstraint(e,f,l);break;case"composite":o.removeComposite(e,f,l);break;case"mouseConstraint":o.removeConstraint(e,f.constraint);break}}return v.trigger(e,"afterRemove",{object:a}),e},o.addComposite=function(e,a){return e.composites.push(a),a.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,a,l){var s=r.indexOf(e.composites,a);if(s!==-1){var u=o.allBodies(a);o.removeCompositeAt(e,s);for(var f=0;f<u.length;f++)u[f].sleepCounter=0}if(l)for(var f=0;f<e.composites.length;f++)o.removeComposite(e.composites[f],a,!0);return e},o.removeCompositeAt=function(e,a){return e.composites.splice(a,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,a){return e.bodies.push(a),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,a,l){var s=r.indexOf(e.bodies,a);if(s!==-1&&(o.removeBodyAt(e,s),a.sleepCounter=0),l)for(var u=0;u<e.composites.length;u++)o.removeBody(e.composites[u],a,!0);return e},o.removeBodyAt=function(e,a){return e.bodies.splice(a,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,a){return e.constraints.push(a),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,a,l){var s=r.indexOf(e.constraints,a);if(s!==-1&&o.removeConstraintAt(e,s),l)for(var u=0;u<e.composites.length;u++)o.removeConstraint(e.composites[u],a,!0);return e},o.removeConstraintAt=function(e,a){return e.constraints.splice(a,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,a,l){if(l)for(var s=0;s<e.composites.length;s++)o.clear(e.composites[s],a,!0);return a?e.bodies=e.bodies.filter(function(u){return u.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var a=[].concat(e.bodies),l=0;l<e.composites.length;l++)a=a.concat(o.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=a),a},o.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var a=[].concat(e.constraints),l=0;l<e.composites.length;l++)a=a.concat(o.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=a),a},o.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var a=[].concat(e.composites),l=0;l<e.composites.length;l++)a=a.concat(o.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=a),a},o.get=function(e,a,l){var s,u;switch(l){case"body":s=o.allBodies(e);break;case"constraint":s=o.allConstraints(e);break;case"composite":s=o.allComposites(e).concat(e);break}return s?(u=s.filter(function(f){return f.id.toString()===a.toString()}),u.length===0?null:u[0]):null},o.move=function(e,a,l){return o.remove(e,a),o.add(l,a),e},o.rebase=function(e){for(var a=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),l=0;l<a.length;l++)a[l].id=r.nextId();return e},o.translate=function(e,a,l){for(var s=l?o.allBodies(e):e.bodies,u=0;u<s.length;u++)i.translate(s[u],a);return e},o.rotate=function(e,a,l,s){for(var u=Math.cos(a),f=Math.sin(a),c=s?o.allBodies(e):e.bodies,d=0;d<c.length;d++){var p=c[d],S=p.position.x-l.x,C=p.position.y-l.y;i.setPosition(p,{x:l.x+(S*u-C*f),y:l.y+(S*f+C*u)}),i.rotate(p,a)}return e},o.scale=function(e,a,l,s,u){for(var f=u?o.allBodies(e):e.bodies,c=0;c<f.length;c++){var d=f[c],p=d.position.x-s.x,S=d.position.y-s.y;i.setPosition(d,{x:s.x+p*a,y:s.y+S*l}),i.scale(d,a,l)}return e},o.bounds=function(e){for(var a=o.allBodies(e),l=[],s=0;s<a.length;s+=1){var u=a[s];l.push(u.bounds.min,u.bounds.max)}return n.create(l)},o.wrap=function(e,a){var l=n.wrap(o.bounds(e),a);return l&&o.translate(e,l),l}})()}),4372:((h,x,t)=>{var o={};h.exports=o;var v=t(69351);(function(){o.create=v.create,o.add=v.add,o.remove=v.remove,o.clear=v.clear,o.addComposite=v.addComposite,o.addBody=v.addBody,o.addConstraint=v.addConstraint})()}),52284:((h,x,t)=>{var o={};h.exports=o;var v=t(41598),r=t(4506);(function(){var n=[],i={overlap:0,axis:null},e={overlap:0,axis:null};o.create=function(a,l){return{pair:null,collided:!1,bodyA:a,bodyB:l,parentA:a.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(a,l,s){if(o._overlapAxes(i,a.vertices,l.vertices,a.axes),i.overlap<=0||(o._overlapAxes(e,l.vertices,a.vertices,l.axes),e.overlap<=0))return null;var u=s&&s.table[r.id(a,l)],f;u?f=u.collision:(f=o.create(a,l),f.collided=!0,f.bodyA=a.id<l.id?a:l,f.bodyB=a.id<l.id?l:a,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),a=f.bodyA,l=f.bodyB;var c;i.overlap<e.overlap?c=i:c=e;var d=f.normal,p=f.tangent,S=f.penetration,C=f.supports,E=c.overlap,R=c.axis,M=R.x,D=R.y,B=l.position.x-a.position.x,b=l.position.y-a.position.y;M*B+D*b>=0&&(M=-M,D=-D),d.x=M,d.y=D,p.x=-D,p.y=M,S.x=M*E,S.y=D*E,f.depth=E;var I=o._findSupports(a,l,d,1),N=0;if(v.contains(a.vertices,I[0])&&(C[N++]=I[0]),v.contains(a.vertices,I[1])&&(C[N++]=I[1]),N<2){var z=o._findSupports(l,a,d,-1);v.contains(l.vertices,z[0])&&(C[N++]=z[0]),N<2&&v.contains(l.vertices,z[1])&&(C[N++]=z[1])}return N===0&&(C[N++]=I[0]),f.supportCount=N,f},o._overlapAxes=function(a,l,s,u){var f=l.length,c=s.length,d=l[0].x,p=l[0].y,S=s[0].x,C=s[0].y,E=u.length,R=Number.MAX_VALUE,M=0,D,B,b,I,N,z;for(N=0;N<E;N++){var H=u[N],X=H.x,W=H.y,V=d*X+p*W,U=S*X+C*W,F=V,k=U;for(z=1;z<f;z+=1)I=l[z].x*X+l[z].y*W,I>F?F=I:I<V&&(V=I);for(z=1;z<c;z+=1)I=s[z].x*X+s[z].y*W,I>k?k=I:I<U&&(U=I);if(B=F-U,b=k-V,D=B<b?B:b,D<R&&(R=D,M=N,D<=0))break}a.axis=u[M],a.overlap=R},o._findSupports=function(a,l,s,u){var f=l.vertices,c=f.length,d=a.position.x,p=a.position.y,S=s.x*u,C=s.y*u,E=f[0],R=E,M=S*(d-R.x)+C*(p-R.y),D,B,b;for(b=1;b<c;b+=1)R=f[b],B=S*(d-R.x)+C*(p-R.y),B<M&&(M=B,E=R);return D=f[(c+E.index-1)%c],M=S*(d-D.x)+C*(p-D.y),R=f[(E.index+1)%c],S*(d-R.x)+C*(p-R.y)<M?(n[0]=E,n[1]=R,n):(n[0]=E,n[1]=D,n)}})()}),43424:(h=>{var x={};h.exports=x,(function(){x.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}})()}),81388:((h,x,t)=>{var o={};h.exports=o;var v=t(53402),r=t(52284);(function(){o.create=function(n){var i={bodies:[],collisions:[],pairs:null};return v.extend(i,n)},o.setBodies=function(n,i){n.bodies=i.slice(0)},o.clear=function(n){n.bodies=[],n.collisions=[]},o.collisions=function(n){var i=n.pairs,e=n.bodies,a=e.length,l=o.canCollide,s=r.collides,u=n.collisions,f=0,c,d;for(e.sort(o._compareBoundsX),c=0;c<a;c++){var p=e[c],S=p.bounds,C=p.bounds.max.x,E=p.bounds.max.y,R=p.bounds.min.y,M=p.isStatic||p.isSleeping,D=p.parts.length,B=D===1;for(d=c+1;d<a;d++){var b=e[d],I=b.bounds;if(I.min.x>C)break;if(!(E<I.min.y||R>I.max.y)&&!(M&&(b.isStatic||b.isSleeping))&&l(p.collisionFilter,b.collisionFilter)){var N=b.parts.length;if(B&&N===1){var z=s(p,b,i);z&&(u[f++]=z)}else for(var H=D>1?1:0,X=N>1?1:0,W=H;W<D;W++)for(var V=p.parts[W],S=V.bounds,U=X;U<N;U++){var F=b.parts[U],I=F.bounds;if(!(S.min.x>I.max.x||S.max.x<I.min.x||S.max.y<I.min.y||S.min.y>I.max.y)){var z=s(V,F,i);z&&(u[f++]=z)}}}}}return u.length!==f&&(u.length=f),u},o.canCollide=function(n,i){return n.group===i.group&&n.group!==0?n.group>0:(n.mask&i.category)!==0&&(i.mask&n.category)!==0},o._compareBoundsX=function(n,i){return n.bounds.min.x-i.bounds.min.x}})()}),4506:((h,x,t)=>{var o={};h.exports=o;var v=t(43424);(function(){o.create=function(r,n){var i=r.bodyA,e=r.bodyB,a={id:o.id(i,e),bodyA:i,bodyB:e,collision:r,contacts:[v.create(),v.create()],contactCount:0,separation:0,isActive:!0,isSensor:i.isSensor||e.isSensor,timeCreated:n,timeUpdated:n,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(a,r,n),a},o.update=function(r,n,i){var e=n.supports,a=n.supportCount,l=r.contacts,s=n.parentA,u=n.parentB;r.isActive=!0,r.timeUpdated=i,r.collision=n,r.separation=n.depth,r.inverseMass=s.inverseMass+u.inverseMass,r.friction=s.friction<u.friction?s.friction:u.friction,r.frictionStatic=s.frictionStatic>u.frictionStatic?s.frictionStatic:u.frictionStatic,r.restitution=s.restitution>u.restitution?s.restitution:u.restitution,r.slop=s.slop>u.slop?s.slop:u.slop,r.contactCount=a,n.pair=r;var f=e[0],c=l[0],d=e[1],p=l[1];(p.vertex===f||c.vertex===d)&&(l[1]=c,l[0]=c=p,p=l[1]),c.vertex=f,p.vertex=d},o.setActive=function(r,n,i){n?(r.isActive=!0,r.timeUpdated=i):(r.isActive=!1,r.contactCount=0)},o.id=function(r,n){return r.id<n.id?r.id.toString(36)+":"+n.id.toString(36):n.id.toString(36)+":"+r.id.toString(36)}})()}),99561:((h,x,t)=>{var o={};h.exports=o;var v=t(4506),r=t(53402);(function(){o.create=function(n){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},o.update=function(n,i,e){var a=v.update,l=v.create,s=v.setActive,u=n.table,f=n.list,c=f.length,d=c,p=n.collisionStart,S=n.collisionEnd,C=n.collisionActive,E=i.length,R=0,M=0,D=0,B,b,I;for(I=0;I<E;I++)B=i[I],b=B.pair,b?(b.isActive&&(C[D++]=b),a(b,B,e)):(b=l(B,e),u[b.id]=b,p[R++]=b,f[d++]=b);for(d=0,c=f.length,I=0;I<c;I++)b=f[I],b.timeUpdated>=e?f[d++]=b:(s(b,!1,e),b.collision.bodyA.sleepCounter>0&&b.collision.bodyB.sleepCounter>0?f[d++]=b:(S[M++]=b,delete u[b.id]));f.length!==d&&(f.length=d),p.length!==R&&(p.length=R),S.length!==M&&(S.length=M),C.length!==D&&(C.length=D)},o.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()}),73296:((h,x,t)=>{var o={};h.exports=o;var v=t(31725),r=t(52284),n=t(15647),i=t(66280),e=t(41598);(function(){o.collides=function(a,l){for(var s=[],u=l.length,f=a.bounds,c=r.collides,d=n.overlaps,p=0;p<u;p++){var S=l[p],C=S.parts.length,E=C===1?0:1;if(a!==S&&d(S.bounds,f))for(var R=E;R<C;R++){var M=S.parts[R];if(d(M.bounds,f)){var D=c(M,a);if(D){s.push(D);break}}}}return s},o.ray=function(a,l,s,u){u=u||1e-100;for(var f=v.angle(l,s),c=v.magnitude(v.sub(l,s)),d=(s.x+l.x)*.5,p=(s.y+l.y)*.5,S=i.rectangle(d,p,c,u,{angle:f}),C=o.collides(S,a),E=0;E<C.length;E+=1){var R=C[E];R.body=R.bodyB=R.bodyA}return C},o.region=function(a,l,s){for(var u=[],f=0;f<a.length;f++){var c=a[f],d=n.overlaps(c.bounds,l);(d&&!s||!d&&s)&&u.push(c)}return u},o.point=function(a,l){for(var s=[],u=0;u<a.length;u++){var f=a[u];if(n.contains(f.bounds,l))for(var c=f.parts.length===1?0:1;c<f.parts.length;c++){var d=f.parts[c];if(n.contains(d.bounds,l)&&e.contains(d.vertices,l)){s.push(f);break}}}return s}})()}),66272:((h,x,t)=>{var o={};h.exports=o;var v=t(41598),r=t(53402),n=t(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(i){var e,a,l,s=i.length;for(e=0;e<s;e++)a=i[e],a.isActive&&(l=a.contactCount,a.collision.parentA.totalContacts+=l,a.collision.parentB.totalContacts+=l)},o.solvePosition=function(i,e,a){var l,s,u,f,c,d,p,S,C=o._positionDampen*(a||1),E=r.clamp(e/r._baseDelta,0,1),R=i.length;for(l=0;l<R;l++)s=i[l],!(!s.isActive||s.isSensor)&&(u=s.collision,f=u.parentA,c=u.parentB,d=u.normal,s.separation=u.depth+d.x*(c.positionImpulse.x-f.positionImpulse.x)+d.y*(c.positionImpulse.y-f.positionImpulse.y));for(l=0;l<R;l++)s=i[l],!(!s.isActive||s.isSensor)&&(u=s.collision,f=u.parentA,c=u.parentB,d=u.normal,S=s.separation-s.slop*E,(f.isStatic||c.isStatic)&&(S*=2),f.isStatic||f.isSleeping||(p=C/f.totalContacts,f.positionImpulse.x+=d.x*S*p,f.positionImpulse.y+=d.y*S*p),c.isStatic||c.isSleeping||(p=C/c.totalContacts,c.positionImpulse.x-=d.x*S*p,c.positionImpulse.y-=d.y*S*p))},o.postSolvePosition=function(i){for(var e=o._positionWarming,a=i.length,l=v.translate,s=n.update,u=0;u<a;u++){var f=i[u],c=f.positionImpulse,d=c.x,p=c.y,S=f.velocity;if(f.totalContacts=0,d!==0||p!==0){for(var C=0;C<f.parts.length;C++){var E=f.parts[C];l(E.vertices,c),s(E.bounds,E.vertices,S),E.position.x+=d,E.position.y+=p}f.positionPrev.x+=d,f.positionPrev.y+=p,d*S.x+p*S.y<0?(c.x=0,c.y=0):(c.x*=e,c.y*=e)}}},o.preSolveVelocity=function(i){var e=i.length,a,l;for(a=0;a<e;a++){var s=i[a];if(!(!s.isActive||s.isSensor)){var u=s.contacts,f=s.contactCount,c=s.collision,d=c.parentA,p=c.parentB,S=c.normal,C=c.tangent;for(l=0;l<f;l++){var E=u[l],R=E.vertex,M=E.normalImpulse,D=E.tangentImpulse;if(M!==0||D!==0){var B=S.x*M+C.x*D,b=S.y*M+C.y*D;d.isStatic||d.isSleeping||(d.positionPrev.x+=B*d.inverseMass,d.positionPrev.y+=b*d.inverseMass,d.anglePrev+=d.inverseInertia*((R.x-d.position.x)*b-(R.y-d.position.y)*B)),p.isStatic||p.isSleeping||(p.positionPrev.x-=B*p.inverseMass,p.positionPrev.y-=b*p.inverseMass,p.anglePrev-=p.inverseInertia*((R.x-p.position.x)*b-(R.y-p.position.y)*B))}}}}},o.solveVelocity=function(i,e){var a=e/r._baseDelta,l=a*a,s=l*a,u=-o._restingThresh*a,f=o._restingThreshTangent,c=o._frictionNormalMultiplier*a,d=o._frictionMaxStatic,p=i.length,S,C,E,R;for(E=0;E<p;E++){var M=i[E];if(!(!M.isActive||M.isSensor)){var D=M.collision,B=D.parentA,b=D.parentB,I=D.normal.x,N=D.normal.y,z=D.tangent.x,H=D.tangent.y,X=M.inverseMass,W=M.friction*M.frictionStatic*c,V=M.contacts,U=M.contactCount,F=1/U,k=B.position.x-B.positionPrev.x,Y=B.position.y-B.positionPrev.y,Z=B.angle-B.anglePrev,j=b.position.x-b.positionPrev.x,J=b.position.y-b.positionPrev.y,q=b.angle-b.anglePrev;for(R=0;R<U;R++){var et=V[R],it=et.vertex,at=it.x-B.position.x,ut=it.y-B.position.y,dt=it.x-b.position.x,ft=it.y-b.position.y,xt=k-ut*Z,At=Y+at*Z,gt=j-ft*q,Wt=J+dt*q,Ht=xt-gt,Gt=At-Wt,Ot=I*Ht+N*Gt,Bt=z*Ht+H*Gt,Pt=M.separation+Ot,te=Math.min(Pt,1);te=Pt<0?0:te;var _t=te*W;Bt<-_t||Bt>_t?(C=Bt>0?Bt:-Bt,S=M.friction*(Bt>0?1:-1)*s,S<-C?S=-C:S>C&&(S=C)):(S=Bt,C=d);var nt=at*N-ut*I,$=dt*N-ft*I,_=F/(X+B.inverseInertia*nt*nt+b.inverseInertia*$*$),st=(1+M.restitution)*Ot*_;if(S*=_,Ot<u)et.normalImpulse=0;else{var ct=et.normalImpulse;et.normalImpulse+=st,et.normalImpulse>0&&(et.normalImpulse=0),st=et.normalImpulse-ct}if(Bt<-f||Bt>f)et.tangentImpulse=0;else{var pt=et.tangentImpulse;et.tangentImpulse+=S,et.tangentImpulse<-C&&(et.tangentImpulse=-C),et.tangentImpulse>C&&(et.tangentImpulse=C),S=et.tangentImpulse-pt}var yt=I*st+z*S,kt=N*st+H*S;B.isStatic||B.isSleeping||(B.positionPrev.x+=yt*B.inverseMass,B.positionPrev.y+=kt*B.inverseMass,B.anglePrev+=(at*kt-ut*yt)*B.inverseInertia),b.isStatic||b.isSleeping||(b.positionPrev.x-=yt*b.inverseMass,b.positionPrev.y-=kt*b.inverseMass,b.anglePrev-=(dt*kt-ft*yt)*b.inverseInertia)}}}}})()}),48140:((h,x,t)=>{var o={};h.exports=o;var v=t(41598),r=t(31725),n=t(53614),i=t(15647),e=t(66615),a=t(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(l){var s=l;s.bodyA&&!s.pointA&&(s.pointA={x:0,y:0}),s.bodyB&&!s.pointB&&(s.pointB={x:0,y:0});var u=s.bodyA?r.add(s.bodyA.position,s.pointA):s.pointA,f=s.bodyB?r.add(s.bodyB.position,s.pointB):s.pointB,c=r.magnitude(r.sub(u,f));s.length=typeof s.length<"u"?s.length:c,s.id=s.id||a.nextId(),s.label=s.label||"Constraint",s.type="constraint",s.stiffness=s.stiffness||(s.length>0?1:.7),s.damping=s.damping||0,s.angularStiffness=s.angularStiffness||0,s.angleA=s.bodyA?s.bodyA.angle:s.angleA,s.angleB=s.bodyB?s.bodyB.angle:s.angleB,s.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return s.length===0&&s.stiffness>.1?(d.type="pin",d.anchors=!1):s.stiffness<.9&&(d.type="spring"),s.render=a.extend(d,s.render),s},o.preSolveAll=function(l){for(var s=0;s<l.length;s+=1){var u=l[s],f=u.constraintImpulse;u.isStatic||f.x===0&&f.y===0&&f.angle===0||(u.position.x+=f.x,u.position.y+=f.y,u.angle+=f.angle)}},o.solveAll=function(l,s){for(var u=a.clamp(s/a._baseDelta,0,1),f=0;f<l.length;f+=1){var c=l[f],d=!c.bodyA||c.bodyA&&c.bodyA.isStatic,p=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(d||p)&&o.solve(l[f],u)}for(f=0;f<l.length;f+=1)c=l[f],d=!c.bodyA||c.bodyA&&c.bodyA.isStatic,p=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!d&&!p&&o.solve(l[f],u)},o.solve=function(l,s){var u=l.bodyA,f=l.bodyB,c=l.pointA,d=l.pointB;if(!(!u&&!f)){u&&!u.isStatic&&(r.rotate(c,u.angle-l.angleA,c),l.angleA=u.angle),f&&!f.isStatic&&(r.rotate(d,f.angle-l.angleB,d),l.angleB=f.angle);var p=c,S=d;if(u&&(p=r.add(u.position,c)),f&&(S=r.add(f.position,d)),!(!p||!S)){var C=r.sub(p,S),E=r.magnitude(C);E<o._minLength&&(E=o._minLength);var R=(E-l.length)/E,M=l.stiffness>=1||l.length===0,D=M?l.stiffness*s:l.stiffness*s*s,B=l.damping*s,b=r.mult(C,R*D),I=(u?u.inverseMass:0)+(f?f.inverseMass:0),N=(u?u.inverseInertia:0)+(f?f.inverseInertia:0),z=I+N,H,X,W,V,U;if(B>0){var F=r.create();W=r.div(C,E),U=r.sub(f&&r.sub(f.position,f.positionPrev)||F,u&&r.sub(u.position,u.positionPrev)||F),V=r.dot(W,U)}u&&!u.isStatic&&(X=u.inverseMass/I,u.constraintImpulse.x-=b.x*X,u.constraintImpulse.y-=b.y*X,u.position.x-=b.x*X,u.position.y-=b.y*X,B>0&&(u.positionPrev.x-=B*W.x*V*X,u.positionPrev.y-=B*W.y*V*X),H=r.cross(c,b)/z*o._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle-=H,u.angle-=H),f&&!f.isStatic&&(X=f.inverseMass/I,f.constraintImpulse.x+=b.x*X,f.constraintImpulse.y+=b.y*X,f.position.x+=b.x*X,f.position.y+=b.y*X,B>0&&(f.positionPrev.x+=B*W.x*V*X,f.positionPrev.y+=B*W.y*V*X),H=r.cross(d,b)/z*o._torqueDampen*f.inverseInertia*(1-l.angularStiffness),f.constraintImpulse.angle+=H,f.angle+=H)}}},o.postSolveAll=function(l){for(var s=0;s<l.length;s++){var u=l[s],f=u.constraintImpulse;if(!(u.isStatic||f.x===0&&f.y===0&&f.angle===0)){n.set(u,!1);for(var c=0;c<u.parts.length;c++){var d=u.parts[c];v.translate(d.vertices,f),c>0&&(d.position.x+=f.x,d.position.y+=f.y),f.angle!==0&&(v.rotate(d.vertices,f.angle,u.position),e.rotate(d.axes,f.angle),c>0&&r.rotateAbout(d.position,f.angle,u.position,d.position)),i.update(d.bounds,d.vertices,u.velocity)}f.angle*=o._warming,f.x*=o._warming,f.y*=o._warming}}},o.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},o.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},o.currentLength=function(l){var s=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),u=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),f=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),c=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),d=s-f,p=u-c;return Math.sqrt(d*d+p*p)}})()}),53402:((h,x,t)=>{var o={};h.exports=o,(function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(r,n){var i,e;typeof n=="boolean"?(i=2,e=n):(i=1,e=!0);for(var a=i;a<arguments.length;a++){var l=arguments[a];if(l)for(var s in l)e&&l[s]&&l[s].constructor===Object&&(!r[s]||r[s].constructor===Object)?(r[s]=r[s]||{},o.extend(r[s],e,l[s])):r[s]=l[s]}return r},o.clone=function(r,n){return o.extend({},n,r)},o.keys=function(r){if(Object.keys)return Object.keys(r);var n=[];for(var i in r)n.push(i);return n},o.values=function(r){var n=[];if(Object.keys){for(var i=Object.keys(r),e=0;e<i.length;e++)n.push(r[i[e]]);return n}for(var a in r)n.push(r[a]);return n},o.get=function(r,n,i,e){n=n.split(".").slice(i,e);for(var a=0;a<n.length;a+=1)r=r[n[a]];return r},o.set=function(r,n,i,e,a){var l=n.split(".").slice(e,a);return o.get(r,n,0,-1)[l[l.length-1]]=i,i},o.shuffle=function(r){for(var n=r.length-1;n>0;n--){var i=Math.floor(o.random()*(n+1)),e=r[n];r[n]=r[i],r[i]=e}return r},o.choose=function(r){return r[Math.floor(o.random()*r.length)]},o.isElement=function(r){return typeof HTMLElement<"u"?r instanceof HTMLElement:!!(r&&r.nodeType&&r.nodeName)},o.isArray=function(r){return Object.prototype.toString.call(r)==="[object Array]"},o.isFunction=function(r){return typeof r=="function"},o.isPlainObject=function(r){return typeof r=="object"&&r.constructor===Object},o.isString=function(r){return toString.call(r)==="[object String]"},o.clamp=function(r,n,i){return r<n?n:r>i?i:r},o.sign=function(r){return r<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(r,n){return r=typeof r<"u"?r:0,n=typeof n<"u"?n:1,r+v()*(n-r)};var v=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(r){return r=r.replace("#",""),r.length==3&&(r=r.charAt(0)+r.charAt(0)+r.charAt(1)+r.charAt(1)+r.charAt(2)+r.charAt(2)),parseInt(r,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var r=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[r]||(o.warn(r),o._warnedOnce[r]=!0)},o.deprecated=function(r,n,i){r[n]=o.chain(function(){o.warnOnce(" deprecated ",i)},r[n])},o.nextId=function(){return o._nextId++},o.indexOf=function(r,n){if(r.indexOf)return r.indexOf(n);for(var i=0;i<r.length;i++)if(r[i]===n)return i;return-1},o.map=function(r,n){if(r.map)return r.map(n);for(var i=[],e=0;e<r.length;e+=1)i.push(n(r[e]));return i},o.topologicalSort=function(r){var n=[],i=[],e=[];for(var a in r)!i[a]&&!e[a]&&o._topologicalSort(a,i,e,r,n);return n},o._topologicalSort=function(r,n,i,e,a){var l=e[r]||[];i[r]=!0;for(var s=0;s<l.length;s+=1){var u=l[s];i[u]||n[u]||o._topologicalSort(u,n,i,e,a)}i[r]=!1,n[r]=!0,a.push(r)},o.chain=function(){for(var r=[],n=0;n<arguments.length;n+=1){var i=arguments[n];i._chained?r.push.apply(r,i._chained):r.push(i)}var e=function(){for(var a,l=new Array(arguments.length),s=0,u=arguments.length;s<u;s++)l[s]=arguments[s];for(s=0;s<r.length;s+=1){var f=r[s].apply(a,l);typeof f<"u"&&(a=f)}return a};return e._chained=r,e},o.chainPathBefore=function(r,n,i){return o.set(r,n,o.chain(i,o.get(r,n)))},o.chainPathAfter=function(r,n,i){return o.set(r,n,o.chain(o.get(r,n),i))},o.setDecomp=function(r){o._decomp=r},o.getDecomp=function(){var r=o._decomp;try{!r&&typeof window<"u"&&(r=window.decomp),!r&&typeof t.g<"u"&&(r=t.g.decomp)}catch{r=null}return r}})()}),48413:((h,x,t)=>{var o={};h.exports=o;var v=t(53614),r=t(66272),n=t(81388),i=t(99561),e=t(35810),a=t(69351),l=t(48140),s=t(53402),u=t(22562);(function(){o._deltaMax=16.666666666666668,o.create=function(f){f=f||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},d=s.extend(c,f);return d.world=f.world||a.create({label:"World"}),d.pairs=f.pairs||i.create(),d.detector=f.detector||n.create(),d.detector.pairs=d.pairs,d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},o.update=function(f,c){var d=s.now(),p=f.world,S=f.detector,C=f.pairs,E=f.timing,R=E.timestamp,M;c>o._deltaMax&&s.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),c=typeof c<"u"?c:s._baseDelta,c*=E.timeScale,E.timestamp+=c,E.lastDelta=c;var D={timestamp:E.timestamp,delta:c};e.trigger(f,"beforeUpdate",D);var B=a.allBodies(p),b=a.allConstraints(p),I=a.allComposites(p);for(p.isModified&&(n.setBodies(S,B),a.setModified(p,!1,!1,!0)),f.enableSleeping&&v.update(B,c),o._bodiesApplyGravity(B,f.gravity),o.wrap(B,I),o.attractors(B),c>0&&o._bodiesUpdate(B,c),e.trigger(f,"beforeSolve",D),l.preSolveAll(B),M=0;M<f.constraintIterations;M++)l.solveAll(b,c);l.postSolveAll(B);var N=n.collisions(S);i.update(C,N,R),f.enableSleeping&&v.afterCollisions(C.list),C.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:C.collisionStart,timestamp:E.timestamp,delta:c});var z=s.clamp(20/f.positionIterations,0,1);for(r.preSolvePosition(C.list),M=0;M<f.positionIterations;M++)r.solvePosition(C.list,c,z);for(r.postSolvePosition(B),l.preSolveAll(B),M=0;M<f.constraintIterations;M++)l.solveAll(b,c);for(l.postSolveAll(B),r.preSolveVelocity(C.list),M=0;M<f.velocityIterations;M++)r.solveVelocity(C.list,c);return o._bodiesUpdateVelocities(B),C.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:C.collisionActive,timestamp:E.timestamp,delta:c}),C.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:C.collisionEnd,timestamp:E.timestamp,delta:c}),o._bodiesClearForces(B),e.trigger(f,"afterUpdate",D),f.timing.lastElapsed=s.now()-d,f},o.merge=function(f,c){if(s.extend(f,c),c.world){f.world=c.world,o.clear(f);for(var d=a.allBodies(f.world),p=0;p<d.length;p++){var S=d[p];v.set(S,!1),S.id=s.nextId()}}},o.clear=function(f){i.clear(f.pairs),n.clear(f.detector)},o._bodiesClearForces=function(f){for(var c=f.length,d=0;d<c;d++){var p=f[d];p.force.x=0,p.force.y=0,p.torque=0}},o._bodiesApplyGravity=function(f,c){var d=typeof c.scale<"u"?c.scale:.001,p=f.length;if(!(c.x===0&&c.y===0||d===0))for(var S=0;S<p;S++){var C=f[S];C.ignoreGravity||C.isStatic||C.isSleeping||(C.force.y+=C.mass*c.y*d,C.force.x+=C.mass*c.x*d)}},o._bodiesUpdate=function(f,c){for(var d=f.length,p=0;p<d;p++){var S=f[p];S.isStatic||S.isSleeping||u.update(S,c)}},o._bodiesUpdateVelocities=function(f){for(var c=f.length,d=0;d<c;d++)u.updateVelocities(f[d])},o.wrap=function(f,c){for(var d=0;d<f.length;d+=1){var p=f[d];p.wrapBounds!==null&&u.wrap(p,p.wrapBounds)}for(d=0;d<c.length;d+=1){var S=c[d];S.wrapBounds!==null&&a.wrap(S,S.wrapBounds)}},o.attractors=function(f){for(var c=0;c<f.length;c++){var d=f[c],p=d.attractors;if(p&&p.length>0)for(var S=0;S<f.length;S++){var C=f[S];if(c!==S)for(var E=0;E<p.length;E++){var R=p[E],M=R;s.isFunction(R)&&(M=R(d,C)),M&&u.applyForce(C,C.position,M)}}}}})()}),35810:((h,x,t)=>{var o={};h.exports=o;var v=t(53402);(function(){o.on=function(r,n,i){for(var e=n.split(" "),a,l=0;l<e.length;l++)a=e[l],r.events=r.events||{},r.events[a]=r.events[a]||[],r.events[a].push(i);return i},o.off=function(r,n,i){if(!n){r.events={};return}typeof n=="function"&&(i=n,n=v.keys(r.events).join(" "));for(var e=n.split(" "),a=0;a<e.length;a++){var l=r.events[e[a]],s=[];if(i&&l)for(var u=0;u<l.length;u++)l[u]!==i&&s.push(l[u]);r.events[e[a]]=s}},o.trigger=function(r,n,i){var e,a,l,s,u=r.events;if(u&&v.keys(u).length>0){i||(i={}),e=n.split(" ");for(var f=0;f<e.length;f++)if(a=e[f],l=u[a],l){s=v.clone(i,!1),s.name=a,s.source=r;for(var c=0;c<l.length;c++)l[c].apply(r,[s])}}}})()}),6790:((h,x,t)=>{var o={};h.exports=o;var v=t(73832),r=t(53402);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){v.use(o,Array.prototype.slice.call(arguments))},o.before=function(n,i){return n=n.replace(/^Matter./,""),r.chainPathBefore(o,n,i)},o.after=function(n,i){return n=n.replace(/^Matter./,""),r.chainPathAfter(o,n,i)}})()}),73832:((h,x,t)=>{var o={};h.exports=o;var v=t(53402);(function(){o._registry={},o.register=function(r){if(o.isPlugin(r)||v.warn("Plugin.register:",o.toString(r),"does not implement all required fields."),r.name in o._registry){var n=o._registry[r.name],i=o.versionParse(r.version).number,e=o.versionParse(n.version).number;i>e?(v.warn("Plugin.register:",o.toString(n),"was upgraded to",o.toString(r)),o._registry[r.name]=r):i<e?v.warn("Plugin.register:",o.toString(n),"can not be downgraded to",o.toString(r)):r!==n&&v.warn("Plugin.register:",o.toString(r),"is already registered to different plugin object")}else o._registry[r.name]=r;return r},o.resolve=function(r){return o._registry[o.dependencyParse(r).name]},o.toString=function(r){return typeof r=="string"?r:(r.name||"anonymous")+"@"+(r.version||r.range||"0.0.0")},o.isPlugin=function(r){return r&&r.name&&r.version&&r.install},o.isUsed=function(r,n){return r.used.indexOf(n)>-1},o.isFor=function(r,n){var i=r.for&&o.dependencyParse(r.for);return!r.for||n.name===i.name&&o.versionSatisfies(n.version,i.range)},o.use=function(r,n){if(r.uses=(r.uses||[]).concat(n||[]),r.uses.length===0){v.warn("Plugin.use:",o.toString(r),"does not specify any dependencies to install.");return}for(var i=o.dependencies(r),e=v.topologicalSort(i),a=[],l=0;l<e.length;l+=1)if(e[l]!==r.name){var s=o.resolve(e[l]);if(!s){a.push(" "+e[l]);continue}o.isUsed(r,s.name)||(o.isFor(s,r)||(v.warn("Plugin.use:",o.toString(s),"is for",s.for,"but installed on",o.toString(r)+"."),s._warned=!0),s.install?s.install(r):(v.warn("Plugin.use:",o.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(a.push(" "+o.toString(s)),delete s._warned):a.push(" "+o.toString(s)),r.used.push(s.name))}a.length>0&&!s.silent&&v.info(a.join("  "))},o.dependencies=function(r,n){var i=o.dependencyParse(r),e=i.name;if(n=n||{},!(e in n)){r=o.resolve(r)||r,n[e]=v.map(r.uses||[],function(l){o.isPlugin(l)&&o.register(l);var s=o.dependencyParse(l),u=o.resolve(l);return u&&!o.versionSatisfies(u.version,s.range)?(v.warn("Plugin.dependencies:",o.toString(u),"does not satisfy",o.toString(s),"used by",o.toString(i)+"."),u._warned=!0,r._warned=!0):u||(v.warn("Plugin.dependencies:",o.toString(l),"used by",o.toString(i),"could not be resolved."),r._warned=!0),s.name});for(var a=0;a<n[e].length;a+=1)o.dependencies(n[e][a],n);return n}},o.dependencyParse=function(r){if(v.isString(r)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return n.test(r)||v.warn("Plugin.dependencyParse:",r,"is not a valid dependency string."),{name:r.split("@")[0],range:r.split("@")[1]||"*"}}return{name:r.name,range:r.range||r.version}},o.versionParse=function(r){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;n.test(r)||v.warn("Plugin.versionParse:",r,"is not a valid version or range.");var i=n.exec(r),e=Number(i[4]),a=Number(i[5]),l=Number(i[6]);return{isRange:!!(i[1]||i[2]),version:i[3],range:r,operator:i[1]||i[2]||"",major:e,minor:a,patch:l,parts:[e,a,l],prerelease:i[7],number:e*1e8+a*1e4+l}},o.versionSatisfies=function(r,n){n=n||"*";var i=o.versionParse(n),e=o.versionParse(r);if(i.isRange){if(i.operator==="*"||r==="*")return!0;if(i.operator===">")return e.number>i.number;if(i.operator===">=")return e.number>=i.number;if(i.operator==="~")return e.major===i.major&&e.minor===i.minor&&e.patch>=i.patch;if(i.operator==="^")return i.major>0?e.major===i.major&&e.number>=i.number:i.minor>0?e.minor===i.minor&&e.patch>=i.patch:e.patch===i.patch}return r===n||r==="*"}})()}),13037:((h,x,t)=>{var o={};h.exports=o;var v=t(35810),r=t(48413),n=t(53402);(function(){o._maxFrameDelta=66.66666666666667,o._frameDeltaFallback=16.666666666666668,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(e){var a={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l=n.extend(a,e);return l.fps=0,l},o.run=function(e,a){return e.timeBuffer=o._frameDeltaFallback,(function l(s){e.frameRequestId=o._onNextFrame(e,l),s&&e.enabled&&o.tick(e,a,s)})(),e},o.tick=function(e,a,l){var s=n.now(),u=e.delta,f=0,c=l-e.timeLastTick;if((!c||!e.timeLastTick||c>Math.max(o._maxFrameDelta,e.maxFrameTime))&&(c=e.frameDelta||o._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(c),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var d=e.frameDeltaHistory.slice(0).sort(),p=e.frameDeltaHistory.slice(d.length*o._smoothingLowerBound,d.length*o._smoothingUpperBound),S=i(p);c=S||c}e.frameDeltaSnapping&&(c=1e3/Math.round(1e3/c)),e.frameDelta=c,e.timeLastTick=l,e.timeBuffer+=e.frameDelta,e.timeBuffer=n.clamp(e.timeBuffer,0,e.frameDelta+u*o._timeBufferMargin),e.lastUpdatesDeferred=0;var C=e.maxUpdates||Math.ceil(e.maxFrameTime/u),E={timestamp:a.timing.timestamp};v.trigger(e,"beforeTick",E),v.trigger(e,"tick",E);for(var R=n.now();u>0&&e.timeBuffer>=u*o._timeBufferMargin;){v.trigger(e,"beforeUpdate",E),r.update(a,u),v.trigger(e,"afterUpdate",E),e.timeBuffer-=u,f+=1;var M=n.now()-s,D=n.now()-R,B=M+o._elapsedNextEstimate*D/f;if(f>=C||B>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/u-o._timeBufferMargin));break}}a.timing.lastUpdatesPerFrame=f,v.trigger(e,"afterTick",E),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/u)>C?n.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&n.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof e.isFixed<"u"&&n.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&n.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),e.fps!==0&&n.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(e){o._cancelNextFrame(e)},o._onNextFrame=function(e,a){if(typeof window<"u"&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(a);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},o._cancelNextFrame=function(e){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var i=function(e){for(var a=0,l=e.length,s=0;s<l;s+=1)a+=e[s];return a/l||0};o._mean=i})()}),53614:((h,x,t)=>{var o={};h.exports=o;var v=t(22562),r=t(35810),n=t(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(i,e){for(var a=e/n._baseDelta,l=o._motionSleepThreshold,s=0;s<i.length;s++){var u=i[s],f=v.getSpeed(u),c=v.getAngularSpeed(u),d=f*f+c*c;if(u.force.x!==0||u.force.y!==0){o.set(u,!1);continue}var p=Math.min(u.motion,d),S=Math.max(u.motion,d);u.motion=o._minBias*p+(1-o._minBias)*S,u.sleepThreshold>0&&u.motion<l?(u.sleepCounter+=1,u.sleepCounter>=u.sleepThreshold/a&&o.set(u,!0)):u.sleepCounter>0&&(u.sleepCounter-=1)}},o.afterCollisions=function(i){for(var e=o._motionSleepThreshold,a=0;a<i.length;a++){var l=i[a];if(l.isActive){var s=l.collision,u=s.bodyA.parent,f=s.bodyB.parent;if(!(u.isSleeping&&f.isSleeping||u.isStatic||f.isStatic)&&(u.isSleeping||f.isSleeping)){var c=u.isSleeping&&!u.isStatic?u:f,d=c===u?f:u;!c.isStatic&&d.motion>e&&o.set(c,!1)}}}},o.set=function(i,e){var a=i.isSleeping;e?(i.isSleeping=!0,i.sleepCounter=i.sleepThreshold,i.positionImpulse.x=0,i.positionImpulse.y=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.speed=0,i.angularSpeed=0,i.motion=0,a||r.trigger(i,"sleepStart")):(i.isSleeping=!1,i.sleepCounter=0,a&&r.trigger(i,"sleepEnd"))}})()}),66280:((h,x,t)=>{var o={};h.exports=o;var v=t(41598),r=t(53402),n=t(22562),i=t(15647),e=t(31725);(function(){o.rectangle=function(a,l,s,u,f){f=f||{};var c={label:"Rectangle Body",position:{x:a,y:l},vertices:v.fromPath("L 0 0 L "+s+" 0 L "+s+" "+u+" L 0 "+u)};if(f.chamfer){var d=f.chamfer;c.vertices=v.chamfer(c.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete f.chamfer}return n.create(r.extend({},c,f))},o.trapezoid=function(a,l,s,u,f,c){c=c||{},f>=1&&r.warn("Bodies.trapezoid: slope parameter must be < 1."),f*=.5;var d=(1-f*2)*s,p=s*f,S=p+d,C=S+p,E;f<.5?E="L 0 0 L "+p+" "+-u+" L "+S+" "+-u+" L "+C+" 0":E="L 0 0 L "+S+" "+-u+" L "+C+" 0";var R={label:"Trapezoid Body",position:{x:a,y:l},vertices:v.fromPath(E)};if(c.chamfer){var M=c.chamfer;R.vertices=v.chamfer(R.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete c.chamfer}return n.create(r.extend({},R,c))},o.circle=function(a,l,s,u,f){u=u||{};var c={label:"Circle Body",circleRadius:s};f=f||25;var d=Math.ceil(Math.max(10,Math.min(f,s)));return d%2===1&&(d+=1),o.polygon(a,l,d,s,r.extend({},c,u))},o.polygon=function(a,l,s,u,f){if(f=f||{},s<3)return o.circle(a,l,u,f);for(var c=2*Math.PI/s,d="",p=c*.5,S=0;S<s;S+=1){var C=p+S*c,E=Math.cos(C)*u,R=Math.sin(C)*u;d+="L "+E.toFixed(3)+" "+R.toFixed(3)+" "}var M={label:"Polygon Body",position:{x:a,y:l},vertices:v.fromPath(d)};if(f.chamfer){var D=f.chamfer;M.vertices=v.chamfer(M.vertices,D.radius,D.quality,D.qualityMin,D.qualityMax),delete f.chamfer}return n.create(r.extend({},M,f))},o.fromVertices=function(a,l,s,u,f,c,d,p){var S=r.getDecomp(),C,E,R,M,D,B,b,I,N,z,H;for(C=!!(S&&S.quickDecomp),u=u||{},R=[],f=typeof f<"u"?f:!1,c=typeof c<"u"?c:.01,d=typeof d<"u"?d:10,p=typeof p<"u"?p:.01,r.isArray(s[0])||(s=[s]),z=0;z<s.length;z+=1)if(B=s[z],M=v.isConvex(B),D=!M,D&&!C&&r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),M||!C)M?B=v.clockwiseSort(B):B=v.hull(B),R.push({position:{x:a,y:l},vertices:B});else{var X=B.map(function(et){return[et.x,et.y]});S.makeCCW(X),c!==!1&&S.removeCollinearPoints(X,c),p!==!1&&S.removeDuplicatePoints&&S.removeDuplicatePoints(X,p);var W=S.quickDecomp(X);for(b=0;b<W.length;b++){var V=W[b],U=V.map(function(et){return{x:et[0],y:et[1]}});d>0&&v.area(U)<d||R.push({position:v.centre(U),vertices:U})}}for(b=0;b<R.length;b++)R[b]=n.create(r.extend(R[b],u));if(f){var F=5;for(b=0;b<R.length;b++){var k=R[b];for(I=b+1;I<R.length;I++){var Y=R[I];if(i.overlaps(k.bounds,Y.bounds)){var Z=k.vertices,j=Y.vertices;for(N=0;N<k.vertices.length;N++)for(H=0;H<Y.vertices.length;H++){var J=e.magnitudeSquared(e.sub(Z[(N+1)%Z.length],j[H])),q=e.magnitudeSquared(e.sub(Z[N],j[(H+1)%j.length]));J<F&&q<F&&(Z[N].isInternal=!0,j[H].isInternal=!0)}}}}}return R.length>1?(E=n.create(r.extend({parts:R.slice(0)},u)),n.setPosition(E,{x:a,y:l}),E):R[0]},o.flagCoincidentParts=function(a,l){l===void 0&&(l=5);for(var s=0;s<a.length;s++)for(var u=a[s],f=s+1;f<a.length;f++){var c=a[f];if(i.overlaps(u.bounds,c.bounds))for(var d=u.vertices,p=c.vertices,S=0;S<u.vertices.length;S++)for(var C=0;C<c.vertices.length;C++){var E=e.magnitudeSquared(e.sub(d[(S+1)%d.length],p[C])),R=e.magnitudeSquared(e.sub(d[S],p[(C+1)%p.length]));E<l&&R<l&&(d[S].isInternal=!0,p[C].isInternal=!0)}}return a}})()}),74116:((h,x,t)=>{var o={};h.exports=o;var v=t(69351),r=t(48140),n=t(53402),i=t(22562),e=t(66280);(function(){o.stack=function(a,l,s,u,f,c,d){for(var p=v.create({label:"Stack"}),S=a,C=l,E,R=0,M=0;M<u;M++){for(var D=0,B=0;B<s;B++){var b=d(S,C,B,M,E,R);if(b){var I=b.bounds.max.y-b.bounds.min.y,N=b.bounds.max.x-b.bounds.min.x;I>D&&(D=I),i.translate(b,{x:N*.5,y:I*.5}),S=b.bounds.max.x+f,v.addBody(p,b),E=b,R+=1}else S+=f}C+=D+c,S=a}return p},o.chain=function(a,l,s,u,f,c){for(var d=a.bodies,p=1;p<d.length;p++){var S=d[p-1],C=d[p],E=S.bounds.max.y-S.bounds.min.y,R=S.bounds.max.x-S.bounds.min.x,M=C.bounds.max.y-C.bounds.min.y,D=C.bounds.max.x-C.bounds.min.x,B={bodyA:S,pointA:{x:R*l,y:E*s},bodyB:C,pointB:{x:D*u,y:M*f}},b=n.extend(B,c);v.addConstraint(a,r.create(b))}return a.label+=" Chain",a},o.mesh=function(a,l,s,u,f){var c=a.bodies,d,p,S,C,E;for(d=0;d<s;d++){for(p=1;p<l;p++)S=c[p-1+d*l],C=c[p+d*l],v.addConstraint(a,r.create(n.extend({bodyA:S,bodyB:C},f)));if(d>0)for(p=0;p<l;p++)S=c[p+(d-1)*l],C=c[p+d*l],v.addConstraint(a,r.create(n.extend({bodyA:S,bodyB:C},f))),u&&p>0&&(E=c[p-1+(d-1)*l],v.addConstraint(a,r.create(n.extend({bodyA:E,bodyB:C},f)))),u&&p<l-1&&(E=c[p+1+(d-1)*l],v.addConstraint(a,r.create(n.extend({bodyA:E,bodyB:C},f))))}return a.label+=" Mesh",a},o.pyramid=function(a,l,s,u,f,c,d){return o.stack(a,l,s,u,f,c,function(p,S,C,E,R,M){var D=Math.min(u,Math.ceil(s/2)),B=R?R.bounds.max.x-R.bounds.min.x:0;if(!(E>D)){E=D-E;var b=E,I=s-1-E;if(!(C<b||C>I)){M===1&&i.translate(R,{x:(C+(s%2===1?1:-1))*B,y:0});var N=R?C*B:0;return d(a+N+C*f,S,C,E,R,M)}}})},o.newtonsCradle=function(a,l,s,u,f){for(var c=v.create({label:"Newtons Cradle"}),d=0;d<s;d++){var p=1.9,S=e.circle(a+d*(u*p),l+f,u,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),C=r.create({pointA:{x:a+d*(u*p),y:l},bodyB:S});v.addBody(c,S),v.addConstraint(c,C)}return c},o.car=function(a,l,s,u,f){var c=i.nextGroup(!0),d=20,p=-s*.5+d,S=s*.5-d,C=0,E=v.create({label:"Car"}),R=e.rectangle(a,l,s,u,{collisionFilter:{group:c},chamfer:{radius:u*.5},density:2e-4}),M=e.circle(a+p,l+C,f,{collisionFilter:{group:c},friction:.8}),D=e.circle(a+S,l+C,f,{collisionFilter:{group:c},friction:.8}),B=r.create({bodyB:R,pointB:{x:p,y:C},bodyA:M,stiffness:1,length:0}),b=r.create({bodyB:R,pointB:{x:S,y:C},bodyA:D,stiffness:1,length:0});return v.addBody(E,R),v.addBody(E,M),v.addBody(E,D),v.addConstraint(E,B),v.addConstraint(E,b),E},o.softBody=function(a,l,s,u,f,c,d,p,S,C){S=n.extend({inertia:1/0},S),C=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},C);var E=o.stack(a,l,s,u,f,c,function(R,M){return e.circle(R,M,p,S)});return o.mesh(E,s,u,d,C),E.label="Soft Body",E}})()}),66615:((h,x,t)=>{var o={};h.exports=o;var v=t(31725),r=t(53402);(function(){o.fromVertices=function(n){for(var i={},e=0;e<n.length;e++){var a=(e+1)%n.length,l=v.normalise({x:n[a].y-n[e].y,y:n[e].x-n[a].x}),s=l.y===0?1/0:l.x/l.y;s=s.toFixed(3).toString(),i[s]=l}return r.values(i)},o.rotate=function(n,i){if(i!==0)for(var e=Math.cos(i),a=Math.sin(i),l=0;l<n.length;l++){var s=n[l],u;u=s.x*e-s.y*a,s.y=s.x*a+s.y*e,s.x=u}}})()}),15647:(h=>{var x={};h.exports=x,(function(){x.create=function(t){var o={min:{x:0,y:0},max:{x:0,y:0}};return t&&x.update(o,t),o},x.update=function(t,o,v){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var r=0;r<o.length;r++){var n=o[r];n.x>t.max.x&&(t.max.x=n.x),n.x<t.min.x&&(t.min.x=n.x),n.y>t.max.y&&(t.max.y=n.y),n.y<t.min.y&&(t.min.y=n.y)}v&&(v.x>0?t.max.x+=v.x:t.min.x+=v.x,v.y>0?t.max.y+=v.y:t.min.y+=v.y)},x.contains=function(t,o){return o.x>=t.min.x&&o.x<=t.max.x&&o.y>=t.min.y&&o.y<=t.max.y},x.overlaps=function(t,o){return t.min.x<=o.max.x&&t.max.x>=o.min.x&&t.max.y>=o.min.y&&t.min.y<=o.max.y},x.translate=function(t,o){t.min.x+=o.x,t.max.x+=o.x,t.min.y+=o.y,t.max.y+=o.y},x.shift=function(t,o){var v=t.max.x-t.min.x,r=t.max.y-t.min.y;t.min.x=o.x,t.max.x=o.x+v,t.min.y=o.y,t.max.y=o.y+r},x.wrap=function(t,o,v){var r=null,n=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(t.min.x>o.max.x?r=o.min.x-t.max.x:t.max.x<o.min.x&&(r=o.max.x-t.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(t.min.y>o.max.y?n=o.min.y-t.max.y:t.max.y<o.min.y&&(n=o.max.y-t.min.y)),r!==null||n!==null)return{x:r||0,y:n||0}}})()}),74058:((h,x,t)=>{var o={};h.exports=o,t(15647);var v=t(53402);(function(){o.pathToVertices=function(r,n){typeof window<"u"&&!("SVGPathSeg"in window)&&v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,e,a,l,s,u,f,c,d,p,S=[],C,E,R=0,M=0,D=0;n=n||15;var B=function(I,N,z){var H=z%2===1&&z>1;if(!d||I!=d.x||N!=d.y){d&&H?(C=d.x,E=d.y):(C=0,E=0);var X={x:C+I,y:E+N};(H||!d)&&(d=X),S.push(X),M=C+I,D=E+N}},b=function(I){var N=I.pathSegTypeAsLetter.toUpperCase();if(N!=="Z"){switch(N){case"M":case"L":case"T":case"C":case"S":case"Q":M=I.x,D=I.y;break;case"H":M=I.x;break;case"V":D=I.y;break}B(M,D,I.pathSegType)}};for(o._svgPathToAbsolute(r),a=r.getTotalLength(),u=[],i=0;i<r.pathSegList.numberOfItems;i+=1)u.push(r.pathSegList.getItem(i));for(f=u.concat();R<a;){if(p=r.getPathSegAtLength(R),s=u[p],s!=c){for(;f.length&&f[0]!=s;)b(f.shift());c=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=r.getPointAtLength(R),B(l.x,l.y,0);break}R+=n}for(i=0,e=f.length;i<e;++i)b(f[i]);return S},o._svgPathToAbsolute=function(r){for(var n,i,e,a,l,s,u=r.pathSegList,f=0,c=0,d=u.numberOfItems,p=0;p<d;++p){var S=u.getItem(p),C=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in S&&(f=S.x),"y"in S&&(c=S.y);else switch("x1"in S&&(e=f+S.x1),"x2"in S&&(l=f+S.x2),"y1"in S&&(a=c+S.y1),"y2"in S&&(s=c+S.y2),"x"in S&&(f+=S.x),"y"in S&&(c+=S.y),C){case"m":u.replaceItem(r.createSVGPathSegMovetoAbs(f,c),p);break;case"l":u.replaceItem(r.createSVGPathSegLinetoAbs(f,c),p);break;case"h":u.replaceItem(r.createSVGPathSegLinetoHorizontalAbs(f),p);break;case"v":u.replaceItem(r.createSVGPathSegLinetoVerticalAbs(c),p);break;case"c":u.replaceItem(r.createSVGPathSegCurvetoCubicAbs(f,c,e,a,l,s),p);break;case"s":u.replaceItem(r.createSVGPathSegCurvetoCubicSmoothAbs(f,c,l,s),p);break;case"q":u.replaceItem(r.createSVGPathSegCurvetoQuadraticAbs(f,c,e,a),p);break;case"t":u.replaceItem(r.createSVGPathSegCurvetoQuadraticSmoothAbs(f,c),p);break;case"a":u.replaceItem(r.createSVGPathSegArcAbs(f,c,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),p);break;case"z":case"Z":f=n,c=i;break}(C=="M"||C=="m")&&(n=f,i=c)}}})()}),31725:(h=>{var x={};h.exports=x,(function(){x.create=function(t,o){return{x:t||0,y:o||0}},x.clone=function(t){return{x:t.x,y:t.y}},x.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},x.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},x.rotate=function(t,o,v){var r=Math.cos(o),n=Math.sin(o);v||(v={});var i=t.x*r-t.y*n;return v.y=t.x*n+t.y*r,v.x=i,v},x.rotateAbout=function(t,o,v,r){var n=Math.cos(o),i=Math.sin(o);r||(r={});var e=v.x+((t.x-v.x)*n-(t.y-v.y)*i);return r.y=v.y+((t.x-v.x)*i+(t.y-v.y)*n),r.x=e,r},x.normalise=function(t){var o=x.magnitude(t);return o===0?{x:0,y:0}:{x:t.x/o,y:t.y/o}},x.dot=function(t,o){return t.x*o.x+t.y*o.y},x.cross=function(t,o){return t.x*o.y-t.y*o.x},x.cross3=function(t,o,v){return(o.x-t.x)*(v.y-t.y)-(o.y-t.y)*(v.x-t.x)},x.add=function(t,o,v){return v||(v={}),v.x=t.x+o.x,v.y=t.y+o.y,v},x.sub=function(t,o,v){return v||(v={}),v.x=t.x-o.x,v.y=t.y-o.y,v},x.mult=function(t,o){return{x:t.x*o,y:t.y*o}},x.div=function(t,o){return{x:t.x/o,y:t.y/o}},x.perp=function(t,o){return o=o===!0?-1:1,{x:o*-t.y,y:o*t.x}},x.neg=function(t){return{x:-t.x,y:-t.y}},x.angle=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]})()}),41598:((h,x,t)=>{var o={};h.exports=o;var v=t(31725),r=t(53402);(function(){o.create=function(n,i){for(var e=[],a=0;a<n.length;a++){var l=n[a],s={x:l.x,y:l.y,index:a,body:i,isInternal:!1};e.push(s)}return e},o.fromPath=function(n,i){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,a=[];return n.replace(e,function(l,s,u){a.push({x:parseFloat(s),y:parseFloat(u)})}),o.create(a,i)},o.centre=function(n){for(var i=o.area(n,!0),e={x:0,y:0},a,l,s,u=0;u<n.length;u++)s=(u+1)%n.length,a=v.cross(n[u],n[s]),l=v.mult(v.add(n[u],n[s]),a),e=v.add(e,l);return v.div(e,6*i)},o.mean=function(n){for(var i={x:0,y:0},e=0;e<n.length;e++)i.x+=n[e].x,i.y+=n[e].y;return v.div(i,n.length)},o.area=function(n,i){for(var e=0,a=n.length-1,l=0;l<n.length;l++)e+=(n[a].x-n[l].x)*(n[a].y+n[l].y),a=l;return i?e/2:Math.abs(e)/2},o.inertia=function(n,i){for(var e=0,a=0,l=n,s,u,f=0;f<l.length;f++)u=(f+1)%l.length,s=Math.abs(v.cross(l[u],l[f])),e+=s*(v.dot(l[u],l[u])+v.dot(l[u],l[f])+v.dot(l[f],l[f])),a+=s;return i/6*(e/a)},o.translate=function(n,i,e){e=typeof e<"u"?e:1;var a=n.length,l=i.x*e,s=i.y*e,u;for(u=0;u<a;u++)n[u].x+=l,n[u].y+=s;return n},o.rotate=function(n,i,e){if(i!==0){var a=Math.cos(i),l=Math.sin(i),s=e.x,u=e.y,f=n.length,c,d,p,S;for(S=0;S<f;S++)c=n[S],d=c.x-s,p=c.y-u,c.x=s+(d*a-p*l),c.y=u+(d*l+p*a);return n}},o.contains=function(n,i){for(var e=i.x,a=i.y,l=n.length,s=n[l-1],u,f=0;f<l;f++){if(u=n[f],(e-s.x)*(u.y-s.y)+(a-s.y)*(s.x-u.x)>0)return!1;s=u}return!0},o.scale=function(n,i,e,a){if(i===1&&e===1)return n;a=a||o.centre(n);for(var l,s,u=0;u<n.length;u++)l=n[u],s=v.sub(l,a),n[u].x=a.x+s.x*i,n[u].y=a.y+s.y*e;return n},o.chamfer=function(n,i,e,a,l){typeof i=="number"?i=[i]:i=i||[8],e=typeof e<"u"?e:-1,a=a||2,l=l||14;for(var s=[],u=0;u<n.length;u++){var f=n[u-1>=0?u-1:n.length-1],c=n[u],d=n[(u+1)%n.length],p=i[u<i.length?u:i.length-1];if(p===0){s.push(c);continue}var S=v.normalise({x:c.y-f.y,y:f.x-c.x}),C=v.normalise({x:d.y-c.y,y:c.x-d.x}),E=Math.sqrt(2*Math.pow(p,2)),R=v.mult(r.clone(S),p),M=v.normalise(v.mult(v.add(S,C),.5)),D=v.sub(c,v.mult(M,E)),B=e;e===-1&&(B=Math.pow(p,.32)*1.75),B=r.clamp(B,a,l),B%2===1&&(B+=1);for(var b=Math.acos(v.dot(S,C)),I=b/B,N=0;N<B;N++)s.push(v.add(v.rotate(R,I*N),D))}return s},o.clockwiseSort=function(n){var i=o.mean(n);return n.sort(function(e,a){return v.angle(i,e)-v.angle(i,a)}),n},o.isConvex=function(n){var i=0,e=n.length,a,l,s,u;if(e<3)return null;for(a=0;a<e;a++)if(l=(a+1)%e,s=(a+2)%e,u=(n[l].x-n[a].x)*(n[s].y-n[l].y),u-=(n[l].y-n[a].y)*(n[s].x-n[l].x),u<0?i|=1:u>0&&(i|=2),i===3)return!1;return i!==0?!0:null},o.hull=function(n){var i=[],e=[],a,l;for(n=n.slice(0),n.sort(function(s,u){var f=s.x-u.x;return f!==0?f:s.y-u.y}),l=0;l<n.length;l+=1){for(a=n[l];e.length>=2&&v.cross3(e[e.length-2],e[e.length-1],a)<=0;)e.pop();e.push(a)}for(l=n.length-1;l>=0;l-=1){for(a=n[l];i.length>=2&&v.cross3(i[i.length-2],i[i.length-1],a)<=0;)i.pop();i.push(a)}return i.pop(),e.pop(),i.concat(e)}})()}),55973:(h=>{h.exports={decomp:b,quickDecomp:H,isSimple:N,removeCollinearPoints:X,removeDuplicatePoints:W,makeCCW:d};function x(F,k,Y){Y=Y||0;var Z=[0,0],j,J,q,et,it,at,ut;return j=F[1][1]-F[0][1],J=F[0][0]-F[1][0],q=j*F[0][0]+J*F[0][1],et=k[1][1]-k[0][1],it=k[0][0]-k[1][0],at=et*k[0][0]+it*k[0][1],ut=j*it-et*J,V(ut,0,Y)||(Z[0]=(it*q-J*at)/ut,Z[1]=(j*at-et*q)/ut),Z}function t(F,k,Y,Z){var j=k[0]-F[0],J=k[1]-F[1],q=Z[0]-Y[0],et=Z[1]-Y[1];if(q*J-et*j===0)return!1;var it=(j*(Y[1]-F[1])+J*(F[0]-Y[0]))/(q*J-et*j),at=(q*(F[1]-Y[1])+et*(Y[0]-F[0]))/(et*j-q*J);return it>=0&&it<=1&&at>=0&&at<=1}function o(F,k,Y){return(k[0]-F[0])*(Y[1]-F[1])-(Y[0]-F[0])*(k[1]-F[1])}function v(F,k,Y){return o(F,k,Y)>0}function r(F,k,Y){return o(F,k,Y)>=0}function n(F,k,Y){return o(F,k,Y)<0}function i(F,k,Y){return o(F,k,Y)<=0}var e=[],a=[];function l(F,k,Y,Z){if(Z){var j=e,J=a;j[0]=k[0]-F[0],j[1]=k[1]-F[1],J[0]=Y[0]-k[0],J[1]=Y[1]-k[1];var q=j[0]*J[0]+j[1]*J[1],et=Math.sqrt(j[0]*j[0]+j[1]*j[1]),it=Math.sqrt(J[0]*J[0]+J[1]*J[1]),at=Math.acos(q/(et*it));return at<Z}else return o(F,k,Y)===0}function s(F,k){var Y=k[0]-F[0],Z=k[1]-F[1];return Y*Y+Z*Z}function u(F,k){var Y=F.length;return F[k<0?k%Y+Y:k%Y]}function f(F){F.length=0}function c(F,k,Y,Z){for(var j=Y;j<Z;j++)F.push(k[j])}function d(F){for(var k=0,Y=F,Z=1;Z<F.length;++Z)(Y[Z][1]<Y[k][1]||Y[Z][1]===Y[k][1]&&Y[Z][0]>Y[k][0])&&(k=Z);return v(u(F,k-1),u(F,k),u(F,k+1))?!1:(p(F),!0)}function p(F){for(var k=[],Y=F.length,Z=0;Z!==Y;Z++)k.push(F.pop());for(var Z=0;Z!==Y;Z++)F[Z]=k[Z]}function S(F,k){return n(u(F,k-1),u(F,k),u(F,k+1))}var C=[],E=[];function R(F,k,Y){var Z,j,J=C,q=E;if(r(u(F,k+1),u(F,k),u(F,Y))&&i(u(F,k-1),u(F,k),u(F,Y)))return!1;j=s(u(F,k),u(F,Y));for(var et=0;et!==F.length;++et)if(!((et+1)%F.length===k||et===k)&&r(u(F,k),u(F,Y),u(F,et+1))&&i(u(F,k),u(F,Y),u(F,et))&&(J[0]=u(F,k),J[1]=u(F,Y),q[0]=u(F,et),q[1]=u(F,et+1),Z=x(J,q),s(u(F,k),Z)<j))return!1;return!0}function M(F,k,Y){for(var Z=0;Z!==F.length;++Z)if(!(Z===k||Z===Y||(Z+1)%F.length===k||(Z+1)%F.length===Y)&&t(u(F,k),u(F,Y),u(F,Z),u(F,Z+1)))return!1;return!0}function D(F,k,Y,Z){var j=Z||[];if(f(j),k<Y)for(var J=k;J<=Y;J++)j.push(F[J]);else{for(var J=0;J<=Y;J++)j.push(F[J]);for(var J=k;J<F.length;J++)j.push(F[J])}return j}function B(F){for(var k=[],Y=[],Z=[],j=[],J=Number.MAX_VALUE,q=0;q<F.length;++q)if(S(F,q)){for(var et=0;et<F.length;++et)if(R(F,q,et)){Y=B(D(F,q,et,j)),Z=B(D(F,et,q,j));for(var it=0;it<Z.length;it++)Y.push(Z[it]);Y.length<J&&(k=Y,J=Y.length,k.push([u(F,q),u(F,et)]))}}return k}function b(F){var k=B(F);return k.length>0?I(F,k):[F]}function I(F,k){if(k.length===0)return[F];if(k instanceof Array&&k.length&&k[0]instanceof Array&&k[0].length===2&&k[0][0]instanceof Array){for(var Y=[F],Z=0;Z<k.length;Z++)for(var j=k[Z],J=0;J<Y.length;J++){var q=Y[J],et=I(q,j);if(et){Y.splice(J,1),Y.push(et[0],et[1]);break}}return Y}else{var j=k,Z=F.indexOf(j[0]),J=F.indexOf(j[1]);return Z!==-1&&J!==-1?[D(F,Z,J),D(F,J,Z)]:!1}}function N(F){var k=F,Y;for(Y=0;Y<k.length-1;Y++)for(var Z=0;Z<Y-1;Z++)if(t(k[Y],k[Y+1],k[Z],k[Z+1]))return!1;for(Y=1;Y<k.length-2;Y++)if(t(k[0],k[k.length-1],k[Y],k[Y+1]))return!1;return!0}function z(F,k,Y,Z,j){j=j||0;var J=k[1]-F[1],q=F[0]-k[0],et=J*F[0]+q*F[1],it=Z[1]-Y[1],at=Y[0]-Z[0],ut=it*Y[0]+at*Y[1],dt=J*at-it*q;return V(dt,0,j)?[0,0]:[(at*et-q*ut)/dt,(J*ut-it*et)/dt]}function H(F,k,Y,Z,j,J,q){J=J||100,q=q||0,j=j||25,k=typeof k<"u"?k:[],Y=Y||[],Z=Z||[];var et=[0,0],it=[0,0],at=[0,0],ut=0,dt=0,ft=0,xt=0,At=0,gt=0,Wt=0,Ht=[],Gt=[],Ot=F,Bt=F;if(Bt.length<3)return k;if(q++,q>J)return console.warn("quickDecomp: max level ("+J+") reached."),k;for(var Pt=0;Pt<F.length;++Pt)if(S(Ot,Pt)){Y.push(Ot[Pt]),ut=dt=Number.MAX_VALUE;for(var te=0;te<F.length;++te)v(u(Ot,Pt-1),u(Ot,Pt),u(Ot,te))&&i(u(Ot,Pt-1),u(Ot,Pt),u(Ot,te-1))&&(at=z(u(Ot,Pt-1),u(Ot,Pt),u(Ot,te),u(Ot,te-1)),n(u(Ot,Pt+1),u(Ot,Pt),at)&&(ft=s(Ot[Pt],at),ft<dt&&(dt=ft,it=at,gt=te))),v(u(Ot,Pt+1),u(Ot,Pt),u(Ot,te+1))&&i(u(Ot,Pt+1),u(Ot,Pt),u(Ot,te))&&(at=z(u(Ot,Pt+1),u(Ot,Pt),u(Ot,te),u(Ot,te+1)),v(u(Ot,Pt-1),u(Ot,Pt),at)&&(ft=s(Ot[Pt],at),ft<ut&&(ut=ft,et=at,At=te)));if(gt===(At+1)%F.length)at[0]=(it[0]+et[0])/2,at[1]=(it[1]+et[1])/2,Z.push(at),Pt<At?(c(Ht,Ot,Pt,At+1),Ht.push(at),Gt.push(at),gt!==0&&c(Gt,Ot,gt,Ot.length),c(Gt,Ot,0,Pt+1)):(Pt!==0&&c(Ht,Ot,Pt,Ot.length),c(Ht,Ot,0,At+1),Ht.push(at),Gt.push(at),c(Gt,Ot,gt,Pt+1));else{if(gt>At&&(At+=F.length),xt=Number.MAX_VALUE,At<gt)return k;for(var te=gt;te<=At;++te)r(u(Ot,Pt-1),u(Ot,Pt),u(Ot,te))&&i(u(Ot,Pt+1),u(Ot,Pt),u(Ot,te))&&(ft=s(u(Ot,Pt),u(Ot,te)),ft<xt&&M(Ot,Pt,te)&&(xt=ft,Wt=te%F.length));Pt<Wt?(c(Ht,Ot,Pt,Wt+1),Wt!==0&&c(Gt,Ot,Wt,Bt.length),c(Gt,Ot,0,Pt+1)):(Pt!==0&&c(Ht,Ot,Pt,Bt.length),c(Ht,Ot,0,Wt+1),c(Gt,Ot,Wt,Pt+1))}return Ht.length<Gt.length?(H(Ht,k,Y,Z,j,J,q),H(Gt,k,Y,Z,j,J,q)):(H(Gt,k,Y,Z,j,J,q),H(Ht,k,Y,Z,j,J,q)),k}return k.push(F),k}function X(F,k){for(var Y=0,Z=F.length-1;F.length>3&&Z>=0;--Z)l(u(F,Z-1),u(F,Z),u(F,Z+1),k)&&(F.splice(Z%F.length,1),Y++);return Y}function W(F,k){for(var Y=F.length-1;Y>=1;--Y)for(var Z=F[Y],j=Y-1;j>=0;--j)if(U(Z,F[j],k)){F.splice(Y,1);continue}}function V(F,k,Y){return Y=Y||0,Math.abs(F-k)<=Y}function U(F,k,Y){return V(F[0],k[0],Y)&&V(F[1],k[1],Y)}}),52018:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n){this.pluginManager=n,this.game=n.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});h.exports=v}),42363:(h=>{var x={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};h.exports=x}),37277:(h=>{var x={},t={},o={};o.register=function(v,r,n,i){i===void 0&&(i=!1),x[v]={plugin:r,mapping:n,custom:i}},o.registerCustom=function(v,r,n,i){t[v]={plugin:r,mapping:n,data:i}},o.hasCore=function(v){return x.hasOwnProperty(v)},o.hasCustom=function(v){return t.hasOwnProperty(v)},o.getCore=function(v){return x[v]},o.getCustom=function(v){return t[v]},o.getCustomClass=function(v){return t.hasOwnProperty(v)?t[v].plugin:null},o.remove=function(v){x.hasOwnProperty(v)&&delete x[v]},o.removeCustom=function(v){t.hasOwnProperty(v)&&delete t[v]},o.destroyCorePlugins=function(){for(var v in x)x.hasOwnProperty(v)&&delete x[v]},o.destroyCustomPlugins=function(){for(var v in t)t.hasOwnProperty(v)&&delete t[v]},h.exports=o}),77332:((h,x,t)=>{var o=t(83419),v=t(8443),r=t(50792),n=t(74099),i=t(44603),e=t(39429),a=t(95540),l=t(37277),s=t(72905),u=t(8054),f=new o({Extends:r,initialize:function(d){r.call(this),this.game=d,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],d.isBooted||d.config.renderType===u.HEADLESS?this.boot():d.events.once(v.BOOT,this.boot,this)},boot:function(){var c,d,p,S,C,E,R,M=this.game.config,D=M.installGlobalPlugins;for(D=D.concat(this._pendingGlobal),c=0;c<D.length;c++)d=D[c],p=a(d,"key",null),S=a(d,"plugin",null),C=a(d,"start",!1),E=a(d,"mapping",null),R=a(d,"data",null),p&&(S?this.install(p,S,C,E,R):console.warn("Missing `plugin` for key: "+p));for(D=M.installScenePlugins,D=D.concat(this._pendingScene),c=0;c<D.length;c++)d=D[c],p=a(d,"key",null),S=a(d,"plugin",null),E=a(d,"mapping",null),p&&(S?this.installScenePlugin(p,S,E):console.warn("Missing `plugin` for key: "+p));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(c,d,p){var S,C,E,R=this.game,M=c.scene,D=c.settings.map,B=c.settings.isBooted;for(S=0;S<d.length;S++)C=d[S],R[C]?(c[C]=R[C],D.hasOwnProperty(C)&&(M[D[C]]=c[C])):C==="game"&&D.hasOwnProperty(C)&&(M[D[C]]=R);for(var b=0;b<p.length;b++)for(E=p[b],S=0;S<E.length;S++)if(C=E[S],!!l.hasCore(C)){var I=l.getCore(C),N=I.mapping,z=new I.plugin(M,this,N);c[N]=z,I.custom?M[N]=z:D.hasOwnProperty(N)&&(M[D[N]]=z),B&&z.boot()}for(E=this.plugins,S=0;S<E.length;S++){var H=E[S];H.mapping&&(M[H.mapping]=H.plugin)}},getDefaultScenePlugins:function(){var c=this.game.config.defaultPlugins;return c=c.concat(this.scenePlugins),c},installScenePlugin:function(c,d,p,S,C){if(C===void 0&&(C=!1),typeof d!="function"){console.warn("Invalid Scene Plugin: "+c);return}if(l.hasCore(c)||l.register(c,d,p,!0),this.scenePlugins.indexOf(c)===-1)this.scenePlugins.push(c);else if(!C&&l.hasCore(c)){console.warn("Scene Plugin key in use: "+c);return}if(S){var E=new d(S,this,c);S.sys[c]=E,p&&p!==""&&(S[p]=E),E.boot()}},install:function(c,d,p,S,C){if(p===void 0&&(p=!1),S===void 0&&(S=null),C===void 0&&(C=null),typeof d!="function")return console.warn("Invalid Plugin: "+c),null;if(l.hasCustom(c))return console.warn("Plugin key in use: "+c),null;if(S!==null&&(p=!0),!this.game.isBooted)this._pendingGlobal.push({key:c,plugin:d,start:p,mapping:S,data:C});else if(l.registerCustom(c,d,S,C),p)return this.start(c);return null},getIndex:function(c){for(var d=this.plugins,p=0;p<d.length;p++){var S=d[p];if(S.key===c)return p}return-1},getEntry:function(c){var d=this.getIndex(c);if(d!==-1)return this.plugins[d]},isActive:function(c){var d=this.getEntry(c);return d&&d.active},start:function(c,d){d===void 0&&(d=c);var p=this.getEntry(d);return p&&!p.active?(p.active=!0,p.plugin.start()):p||(p=this.createEntry(c,d)),p?p.plugin:null},createEntry:function(c,d){var p=l.getCustom(c);if(p){var S=new p.plugin(this);p={key:d,plugin:S,active:!0,mapping:p.mapping,data:p.data},this.plugins.push(p),S.init(p.data),S.start()}return p},stop:function(c){var d=this.getEntry(c);return d&&d.active&&(d.active=!1,d.plugin.stop()),this},get:function(c,d){d===void 0&&(d=!0);var p=this.getEntry(c);if(p)return p.plugin;var S=this.getClass(c);return S&&d?(p=this.createEntry(c,c),p?p.plugin:null):S||null},getClass:function(c){return l.getCustomClass(c)},removeGlobalPlugin:function(c){var d=this.getEntry(c);d&&s(this.plugins,d),l.removeCustom(c)},removeScenePlugin:function(c){s(this.scenePlugins,c),l.remove(c)},registerGameObject:function(c,d,p){return d&&e.register(c,d),p&&i.register(c,p),this},removeGameObject:function(c,d,p){return d===void 0&&(d=!0),p===void 0&&(p=!0),d&&e.remove(c),p&&i.remove(c),this},registerFileType:function(c,d,p){n.register(c,d),p&&p.sys.load&&(p.sys.load[c]=d)},destroy:function(){for(var c=0;c<this.plugins.length;c++)this.plugins[c].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});h.exports=f}),45145:((h,x,t)=>{var o=t(52018),v=t(83419),r=t(44594),n=new v({Extends:o,initialize:function(e,a,l){o.call(this,a),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(r.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});h.exports=n}),18922:((h,x,t)=>{h.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}}),63595:(()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(h){const x=performance.now(),t=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,v=(r,n)=>{const i=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames;if(e>o){const a=this.mozFrameDelay||i.totalFrameDelay-t.totalFrameDelay||0,l=n-r;h(n,{presentationTime:n+a*1e3,expectedDisplayTime:n+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:a}),delete this._rvfcpolyfillmap[x]}else this._rvfcpolyfillmap[x]=requestAnimationFrame(a=>v(n,a))};return this._rvfcpolyfillmap[x]=requestAnimationFrame(r=>v(x,r)),x},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(h){cancelAnimationFrame(this._rvfcpolyfillmap[h]),delete this._rvfcpolyfillmap[h]})}),10312:(h=>{h.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}}),29795:(h=>{var x={DEFAULT:0,LINEAR:0,NEAREST:1};h.exports=x}),68627:((h,x,t)=>{var o=t(19715),v=t(32880),r=t(83419),n=t(8054),i=t(50792),e=t(92503),a=t(56373),l=t(97480),s=t(69442),u=t(8443),f=t(61340),c=new r({Extends:i,initialize:function(p){i.call(this);var S=p.config;this.config={clearBeforeRender:S.clearBeforeRender,backgroundColor:S.backgroundColor,antialias:S.antialias,roundPixels:S.roundPixels,transparent:S.transparent},this.game=p,this.type=n.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=p.canvas;var C={alpha:S.transparent,desynchronized:S.desynchronized,willReadFrequently:!1};this.gameContext=S.context?S.context:this.gameCanvas.getContext("2d",C),this.currentContext=this.gameContext,this.antialias=S.antialias,this.blendModes=a(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.isBooted=!1,this.init()},init:function(){var d=this.game;d.events.once(u.BOOT,function(){var p=this.config;if(!p.transparent){var S=this.gameContext,C=this.gameCanvas;S.fillStyle=p.backgroundColor.rgba,S.fillRect(0,0,C.width,C.height)}},this),d.textures.once(s.READY,this.boot,this)},boot:function(){var d=this.game,p=d.scale.baseSize;this.width=p.width,this.height=p.height,this.isBooted=!0,d.scale.on(l.RESIZE,this.onResize,this),this.resize(p.width,p.height)},onResize:function(d,p){(p.width!==this.width||p.height!==this.height)&&this.resize(p.width,p.height)},resize:function(d,p){this.width=d,this.height=p,this.emit(e.RESIZE,d,p)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(d){return this.currentContext.globalCompositeOperation=d,this},setContext:function(d){return this.currentContext=d||this.gameContext,this},setAlpha:function(d){return this.currentContext.globalAlpha=d,this},preRender:function(){var d=this.gameContext,p=this.config,S=this.width,C=this.height;d.globalAlpha=1,d.globalCompositeOperation="source-over",d.setTransform(1,0,0,1,0,0),this.emit(e.PRE_RENDER_CLEAR),p.clearBeforeRender&&(d.clearRect(0,0,S,C),p.transparent||(d.fillStyle=p.backgroundColor.rgba,d.fillRect(0,0,S,C))),d.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(d,p,S){var C=p.length;this.emit(e.RENDER,d,S);var E=S.x,R=S.y,M=S.width,D=S.height,B=S.renderToTexture?S.context:d.sys.context;B.save(),this.game.scene.customViewports&&(B.beginPath(),B.rect(E,R,M,D),B.clip()),S.emit(o.PRE_RENDER,S),this.currentContext=B;var b=S.mask;b&&b.preRenderCanvas(this,null,S._maskCamera),S.transparent||(B.fillStyle=S.backgroundColor.rgba,B.fillRect(E,R,M,D)),B.globalAlpha=S.alpha,B.globalCompositeOperation="source-over",this.drawCount+=C,S.renderToTexture&&S.emit(o.PRE_RENDER,S),S.matrix.copyToContext(B);for(var I=0;I<C;I++){var N=p[I];N.mask&&N.mask.preRenderCanvas(this,N,S),N.renderCanvas(this,N,S),N.mask&&N.mask.postRenderCanvas(this,N,S)}B.setTransform(1,0,0,1,0,0),B.globalCompositeOperation="source-over",B.globalAlpha=1,S.flashEffect.postRenderCanvas(B),S.fadeEffect.postRenderCanvas(B),S.dirty=!1,b&&b.postRenderCanvas(this),B.restore(),S.renderToTexture&&(S.emit(o.POST_RENDER,S),S.renderToGame&&d.sys.context.drawImage(S.canvas,E,R)),S.emit(o.POST_RENDER,S)},postRender:function(){var d=this.gameContext;d.restore(),this.emit(e.POST_RENDER);var p=this.snapshotState;p.callback&&(v(this.gameCanvas,p),p.callback=null)},snapshotCanvas:function(d,p,S,C,E,R,M,D,B){S===void 0&&(S=!1),this.snapshotArea(C,E,R,M,p,D,B);var b=this.snapshotState;return b.getPixel=S,v(d,b),b.callback=null,this},snapshot:function(d,p,S){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,d,p,S)},snapshotArea:function(d,p,S,C,E,R,M){var D=this.snapshotState;return D.callback=E,D.type=R,D.encoder=M,D.getPixel=!1,D.x=d,D.y=p,D.width=Math.min(S,this.gameCanvas.width),D.height=Math.min(C,this.gameCanvas.height),this},snapshotPixel:function(d,p,S){return this.snapshotArea(d,p,1,1,S),this.snapshotState.getPixel=!0,this},batchSprite:function(d,p,S,C){var E=S.alpha*d.alpha;if(E!==0){var R=this.currentContext,M=this._tempMatrix1,D=this._tempMatrix2,B=p.canvasData,b=B.x,I=B.y,N=p.cutWidth,z=p.cutHeight,H=p.customPivot,X=p.source.resolution,W=d.displayOriginX,V=d.displayOriginY,U=-W+p.x,F=-V+p.y;if(d.isCropped){var k=d._crop;(k.flipX!==d.flipX||k.flipY!==d.flipY)&&p.updateCropUVs(k,d.flipX,d.flipY),N=k.cw,z=k.ch,b=k.cx,I=k.cy,U=-W+k.x,F=-V+k.y,d.flipX&&(U>=0?U=-(U+N):U<0&&(U=Math.abs(U)-N)),d.flipY&&(F>=0?F=-(F+z):F<0&&(F=Math.abs(F)-z))}var Y=1,Z=1;d.flipX&&(H||(U+=-p.realWidth+W*2),Y=-1),d.flipY&&(H||(F+=-p.realHeight+V*2),Z=-1);var j=d.x,J=d.y;if(S.roundPixels&&(j=Math.floor(j),J=Math.floor(J)),D.applyITRS(j,J,d.rotation,d.scaleX*Y,d.scaleY*Z),M.copyFrom(S.matrix),C?(M.multiplyWithOffset(C,-S.scrollX*d.scrollFactorX,-S.scrollY*d.scrollFactorY),D.e=j,D.f=J):(D.e-=S.scrollX*d.scrollFactorX,D.f-=S.scrollY*d.scrollFactorY),M.multiply(D),S.renderRoundPixels&&(M.e=Math.floor(M.e+.5),M.f=Math.floor(M.f+.5)),R.save(),M.setToContext(R),R.globalCompositeOperation=this.blendModes[d.blendMode],R.globalAlpha=E,R.imageSmoothingEnabled=!p.source.scaleMode,d.mask&&d.mask.preRenderCanvas(this,d,S),N>0&&z>0){var q=N/X,et=z/X;S.roundPixels&&(U=Math.floor(U+.5),F=Math.floor(F+.5),q+=.5,et+=.5),R.drawImage(p.source.image,b,I,N,z,U,F,q,et)}d.mask&&d.mask.postRenderCanvas(this,d,S),R.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});h.exports=c}),55830:((h,x,t)=>{h.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}}),56373:((h,x,t)=>{var o=t(10312),v=t(89289),r=function(){var n=[],i=v.supportNewBlendModes,e="source-over";return n[o.NORMAL]=e,n[o.ADD]="lighter",n[o.MULTIPLY]=i?"multiply":e,n[o.SCREEN]=i?"screen":e,n[o.OVERLAY]=i?"overlay":e,n[o.DARKEN]=i?"darken":e,n[o.LIGHTEN]=i?"lighten":e,n[o.COLOR_DODGE]=i?"color-dodge":e,n[o.COLOR_BURN]=i?"color-burn":e,n[o.HARD_LIGHT]=i?"hard-light":e,n[o.SOFT_LIGHT]=i?"soft-light":e,n[o.DIFFERENCE]=i?"difference":e,n[o.EXCLUSION]=i?"exclusion":e,n[o.HUE]=i?"hue":e,n[o.SATURATION]=i?"saturation":e,n[o.COLOR]=i?"color":e,n[o.LUMINOSITY]=i?"luminosity":e,n[o.ERASE]="destination-out",n[o.SOURCE_IN]="source-in",n[o.SOURCE_OUT]="source-out",n[o.SOURCE_ATOP]="source-atop",n[o.DESTINATION_OVER]="destination-over",n[o.DESTINATION_IN]="destination-in",n[o.DESTINATION_OUT]="destination-out",n[o.DESTINATION_ATOP]="destination-atop",n[o.LIGHTER]="lighter",n[o.COPY]="copy",n[o.XOR]="xor",n};h.exports=r}),20926:((h,x,t)=>{var o=t(91296),v=function(r,n,i,e,a){var l=e.alpha*i.alpha;if(l<=0)return!1;var s=o(i,e,a).calc;return n.globalCompositeOperation=r.blendModes[i.blendMode],n.globalAlpha=l,n.save(),s.setToContext(n),n.imageSmoothingEnabled=i.frame?!i.frame.source.scaleMode:r.antialias,!0};h.exports=v}),63899:(h=>{h.exports="losewebgl"}),6119:(h=>{h.exports="postrender"}),48070:(h=>{h.exports="prerender"}),15640:(h=>{h.exports="render"}),8912:(h=>{h.exports="resize"}),87124:(h=>{h.exports="restorewebgl"}),92503:((h,x,t)=>{h.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}}),36909:((h,x,t)=>{h.exports={Events:t(92503),Snapshot:t(89966)},h.exports.Canvas=t(55830),h.exports.WebGL=t(4159)}),32880:((h,x,t)=>{var o=t(27919),v=t(40987),r=t(95540),n=function(i,e){var a=r(e,"callback"),l=r(e,"type","image/png"),s=r(e,"encoder",.92),u=Math.abs(Math.round(r(e,"x",0))),f=Math.abs(Math.round(r(e,"y",0))),c=Math.floor(r(e,"width",i.width)),d=Math.floor(r(e,"height",i.height)),p=r(e,"getPixel",!1);if(p){var S=i.getContext("2d",{willReadFrequently:!1}),C=S.getImageData(u,f,1,1),E=C.data;a.call(null,new v(E[0],E[1],E[2],E[3]))}else if(u!==0||f!==0||c!==i.width||d!==i.height){var R=o.createWebGL(this,c,d),M=R.getContext("2d",{willReadFrequently:!0});c>0&&d>0&&M.drawImage(i,u,f,c,d,0,0,c,d);var D=new Image;D.onerror=function(){a.call(null),o.remove(R)},D.onload=function(){a.call(null,D),o.remove(R)},D.src=R.toDataURL(l,s)}else{var B=new Image;B.onerror=function(){a.call(null)},B.onload=function(){a.call(null,B)},B.src=i.toDataURL(l,s)}};h.exports=n}),88815:((h,x,t)=>{var o=t(27919),v=t(40987),r=t(95540),n=function(i,e){var a=i,l=r(e,"callback"),s=r(e,"type","image/png"),u=r(e,"encoder",.92),f=Math.abs(Math.round(r(e,"x",0))),c=Math.abs(Math.round(r(e,"y",0))),d=r(e,"getPixel",!1),p=r(e,"isFramebuffer",!1),S=p?r(e,"bufferWidth",1):a.drawingBufferWidth,C=p?r(e,"bufferHeight",1):a.drawingBufferHeight;if(d){var E=new Uint8Array(4),R=p?c:C-c;a.readPixels(f,R,1,1,a.RGBA,a.UNSIGNED_BYTE,E),l.call(null,new v(E[0],E[1],E[2],E[3]))}else{var M=Math.floor(r(e,"width",S)),D=Math.floor(r(e,"height",C)),B=M*D*4,b=new Uint8Array(B);a.readPixels(f,C-c-D,M,D,a.RGBA,a.UNSIGNED_BYTE,b);for(var I=o.createWebGL(this,M,D),N=I.getContext("2d",{willReadFrequently:!0}),z=N.getImageData(0,0,M,D),H=z.data,X=0;X<D;X++)for(var W=0;W<M;W++){var V=((D-X-1)*M+W)*4,U=p?B-(X*M+(M-W))*4:(X*M+W)*4;H[U+0]=b[V+0],H[U+1]=b[V+1],H[U+2]=b[V+2],H[U+3]=b[V+3]}N.putImageData(z,0,0);var F=new Image;F.onerror=function(){l.call(null),o.remove(I)},F.onload=function(){l.call(null,F),o.remove(I)},F.src=I.toDataURL(s,u)}};h.exports=n}),89966:((h,x,t)=>{h.exports={Canvas:t(32880),WebGL:t(88815)}}),7530:((h,x,t)=>{var o=t(83419),v=t(36060),r=t(90330),n=t(82264),i=t(95540),e=t(32302),a=t(63448),l=t(31302),s=t(58918),u=t(14811),f=t(92651),c=t(96569),d=t(56527),p=t(57516),S=t(43439),C=t(81041),E=t(12385),R=t(7589),M=t(95428),D=t(72905),B=new o({initialize:function(I){this.game=I.game,this.renderer=I,this.classes=new r([[v.UTILITY_PIPELINE,R],[v.MULTI_PIPELINE,p],[v.BITMAPMASK_PIPELINE,l],[v.SINGLE_PIPELINE,E],[v.ROPE_PIPELINE,C],[v.LIGHT_PIPELINE,c],[v.POINTLIGHT_PIPELINE,S],[v.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new r,this.pipelines=new r,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(b,I,N){var z=this.renderer,H=this.renderTargets;this.frameInc=Math.floor(i(b,"frameInc",32));var X=z.width,W=z.height,V=this.game.config.disablePreFX,U=this.game.config.disablePostFX;if(U||this.postPipelineClasses.setAll([[String(u.BARREL),s.Barrel],[String(u.BLOOM),s.Bloom],[String(u.BLUR),s.Blur],[String(u.BOKEH),s.Bokeh],[String(u.CIRCLE),s.Circle],[String(u.COLOR_MATRIX),s.ColorMatrix],[String(u.DISPLACEMENT),s.Displacement],[String(u.GLOW),s.Glow],[String(u.GRADIENT),s.Gradient],[String(u.PIXELATE),s.Pixelate],[String(u.SHADOW),s.Shadow],[String(u.SHINE),s.Shine],[String(u.VIGNETTE),s.Vignette],[String(u.WIPE),s.Wipe]]),!V){this.classes.set(v.FX_PIPELINE,f);for(var F=Math.min(X,W),k=Math.ceil(F/this.frameInc),Y=1;Y<k;Y++){var Z=Y*this.frameInc;H.push(new e(z,Z,Z)),H.push(new e(z,Z,Z)),H.push(new e(z,Z,Z)),this.maxDimension=Z}H.push(new e(z,X,W,1,0,!0,!0)),H.push(new e(z,X,W,1,0,!0,!0)),H.push(new e(z,X,W,1,0,!0,!0))}var j,J,q=this,et=this.game;if(this.classes.each(function(at,ut){j=q.add(at,new ut({game:et})),at===v.UTILITY_PIPELINE&&(q.UTILITY_PIPELINE=j,q.fullFrame1=j.fullFrame1,q.fullFrame2=j.fullFrame2,q.halfFrame1=j.halfFrame1,q.halfFrame2=j.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),V||(this.FX_PIPELINE=this.get(v.FX_PIPELINE)),b)for(J in b){var it=b[J];j=new it(et),j.name=J,j.isPostFX?this.postPipelineClasses.set(J,it):this.has(J)||(this.classes.set(J,it),this.add(J,j))}this.default=this.get(I),N&&!n.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(b){var I=this.get(b);return I&&(this.default=I),I},add:function(b,I){if(I.isPostFX){console.warn(b+" is a Post Pipeline. Use `addPostPipeline` instead");return}var N=this.pipelines,z=this.renderer;return N.has(b)?console.warn("Pipeline exists: "+b):(I.name=b,I.manager=this,N.set(b,I)),I.hasBooted||I.boot(),z.width!==0&&z.height!==0&&!I.isPreFX&&I.resize(z.width,z.height),I},addPostPipeline:function(b,I){this.postPipelineClasses.has(b)||this.postPipelineClasses.set(b,I)},flush:function(){this.current&&this.current.flush()},has:function(b){var I=this.pipelines;return typeof b=="string"?I.has(b):!!I.contains(b)},get:function(b){var I=this.pipelines;if(typeof b=="string")return I.get(b);if(I.contains(b))return b},getPostPipeline:function(b,I,N){var z=this.postPipelineClasses,H,X="",W=typeof b;if(W==="string"||W==="number"?(H=z.get(b),X=b):W==="function"?(z.contains(b)&&(H=b),X=b.name):W==="object"&&(H=z.get(b.name),X=b.name),H){var V=new H(this.game,N);return V.name=X,I&&(V.gameObject=I),this.postPipelineInstances.push(V),V}},removePostPipeline:function(b){D(this.postPipelineInstances,b)},remove:function(b,I,N){I===void 0&&(I=!0),N===void 0&&(N=!0),this.pipelines.delete(b),I&&this.classes.delete(b),N&&this.postPipelineClasses.delete(b)},set:function(b,I,N){if(!b.isPostFX)return this.isCurrent(b,N)||(this.flush(),this.current&&this.current.unbind(),this.current=b,b.bind(N)),b.updateProjectionMatrix(),b.onBind(I),b},preBatch:function(b){if(b.hasPostPipeline){this.flush();for(var I=b.postPipelines,N=I.length-1;N>=0;N--){var z=I[N];z.active&&z.preBatch(b)}}},postBatch:function(b){if(b.hasPostPipeline){this.flush();for(var I=b.postPipelines,N=0;N<I.length;N++){var z=I[N];z.active&&z.postBatch(b)}}},preBatchCamera:function(b){if(b.hasPostPipeline){this.flush();for(var I=b.postPipelines,N=I.length-1;N>=0;N--){var z=I[N];z.active&&z.preBatch(b)}}},postBatchCamera:function(b){if(b.hasPostPipeline){this.flush();for(var I=b.postPipelines,N=0;N<I.length;N++){var z=I[N];z.active&&z.postBatch(b)}}},isCurrent:function(b,I){var N=this.renderer,z=this.current;return z&&!I&&(I=z.currentShader),!(z!==b||I.program!==N.currentProgram)},copyFrame:function(b,I,N,z,H){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(b,I,N,z,H),this},copyToGame:function(b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(b),this},drawFrame:function(b,I,N,z){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(b,I,N,z),this},blendFrames:function(b,I,N,z,H){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(b,I,N,z,H),this},blendFramesAdditive:function(b,I,N,z,H){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(b,I,N,z,H),this},clearFrame:function(b,I){return this.UTILITY_PIPELINE.clearFrame(b,I),this},blitFrame:function(b,I,N,z,H,X){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(b,I,N,z,H,X),this},copyFrameRect:function(b,I,N,z,H,X,W,V){return this.UTILITY_PIPELINE.copyFrameRect(b,I,N,z,H,X,W,V),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(b){return this.UTILITY_PIPELINE.bind(b)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(b,I){I.restoreContext()}),M(this.postPipelineInstances,function(b){b.restoreContext()})},rebind:function(b){b===void 0&&this.previous&&(b=this.previous);var I=this.renderer,N=I.gl;N.disable(N.DEPTH_TEST),N.disable(N.CULL_FACE),I.hasActiveStencilMask()?N.clear(N.DEPTH_BUFFER_BIT):(N.disable(N.STENCIL_TEST),N.clear(N.DEPTH_BUFFER_BIT|N.STENCIL_BUFFER_BIT)),N.viewport(0,0,I.width,I.height),I.currentProgram=null,I.setBlendMode(0,!0);var z=I.vaoExtension;z&&z.bindVertexArrayOES(null);var H=this.pipelines.entries;for(var X in H)H[X].glReset=!0;b&&(this.current=b,b.rebind())},clear:function(){var b=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,b.currentProgram=null,b.setBlendMode(0,!0);var I=b.vaoExtension;I&&I.bindVertexArrayOES(null)},getRenderTarget:function(b){var I=this.renderTargets,N=3;if(b>this.maxDimension)return this.targetIndex=I.length-N,I[this.targetIndex];var z=(a(b,this.frameInc,0,!0)-1)*N;return this.targetIndex=z,I[z]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});h.exports=B}),32302:((h,x,t)=>{var o=t(83419),v=t(92503),r=new o({initialize:function(i,e,a,l,s,u,f,c,d){l===void 0&&(l=1),s===void 0&&(s=0),u===void 0&&(u=!0),f===void 0&&(f=!1),c===void 0&&(c=!0),d===void 0&&(d=!0),this.renderer=i,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=s,this.autoClear=u,this.autoResize=!0,this.hasDepthBuffer=c,this.forceClamp=d,this.init(e,a),f?this.renderer.on(v.RESIZE,this.resize,this):this.autoResize=!1},init:function(n,i){var e=this.renderer;this.texture=e.createTextureFromSource(null,n,i,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(n,i,this.texture,this.hasDepthBuffer),this.width=n,this.height=i},setAutoResize:function(n){return n&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!n&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(n,i){if(this.autoResize&&this.willResize(n,i)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,n,i,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(n,i,this.texture,this.hasDepthBuffer),this.width=n,this.height=i}return this},willResize:function(n,i){return typeof n!="number"||typeof i!="number"?!1:(n=Math.round(n*this.scale),i=Math.round(i*this.scale),n=Math.max(n,1),i=Math.max(i,1),n!==this.width||i!==this.height)},bind:function(n,i,e){n===void 0&&(n=!1);var a=this.renderer;if(n&&a.flush(),i&&e&&this.resize(i,e),a.pushFramebuffer(this.framebuffer,!1,!1),n&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}a.clearStencilMask()},adjustViewport:function(){var n=this.renderer.gl;n.viewport(0,0,this.width,this.height),n.disable(n.SCISSOR_TEST)},clear:function(n,i,e,a){var l=this.renderer,s=l.gl;l.pushFramebuffer(this.framebuffer),n!==void 0&&i!==void 0&&e!==void 0&&a!==void 0?(s.enable(s.SCISSOR_TEST),s.scissor(n,i,e,a)):s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(n){n===void 0&&(n=!1);var i=this.renderer;return n&&i.flush(),i.popFramebuffer()},destroy:function(){var n=this.renderer;n.off(v.RESIZE,this.resize,this),n.deleteFramebuffer(this.framebuffer),n.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});h.exports=r}),70554:(h=>{h.exports={getTintFromFloats:function(x,t,o,v){var r=(x*255|0)&255,n=(t*255|0)&255,i=(o*255|0)&255,e=(v*255|0)&255;return(e<<24|r<<16|n<<8|i)>>>0},getTintAppendFloatAlpha:function(x,t){var o=(t*255|0)&255;return(o<<24|x)>>>0},getTintAppendFloatAlphaAndSwap:function(x,t){var o=(x>>16|0)&255,v=(x>>8|0)&255,r=(x|0)&255,n=(t*255|0)&255;return(n<<24|r<<16|v<<8|o)>>>0},getFloatsFromUintRGB:function(x){var t=(x>>16|0)&255,o=(x>>8|0)&255,v=(x|0)&255;return[t/255,o/255,v/255]},checkShaderMax:function(x,t){var o=Math.min(16,x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?o:Math.min(o,t)},parseFragmentShaderMaxTextures:function(x,t){if(!x)return"";for(var o="",v=0;v<t;v++)v>0&&(o+=`
	else `),v<t-1&&(o+="if (outTexId < "+v+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",o+=`
	}`;return x=x.replace(/%count%/gi,t.toString()),x.replace(/%forloop%/gi,o)},setGlowQuality:function(x,t,o,v){return o===void 0&&(o=t.config.glowFXQuality),v===void 0&&(v=t.config.glowFXDistance),x=x.replace(/__SIZE__/gi,(1/o/v).toFixed(7)),x=x.replace(/__DIST__/gi,v.toFixed(0)+".0"),x}}}),29100:((h,x,t)=>{var o=t(83419),v=t(62644),r=t(50792),n=t(77085),i=t(95540),e=t(37867),a=t(92503),l=t(32302),s=t(70554),u=t(38683),f=new o({Extends:r,initialize:function(d){r.call(this);var p=d.game,S=p.renderer,C=S.gl;this.name=i(d,"name","WebGLPipeline"),this.game=p,this.renderer=S,this.manager,this.gl=C,this.view=p.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=i(d,"topology",C.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=i(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=i(d,"resizeUniform","")},boot:function(){var c,d=this.gl,p=this.config,S=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var C=this.renderTargets,E=i(p,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var R=S.width,M=S.height;if(typeof E=="number")for(c=0;c<E;c++)C.push(new l(S,R,M,1,0,!0));else if(Array.isArray(E))for(c=0;c<E.length;c++){var D=i(E[c],"scale",1),B=i(E[c],"minFilter",0),b=i(E[c],"autoClear",1),I=i(E[c],"autoResize",!1),N=i(E[c],"width",null),z=i(E[c],"height",N);N?C.push(new l(S,N,z,1,B,b,I)):C.push(new l(S,R,M,D,B,b,I))}C.length&&(this.currentRenderTarget=C[0]),this.setShadersFromConfig(p);var H=this.shaders,X=0;for(c=0;c<H.length;c++)H[c].vertexSize>X&&(X=H[c].vertexSize);var W=i(p,"batchSize",S.config.batchSize);this.vertexCapacity=W*6;var V=new ArrayBuffer(this.vertexCapacity*X);this.vertexData=V,this.bytes=new Uint8Array(V),this.vertexViewF32=new Float32Array(V),this.vertexViewU32=new Uint32Array(V);var U=i(p,"vertices",null);for(U?(this.vertexViewF32.set(U),this.vertexBuffer=S.createVertexBuffer(V,d.STATIC_DRAW)):this.vertexBuffer=S.createVertexBuffer(V.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),c=H.length-1;c>=0;c--)H[c].rebind();this.hasBooted=!0,S.on(a.RESIZE,this.resize,this),S.on(a.PRE_RENDER,this.onPreRender,this),S.on(a.RENDER,this.onRender,this),S.on(a.POST_RENDER,this.onPostRender,this),this.emit(n.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(c,d,p){var S=this.renderer;if(c!==this.currentShader||S.currentProgram!==this.currentShader.program){this.flush();var C=this.setVertexBuffer(p);C&&!d&&(d=!0),c.bind(d,!1),this.currentShader=c}return this},getShaderByName:function(c){for(var d=this.shaders,p=0;p<d.length;p++)if(d[p].name===c)return d[p]},setShadersFromConfig:function(c){var d,p=this.shaders,S=this.renderer;for(d=0;d<p.length;d++)p[d].destroy();var C="vertShader",E="fragShader",R="attributes",M=i(c,C,null),D=s.parseFragmentShaderMaxTextures(i(c,E,null),S.maxTextures),B=i(c,R,null),b=i(c,"shaders",[]),I=b.length;if(I===0)M&&D&&(this.shaders=[new u(this,"default",M,D,v(B))]);else{var N=[];for(d=0;d<I;d++){var z=b[d],H,X,W,V;if(typeof z=="string"?(H="default",X=M,W=s.parseFragmentShaderMaxTextures(z,S.maxTextures),V=B):(H=i(z,"name","default"),X=i(z,C,M),W=s.parseFragmentShaderMaxTextures(i(z,E,D),S.maxTextures),V=i(z,R,B)),H==="default"){var U=W.split(`
`),F=U[0].trim();F.indexOf("#define SHADER_NAME")>-1&&(H=F.substring(20))}X&&W&&N.push(new u(this,H,X,W,v(V)))}this.shaders=N}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(c){return this.currentBatch={start:this.vertexCount,count:0,texture:[c],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=c,this.batch.push(this.currentBatch),0},addTextureToBatch:function(c){var d=this.currentBatch;d&&(d.texture.push(c),d.unit++,d.maxUnit++)},pushBatch:function(c){if(!this.currentBatch||this.forceZero&&c!==this.currentTexture)return this.createBatch(c);if(c===this.currentTexture)return this.currentUnit;var d=this.currentBatch,p=d.texture.indexOf(c);return p===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(c):(d.unit++,d.maxUnit++,d.texture.push(c),this.currentUnit=d.unit,this.currentTexture=c,d.unit):(this.currentUnit=p,this.currentTexture=c,p)},setGameObject:function(c,d){return d===void 0&&(d=c.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(c){return c===void 0&&(c=0),this.vertexCount+c>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(c,d){(c!==this.width||d!==this.height)&&this.flush(),this.width=c,this.height=d;for(var p=this.renderTargets,S=0;S<p.length;S++)p[S].resize(c,d);return this.setProjectionMatrix(c,d),this.resizeUniform&&this.set2f(this.resizeUniform,c,d),this.emit(n.RESIZE,c,d,this),this.onResize(c,d),this},setProjectionMatrix:function(c,d){var p=this.projectionMatrix;if(!p)return this;this.projectionWidth=c,this.projectionHeight=d,p.ortho(0,c,d,0,-1e3,1e3);for(var S=this.shaders,C="uProjectionMatrix",E=0;E<S.length;E++){var R=S[E];R.hasUniform(C)&&(R.resetUniform(C),R.setMatrix4fv(C,!1,p.val,R))}return this},flipProjectionMatrix:function(c){c===void 0&&(c=!0);var d=this.projectionMatrix;if(!d)return this;var p=this.projectionWidth,S=this.projectionHeight;c?d.ortho(0,p,0,S,-1e3,1e3):d.ortho(0,p,S,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var c=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==c||this.projectionHeight!==d)&&this.setProjectionMatrix(c,d)}},bind:function(c){if(c===void 0&&(c=this.currentShader),this.glReset)return this.rebind(c);var d=!1,p=this.gl;return p.getParameter(p.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(p.bindBuffer(p.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,d=!0),c.bind(d),this.currentShader=c,this.activeTextures.length=0,this.emit(n.BIND,this,c),this.onActive(c),this},rebind:function(c){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,p=d.length-1;p>=0;p--){var S=d[p].rebind();(!c||S===c)&&(this.currentShader=S)}return this.activeTextures.length=0,this.emit(n.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var c=this.shaders,d=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,d&&this.setVertexBuffer();for(var p=0;p<c.length;p++){var S=c[p];S.syncUniforms(),d&&S.rebind()}},setVertexBuffer:function(c){if(c===void 0&&(c=this.vertexBuffer),c!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,c.webGLBuffer),this.activeBuffer=c,!0}return!1},preBatch:function(c){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(c),this},postBatch:function(c){return this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(c){if(c===void 0&&(c=!1),this.vertexCount>0){this.emit(n.BEFORE_FLUSH,this,c),this.onBeforeFlush(c);var d=this.gl,p=this.vertexCount,S=this.currentShader.vertexSize,C=this.topology;if(this.active){this.setVertexBuffer(),p===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,p*S));var E,R,M,D=this.batch,B=this.activeTextures;if(this.forceZero)for(B[0]||d.activeTexture(d.TEXTURE0),E=0;E<D.length;E++)R=D[E],M=R.texture[0],B[0]!==M&&(d.bindTexture(d.TEXTURE_2D,M.webGLTexture),B[0]=M),d.drawArrays(C,R.start,R.count);else for(E=0;E<D.length;E++){R=D[E];for(var b=0;b<=R.maxUnit;b++)M=R.texture[b],B[b]!==M&&(d.activeTexture(d.TEXTURE0+b),d.bindTexture(d.TEXTURE_2D,M.webGLTexture),B[b]=M);d.drawArrays(C,R.start,R.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(n.AFTER_FLUSH,this,c),this.onAfterFlush(c)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(c,d,p,S,C,E,R){var M=this.vertexViewF32,D=this.vertexViewU32,B=this.vertexCount*this.currentShader.vertexComponentCount-1;M[++B]=c,M[++B]=d,M[++B]=p,M[++B]=S,M[++B]=C,M[++B]=E,D[++B]=R,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(c,d,p,S,C,E,R,M,D,B,b,I,N,z,H,X,W,V,U,F){F===void 0&&(F=this.currentUnit);var k=!1;this.shouldFlush(6)&&(this.flush(),k=!0),this.currentBatch||(F=this.setTexture2D(U));var Y=this.vertexViewF32,Z=this.vertexViewU32,j=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++j]=d,Y[++j]=p,Y[++j]=B,Y[++j]=b,Y[++j]=F,Y[++j]=V,Z[++j]=z,Y[++j]=S,Y[++j]=C,Y[++j]=B,Y[++j]=N,Y[++j]=F,Y[++j]=V,Z[++j]=X,Y[++j]=E,Y[++j]=R,Y[++j]=I,Y[++j]=N,Y[++j]=F,Y[++j]=V,Z[++j]=W,Y[++j]=d,Y[++j]=p,Y[++j]=B,Y[++j]=b,Y[++j]=F,Y[++j]=V,Z[++j]=z,Y[++j]=E,Y[++j]=R,Y[++j]=I,Y[++j]=N,Y[++j]=F,Y[++j]=V,Z[++j]=W,Y[++j]=M,Y[++j]=D,Y[++j]=I,Y[++j]=b,Y[++j]=F,Y[++j]=V,Z[++j]=H,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),k},batchTri:function(c,d,p,S,C,E,R,M,D,B,b,I,N,z,H,X,W){W===void 0&&(W=this.currentUnit);var V=!1;this.shouldFlush(3)&&(this.flush(),V=!0),this.currentBatch||(W=this.setTexture2D(X));var U=this.vertexViewF32,F=this.vertexViewU32,k=this.vertexCount*this.currentShader.vertexComponentCount-1;return U[++k]=d,U[++k]=p,U[++k]=M,U[++k]=D,U[++k]=W,U[++k]=H,F[++k]=I,U[++k]=S,U[++k]=C,U[++k]=M,U[++k]=b,U[++k]=W,U[++k]=H,F[++k]=N,U[++k]=E,U[++k]=R,U[++k]=B,U[++k]=b,U[++k]=W,U[++k]=H,F[++k]=z,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),V},drawFillRect:function(c,d,p,S,C,E,R,M){R===void 0&&(R=this.renderer.whiteTexture),M===void 0&&(M=!0),c=Math.floor(c),d=Math.floor(d);var D=Math.floor(c+p),B=Math.floor(d+S),b=this.setTexture2D(R),I=s.getTintAppendFloatAlphaAndSwap(C,E),N=0,z=0,H=1,X=1;M&&(z=1,X=0),this.batchQuad(null,c,d,c,B,D,B,D,d,N,z,H,X,I,I,I,I,0,R,b)},setTexture2D:function(c){return c===void 0&&(c=this.renderer.whiteTexture),this.pushBatch(c)},bindTexture:function(c,d){d===void 0&&(d=0);var p=this.gl;return p.activeTexture(p.TEXTURE0+d),p.bindTexture(p.TEXTURE_2D,c.webGLTexture),this},bindRenderTarget:function(c,d){return this.bindTexture(c.texture,d)},setTime:function(c,d){return this.set1f(c,this.game.loop.getDuration(),d),this},setBoolean:function(c,d,p){return p===void 0&&(p=this.currentShader),p.setBoolean(c,d),this},set1f:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set1f(c,d),this},set2f:function(c,d,p,S){return S===void 0&&(S=this.currentShader),S.set2f(c,d,p),this},set3f:function(c,d,p,S,C){return C===void 0&&(C=this.currentShader),C.set3f(c,d,p,S),this},set4f:function(c,d,p,S,C,E){return E===void 0&&(E=this.currentShader),E.set4f(c,d,p,S,C),this},set1fv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set1fv(c,d),this},set2fv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set2fv(c,d),this},set3fv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set3fv(c,d),this},set4fv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set4fv(c,d),this},set1iv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set1iv(c,d),this},set2iv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set2iv(c,d),this},set3iv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set3iv(c,d),this},set4iv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set4iv(c,d),this},set1i:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set1i(c,d),this},set2i:function(c,d,p,S){return S===void 0&&(S=this.currentShader),S.set2i(c,d,p),this},set3i:function(c,d,p,S,C){return C===void 0&&(C=this.currentShader),C.set3i(c,d,p,S),this},set4i:function(c,d,p,S,C,E){return E===void 0&&(E=this.currentShader),E.set4i(c,d,p,S,C),this},setMatrix2fv:function(c,d,p,S){return S===void 0&&(S=this.currentShader),S.setMatrix2fv(c,d,p),this},setMatrix3fv:function(c,d,p,S){return S===void 0&&(S=this.currentShader),S.setMatrix3fv(c,d,p),this},setMatrix4fv:function(c,d,p,S){return S===void 0&&(S=this.currentShader),S.setMatrix4fv(c,d,p),this},destroy:function(){this.emit(n.DESTROY,this);var c,d=this.shaders;for(c=0;c<d.length;c++)d[c].destroy();var p=this.renderTargets;for(c=0;c<p.length;c++)p[c].destroy();var S=this.renderer;return S.deleteBuffer(this.vertexBuffer),S.off(a.RESIZE,this.resize,this),S.off(a.PRE_RENDER,this.onPreRender,this),S.off(a.RENDER,this.onRender,this),S.off(a.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});h.exports=f}),74797:((h,x,t)=>{var o=t(95428),v=t(72905),r=t(19715),n=t(83419),i=t(8054),e=t(50792),a=t(92503),l=t(50030),s=t(37867),u=t(29747),f=t(7530),c=t(32302),d=t(97480),p=t(69442),S=t(70554),C=t(88815),E=t(26128),R=t(1482),M=t(82751),D=t(84387),B=t(93567),b=t(57183),I=new n({Extends:e,initialize:function(z){e.call(this);var H=z.config,X={alpha:H.transparent,desynchronized:H.desynchronized,depth:!0,antialias:H.antialiasGL,premultipliedAlpha:H.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:H.failIfMajorPerformanceCaveat,powerPreference:H.powerPreference,preserveDrawingBuffer:H.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:H.clearBeforeRender,antialias:H.antialias,backgroundColor:H.backgroundColor,contextCreation:X,roundPixels:H.roundPixels,maxTextures:H.maxTextures,maxTextureSize:H.maxTextureSize,batchSize:H.batchSize,maxLights:H.maxLights,mipmapFilter:H.mipmapFilter},this.game=z,this.type=i.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=z.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=u,this.contextRestoredHandler=u,this.previousContextLostHandler=u,this.previousContextRestoredHandler=u,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(N){var z,H=this.game,X=this.canvas,W=N.backgroundColor;if(H.config.context?z=H.config.context:z=X.getContext("webgl",N.contextCreation)||X.getContext("experimental-webgl",N.contextCreation),!z||z.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=z,this.setExtensions(),this.setContextHandlers(),H.context=z;for(var V=0;V<=27;V++)this.blendModes.push({func:[z.ONE,z.ONE_MINUS_SRC_ALPHA],equation:z.FUNC_ADD});this.blendModes[1].func=[z.ONE,z.DST_ALPHA],this.blendModes[2].func=[z.DST_COLOR,z.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[z.ONE,z.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[z.ZERO,z.ONE_MINUS_SRC_ALPHA],equation:z.FUNC_REVERSE_SUBTRACT},this.glFormats=[z.BYTE,z.SHORT,z.UNSIGNED_BYTE,z.UNSIGNED_SHORT,z.FLOAT],this.glFuncMap={mat2:{func:z.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:z.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:z.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:z.uniform1f,length:1},"1fv":{func:z.uniform1fv,length:1},"1i":{func:z.uniform1i,length:1},"1iv":{func:z.uniform1iv,length:1},"2f":{func:z.uniform2f,length:2},"2fv":{func:z.uniform2fv,length:1},"2i":{func:z.uniform2i,length:2},"2iv":{func:z.uniform2iv,length:1},"3f":{func:z.uniform3f,length:3},"3fv":{func:z.uniform3fv,length:1},"3i":{func:z.uniform3i,length:3},"3iv":{func:z.uniform3iv,length:1},"4f":{func:z.uniform4f,length:4},"4fv":{func:z.uniform4fv,length:1},"4i":{func:z.uniform4i,length:4},"4iv":{func:z.uniform4iv,length:1}},(!N.maxTextures||N.maxTextures===-1)&&(N.maxTextures=z.getParameter(z.MAX_TEXTURE_IMAGE_UNITS)),N.maxTextureSize||(N.maxTextureSize=z.getParameter(z.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),z.disable(z.DEPTH_TEST),z.disable(z.CULL_FACE),z.enable(z.BLEND),z.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),z.clear(z.COLOR_BUFFER_BIT);var U=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return U.indexOf(N.mipmapFilter)!==-1&&(this.mipmapFilter=z[N.mipmapFilter]),this.maxTextures=S.checkShaderMax(z,N.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(i.BlendModes.NORMAL),this.projectionMatrix=new s().identity(),H.textures.once(p.READY,this.boot,this),this},boot:function(){var N=this.game,z=this.pipelines,H=N.scale.baseSize,X=H.width,W=H.height;this.width=X,this.height=W,this.isBooted=!0,this.renderTarget=new c(this,X,W,1,0,!0,!0),this.maskTarget=new c(this,X,W,1,0,!0,!0),this.maskSource=new c(this,X,W,1,0,!0,!0);var V=N.config;z.boot(V.pipeline,V.defaultPipeline,V.autoMobilePipeline),this.blankTexture=N.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=N.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=N.textures.getFrame("__WHITE").glTexture;var U=this.gl;U.bindFramebuffer(U.FRAMEBUFFER,null),U.enable(U.SCISSOR_TEST),N.scale.on(d.RESIZE,this.onResize,this),this.resize(X,W)},setExtensions:function(){var N=this.gl,z=N.getSupportedExtensions();this.supportedExtensions=z;var H="ANGLE_instanced_arrays";this.instancedArraysExtension=z.indexOf(H)>-1?N.getExtension(H):null;var X="OES_vertex_array_object";this.vaoExtension=z.indexOf(X)>-1?N.getExtension(X):null},setContextHandlers:function(N,z){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof N=="function"?this.contextLostHandler=N.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof z=="function"?this.contextRestoredHandler=z.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(N){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(a.LOSE_WEBGL,this),N.preventDefault()},dispatchContextRestored:function(N){var z=this.gl;if(z.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(i.BlendModes.NORMAL),z.disable(z.BLEND),z.disable(z.DEPTH_TEST),z.enable(z.CULL_FACE),this.compression=this.getCompressedTextures();var H=function(X){X.createResource()};o(this.glTextureWrappers,H),o(this.glBufferWrappers,H),o(this.glFramebufferWrappers,H),o(this.glProgramWrappers,H),o(this.glAttribLocationWrappers,H),o(this.glUniformLocationWrappers,H),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(a.RESTORE_WEBGL,this),N.preventDefault()},createTemporaryTextures:function(){for(var N=this.gl,z=0;z<this.maxTextures;z++){var H=N.createTexture();N.activeTexture(N.TEXTURE0+z),N.bindTexture(N.TEXTURE_2D,H),N.texImage2D(N.TEXTURE_2D,0,N.RGBA,1,1,0,N.RGBA,N.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(z)}},captureFrame:function(N,z){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(N,z,H){},stopCapture:function(){},onCapture:function(N){},onResize:function(N,z){(z.width!==this.width||z.height!==this.height)&&this.resize(z.width,z.height)},beginCapture:function(N,z){N===void 0&&(N=this.width),z===void 0&&(z=this.height),this.renderTarget.bind(!0,N,z),this.setProjectionMatrix(N,z)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(N,z){var H=this.gl;return this.width=N,this.height=z,this.setProjectionMatrix(N,z),H.viewport(0,0,N,z),this.drawingBufferHeight=H.drawingBufferHeight,H.scissor(0,H.drawingBufferHeight-z,N,z),this.defaultScissor[2]=N,this.defaultScissor[3]=z,this.emit(a.RESIZE,N,z),this},getCompressedTextures:function(){var N="WEBGL_compressed_texture_",z="WEBKIT_"+N,H="EXT_texture_compression_",X=function(V,U){var F=V.getExtension(N+U)||V.getExtension(z+U)||V.getExtension(H+U);if(F){var k={};for(var Y in F)k[F[Y]]=Y;return k}},W=this.gl;return{ETC:X(W,"etc"),ETC1:X(W,"etc1"),ATC:X(W,"atc"),ASTC:X(W,"astc"),BPTC:X(W,"bptc"),RGTC:X(W,"rgtc"),PVRTC:X(W,"pvrtc"),S3TC:X(W,"s3tc"),S3TCSRGB:X(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(N,z){var H=this.compression[N.toUpperCase()];if(z in H)return H[z]},supportsCompressedTexture:function(N,z){var H=this.compression[N.toUpperCase()];return H?z?z in H:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(N,z){return(N!==this.projectionWidth||z!==this.projectionHeight)&&(this.projectionWidth=N,this.projectionHeight=z,this.projectionMatrix.ortho(0,N,z,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(N){return this.supportedExtensions?this.supportedExtensions.indexOf(N):!1},getExtension:function(N){return this.hasExtension(N)?(N in this.extensions||(this.extensions[N]=this.gl.getExtension(N)),this.extensions[N]):null},flush:function(){this.pipelines.flush()},pushScissor:function(N,z,H,X,W){W===void 0&&(W=this.drawingBufferHeight);var V=this.scissorStack,U=[N,z,H,X];return V.push(U),this.setScissor(N,z,H,X,W),this.currentScissor=U,U},setScissor:function(N,z,H,X,W){W===void 0&&(W=this.drawingBufferHeight);var V=this.gl,U=this.currentScissor,F=H>0&&X>0;if(U&&F){var k=U[0],Y=U[1],Z=U[2],j=U[3];F=k!==N||Y!==z||Z!==H||j!==X}F&&(this.flush(),V.scissor(N,W-z-X,H,X))},resetScissor:function(){var N=this.gl;N.enable(N.SCISSOR_TEST);var z=this.currentScissor;if(z){var H=z[0],X=z[1],W=z[2],V=z[3];W>0&&V>0&&N.scissor(H,this.drawingBufferHeight-X-V,W,V)}},popScissor:function(){var N=this.scissorStack;N.pop();var z=N[N.length-1];z&&this.setScissor(z[0],z[1],z[2],z[3]),this.currentScissor=z},hasActiveStencilMask:function(){var N=this.currentMask.mask,z=this.currentCameraMask.mask;return N&&N.isStencil||z&&z.isStencil},resetViewport:function(){var N=this.gl;N.viewport(0,0,this.width,this.height),this.drawingBufferHeight=N.drawingBufferHeight},setBlendMode:function(N,z){z===void 0&&(z=!1);var H=this.gl,X=this.blendModes[N];return z||N!==i.BlendModes.SKIP_CHECK&&this.currentBlendMode!==N?(this.flush(),H.enable(H.BLEND),H.blendEquation(X.equation),X.func.length>2?H.blendFuncSeparate(X.func[0],X.func[1],X.func[2],X.func[3]):H.blendFunc(X.func[0],X.func[1]),this.currentBlendMode=N,!0):!1},addBlendMode:function(N,z){var H=this.blendModes.push({func:N,equation:z});return H-1},updateBlendMode:function(N,z,H){return this.blendModes[N]&&(this.blendModes[N].func=z,H&&(this.blendModes[N].equation=H)),this},removeBlendMode:function(N){return N>17&&this.blendModes[N]&&this.blendModes.splice(N,1),this},pushFramebuffer:function(N,z,H,X,W){return N===this.currentFramebuffer?this:(this.fboStack.push(N),this.setFramebuffer(N,z,H,X,W))},setFramebuffer:function(N,z,H,X,W){if(z===void 0&&(z=!1),H===void 0&&(H=!0),X===void 0&&(X=null),W===void 0&&(W=!1),N===this.currentFramebuffer)return this;var V=this.gl,U=this.width,F=this.height;return N&&N.renderTexture&&H?(U=N.renderTexture.width,F=N.renderTexture.height):this.flush(),N?V.bindFramebuffer(V.FRAMEBUFFER,N.webGLFramebuffer):V.bindFramebuffer(V.FRAMEBUFFER,null),H&&V.viewport(0,0,U,F),X&&V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,X.webGLTexture,0),W&&(V.clearColor(0,0,0,0),V.clear(V.COLOR_BUFFER_BIT)),z&&(N?(this.drawingBufferHeight=F,this.pushScissor(0,0,U,F)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=N,this},popFramebuffer:function(N,z){N===void 0&&(N=!1),z===void 0&&(z=!0);var H=this.fboStack;H.pop();var X=H[H.length-1];return X||(X=null),this.setFramebuffer(X,N,z),X},restoreFramebuffer:function(N,z){N===void 0&&(N=!1),z===void 0&&(z=!0);var H=this.fboStack,X=H[H.length-1];X||(X=null),this.currentFramebuffer=null,this.setFramebuffer(X,N,z)},setProgram:function(N){return N!==this.currentProgram?(this.flush(),this.gl.useProgram(N.webGLProgram),this.currentProgram=N,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(N,z,H,X,W){W===void 0&&(W=!1);var V=this.gl,U=V.NEAREST,F=V.NEAREST,k=V.CLAMP_TO_EDGE,Y=null;z=N?N.width:z,H=N?N.height:H;var Z=l(z,H);if(Z&&!W&&(k=V.REPEAT),X===i.ScaleModes.LINEAR&&this.config.antialias){var j=N&&N.compressed,J=!j&&Z||j&&N.mipmaps.length>1;U=this.mipmapFilter&&J?this.mipmapFilter:V.LINEAR,F=V.LINEAR}return!N&&typeof z=="number"&&typeof H=="number"?Y=this.createTexture2D(0,U,F,k,k,V.RGBA,null,z,H):Y=this.createTexture2D(0,U,F,k,k,V.RGBA,N),Y},createTexture2D:function(N,z,H,X,W,V,U,F,k,Y,Z,j){typeof F!="number"&&(F=U?U.width:1),typeof k!="number"&&(k=U?U.height:1);var J=new M(this.gl,N,z,H,X,W,V,U,F,k,Y,Z,j);return this.glTextureWrappers.push(J),J},createFramebuffer:function(N,z,H,X){this.currentFramebuffer=null;var W=new D(this.gl,N,z,H,X);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(N,z){var H=this.gl;H&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==N&&(this.currentMask.mask=N,this.currentMask.camera=z))},drawBitmapMask:function(N,z,H){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),N.renderWebGL(this,N,z),this.maskSource.unbind(!0),this.maskTarget.unbind();var X=this.gl,W=this.getCurrentStencilMask();W?(X.enable(X.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(H),X.activeTexture(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,this.maskTarget.texture.webGLTexture),X.activeTexture(X.TEXTURE1),X.bindTexture(X.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(N,z){var H=new R(this.gl,N,z);return this.glProgramWrappers.push(H),H},createVertexBuffer:function(N,z){var H=this.gl,X=new E(H,N,H.ARRAY_BUFFER,z);return this.glBufferWrappers.push(X),X},createAttribLocation:function(N,z){var H=new B(this.gl,N,z);return this.glAttribLocationWrappers.push(H),H},createUniformLocation:function(N,z){var H=new b(this.gl,N,z);return this.glUniformLocationWrappers.push(H),H},createIndexBuffer:function(N,z){var H=this.gl,X=new E(H,N,H.ELEMENT_ARRAY_BUFFER,z);return this.glBufferWrappers.push(X),X},deleteTexture:function(N){if(N)return v(this.glTextureWrappers,N),N.destroy(),this},deleteFramebuffer:function(N){return N?(v(this.fboStack,N),v(this.glFramebufferWrappers,N),N.destroy(),this):this},deleteProgram:function(N){return N&&(v(this.glProgramWrappers,N),N.destroy()),this},deleteAttribLocation:function(N){return N&&(v(this.glAttribLocationWrappers,N),N.destroy()),this},deleteUniformLocation:function(N){return N&&(v(this.glUniformLocationWrappers,N),N.destroy()),this},deleteBuffer:function(N){return N?(v(this.glBufferWrappers,N),N.destroy(),this):this},preRenderCamera:function(N){var z=N.x,H=N.y,X=N.width,W=N.height,V=N.backgroundColor;if(N.emit(r.PRE_RENDER,N),this.pipelines.preBatchCamera(N),this.pushScissor(z,H,X,W),N.mask&&(this.currentCameraMask.mask=N.mask,this.currentCameraMask.camera=N._maskCamera,N.mask.preRenderWebGL(this,N,N._maskCamera)),V.alphaGL>0){var U=this.pipelines.setMulti();U.drawFillRect(z,H,X,W,S.getTintFromFloats(V.blueGL,V.greenGL,V.redGL,1),V.alphaGL)}},getCurrentStencilMask:function(){var N=null,z=this.maskStack,H=this.currentCameraMask;return z.length>0?N=z[z.length-1]:H.mask&&H.mask.isStencil&&(N=H),N},postRenderCamera:function(N){var z=N.flashEffect,H=N.fadeEffect;if(z.isRunning||H.isRunning||H.isComplete){var X=this.pipelines.setMulti();z.postRenderWebGL(X,S.getTintFromFloats),H.postRenderWebGL(X,S.getTintFromFloats)}N.dirty=!1,this.popScissor(),N.mask&&(this.currentCameraMask.mask=null,N.mask.postRenderWebGL(this,N._maskCamera)),this.pipelines.postBatchCamera(N),N.emit(r.POST_RENDER,N)},preRender:function(){if(!this.contextLost){var N=this.gl;if(N.bindFramebuffer(N.FRAMEBUFFER,null),this.emit(a.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var z=this.config.backgroundColor;N.clearColor(z.redGL,z.greenGL,z.blueGL,z.alphaGL),N.clear(N.COLOR_BUFFER_BIT|N.DEPTH_BUFFER_BIT|N.STENCIL_BUFFER_BIT)}N.enable(N.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&N.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(a.PRE_RENDER)}},render:function(N,z,H){if(!this.contextLost){var X=z.length;if(this.emit(a.RENDER,N,H),this.preRenderCamera(H),X===0){this.setBlendMode(i.BlendModes.NORMAL),this.postRenderCamera(H);return}this.currentType="";for(var W=this.currentMask,V=0;V<X;V++){this.finalType=V===X-1;var U=z[V],F=U.mask;W=this.currentMask,W.mask&&W.mask!==F&&W.mask.postRenderWebGL(this,W.camera),F&&W.mask!==F&&F.preRenderWebGL(this,U,H),U.blendMode!==this.currentBlendMode&&this.setBlendMode(U.blendMode);var k=U.type;k!==this.currentType&&(this.newType=!0,this.currentType=k),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=z[V+1].type===this.currentType,U.renderWebGL(this,U,H),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(i.BlendModes.NORMAL),this.postRenderCamera(H)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(a.POST_RENDER);var N=this.snapshotState;N.callback&&(C(this.gl,N),N.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var N=this.gl,z=this.getCurrentStencilMask();if(z){var H=z.mask;N.enable(N.STENCIL_TEST),H.invertAlpha?N.stencilFunc(N.NOTEQUAL,H.level,255):N.stencilFunc(N.EQUAL,H.level,255)}},snapshot:function(N,z,H){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,N,z,H)},snapshotArea:function(N,z,H,X,W,V,U){var F=this.snapshotState;return F.callback=W,F.type=V,F.encoder=U,F.getPixel=!1,F.x=N,F.y=z,F.width=H,F.height=X,this},snapshotPixel:function(N,z,H){return this.snapshotArea(N,z,1,1,H),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(N,z,H,X,W,V,U,F,k,Y,Z){W===void 0&&(W=!1),V===void 0&&(V=0),U===void 0&&(U=0),F===void 0&&(F=z),k===void 0&&(k=H),Y==="pixel"&&(W=!0,Y="image/png");var j=this.currentFramebuffer;this.snapshotArea(V,U,F,k,X,Y,Z);var J=this.snapshotState;return J.getPixel=W,J.isFramebuffer=!0,J.bufferWidth=z,J.bufferHeight=H,J.width=Math.min(J.width,z),J.height=Math.min(J.height,H),this.setFramebuffer(N),C(this.gl,J),this.setFramebuffer(j),J.callback=null,J.isFramebuffer=!1,this},canvasToTexture:function(N,z,H,X){H===void 0&&(H=!1),X===void 0&&(X=!1);var W=this.gl,V=W.NEAREST,U=W.NEAREST,F=N.width,k=N.height,Y=W.CLAMP_TO_EDGE,Z=l(F,k);return!H&&Z&&(Y=W.REPEAT),this.config.antialias&&(V=Z&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,U=W.LINEAR),z?(z.update(N,F,k,X,Y,Y,V,U,z.format),z):this.createTexture2D(0,V,U,Y,Y,W.RGBA,N,F,k,!0,!1,X)},createCanvasTexture:function(N,z,H){return z===void 0&&(z=!1),H===void 0&&(H=!1),this.canvasToTexture(N,null,z,H)},updateCanvasTexture:function(N,z,H,X){return H===void 0&&(H=!1),X===void 0&&(X=!1),this.canvasToTexture(N,z,X,H)},videoToTexture:function(N,z,H,X){H===void 0&&(H=!1),X===void 0&&(X=!1);var W=this.gl,V=W.NEAREST,U=W.NEAREST,F=N.videoWidth,k=N.videoHeight,Y=W.CLAMP_TO_EDGE,Z=l(F,k);return!H&&Z&&(Y=W.REPEAT),this.config.antialias&&(V=Z&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,U=W.LINEAR),z?(z.update(N,F,k,X,Y,Y,V,U,z.format),z):this.createTexture2D(0,V,U,Y,Y,W.RGBA,N,F,k,!0,!0,X)},createVideoTexture:function(N,z,H){return z===void 0&&(z=!1),H===void 0&&(H=!1),this.videoToTexture(N,null,z,H)},updateVideoTexture:function(N,z,H,X){return H===void 0&&(H=!1),X===void 0&&(X=!1),this.videoToTexture(N,z,X,H)},createUint8ArrayTexture:function(N,z,H){var X=this.gl,W=X.NEAREST,V=X.NEAREST,U=X.CLAMP_TO_EDGE,F=l(z,H);return F&&(U=X.REPEAT),this.createTexture2D(0,W,V,U,U,X.RGBA,N,z,H)},setTextureFilter:function(N,z){var H=this.gl,X=z===0?H.LINEAR:H.NEAREST;H.activeTexture(H.TEXTURE0);var W=H.getParameter(H.TEXTURE_BINDING_2D);return H.bindTexture(H.TEXTURE_2D,N.webGLTexture),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,X),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,X),N.minFilter=X,N.magFilter=X,W&&H.bindTexture(H.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var N=function(z){z.destroy()};o(this.glAttribLocationWrappers,N),o(this.glBufferWrappers,N),o(this.glFramebufferWrappers,N),o(this.glProgramWrappers,N),o(this.glTextureWrappers,N),o(this.glUniformLocationWrappers,N),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});h.exports=I}),38683:((h,x,t)=>{var o=t(83419),v=t(95428),r=t(95540),n=t(14500),i=new o({initialize:function(a,l,s,u,f){this.pipeline=a,this.name=l,this.renderer=a.renderer,this.gl=this.renderer.gl,this.fragSrc=u,this.vertSrc=s,this.program=this.renderer.createProgram(s,u),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(e){var a=0,l=0,s=[];this.vertexComponentCount=0;for(var u=0;u<e.length;u++){var f=e[u],c=f.name,d=r(f,"size",1),p=r(f,"type",n.FLOAT),S=p.enum,C=p.size,E=!!f.normalized;s.push({name:c,size:d,type:S,normalized:E,offset:l,enabled:!1,location:-1}),C===4?a+=d:a++,l+=d*C}this.vertexSize=l,this.vertexComponentCount=a,this.attributes=s},bind:function(e,a){return e===void 0&&(e=!1),a===void 0&&(a=!1),a&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var a=this.gl,l=this.renderer,s=this.vertexSize,u=this.attributes,f=this.program,c=0;c<u.length;c++){var d=u[c],p=d.size,S=d.type,C=d.offset,E=d.enabled,R=d.location,M=!!d.normalized;if(e){R!==-1&&l.deleteAttribLocation(R);var D=this.renderer.createAttribLocation(f,d.name);D.webGLAttribLocation>=0?(a.enableVertexAttribArray(D.webGLAttribLocation),a.vertexAttribPointer(D.webGLAttribLocation,p,S,M,s,C),d.enabled=!0,d.location=D):D.webGLAttribLocation!==-1&&a.disableVertexAttribArray(D.webGLAttribLocation)}else E?a.vertexAttribPointer(R.webGLAttribLocation,p,S,M,s,C):!E&&R!==-1&&R.webGLAttribLocation>-1&&(a.disableVertexAttribArray(R.webGLAttribLocation),d.location=-1)}return this},createUniforms:function(){var e=this.gl,a=this.program,l=this.uniforms,s,u,f,c=e.getProgramParameter(a.webGLProgram,e.ACTIVE_UNIFORMS);for(s=0;s<c;s++){var d=e.getActiveUniform(a.webGLProgram,s);if(d){u=d.name,f=this.renderer.createUniformLocation(a,u),f!==null&&(l[u]={name:u,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var p=u.indexOf("[");p>0&&(u=u.substr(0,p),l.hasOwnProperty(u)||(f=this.renderer.createUniformLocation(a,u),f!==null&&(l[u]={name:u,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var a in this.uniforms){var l=this.uniforms[a];l.setter&&l.setter.call(e,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var a=this.uniforms[e];return a&&(a.value1=null,a.value2=null,a.value3=null,a.value4=null),this},setUniform1:function(e,a,l,s){var u=this.uniforms[a];return u?((s||u.value1!==l)&&(u.setter||(u.setter=e),u.value1=l,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(e,a,l,s,u){var f=this.uniforms[a];return f?((u||f.value1!==l||f.value2!==s)&&(f.setter||(f.setter=e),f.value1=l,f.value2=s,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,l,s),this.pipeline.currentShader=this),this):this},setUniform3:function(e,a,l,s,u,f){var c=this.uniforms[a];return c?((f||c.value1!==l||c.value2!==s||c.value3!==u)&&(c.setter||(c.setter=e),c.value1=l,c.value2=s,c.value3=u,this.renderer.setProgram(this.program),e.call(this.gl,c.location.webGLUniformLocation,l,s,u),this.pipeline.currentShader=this),this):this},setUniform4:function(e,a,l,s,u,f,c){var d=this.uniforms[a];return d?((c||d.value1!==l||d.value2!==s||d.value3!==u||d.value4!==f)&&(d.setter||(d.setter=e),d.value1=l,d.value2=s,d.value3=u,d.value4=f,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,l,s,u,f),this.pipeline.currentShader=this),this):this},setBoolean:function(e,a){return this.setUniform1(this.gl.uniform1i,e,Number(a))},set1f:function(e,a){return this.setUniform1(this.gl.uniform1f,e,a)},set2f:function(e,a,l){return this.setUniform2(this.gl.uniform2f,e,a,l)},set3f:function(e,a,l,s){return this.setUniform3(this.gl.uniform3f,e,a,l,s)},set4f:function(e,a,l,s,u){return this.setUniform4(this.gl.uniform4f,e,a,l,s,u)},set1fv:function(e,a){return this.setUniform1(this.gl.uniform1fv,e,a,!0)},set2fv:function(e,a){return this.setUniform1(this.gl.uniform2fv,e,a,!0)},set3fv:function(e,a){return this.setUniform1(this.gl.uniform3fv,e,a,!0)},set4fv:function(e,a){return this.setUniform1(this.gl.uniform4fv,e,a,!0)},set1iv:function(e,a){return this.setUniform1(this.gl.uniform1iv,e,a,!0)},set2iv:function(e,a){return this.setUniform1(this.gl.uniform2iv,e,a,!0)},set3iv:function(e,a){return this.setUniform1(this.gl.uniform3iv,e,a,!0)},set4iv:function(e,a){return this.setUniform1(this.gl.uniform4iv,e,a,!0)},set1i:function(e,a){return this.setUniform1(this.gl.uniform1i,e,a)},set2i:function(e,a,l){return this.setUniform2(this.gl.uniform2i,e,a,l)},set3i:function(e,a,l,s){return this.setUniform3(this.gl.uniform3i,e,a,l,s)},set4i:function(e,a,l,s,u){return this.setUniform4(this.gl.uniform4i,e,a,l,s,u)},setMatrix2fv:function(e,a,l){return this.setUniform2(this.gl.uniformMatrix2fv,e,a,l,!0)},setMatrix3fv:function(e,a,l){return this.setUniform2(this.gl.uniformMatrix3fv,e,a,l,!0)},setMatrix4fv:function(e,a,l){return this.setUniform2(this.gl.uniformMatrix4fv,e,a,l,!0)},createProgram:function(e,a){return e===void 0&&(e=this.vertSrc),a===void 0&&(a=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=a,this.program=this.renderer.createProgram(e,a),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;v(this.uniforms,function(a){e.deleteUniformLocation(a.location)}),this.uniforms=null,v(this.attributes,function(a){e.deleteAttribLocation(a.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});h.exports=i}),14500:(h=>{var x={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};h.exports=x}),4159:((h,x,t)=>{var o=t(14500),v=t(79291),r={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};r=v(!1,r,o),h.exports=r}),31302:((h,x,t)=>{var o=t(83419),v=t(95540),r=t(78908),n=t(85191),i=t(14500),e=t(29100),a=new o({Extends:e,initialize:function(s){s.fragShader=v(s,"fragShader",r),s.vertShader=v(s,"vertShader",n),s.batchSize=v(s,"batchSize",1),s.vertices=v(s,"vertices",[-1,1,-1,-7,7,1]),s.attributes=v(s,"attributes",[{name:"inPosition",size:2,type:i.FLOAT}]),e.call(this,s)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,s){e.prototype.resize.call(this,l,s),this.set2f("uResolution",l,s)},beginMask:function(l,s,u){this.renderer.beginBitmapMask(l,u)},endMask:function(l,s,u){var f=this.gl,c=this.renderer,d=l.bitmapMask;d&&f&&(c.drawBitmapMask(d,s,this),u&&this.set2f("uResolution",u.width,u.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),f.drawArrays(this.topology,0,3),u&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});h.exports=a}),92651:((h,x,t)=>{var o=t(83419),v=t(58918),r=t(14811),n=t(95540),i=t(43558),e=t(89350),a=t(70554),l=new o({Extends:i,initialize:function(u){u.shaders=[a.setGlowQuality(e.FXGlowFrag,u.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],i.call(this,u);var f=this.game;this.glow=new v.Glow(f),this.shadow=new v.Shadow(f),this.pixelate=new v.Pixelate(f),this.vignette=new v.Vignette(f),this.shine=new v.Shine(f),this.gradient=new v.Gradient(f),this.circle=new v.Circle(f),this.barrel=new v.Barrel(f),this.wipe=new v.Wipe(f),this.bokeh=new v.Bokeh(f);var c=[];c[r.GLOW]=this.onGlow,c[r.SHADOW]=this.onShadow,c[r.PIXELATE]=this.onPixelate,c[r.VIGNETTE]=this.onVignette,c[r.SHINE]=this.onShine,c[r.BLUR]=this.onBlur,c[r.GRADIENT]=this.onGradient,c[r.BLOOM]=this.onBloom,c[r.COLOR_MATRIX]=this.onColorMatrix,c[r.CIRCLE]=this.onCircle,c[r.BARREL]=this.onBarrel,c[r.DISPLACEMENT]=this.onDisplacement,c[r.WIPE]=this.onWipe,c[r.BOKEH]=this.onBokeh,this.fxHandlers=c,this.source,this.target,this.swap},onDraw:function(s,u,f){this.source=s,this.target=u,this.swap=f;var c=s.width,d=s.height,p=this.tempSprite,S=this.fxHandlers;if(p&&p.preFX)for(var C=p.preFX.list,E=0;E<C.length;E++){var R=C[E];R.active&&S[R.type].call(this,R,c,d)}this.drawToGame(this.source)},runDraw:function(){var s=this.source,u=this.target;this.copy(s,u),this.source=u,this.target=s},onGlow:function(s,u,f){var c=this.shaders[r.GLOW];this.setShader(c),this.glow.onPreRender(s,c,u,f),this.runDraw()},onShadow:function(s){var u=this.shaders[r.SHADOW];this.setShader(u),this.shadow.onPreRender(s,u),this.runDraw()},onPixelate:function(s,u,f){var c=this.shaders[r.PIXELATE];this.setShader(c),this.pixelate.onPreRender(s,c,u,f),this.runDraw()},onVignette:function(s){var u=this.shaders[r.VIGNETTE];this.setShader(u),this.vignette.onPreRender(s,u),this.runDraw()},onShine:function(s,u,f){var c=this.shaders[r.SHINE];this.setShader(c),this.shine.onPreRender(s,c,u,f),this.runDraw()},onBlur:function(s,u,f){var c=n(s,"quality"),d=this.shaders[r.BLUR+c];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",u,f),this.set1f("strength",n(s,"strength")),this.set3fv("color",n(s,"glcolor"));for(var p=n(s,"x"),S=n(s,"y"),C=n(s,"steps"),E=0;E<C;E++)this.set2f("offset",p,0),this.runDraw(),this.set2f("offset",0,S),this.runDraw()},onGradient:function(s){var u=this.shaders[r.GRADIENT];this.setShader(u),this.gradient.onPreRender(s,u),this.runDraw()},onBloom:function(s,u,f){var c=this.shaders[r.BLOOM];this.copySprite(this.source,this.swap),this.setShader(c),this.set1i("uMainSampler",0),this.set1f("strength",n(s,"blurStrength")),this.set3fv("color",n(s,"glcolor"));for(var d=2/u*n(s,"offsetX"),p=2/f*n(s,"offsetY"),S=n(s,"steps"),C=0;C<S;C++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,p),this.runDraw();this.blendFrames(this.swap,this.source,this.target,n(s,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(s){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",s.getData()),this.set1f("uAlpha",s.alpha),this.runDraw()},onCircle:function(s,u,f){var c=this.shaders[r.CIRCLE];this.setShader(c),this.circle.onPreRender(s,c,u,f),this.runDraw()},onBarrel:function(s){var u=this.shaders[r.BARREL];this.setShader(u),this.barrel.onPreRender(s,u),this.runDraw()},onDisplacement:function(s){this.setShader(this.shaders[r.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.runDraw()},onWipe:function(s){var u=this.shaders[r.WIPE];this.setShader(u),this.wipe.onPreRender(s,u),this.runDraw()},onBokeh:function(s,u,f){var c=this.shaders[r.BOKEH];this.setShader(c),this.bokeh.onPreRender(s,c,u,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,i.prototype.destroy.call(this),this}});h.exports=l}),96569:((h,x,t)=>{var o=t(83419),v=t(95540),r=t(31063),n=t(57516),i=t(61340),e=t(26099),a=t(29100),l=new o({Extends:n,initialize:function(u){var f=v(u,"fragShader",r);u.fragShader=f.replace("%LIGHT_COUNT%",u.game.renderer.config.maxLights),n.call(this,u),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new i,this._tempMatrix2=new i},boot:function(){a.prototype.boot.call(this)},onRender:function(s,u){var f=s.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var c=f.getLights(u),d=c.length;this.lightsActive=!0;var p,S=this.renderer,C=S.height,E=u.matrix,R=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",u.x,u.y,u.rotation,u.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",d),p=0;p<d;p++){var M=c[p].light,D=M.color,B="uLights["+p+"].";E.transformPoint(M.x,M.y,R),this.set2f(B+"position",R.x-u.scrollX*M.scrollFactorX*u.zoom,C-(R.y-u.scrollY*M.scrollFactorY*u.zoom)),this.set3f(B+"color",D.r,D.g,D.b),this.set1f(B+"intensity",M.intensity),this.set1f(B+"radius",M.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(s){if(s!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var u=this.inverseRotationMatrix;if(s){var f=-s,c=Math.cos(f),d=Math.sin(f);u[1]=d,u[3]=-d,u[0]=u[4]=c}else u[0]=u[4]=1,u[1]=u[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,u),this.currentNormalMapRotation=s}},setTexture2D:function(s,u){var f=this.renderer;s===void 0&&(s=f.whiteTexture);var c=this.getNormalMap(u);this.isNewNormalMap(s,c)&&(this.flush(),this.createBatch(s),this.addTextureToBatch(c),this.currentNormalMap=c);var d=0;if(u&&u.parentContainer){var p=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=p.rotationNormalized}else u&&(d=u.rotation);return this.currentBatch===null&&(this.createBatch(s),this.addTextureToBatch(c)),this.setNormalMapRotation(d),0},setGameObject:function(s,u){u===void 0&&(u=s.frame);var f=u.glTexture,c=this.getNormalMap(s);if(this.isNewNormalMap(f,c)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(c),this.currentNormalMap=c),s.parentContainer){var d=s.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(s.rotation);return this.currentBatch===null&&(this.createBatch(f),this.addTextureToBatch(c)),0},isNewNormalMap:function(s,u){return this.currentTexture!==s||this.currentNormalMap!==u},getNormalMap:function(s){var u;if(s)s.displayTexture?u=s.displayTexture.dataSource[s.displayFrame.sourceIndex]:s.texture?u=s.texture.dataSource[s.frame.sourceIndex]:s.tileset&&(Array.isArray(s.tileset)?u=s.tileset[0].image.dataSource[0]:u=s.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return u?u.glTexture:this.renderer.normalTexture},batchSprite:function(s,u,f){this.lightsActive&&n.prototype.batchSprite.call(this,s,u,f)},batchTexture:function(s,u,f,c,d,p,S,C,E,R,M,D,B,b,I,N,z,H,X,W,V,U,F,k,Y,Z,j,J,q,et,it,at){this.lightsActive&&n.prototype.batchTexture.call(this,s,u,f,c,d,p,S,C,E,R,M,D,B,b,I,N,z,H,X,W,V,U,F,k,Y,Z,j,J,q,et,it,at)},batchTextureFrame:function(s,u,f,c,d,p,S){this.lightsActive&&n.prototype.batchTextureFrame.call(this,s,u,f,c,d,p,S)}});h.exports=l}),56527:((h,x,t)=>{var o=t(83419),v=t(95540),r=t(57516),n=t(45561),i=t(60722),e=t(14500),a=t(29100),l=new o({Extends:r,initialize:function(u){u.fragShader=v(u,"fragShader",n),u.vertShader=v(u,"vertShader",i),u.attributes=v(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),u.forceZero=!0,u.resizeUniform="uResolution",r.call(this,u)},boot:function(){a.prototype.boot.call(this);var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height)}});h.exports=l}),57516:((h,x,t)=>{var o=t(83419),v=t(94811),r=t(95540),n=t(98840),i=t(44667),e=t(61340),a=t(70554),l=t(14500),s=t(29100),u=new o({Extends:s,initialize:function(c){var d=c.game.renderer,p=r(c,"fragShader",n);c.fragShader=a.parseFragmentShaderMaxTextures(p,d.maxTextures),c.vertShader=r(c,"vertShader",i),c.attributes=r(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),c.resizeUniform="uResolution",s.call(this,c),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){s.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height)},batchSprite:function(f,c,d){this.manager.set(this,f);var p=this._tempMatrix1,S=this._tempMatrix2,C=this._tempMatrix3,E=f.frame,R=E.glTexture,M=E.u0,D=E.v0,B=E.u1,b=E.v1,I=E.x,N=E.y,z=E.cutWidth,H=E.cutHeight,X=E.customPivot,W=f.displayOriginX,V=f.displayOriginY,U=-W+I,F=-V+N;if(f.isCropped){var k=f._crop;(k.flipX!==f.flipX||k.flipY!==f.flipY)&&E.updateCropUVs(k,f.flipX,f.flipY),M=k.u0,D=k.v0,B=k.u1,b=k.v1,z=k.width,H=k.height,I=k.x,N=k.y,U=-W+I,F=-V+N}var Y=1,Z=1;f.flipX&&(X||(U+=-E.realWidth+W*2),Y=-1),f.flipY&&(X||(F+=-E.realHeight+V*2),Z=-1);var j=f.x,J=f.y;c.roundPixels&&(j=Math.floor(j),J=Math.floor(J)),S.applyITRS(j,J,f.rotation,f.scaleX*Y,f.scaleY*Z),p.copyFrom(c.matrix),d?(p.multiplyWithOffset(d,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),S.e=j,S.f=J):(S.e-=c.scrollX*f.scrollFactorX,S.f-=c.scrollY*f.scrollFactorY),p.multiply(S,C);var q=C.setQuad(U,F,U+z,F+H,c.renderRoundPixels),et=a.getTintAppendFloatAlpha,it=c.alpha,at=et(f.tintTopLeft,it*f._alphaTL),ut=et(f.tintTopRight,it*f._alphaTR),dt=et(f.tintBottomLeft,it*f._alphaBL),ft=et(f.tintBottomRight,it*f._alphaBR);this.shouldFlush(6)&&this.flush();var xt=this.setGameObject(f,E);this.manager.preBatch(f),this.batchQuad(f,q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],M,D,B,b,at,ut,dt,ft,f.tintFill,R,xt),this.manager.postBatch(f)},batchTexture:function(f,c,d,p,S,C,E,R,M,D,B,b,I,N,z,H,X,W,V,U,F,k,Y,Z,j,J,q,et,it,at,ut,dt,ft){ft===void 0&&(ft=!1),this.manager.set(this,f);var xt=this._tempMatrix1,At=this._tempMatrix2,gt=this._tempMatrix3,Wt=W/d+q,Ht=V/p+et,Gt=(W+U)/d+q,Ot=(V+F)/p+et,Bt=E,Pt=R,te=-H,_t=-X;if(f.isCropped){var nt=f._crop,$=nt.width,_=nt.height;Bt=$,Pt=_,E=$,R=_,W=nt.x,V=nt.y;var st=W,ct=V;b&&(st=U-nt.x-$),I&&(ct=F-nt.y-_),Wt=st/d+q,Ht=ct/p+et,Gt=(st+$)/d+q,Ot=(ct+_)/p+et,te=-H+W,_t=-X+V}I=I^(!ut&&c.isRenderTexture?1:0),b&&(Bt*=-1,te+=E),I&&(Pt*=-1,_t+=R),it.roundPixels&&(S=Math.floor(S),C=Math.floor(C)),At.applyITRS(S,C,B,M,D),xt.copyFrom(it.matrix),at?(xt.multiplyWithOffset(at,-it.scrollX*N,-it.scrollY*z),At.e=S,At.f=C):(At.e-=it.scrollX*N,At.f-=it.scrollY*z),xt.multiply(At,gt);var pt=gt.setQuad(te,_t,te+Bt,_t+Pt,it.renderRoundPixels);dt==null&&(dt=this.setTexture2D(c)),f&&!ft&&this.manager.preBatch(f),this.batchQuad(f,pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],Wt,Ht,Gt,Ot,k,Y,Z,j,J,c,dt),f&&!ft&&this.manager.postBatch(f)},batchTextureFrame:function(f,c,d,p,S,C,E){this.manager.set(this);var R=this._tempMatrix1.copyFrom(C),M=this._tempMatrix2;E?R.multiply(E,M):M=R;var D=M.setQuad(c,d,c+f.width,d+f.height),B=this.setTexture2D(f.source.glTexture);p=a.getTintAppendFloatAlpha(p,S),this.batchQuad(null,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],f.u0,f.v0,f.u1,f.v1,p,p,p,p,0,f.glTexture,B)},batchFillRect:function(f,c,d,p,S,C){this.renderer.pipelines.set(this);var E=this.calcMatrix;C&&C.multiply(S,E);var R=E.setQuad(f,c,f+d,c+p),M=this.fillTint;this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],0,0,1,1,M.TL,M.TR,M.BL,M.BR,2)},batchFillTriangle:function(f,c,d,p,S,C,E,R){this.renderer.pipelines.set(this);var M=this.calcMatrix;R&&R.multiply(E,M);var D=M.getX(f,c),B=M.getY(f,c),b=M.getX(d,p),I=M.getY(d,p),N=M.getX(S,C),z=M.getY(S,C),H=this.fillTint;this.batchTri(null,D,B,b,I,N,z,0,0,1,1,H.TL,H.TR,H.BL,2)},batchStrokeTriangle:function(f,c,d,p,S,C,E,R,M){var D=this.tempTriangle;D[0].x=f,D[0].y=c,D[0].width=E,D[1].x=d,D[1].y=p,D[1].width=E,D[2].x=S,D[2].y=C,D[2].width=E,D[3].x=f,D[3].y=c,D[3].width=E,this.batchStrokePath(D,E,!1,R,M)},batchFillPath:function(f,c,d){this.renderer.pipelines.set(this);var p=this.calcMatrix;d&&d.multiply(c,p);for(var S=f.length,C=this.polygonCache,E,R,M=this.fillTint.TL,D=this.fillTint.TR,B=this.fillTint.BL,b=0;b<S;++b)R=f[b],C.push(R.x,R.y);E=v(C),S=E.length;for(var I=0;I<S;I+=3){var N=E[I+0]*2,z=E[I+1]*2,H=E[I+2]*2,X=C[N+0],W=C[N+1],V=C[z+0],U=C[z+1],F=C[H+0],k=C[H+1],Y=p.getX(X,W),Z=p.getY(X,W),j=p.getX(V,U),J=p.getY(V,U),q=p.getX(F,k),et=p.getY(F,k);this.batchTri(null,Y,Z,j,J,q,et,0,0,1,1,M,D,B,2)}C.length=0},batchStrokePath:function(f,c,d,p,S){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var C=f.length-1,E=0;E<C;E++){var R=f[E],M=f[E+1];this.batchLine(R.x,R.y,M.x,M.y,R.width/2,M.width/2,c,E,!d&&E===C-1,p,S)}},batchLine:function(f,c,d,p,S,C,E,R,M,D,B){this.renderer.pipelines.set(this);var b=this.calcMatrix;B&&B.multiply(D,b);var I=d-f,N=p-c,z=Math.sqrt(I*I+N*N);if(z!==0){var H=S*(p-c)/z,X=S*(f-d)/z,W=C*(p-c)/z,V=C*(f-d)/z,U=d-W,F=p-V,k=f-H,Y=c-X,Z=d+W,j=p+V,J=f+H,q=c+X,et=b.getX(U,F),it=b.getY(U,F),at=b.getX(k,Y),ut=b.getY(k,Y),dt=b.getX(Z,j),ft=b.getY(Z,j),xt=b.getX(J,q),At=b.getY(J,q),gt=this.strokeTint,Wt=gt.TL,Ht=gt.TR,Gt=gt.BL,Ot=gt.BR;if(this.batchQuad(null,xt,At,at,ut,et,it,dt,ft,0,0,1,1,Wt,Ht,Gt,Ot,2),!(E<=2)){var Bt=this.prevQuad,Pt=this.firstQuad;R>0&&Bt[4]?this.batchQuad(null,xt,At,at,ut,Bt[0],Bt[1],Bt[2],Bt[3],0,0,1,1,Wt,Ht,Gt,Ot,2):(Pt[0]=xt,Pt[1]=At,Pt[2]=at,Pt[3]=ut,Pt[4]=1),M&&Pt[4]?this.batchQuad(null,et,it,dt,ft,Pt[0],Pt[1],Pt[2],Pt[3],0,0,1,1,Wt,Ht,Gt,Ot,2):(Bt[0]=et,Bt[1]=it,Bt[2]=dt,Bt[3]=ft,Bt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,s.prototype.destroy.call(this),this}});h.exports=u}),43439:((h,x,t)=>{var o=t(83419),v=t(95540),r=t(4127),n=t(89924),i=t(29100),e=new o({Extends:i,initialize:function(l){l.vertShader=v(l,"vertShader",n),l.fragShader=v(l,"fragShader",r),l.attributes=v(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),i.call(this,l)},onRender:function(a,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(a,l,s,u,f,c,d,p,S,C,E,R){var M=a.color,D=a.intensity,B=a.radius,b=a.attenuation,I=M.r*D,N=M.g*D,z=M.b*D,H=l.alpha*a.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(s,u,E,R,B,b,I,N,z,H),this.batchLightVert(f,c,E,R,B,b,I,N,z,H),this.batchLightVert(d,p,E,R,B,b,I,N,z,H),this.batchLightVert(s,u,E,R,B,b,I,N,z,H),this.batchLightVert(d,p,E,R,B,b,I,N,z,H),this.batchLightVert(S,C,E,R,B,b,I,N,z,H),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(a,l,s,u,f,c,d,p,S,C){var E=this.vertexViewF32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++R]=a,E[++R]=l,E[++R]=s,E[++R]=u,E[++R]=f,E[++R]=c,E[++R]=d,E[++R]=p,E[++R]=S,E[++R]=C,this.vertexCount++}});h.exports=e}),84057:((h,x,t)=>{var o=t(83419),v=t(89422),r=t(95540),n=t(27681),i=t(49627),e=t(29100),a=new o({Extends:e,initialize:function(s){s.renderTarget=r(s,"renderTarget",1),s.fragShader=r(s,"fragShader",n),s.vertShader=r(s,"vertShader",i),s.attributes=r(s,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),s.batchSize=1,s.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,s),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height);for(var u=this.renderTargets,f=0;f<u.length;f++)u[f].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,s,u){u===void 0&&(u=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture.webGLTexture);var c=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,s.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),u&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,c))},copyFrame:function(l,s,u,f,c){this.manager.copyFrame(l,s,u,f,c)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,s,u){this.manager.drawFrame(l,s,u,this.colorMatrix)},blendFrames:function(l,s,u,f,c){this.manager.blendFrames(l,s,u,f,c)},blendFramesAdditive:function(l,s,u,f,c){this.manager.blendFramesAdditive(l,s,u,f,c)},clearFrame:function(l,s){this.manager.clearFrame(l,s)},blitFrame:function(l,s,u,f,c,d){this.manager.blitFrame(l,s,u,f,c,d)},copyFrameRect:function(l,s,u,f,c,d,p,S){this.manager.copyFrameRect(l,s,u,f,c,d,p,S)},bindAndDraw:function(l,s,u,f,c){u===void 0&&(u=!0),f===void 0&&(f=!0);var d=this.gl,p=this.renderer;this.bind(c),this.set1i("uMainSampler",0),s?(d.viewport(0,0,s.width,s.height),d.bindFramebuffer(d.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,s.texture.webGLTexture,0),u&&(f?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(p.popFramebuffer(!1,!1),p.currentFramebuffer||d.viewport(0,0,p.width,p.height)),p.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),s&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,p.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});h.exports=a}),43558:((h,x,t)=>{var o=t(10312),v=t(67502),r=t(83419),n=t(96293),i=t(95540),e=t(57516),a=t(27681),l=t(87841),s=t(32302),u=t(45561),f=t(60722),c=t(29100),d=new r({Extends:e,initialize:function(S){var C=i(S,"fragShader",a),E=i(S,"vertShader",f),R=i(S,"drawShader",a),M=[{name:"DrawSprite",fragShader:u,vertShader:f},{name:"CopySprite",fragShader:C,vertShader:E},{name:"DrawGame",fragShader:R,vertShader:f},{name:"ColorMatrix",fragShader:n}],D=i(S,"shaders",[]);S.shaders=M.concat(D),S.vertShader||(S.vertShader=E),S.batchSize=1,e.call(this,S),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){c.prototype.boot.call(this);var p=this.shaders,S=this.renderer;this.drawSpriteShader=p[0],this.copyShader=p[1],this.gameShader=p[2],this.colorMatrixShader=p[3],this.fsTarget=new s(S,S.width,S.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var C=new ArrayBuffer(168);this.quadVertexData=C,this.quadVertexViewF32=new Float32Array(C),this.quadVertexBuffer=S.createVertexBuffer(C,this.gl.STATIC_DRAW),this.onResize(S.width,S.height),this.currentShader=this.copyShader,this.set2f("uResolution",S.width,S.height)},onResize:function(p,S){var C=this.quadVertexViewF32;C[1]=S,C[22]=S,C[14]=p,C[28]=p,C[35]=p,C[36]=S},batchQuad:function(p,S,C,E,R,M,D,B,b,I,N,z,H,X,W,V,U,F,k){var Y=Math.min(S,E,M,B),Z=Math.min(C,R,D,b),j=Math.max(S,E,M,B),J=Math.max(C,R,D,b),q=j-Y,et=J-Z,it=this.spriteBounds.setTo(Y,Z,q,et),at=p?p.preFX.padding:0,ut=q+at*2,dt=et+at*2,ft=Math.abs(Math.max(ut,dt)),xt=this.manager.getRenderTarget(ft),At=this.targetBounds.setTo(0,0,xt.width,xt.height);v(At,Math.round(it.centerX),Math.round(it.centerY)),this.tempSprite=p;var gt=this.gl,Wt=this.renderer;Wt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Wt.width,Wt.height),this.flipProjectionMatrix(!0),p&&(this.onDrawSprite(p,xt),p.preFX.onFX(this));var Ht=this.fsTarget;return this.flush(),gt.viewport(0,0,Wt.width,Wt.height),gt.bindFramebuffer(gt.FRAMEBUFFER,Ht.framebuffer.webGLFramebuffer),gt.framebufferTexture2D(gt.FRAMEBUFFER,gt.COLOR_ATTACHMENT0,gt.TEXTURE_2D,Ht.texture.webGLTexture,0),gt.clearColor(0,0,0,0),gt.clear(gt.COLOR_BUFFER_BIT),this.setTexture2D(k),this.batchVert(S,C,I,N,0,F,X),this.batchVert(E,R,I,H,0,F,V),this.batchVert(M,D,z,H,0,F,U),this.batchVert(S,C,I,N,0,F,X),this.batchVert(M,D,z,H,0,F,U),this.batchVert(B,b,z,N,0,F,W),this.flush(),this.flipProjectionMatrix(!1),gt.activeTexture(gt.TEXTURE0),gt.bindTexture(gt.TEXTURE_2D,xt.texture.webGLTexture),gt.copyTexSubImage2D(gt.TEXTURE_2D,0,0,0,At.x,At.y,At.width,At.height),gt.bindFramebuffer(gt.FRAMEBUFFER,null),gt.bindTexture(gt.TEXTURE_2D,null),this.onBatch(p),this.currentShader=this.copyShader,this.onDraw(xt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(p,S,C,E,R,M,D){C===void 0&&(C=!0),E===void 0&&(E=!0),R===void 0&&(R=!1),D===void 0&&(D=this.copyShader);var B=this.gl,b=this.tempSprite;M&&(D=this.colorMatrixShader),this.currentShader=D;var I=this.setVertexBuffer(this.quadVertexBuffer);D.bind(I,!1);var N=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",N.width,N.height),b.preFX.onFXCopy(this),this.onCopySprite(p,S,b),M&&(this.set1fv("uColorMatrix",M.getData()),this.set1f("uAlpha",M.alpha)),B.activeTexture(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,p.texture.webGLTexture),p.height>S.height)B.viewport(0,0,p.width,p.height),this.setTargetUVs(p,S);else{var z=S.height-p.height;B.viewport(0,z,p.width,p.height),this.resetUVs()}if(B.bindFramebuffer(B.FRAMEBUFFER,S.framebuffer.webGLFramebuffer),B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,S.texture.webGLTexture,0),C&&(B.clearColor(0,0,0,+!E),B.clear(B.COLOR_BUFFER_BIT)),R){var H=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}B.bufferData(B.ARRAY_BUFFER,this.quadVertexData,B.STATIC_DRAW),B.drawArrays(B.TRIANGLES,0,6),R&&this.renderer.setBlendMode(H),B.bindFramebuffer(B.FRAMEBUFFER,null)},copy:function(p,S){var C=this.gl;this.set1i("uMainSampler",0),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,p.texture.webGLTexture),C.viewport(0,0,p.width,p.height),this.setUVs(0,0,0,1,1,1,1,0),C.bindFramebuffer(C.FRAMEBUFFER,S.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,S.texture.webGLTexture,0),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.quadVertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null)},blendFrames:function(p,S,C,E,R){this.manager.blendFrames(p,S,C,E,R)},blendFramesAdditive:function(p,S,C,E,R){this.manager.blendFramesAdditive(p,S,C,E,R)},drawToGame:function(p){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(p)},copyToGame:function(p){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(p)},bindAndDraw:function(p){var S=this.gl,C=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(p.texture);var E=this._tempMatrix1.loadIdentity(),R=this.targetBounds.x,M=this.targetBounds.y,D=R+p.width,B=M+p.height,b=E.getX(R,M),I=E.getX(R,B),N=E.getX(D,B),z=E.getX(D,M),H=E.getY(R,M),X=E.getY(R,B),W=E.getY(D,B),V=E.getY(D,M),U=16777215;this.batchVert(b,H,0,0,0,0,U),this.batchVert(I,X,0,1,0,0,U),this.batchVert(N,W,1,1,0,0,U),this.batchVert(b,H,0,0,0,0,U),this.batchVert(N,W,1,1,0,0,U),this.batchVert(z,V,1,0,0,0,U),C.restoreFramebuffer(!1,!0),C.currentFramebuffer||S.viewport(0,0,C.width,C.height),C.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(p){this.drawToGame(p)},setUVs:function(p,S,C,E,R,M,D,B){var b=this.quadVertexViewF32;b[2]=p,b[3]=S,b[9]=C,b[10]=E,b[16]=R,b[17]=M,b[23]=p,b[24]=S,b[30]=R,b[31]=M,b[37]=D,b[38]=B},setTargetUVs:function(p,S){var C=S.height/p.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});h.exports=d}),81041:((h,x,t)=>{var o=t(83419),v=t(95540),r=t(57516),n=new o({Extends:r,initialize:function(e){e.topology=5,e.batchSize=v(e,"batchSize",256),r.call(this,e)}});h.exports=n}),12385:((h,x,t)=>{var o=t(83419),v=t(95540),r=t(57516),n=t(45561),i=t(60722),e=t(29100),a=new o({Extends:r,initialize:function(s){s.fragShader=v(s,"fragShader",n),s.vertShader=v(s,"vertShader",i),s.forceZero=!0,r.call(this,s)},boot:function(){e.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height)}});h.exports=a}),7589:((h,x,t)=>{var o=t(35407),v=t(10312),r=t(83419),n=t(89422),i=t(96293),e=t(36682),a=t(95540),l=t(48247),s=t(49627),u=t(29100),f=new r({Extends:u,initialize:function(d){d.renderTarget=a(d,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),d.vertShader=a(d,"vertShader",s),d.shaders=a(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:i}]),d.attributes=a(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,u.call(this,d),this.colorMatrix=new n,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){u.prototype.boot.call(this);var c=this.shaders,d=this.renderTargets;this.copyShader=c[0],this.addShader=c[1],this.linearShader=c[2],this.colorMatrixShader=c[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(c,d,p,S,C){p===void 0&&(p=1),S===void 0&&(S=!0),C===void 0&&(C=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,c.texture.webGLTexture),d?(E.viewport(0,0,d.width,d.height),E.bindFramebuffer(E.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,d.texture.webGLTexture,0)):E.viewport(0,0,c.width,c.height),S&&(C?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(c,d,p,S,C,E,R){p===void 0&&(p=1),S===void 0&&(S=!0),C===void 0&&(C=!0),E===void 0&&(E=!1),R===void 0&&(R=!1);var M=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,c.texture.webGLTexture),c.height>d.height)M.viewport(0,0,c.width,c.height),this.setTargetUVs(c,d);else{var D=d.height-c.height;M.viewport(0,D,c.width,c.height)}if(M.bindFramebuffer(M.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,d.texture.webGLTexture,0),S&&(C?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),E){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}R&&this.flipY(),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),E&&this.renderer.setBlendMode(B),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(c,d,p,S,C,E,R,M){R===void 0&&(R=!0),M===void 0&&(M=!0);var D=this.gl;D.bindFramebuffer(D.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,c.texture.webGLTexture,0),R&&(M?D.clearColor(0,0,0,0):D.clearColor(0,0,0,1),D.clear(D.COLOR_BUFFER_BIT)),D.activeTexture(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,d.texture.webGLTexture),D.copyTexSubImage2D(D.TEXTURE_2D,0,0,0,p,S,C,E),D.bindFramebuffer(D.FRAMEBUFFER,null),D.bindTexture(D.TEXTURE_2D,null)},copyToGame:function(c){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,c.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(c,d,p,S){p===void 0&&(p=!0),S===void 0&&(S=this.colorMatrix);var C=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,c.texture.webGLTexture),d?(C.viewport(0,0,d.width,d.height),C.bindFramebuffer(C.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,d.texture.webGLTexture,0)):C.viewport(0,0,c.width,c.height),p?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFrames:function(c,d,p,S,C,E){S===void 0&&(S=1),C===void 0&&(C=!0),E===void 0&&(E=this.linearShader);var R=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",S),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,c.texture.webGLTexture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,d.texture.webGLTexture),p?(R.bindFramebuffer(R.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,p.texture.webGLTexture,0),R.viewport(0,0,p.width,p.height)):R.viewport(0,0,c.width,c.height),C?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},blendFramesAdditive:function(c,d,p,S,C){this.blendFrames(c,d,p,S,C,this.addShader)},clearFrame:function(c,d){d===void 0&&(d=!0);var p=this.gl;p.viewport(0,0,c.width,c.height),p.bindFramebuffer(p.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),d?p.clearColor(0,0,0,0):p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT);var S=this.renderer.currentFramebuffer;p.bindFramebuffer(p.FRAMEBUFFER,S.webGLFramebuffer)},setUVs:function(c,d,p,S,C,E,R,M){var D=this.vertexViewF32;D[2]=c,D[3]=d,D[6]=p,D[7]=S,D[10]=C,D[11]=E,D[14]=c,D[15]=d,D[18]=C,D[19]=E,D[22]=R,D[23]=M},setTargetUVs:function(c,d){var p=d.height/c.height;p>.5?p=.5-(p-.5):p=.5+(.5-p),this.setUVs(0,p,0,1+p,1,1+p,1,p)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});h.exports=f}),36060:(h=>{var x={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};h.exports=x}),84817:(h=>{h.exports="pipelineafterflush"}),36712:(h=>{h.exports="pipelinebeforeflush"}),40285:(h=>{h.exports="pipelinebind"}),65918:(h=>{h.exports="pipelineboot"}),92852:(h=>{h.exports="pipelinedestroy"}),56072:(h=>{h.exports="pipelinerebind"}),57566:(h=>{h.exports="pipelineresize"}),77085:((h,x,t)=>{h.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}}),54812:((h,x,t)=>{var o=t(83419),v=t(99155),r=t(84057),n=new o({Extends:r,initialize:function(e){r.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(i,e){i=this.getController(i),this.set1f("amount",i.amount,e)}});h.exports=n}),67329:((h,x,t)=>{var o=t(83419),v=t(24400),r=t(84057),n=new o({Extends:r,initialize:function(e){r.call(this,{game:e,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(i){i=this.getController(i),this.set1f("strength",i.blurStrength),this.set3fv("color",i.glcolor)},onDraw:function(i){var e=this.getController(),a=this.fullFrame1,l=this.fullFrame2;this.copyFrame(i,l);for(var s=2/i.width*e.offsetX,u=2/i.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",s,0),this.copySprite(i,a),this.set2f("offset",0,u),this.copySprite(a,i);this.blendFrames(l,i,a,e.strength),this.copyToGame(a)}});h.exports=n}),8861:((h,x,t)=>{var o=t(83419),v=t(41514),r=t(51078),n=t(94328),i=t(84057),e=new o({Extends:i,initialize:function(l){i.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:r},{name:"Gaussian13",fragShader:n}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(a){var l=this.getController(),s=this.gl,u=this.fullFrame1,f=s.getParameter(s.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),s.activeTexture(s.TEXTURE0),s.viewport(0,0,a.width,a.height),this.set1i("uMainSampler",0),this.set2f("resolution",a.width,a.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var c=0;c<l.steps;c++)this.set2f("offset",l.x,0),this.copySprite(a,u),this.set2f("offset",0,l.y),this.copySprite(u,a);s.bindFramebuffer(s.FRAMEBUFFER,f),s.bindTexture(s.TEXTURE_2D,null),this.copyToGame(a)}});h.exports=e}),51051:((h,x,t)=>{var o=t(83419),v=t(90610),r=t(84057),n=new o({Extends:r,initialize:function(e){r.call(this,{game:e,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(i,e,a,l){i=this.getController(i),this.set1f("radius",i.radius,e),this.set1f("amount",i.amount,e),this.set1f("contrast",i.contrast,e),this.set1f("strength",i.strength,e),this.set2f("blur",i.blurX,i.blurY,e),this.setBoolean("isTiltShift",i.isTiltShift,e),a&&l&&this.set2f("resolution",a,l,e)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});h.exports=n}),89428:((h,x,t)=>{var o=t(83419),v=t(91899),r=t(84057),n=new o({Extends:r,initialize:function(e){r.call(this,{game:e,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(i,e,a,l){i=this.getController(i),this.set1f("scale",i.scale,e),this.set1f("feather",i.feather,e),this.set1f("thickness",i.thickness,e),this.set3fv("color",i.glcolor,e),this.set4fv("backgroundColor",i.glcolor2,e),a&&l&&this.set2f("resolution",a,l,e)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});h.exports=n}),88904:((h,x,t)=>{var o=t(83419),v=t(84057),r=new o({Extends:v,initialize:function(i){v.call(this,{game:i})},onDraw:function(n){var i=this.fullFrame1;this.controller?this.manager.drawFrame(n,i,!0,this.controller):this.drawFrame(n,i),this.copyToGame(i)}});h.exports=r}),63563:((h,x,t)=>{var o=t(83419),v=t(47838),r=t(84057),n=new o({Extends:r,initialize:function(e){r.call(this,{game:e,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(i){var e=this.game.textures.getFrame(i);e&&(this.glTexture=e.glTexture)},onDraw:function(i){var e=this.getController(),a=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(i,a),this.copyToGame(a)}});h.exports=n}),94045:((h,x,t)=>{var o=t(83419),v=t(95540),r=t(98656),n=t(84057),i=t(70554),e=new o({Extends:n,initialize:function(l,s){var u=v(s,"quality",.1),f=v(s,"distance",10);n.call(this,{game:l,fragShader:i.setGlowQuality(r,l,u,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(a,l,s,u){a=this.getController(a),this.set1f("outerStrength",a.outerStrength,l),this.set1f("innerStrength",a.innerStrength,l),this.set4fv("glowColor",a.glcolor,l),this.setBoolean("knockout",a.knockout,l),s&&u&&this.set2f("resolution",s,u,l)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});h.exports=e}),74088:((h,x,t)=>{var o=t(83419),v=t(70463),r=t(84057),n=new o({Extends:r,initialize:function(e){r.call(this,{game:e,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(i,e){i=this.getController(i),this.set1f("alpha",i.alpha,e),this.set1i("size",i.size,e),this.set3fv("color1",i.glcolor1,e),this.set3fv("color2",i.glcolor2,e),this.set2f("positionFrom",i.fromX,i.fromY,e),this.set2f("positionTo",i.toX,i.toY,e)}});h.exports=n}),99636:((h,x,t)=>{var o=t(83419),v=t(50831),r=t(84057),n=new o({Extends:r,initialize:function(e){r.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(i,e,a,l){i=this.getController(i),this.set1f("amount",i.amount,e),a&&l&&this.set2f("resolution",a,l,e)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});h.exports=n}),34700:((h,x,t)=>{var o=t(83419),v=t(92595),r=t(84057),n=new o({Extends:r,initialize:function(e){r.call(this,{game:e,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(i,e){i=this.getController(i);var a=i.samples;this.set1i("samples",a,e),this.set1f("intensity",i.intensity,e),this.set1f("decay",i.decay,e),this.set1f("power",i.power/a,e),this.set2f("lightPosition",i.x,i.y,e),this.set4fv("color",i.glcolor,e)}});h.exports=n}),91157:((h,x,t)=>{var o=t(83419),v=t(72464),r=t(84057),n=new o({Extends:r,initialize:function(e){r.call(this,{game:e,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(i,e,a,l){i=this.getController(i),this.setTime("time",e),this.set1f("speed",i.speed,e),this.set1f("lineWidth",i.lineWidth,e),this.set1f("gradient",i.gradient,e),this.setBoolean("reveal",i.reveal,e),a&&l&&this.set2f("resolution",a,l,e)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});h.exports=n}),27797:((h,x,t)=>{var o=t(83419),v=t(39249),r=t(84057),n=new o({Extends:r,initialize:function(e){r.call(this,{game:e,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(i,e){i=this.getController(i),this.set1f("radius",i.radius,e),this.set1f("strength",i.strength,e),this.set2f("position",i.x,i.y,e)}});h.exports=n}),67603:((h,x,t)=>{var o=t(83419),v=t(2878),r=t(84057),n=new o({Extends:r,initialize:function(e){r.call(this,{game:e,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(i,e){i=this.getController(i);var a=i.progress,l=i.wipeWidth,s=i.direction,u=i.axis;this.set4f("config",a,l,s,u,e),this.setBoolean("reveal",i.reveal,e)}});h.exports=n}),58918:((h,x,t)=>{var o={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};h.exports=o}),96615:((h,x,t)=>{var o=t(36060),v=t(79291),r={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};r=v(!1,r,o),h.exports=r}),35407:(h=>{h.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)}),78908:(h=>{h.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)}),85191:(h=>{h.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)}),96293:(h=>{h.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)}),36682:(h=>{h.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)}),99155:(h=>{h.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)}),24400:(h=>{h.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)}),94328:(h=>{h.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),41514:(h=>{h.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),51078:(h=>{h.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),90610:(h=>{h.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)}),91899:(h=>{h.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)}),47838:(h=>{h.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)}),98656:(h=>{h.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)}),70463:(h=>{h.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)}),50831:(h=>{h.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)}),92595:(h=>{h.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)}),72464:(h=>{h.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)}),39249:(h=>{h.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)}),2878:(h=>{h.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)}),31063:(h=>{h.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)}),48247:(h=>{h.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)}),41214:(h=>{h.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)}),39653:(h=>{h.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)}),62143:(h=>{h.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),47940:(h=>{h.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),98840:(h=>{h.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),44667:(h=>{h.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),4127:(h=>{h.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)}),89924:(h=>{h.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)}),27681:(h=>{h.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)}),49627:(h=>{h.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)}),45561:(h=>{h.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),60722:(h=>{h.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),89350:((h,x,t)=>{h.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}}),93567:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e){this.webGLAttribLocation=-1,this.gl=n,this.program=i,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var r=this.gl;r.isContextLost()||(this.webGLAttribLocation=r.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});h.exports=v}),26128:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e,a){this.webGLBuffer=null,this.gl=n,this.initialDataOrSize=i,this.bufferType=e,this.bufferUsage=a,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var r=this.gl;if(!r.isContextLost()){var n=this.bufferType,i=r.createBuffer();this.webGLBuffer=i,r.bindBuffer(n,this.webGLBuffer),r.bufferData(n,this.initialDataOrSize,this.bufferUsage),r.bindBuffer(n,null)}}},destroy:function(){var r=this.gl;r.isContextLost()||r.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});h.exports=v}),84387:((h,x,t)=>{var o=t(83419),v={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},r=new o({initialize:function(i,e,a,l,s){this.webGLFramebuffer=null,this.gl=i,this.width=e,this.height=a,this.renderTexture=l,this.addDepthStencilBuffer=!!s,this.createResource()},createResource:function(){var n=this.gl;if(!n.isContextLost()){var i=this.renderTexture,e=0,a=n.createFramebuffer();if(this.webGLFramebuffer=a,n.bindFramebuffer(n.FRAMEBUFFER,a),i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i.webGLTexture,0),e=n.checkFramebufferStatus(n.FRAMEBUFFER),e!==n.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(v[e]||e));if(this.addDepthStencilBuffer){var l=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,l),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,this.width,this.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,l)}n.bindFramebuffer(n.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var n=this.gl;if(!n.isContextLost()){n.bindFramebuffer(n.FRAMEBUFFER,this.webGLFramebuffer);var i=n.getFramebufferAttachmentParameter(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);i!==null&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,null,0),n.deleteTexture(i));var e=n.getFramebufferAttachmentParameter(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&n.deleteRenderbuffer(e),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});h.exports=r}),1482:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e){this.webGLProgram=null,this.gl=n,this.vertexSource=i,this.fragmentSource=e,this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){var n=r.createProgram(),i=r.createShader(r.VERTEX_SHADER),e=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(i,this.vertexSource),r.shaderSource(e,this.fragmentSource),r.compileShader(i),r.compileShader(e);var a=`Shader failed:
`;if(!r.getShaderParameter(i,r.COMPILE_STATUS))throw new Error("Vertex "+a+r.getShaderInfoLog(i));if(!r.getShaderParameter(e,r.COMPILE_STATUS))throw new Error("Fragment "+a+r.getShaderInfoLog(e));if(r.attachShader(n,i),r.attachShader(n,e),r.linkProgram(n),!r.getProgramParameter(n,r.LINK_STATUS))throw new Error("Link "+a+r.getProgramInfoLog(n));r.useProgram(n),this.webGLProgram=n}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});h.exports=v}),82751:((h,x,t)=>{var o=t(83419),v=t(50030),r=new o({initialize:function(i,e,a,l,s,u,f,c,d,p,S,C,E){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=i,this.mipLevel=e,this.minFilter=a,this.magFilter=l,this.wrapT=s,this.wrapS=u,this.format=f,this.pixels=c,this.width=d,this.height=p,this.pma=S??!0,this.forceSize=!!C,this.flipY=!!E,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var n=this.gl;if(!n.isContextLost()){if(this.pixels instanceof r){this.webGLTexture=this.pixels.webGLTexture;return}var i=n.createTexture();i.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=i,this._processTexture()}},update:function(n,i,e,a,l,s,u,f,c){if(!(i===0||e===0)){this.pixels=n,this.width=i,this.height=e,this.flipY=a,this.wrapS=l,this.wrapT=s,this.minFilter=u,this.magFilter=f,this.format=c;var d=this.gl;d.isContextLost()||this._processTexture()}},_processTexture:function(){var n=this.gl;n.activeTexture(n.TEXTURE0);var i=n.getParameter(n.TEXTURE_BINDING_2D);n.bindTexture(n.TEXTURE_2D,this.webGLTexture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.minFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.magFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.wrapT),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,a=this.mipLevel,l=this.width,s=this.height,u=this.format,f=!1;if(e==null)n.texImage2D(n.TEXTURE_2D,a,u,l,s,0,u,n.UNSIGNED_BYTE,null),f=v(l,s);else if(e.compressed){l=e.width,s=e.height,f=e.generateMipmap;for(var c=0;c<e.mipmaps.length;c++)n.compressedTexImage2D(n.TEXTURE_2D,c,e.internalFormat,e.mipmaps[c].width,e.mipmaps[c].height,0,e.mipmaps[c].data)}else e instanceof Uint8Array?(n.texImage2D(n.TEXTURE_2D,a,u,l,s,0,u,n.UNSIGNED_BYTE,e),f=v(l,s)):(this.forceSize||(l=e.width,s=e.height),n.texImage2D(n.TEXTURE_2D,a,u,u,n.UNSIGNED_BYTE,e),f=v(l,s));f&&n.generateMipmap(n.TEXTURE_2D),i?n.bindTexture(n.TEXTURE_2D,i):n.bindTexture(n.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(n){this.__SPECTOR_Metadata=n,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=n)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof r||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});h.exports=r}),57183:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e){this.webGLUniformLocation=null,this.gl=n,this.program=i,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var r=this.gl;r.isContextLost()||(this.webGLUniformLocation=r.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});h.exports=v}),9503:((h,x,t)=>{var o={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};h.exports=o}),76531:((h,x,t)=>{var o=t(13560),v=t(83419),r=t(45319),n=t(50792),i=t(97480),e=t(8443),a=t(57811),l=t(74403),s=t(45818),u=t(29747),f=t(87841),c=t(86555),d=t(56583),p=t(26099),S=t(38058),C=new v({Extends:n,initialize:function(R){n.call(this),this.game=R,this.canvas,this.canvasBounds=new f,this.parent=null,this.parentIsWindow=!1,this.parentSize=new c,this.gameSize=new c,this.baseSize=new c,this.displaySize=new c,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new p(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:u,windowResize:u,fullScreenChange:u,fullScreenError:u}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(e.BOOT,this.boot,this)},boot:function(){var E=this.game;this.canvas=E.canvas,this.fullscreen=E.device.fullscreen;var R=this.scaleMode;R!==o.SCALE_MODE.RESIZE&&R!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(R),R===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),E.events.on(e.PRE_STEP,this.step,this),E.events.once(e.READY,this.refresh,this),E.events.once(e.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(E){this.getParent(E),this.getParentBounds();var R=E.width,M=E.height,D=E.scaleMode,B=E.zoom,b=E.autoRound;if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var I=this.parentSize.width;I===0&&(I=window.innerWidth);var N=parseInt(R,10)/100;R=Math.floor(I*N)}if(typeof M=="string")if(M.substr(-1)!=="%")M=parseInt(M,10);else{var z=this.parentSize.height;z===0&&(z=window.innerHeight);var H=parseInt(M,10)/100;M=Math.floor(z*H)}this.scaleMode=D,this.autoRound=b,this.autoCenter=E.autoCenter,this.resizeInterval=E.resizeInterval,b&&(R=Math.floor(R),M=Math.floor(M)),this.gameSize.setSize(R,M),B===o.ZOOM.MAX_ZOOM&&(B=this.getMaxZoom()),this.zoom=B,B!==1&&(this._resetZoom=!0),this.baseSize.setSize(R,M),b&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),E.minWidth>0&&this.displaySize.setMin(E.minWidth*B,E.minHeight*B),E.maxWidth>0&&this.displaySize.setMax(E.maxWidth*B,E.maxHeight*B),this.displaySize.setSize(R,M),(E.snapWidth>0||E.snapHeight>0)&&this.displaySize.setSnap(E.snapWidth,E.snapHeight),this.orientation=s(R,M)},getParent:function(E){var R=E.parent;if(R!==null){if(this.parent=l(R),this.parentIsWindow=this.parent===document.body,E.expandParent&&E.scaleMode!==o.SCALE_MODE.NONE){var M=this.parent.getBoundingClientRect();(this.parentIsWindow||M.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",M=this.parent.getBoundingClientRect(),!this.parentIsWindow&&M.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}E.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=l(E.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var E=this.parentSize,R=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(R.height=a(!0));var M=R.width,D=R.height;if(E.width!==M||E.height!==D)return E.setSize(M,D),!0;if(this.canvas){var B=this.canvasBounds,b=this.canvas.getBoundingClientRect();if(b.x!==B.x||b.y!==B.y)return!0}return!1},lockOrientation:function(E){var R=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return R?R.call(screen,E):!1},setParentSize:function(E,R){return this.parentSize.setSize(E,R),this.refresh()},setGameSize:function(E,R){var M=this.autoRound;M&&(E=Math.floor(E),R=Math.floor(R));var D=this.width,B=this.height;return this.gameSize.resize(E,R),this.baseSize.resize(E,R),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(E/R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(D,B)},resize:function(E,R){var M=this.zoom,D=this.autoRound;D&&(E=Math.floor(E),R=Math.floor(R));var B=this.width,b=this.height;this.gameSize.resize(E,R),this.baseSize.resize(E,R),D&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(E*M,R*M),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var I=this.canvas.style,N=E*M,z=R*M;return D&&(N=Math.floor(N),z=Math.floor(z)),(N!==E||z!==R)&&(I.width=N+"px",I.height=z+"px"),this.refresh(B,b)},setZoom:function(E){return this.zoom=E,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(E,R){return E===void 0&&(E=0),R===void 0&&(R=E),this.displaySize.setSnap(E,R),this.refresh()},refresh:function(E,R){E===void 0&&(E=this.width),R===void 0&&(R=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var M=this.game.domContainer;if(M){this.baseSize.setCSS(M);var D=this.canvas.style,B=M.style;B.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",B.marginLeft=D.marginLeft,B.marginTop=D.marginTop}return this.emit(i.RESIZE,this.gameSize,this.baseSize,this.displaySize,E,R),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var E=s(this.width,this.height);E!==this.orientation&&(this.orientation=E,this.emit(i.ORIENTATION_CHANGE,E))}},updateScale:function(){var E=this.canvas.style,R=this.gameSize.width,M=this.gameSize.height,D,B,b=this.zoom,I=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(R*b,M*b),D=this.displaySize.width,B=this.displaySize.height,I&&(D=Math.floor(D),B=Math.floor(B)),this._resetZoom&&(E.width=D+"px",E.height=B+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),D=this.displaySize.width,B=this.displaySize.height,I&&(D=Math.floor(D),B=Math.floor(B)),this.canvas.width=D,this.canvas.height=B;else if(this.scaleMode===o.SCALE_MODE.EXPAND){var N=this.game.config.width,z=this.game.config.height,H=this.parentSize.width,X=this.parentSize.height,W=H/N,V=X/z,U,F;W<V?(U=N,F=W!==0?X/W:z):(U=V!==0?H/V:N,F=z);var k=r(U,this.displaySize.minWidth,this.displaySize.maxWidth),Y=r(F,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(k,Y),this.gameSize.setSize(k,Y),I&&(k=Math.floor(k),Y=Math.floor(Y)),this.canvas.width=k,this.canvas.height=Y;var Z=H*(k/U),j=X*(Y/F);this.displaySize.setSize(Z,j),D=this.displaySize.width,B=this.displaySize.height,I&&(D=Math.floor(D),B=Math.floor(B)),E.width=D+"px",E.height=B+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),D=this.displaySize.width,B=this.displaySize.height,I&&(D=Math.floor(D),B=Math.floor(B)),E.width=D+"px",E.height=B+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var E=d(this.parentSize.width,this.gameSize.width,0,!0),R=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(E,R),1)},updateCenter:function(){var E=this.autoCenter;if(E!==o.CENTER.NO_CENTER){var R=this.canvas,M=R.style,D=R.getBoundingClientRect(),B=D.width,b=D.height,I=Math.floor((this.parentSize.width-B)/2),N=Math.floor((this.parentSize.height-b)/2);E===o.CENTER.CENTER_HORIZONTALLY?N=0:E===o.CENTER.CENTER_VERTICALLY&&(I=0),M.marginLeft=I+"px",M.marginTop=N+"px"}},updateBounds:function(){var E=this.canvasBounds,R=this.canvas.getBoundingClientRect();E.x=R.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),E.y=R.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),E.width=R.width,E.height=R.height},transformX:function(E){return(E-this.canvasBounds.left)*this.displayScale.x},transformY:function(E){return(E-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(E){E===void 0&&(E={navigationUI:"hide"});var R=this.fullscreen;if(!R.available){this.emit(i.FULLSCREEN_UNSUPPORTED);return}if(!R.active){var M=this.getFullscreenTarget();R.keyboard?M[R.request](Element.ALLOW_KEYBOARD_INPUT):M[R.request](E)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(i.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(E){this.removeFullscreenTarget(),this.emit(i.FULLSCREEN_FAILED,E)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var E=document.createElement("div");E.style.margin="0",E.style.padding="0",E.style.width="100%",E.style.height="100%",this.fullscreenTarget=E,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var R=this.canvas.parentNode;R.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var E=this.fullscreenTarget;if(E&&E.parentNode){var R=E.parentNode;R.insertBefore(this.canvas,E),R.removeChild(E)}}},stopFullscreen:function(){var E=this.fullscreen;if(!E.available)return this.emit(i.FULLSCREEN_UNSUPPORTED),!1;E.active&&document[E.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(i.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(E){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(E)},startListeners:function(){var E=this,R=this.domlisteners;if(R.orientationChange=function(){E.updateBounds(),E._checkOrientation=!0,E.dirty=!0,E.refresh()},R.windowResize=function(){E.updateBounds(),E.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",R.orientationChange,!1):window.addEventListener("orientationchange",R.orientationChange,!1),window.addEventListener("resize",R.windowResize,!1),this.fullscreen.available){R.fullScreenChange=function(D){return E.onFullScreenChange(D)},R.fullScreenError=function(D){return E.onFullScreenError(D)};var M=["webkit","moz",""];M.forEach(function(D){document.addEventListener(D+"fullscreenchange",R.fullScreenChange,!1),document.addEventListener(D+"fullscreenerror",R.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",R.fullScreenChange,!1),document.addEventListener("MSFullscreenError",R.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(E,R){E instanceof S||(R=E,E=void 0),R===void 0&&(R=new f);var M=this.baseSize,D=this.parentSize,B=this.canvasBounds,b=this.displayScale,I=B.x>=0?0:-(B.x*b.x),N=B.y>=0?0:-(B.y*b.y),z;D.width>=B.width?z=M.width:z=M.width-(B.width-D.width)*b.x;var H;return D.height>=B.height?H=M.height:H=M.height-(B.height-D.height)*b.y,R.setTo(I,N,z,H),E&&(R.width/=E.zoomX,R.height/=E.zoomY,R.centerX=E.centerX+E.scrollX,R.centerY=E.centerY+E.scrollY),R},step:function(E,R){this.parent&&(this._lastCheck+=R,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var E=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",E.orientationChange,!1):window.removeEventListener("orientationchange",E.orientationChange,!1),window.removeEventListener("resize",E.windowResize,!1);var R=["webkit","moz",""];R.forEach(function(M){document.removeEventListener(M+"fullscreenchange",E.fullScreenChange,!1),document.removeEventListener(M+"fullscreenerror",E.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",E.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});h.exports=C}),64743:(h=>{h.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}}),39218:(h=>{h.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}}),81050:(h=>{h.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}}),80805:(h=>{h.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}}),13560:((h,x,t)=>{var o={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};h.exports=o}),56139:(h=>{h.exports="enterfullscreen"}),2336:(h=>{h.exports="fullscreenfailed"}),47412:(h=>{h.exports="fullscreenunsupported"}),51452:(h=>{h.exports="leavefullscreen"}),20666:(h=>{h.exports="orientationchange"}),47945:(h=>{h.exports="resize"}),97480:((h,x,t)=>{h.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}}),93364:((h,x,t)=>{var o=t(79291),v=t(13560),r={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};r=o(!1,r,v.CENTER),r=o(!1,r,v.ORIENTATION),r=o(!1,r,v.SCALE_MODE),r=o(!1,r,v.ZOOM),h.exports=r}),27397:((h,x,t)=>{var o=t(95540),v=t(35355),r=function(n){var i=n.game.config.defaultPhysicsSystem,e=o(n.settings,"physics",!1);if(!(!i&&!e)){var a=[];if(i&&a.push(v(i+"Physics")),e)for(var l in e)l=v(l.concat("Physics")),a.indexOf(l)===-1&&a.push(l);return a}};h.exports=r}),52106:((h,x,t)=>{var o=t(95540),v=function(r){var n=r.plugins.getDefaultScenePlugins(),i=o(r.settings,"plugins",!1);return Array.isArray(i)?i:n||[]};h.exports=v}),87033:(h=>{var x={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};h.exports=x}),97482:((h,x,t)=>{var o=t(83419),v=t(2368),r=new o({initialize:function(i){this.sys=new v(this,i),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});h.exports=r}),60903:((h,x,t)=>{var o=t(83419),v=t(89993),r=t(44594),n=t(8443),i=t(35154),e=t(54899),a=t(29747),l=t(97482),s=t(2368),u=new o({initialize:function(c,d){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)this._pending.push({key:"default",scene:d[p],autoStart:p===0,data:{}})}c.events.once(n.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(n.SYSTEM_READY,this.systemScene,this);var f,c,d,p;for(f=0;f<this._pending.length;f++){c=this._pending[f],d=c.key,p=c.scene;var S;p instanceof l?S=this.createSceneFromInstance(d,p):typeof p=="object"?S=this.createSceneFromObject(d,p):typeof p=="function"&&(S=this.createSceneFromFunction(d,p)),d=S.sys.settings.key,this.keys[d]=S,this.scenes.push(S),this._data[d]&&(S.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(c.autoStart=!0)),(c.autoStart||S.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)c=this._start[f],this.start(c);this._start.length=0}},processQueue:function(){var f=this._pending.length,c=this._queue.length;if(!(f===0&&c===0)){var d,p;if(f){for(d=0;d<f;d++)p=this._pending[d],this.add(p.key,p.scene,p.autoStart,p.data);for(d=0;d<this._start.length;d++)p=this._start[d],this.start(p);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)p=this._queue[d],this[p.op](p.keyA,p.keyB,p.data);this._queue.length=0}},add:function(f,c,d,p){if(d===void 0&&(d=!1),p===void 0&&(p={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:c,autoStart:d,data:p}),this.isBooted||(this._data[f]={data:p}),null;f=this.getKey(f,c);var S;return c instanceof l?S=this.createSceneFromInstance(f,c):typeof c=="object"?(c.key=f,S=this.createSceneFromObject(f,c)):typeof c=="function"&&(S=this.createSceneFromFunction(f,c)),S.sys.settings.data=p,f=S.sys.settings.key,this.keys[f]=S,this.scenes.push(S),(d||S.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),S},remove:function(f){if(this.isProcessing)return this.queueOp("remove",f);var c=this.getScene(f);if(!c||c.sys.isTransitioning())return this;var d=this.scenes.indexOf(c),p=c.sys.settings.key;return d>-1&&(delete this.keys[p],this.scenes.splice(d,1),this._start.indexOf(p)>-1&&(d=this._start.indexOf(p),this._start.splice(d,1)),c.sys.destroy()),this},bootScene:function(f){var c=f.sys,d=c.settings;c.sceneUpdate=a,f.init&&(f.init.call(f,d.data),d.status=v.INIT,d.isTransition&&c.events.emit(r.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var p;c.load&&(p=c.load,p.reset()),p&&f.preload?(f.preload.call(f),d.status=v.LOADING,p.once(e.COMPLETE,this.loadComplete,this),p.start()):this.create(f)},loadComplete:function(f){this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,c){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var p=this.scenes[d].sys;p.settings.status>v.START&&p.settings.status<=v.RUNNING&&p.step(f,c),p.scenePlugin&&p.scenePlugin._target&&p.scenePlugin.step(f,c)}},render:function(f){for(var c=0;c<this.scenes.length;c++){var d=this.scenes[c].sys;d.settings.visible&&d.settings.status>=v.LOADING&&d.settings.status<v.SLEEPING&&d.render(f)}this.isProcessing=!1},create:function(f){var c=f.sys,d=c.settings;f.create&&(d.status=v.CREATING,f.create.call(f,d.data),d.status===v.DESTROYED)||(d.isTransition&&c.events.emit(r.TRANSITION_START,d.transitionFrom,d.transitionDuration),f.update&&(c.sceneUpdate=f.update),d.status=v.RUNNING,c.events.emit(r.CREATE,f))},createSceneFromFunction:function(f,c){var d=new c;if(d instanceof l){var p=d.sys.settings.key;if(p!==""&&(f=p),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return this.createSceneFromInstance(f,d)}else return d.sys=new s(d),d.sys.settings.key=f,d.sys.init(this.game),d},createSceneFromInstance:function(f,c){var d=c.sys.settings.key;return d===""&&(c.sys.settings.key=f),c.sys.init(this.game),c},createSceneFromObject:function(f,c){var d=new l(c),p=d.sys.settings.key;p!==""?f=p:d.sys.settings.key=f,d.sys.init(this.game);for(var S=["init","preload","create","update","render"],C=0;C<S.length;C++){var E=i(c,S[C],null);E&&(d[S[C]]=E)}if(c.hasOwnProperty("extend")){for(var R in c.extend)if(c.extend.hasOwnProperty(R)){var M=c.extend[R];R==="data"&&d.hasOwnProperty("data")&&typeof M=="object"?d.data.merge(M):R!=="sys"&&(d[R]=M)}}return d},getKey:function(f,c){if(f||(f="default"),typeof c=="function")return f;if(c instanceof l?f=c.sys.settings.key:typeof c=="object"&&c.hasOwnProperty("key")&&(f=c.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return f},getScenes:function(f,c){f===void 0&&(f=!0),c===void 0&&(c=!1);for(var d=[],p=this.scenes,S=0;S<p.length;S++){var C=p[S];C&&(!f||f&&C.sys.isActive())&&d.push(C)}return c?d.reverse():d},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var c=0;c<this.scenes.length;c++)if(f===this.scenes[c])return f;return null},isActive:function(f){var c=this.getScene(f);return c?c.sys.isActive():null},isPaused:function(f){var c=this.getScene(f);return c?c.sys.isPaused():null},isVisible:function(f){var c=this.getScene(f);return c?c.sys.isVisible():null},isSleeping:function(f){var c=this.getScene(f);return c?c.sys.isSleeping():null},pause:function(f,c){var d=this.getScene(f);return d&&d.sys.pause(c),this},resume:function(f,c){var d=this.getScene(f);return d&&d.sys.resume(c),this},sleep:function(f,c){var d=this.getScene(f);return d&&!d.sys.isTransitioning()&&d.sys.sleep(c),this},wake:function(f,c){var d=this.getScene(f);return d&&d.sys.wake(c),this},run:function(f,c){var d=this.getScene(f);if(!d){for(var p=0;p<this._pending.length;p++)if(this._pending[p].key===f){this.queueOp("start",f,c);break}return this}d.sys.isSleeping()?d.sys.wake(c):d.sys.isPaused()?d.sys.resume(c):this.start(f,c)},start:function(f,c){if(!this.isBooted)return this._data[f]={autoStart:!0,data:c},this;var d=this.getScene(f);if(!d)return console.warn("Scene key not found: "+f),this;var p=d.sys,S=p.settings.status;if(S>=v.START&&S<=v.CREATING)return this;if(S>=v.RUNNING&&S<=v.SLEEPING)p.shutdown(),p.sceneUpdate=a,p.start(c);else{p.sceneUpdate=a,p.start(c);var C;if(p.load&&(C=p.load),C&&p.settings.hasOwnProperty("pack")&&(C.reset(),C.addPack({payload:p.settings.pack})))return p.settings.status=v.LOADING,C.once(e.COMPLETE,this.payloadComplete,this),C.start(),this}return this.bootScene(d),this},stop:function(f,c){var d=this.getScene(f);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==v.SHUTDOWN){var p=d.sys.load;p&&(p.off(e.COMPLETE,this.loadComplete,this),p.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(c)}return this},switch:function(f,c,d){var p=this.getScene(f),S=this.getScene(c);return p&&S&&p!==S&&(this.sleep(f),this.isSleeping(c)?this.wake(c,d):this.start(c,d)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var c=this.getScene(f);return this.scenes.indexOf(c)},bringToTop:function(f){if(this.isProcessing)return this.queueOp("bringToTop",f);var c=this.getIndex(f),d=this.scenes;if(c!==-1&&c<d.length){var p=this.getScene(f);d.splice(c,1),d.push(p)}return this},sendToBack:function(f){if(this.isProcessing)return this.queueOp("sendToBack",f);var c=this.getIndex(f);if(c!==-1&&c>0){var d=this.getScene(f);this.scenes.splice(c,1),this.scenes.unshift(d)}return this},moveDown:function(f){if(this.isProcessing)return this.queueOp("moveDown",f);var c=this.getIndex(f);if(c>0){var d=c-1,p=this.getScene(f),S=this.getAt(d);this.scenes[c]=S,this.scenes[d]=p}return this},moveUp:function(f){if(this.isProcessing)return this.queueOp("moveUp",f);var c=this.getIndex(f);if(c<this.scenes.length-1){var d=c+1,p=this.getScene(f),S=this.getAt(d);this.scenes[c]=S,this.scenes[d]=p}return this},moveAbove:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("moveAbove",f,c);var d=this.getIndex(f),p=this.getIndex(c);if(d!==-1&&p!==-1&&p<d){var S=this.getAt(p);this.scenes.splice(p,1),this.scenes.splice(d+(p>d),0,S)}return this},moveBelow:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("moveBelow",f,c);var d=this.getIndex(f),p=this.getIndex(c);if(d!==-1&&p!==-1&&p>d){var S=this.getAt(p);this.scenes.splice(p,1),d===0?this.scenes.unshift(S):this.scenes.splice(d-(p<d),0,S)}return this},queueOp:function(f,c,d,p){return this._queue.push({op:f,keyA:c,keyB:d,data:p}),this},swapPosition:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("swapPosition",f,c);var d=this.getIndex(f),p=this.getIndex(c);if(d!==p&&d!==-1&&p!==-1){var S=this.getAt(d);this.scenes[d]=this.scenes[p],this.scenes[p]=S}return this},dump:function(){for(var f=[],c=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var p=this.scenes[d].sys,S=p.settings.visible&&(p.settings.status===v.RUNNING||p.settings.status===v.PAUSED)?"[*] ":"[-] ";S+=p.settings.key+" ("+c[p.settings.status]+")",f.push(S)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var c=this.scenes[f].sys;c.destroy()}this.systemScene.sys.destroy(),this.update=a,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});h.exports=u}),52209:((h,x,t)=>{var o=t(45319),v=t(83419),r=t(44594),n=t(95540),i=t(37277),e=new v({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(r.BOOT,this.boot,this),l.sys.events.on(r.START,this.pluginStart,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(r.SHUTDOWN,this.shutdown,this)},start:function(a,l){return a===void 0&&(a=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",a,l),this},restart:function(a){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,a),this},transition:function(a){a===void 0&&(a={});var l=n(a,"target",!1),s=this.manager.getScene(l);if(!l||!this.checkValidTransition(s))return!1;var u=n(a,"duration",1e3);this._elapsed=0,this._target=s,this._duration=u,this._willSleep=n(a,"sleep",!1),this._willRemove=n(a,"remove",!1);var f=n(a,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=n(a,"onUpdateScope",this.scene));var c=n(a,"allowInput",!1);this.settings.transitionAllowInput=c;var d=s.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=u,d.transitionAllowInput=c,n(a,"moveAbove",!1)?this.manager.moveAbove(this.key,l):n(a,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),s.sys.isSleeping()?s.sys.wake(n(a,"data")):this.manager.start(l,n(a,"data"));var p=n(a,"onStart",null),S=n(a,"onStartScope",this.scene);return p&&p.call(S,this.scene,s,u),this.systems.events.emit(r.TRANSITION_OUT,s,u),!0},checkValidTransition:function(a){return!(!a||a.sys.isActive()||a.sys.isTransitioning()||a===this.scene||this.systems.isTransitioning())},step:function(a,l){this._elapsed+=l,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var a=this._target.sys,l=this._target.sys.settings;a.events.emit(r.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(a,l,s,u){return this.manager.add(a,l,s,u)},launch:function(a,l){return a&&a!==this.key&&this.manager.queueOp("start",a,l),this},run:function(a,l){return a&&a!==this.key&&this.manager.queueOp("run",a,l),this},pause:function(a,l){return a===void 0&&(a=this.key),this.manager.queueOp("pause",a,l),this},resume:function(a,l){return a===void 0&&(a=this.key),this.manager.queueOp("resume",a,l),this},sleep:function(a,l){return a===void 0&&(a=this.key),this.manager.queueOp("sleep",a,l),this},wake:function(a,l){return a===void 0&&(a=this.key),this.manager.queueOp("wake",a,l),this},switch:function(a,l){return a!==this.key&&this.manager.queueOp("switch",this.key,a,l),this},stop:function(a,l){return a===void 0&&(a=this.key),this.manager.queueOp("stop",a,l),this},setActive:function(a,l,s){l===void 0&&(l=this.key);var u=this.manager.getScene(l);return u&&u.sys.setActive(a,s),this},setVisible:function(a,l){l===void 0&&(l=this.key);var s=this.manager.getScene(l);return s&&s.sys.setVisible(a),this},isSleeping:function(a){return a===void 0&&(a=this.key),this.manager.isSleeping(a)},isActive:function(a){return a===void 0&&(a=this.key),this.manager.isActive(a)},isPaused:function(a){return a===void 0&&(a=this.key),this.manager.isPaused(a)},isVisible:function(a){return a===void 0&&(a=this.key),this.manager.isVisible(a)},swapPosition:function(a,l){return l===void 0&&(l=this.key),a!==l&&this.manager.swapPosition(a,l),this},moveAbove:function(a,l){return l===void 0&&(l=this.key),a!==l&&this.manager.moveAbove(a,l),this},moveBelow:function(a,l){return l===void 0&&(l=this.key),a!==l&&this.manager.moveBelow(a,l),this},remove:function(a){return a===void 0&&(a=this.key),this.manager.remove(a),this},moveUp:function(a){return a===void 0&&(a=this.key),this.manager.moveUp(a),this},moveDown:function(a){return a===void 0&&(a=this.key),this.manager.moveDown(a),this},bringToTop:function(a){return a===void 0&&(a=this.key),this.manager.bringToTop(a),this},sendToBack:function(a){return a===void 0&&(a=this.key),this.manager.sendToBack(a),this},get:function(a){return this.manager.getScene(a)},getStatus:function(a){var l=this.manager.getScene(a);if(l)return l.sys.getStatus()},getIndex:function(a){return a===void 0&&(a=this.key),this.manager.getIndex(a)},shutdown:function(){var a=this.systems.events;a.off(r.SHUTDOWN,this.shutdown,this),a.off(r.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});i.register("ScenePlugin",e,"scenePlugin"),h.exports=e}),55681:((h,x,t)=>{var o=t(89993),v=t(35154),r=t(46975),n=t(87033),i={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:o.PENDING,key:v(e,"key",""),active:v(e,"active",!1),visible:v(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(e,"pack",!1),cameras:v(e,"cameras",null),map:v(e,"map",r(n,v(e,"mapAdd",{}))),physics:v(e,"physics",{}),loader:v(e,"loader",{}),plugins:v(e,"plugins",!1),input:v(e,"input",{})}}};h.exports=i}),2368:((h,x,t)=>{var o=t(83419),v=t(89993),r=t(42363),n=t(44594),i=t(27397),e=t(52106),a=t(29747),l=t(55681),s=new o({initialize:function(f,c){this.scene=f,this.game,this.renderer,this.config=c,this.settings=l.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=a},init:function(u){this.settings.status=v.INIT,this.sceneUpdate=a,this.game=u,this.renderer=u.renderer,this.canvas=u.canvas,this.context=u.context;var f=u.plugins;this.plugins=f,f.addToScene(this,r.Global,[r.CoreScene,e(this),i(this)]),this.events.emit(n.BOOT,this),this.settings.isBooted=!0},step:function(u,f){var c=this.events;c.emit(n.PRE_UPDATE,u,f),c.emit(n.UPDATE,u,f),this.sceneUpdate.call(this.scene,u,f),c.emit(n.POST_UPDATE,u,f)},render:function(u){var f=this.displayList;f.depthSort(),this.events.emit(n.PRE_RENDER,u),this.cameras.render(u,f),this.events.emit(n.RENDER,u)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(u){var f=this.settings,c=this.getStatus();return c!==v.CREATING&&c!==v.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=v.PAUSED,f.active=!1,this.events.emit(n.PAUSE,this,u)),this},resume:function(u){var f=this.events,c=this.settings;return this.settings.active||(c.status=v.RUNNING,c.active=!0,f.emit(n.RESUME,this,u)),this},sleep:function(u){var f=this.settings,c=this.getStatus();return c!==v.CREATING&&c!==v.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=v.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(n.SLEEP,this,u)),this},wake:function(u){var f=this.events,c=this.settings;return c.status=v.RUNNING,c.active=!0,c.visible=!0,f.emit(n.WAKE,this,u),c.isTransition&&f.emit(n.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var u=this.settings.status;return u>v.PENDING&&u<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(u){return this.settings.visible=u,this},setActive:function(u,f){return u?this.resume(f):this.pause(f)},start:function(u){var f=this.events,c=this.settings;u&&(c.data=u),c.status=v.START,c.active=!0,c.visible=!0,f.emit(n.START,this),f.emit(n.READY,this,u)},shutdown:function(u){var f=this.events,c=this.settings;f.off(n.TRANSITION_INIT),f.off(n.TRANSITION_START),f.off(n.TRANSITION_COMPLETE),f.off(n.TRANSITION_OUT),c.status=v.SHUTDOWN,c.active=!1,c.visible=!1,f.emit(n.SHUTDOWN,this,u)},destroy:function(){var u=this.events,f=this.settings;f.status=v.DESTROYED,f.active=!1,f.visible=!1,u.emit(n.DESTROY,this),u.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<c.length;d++)this[c[d]]=null}});h.exports=s}),89993:(h=>{var x={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};h.exports=x}),69830:(h=>{h.exports="addedtoscene"}),7919:(h=>{h.exports="boot"}),46763:(h=>{h.exports="create"}),11763:(h=>{h.exports="destroy"}),71555:(h=>{h.exports="pause"}),36735:(h=>{h.exports="postupdate"}),3809:(h=>{h.exports="prerender"}),90716:(h=>{h.exports="preupdate"}),58262:(h=>{h.exports="ready"}),91633:(h=>{h.exports="removedfromscene"}),10319:(h=>{h.exports="render"}),87132:(h=>{h.exports="resume"}),81961:(h=>{h.exports="shutdown"}),90194:(h=>{h.exports="sleep"}),6265:(h=>{h.exports="start"}),33178:(h=>{h.exports="transitioncomplete"}),43063:(h=>{h.exports="transitioninit"}),11259:(h=>{h.exports="transitionout"}),61611:(h=>{h.exports="transitionstart"}),45209:(h=>{h.exports="transitionwake"}),22966:(h=>{h.exports="update"}),21747:(h=>{h.exports="wake"}),44594:((h,x,t)=>{h.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}}),62194:((h,x,t)=>{var o=t(89993),v=t(79291),r={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};r=v(!1,r,o),h.exports=r}),30341:((h,x,t)=>{var o=t(83419),v=t(50792),r=t(14463),n=t(79291),i=t(29747),e=new o({Extends:v,initialize:function(l,s,u){v.call(this),this.manager=l,this.key=s,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=n(this.config,u),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(a){return!a||!a.name||typeof a.name!="string"?!1:this.markers[a.name]?(console.error("addMarker "+a.name+" already exists in Sound"),!1):(a=n(!0,{name:"",start:0,duration:this.totalDuration-(a.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},a),this.markers[a.name]=a,!0)},updateMarker:function(a){return!a||!a.name||typeof a.name!="string"?!1:this.markers[a.name]?(this.markers[a.name]=n(!0,this.markers[a.name],a),!0):(console.warn("Audio Marker: "+a.name+" missing in Sound: "+this.key),!1)},removeMarker:function(a){var l=this.markers[a];return l?(this.markers[a]=null,l):null},play:function(a,l){if(a===void 0&&(a=""),typeof a=="object"&&(l=a,a=""),typeof a!="string")return!1;if(!a)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[a])return console.warn("Marker: "+a+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[a],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=n(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:i,calculateRate:function(){var a=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,s=Math.pow(a,l);this.totalRate=this.currentConfig.rate*this.manager.rate*s},destroy:function(){this.pendingRemove||(this.stop(),this.emit(r.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});h.exports=e}),85034:((h,x,t)=>{var o=t(83419),v=t(41786),r=t(50792),n=t(14463),i=t(8443),e=t(46710),a=t(58731),l=t(29747),s=t(26099),u=new o({Extends:r,initialize:function(c){r.call(this),this.game=c,this.jsonCache=c.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new s;var d=c.events;d.on(i.BLUR,this.onGameBlur,this),d.on(i.FOCUS,this.onGameFocus,this),d.on(i.PRE_STEP,this.update,this),d.once(i.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(f,c){c===void 0&&(c={});var d=this.add(f,c);d.spritemap=this.jsonCache.get(f).spritemap;for(var p in d.spritemap)if(d.spritemap.hasOwnProperty(p)){var S=v(c),C=d.spritemap[p];S.loop=C.hasOwnProperty("loop")?C.loop:!1,d.addMarker({name:p,start:C.start,duration:C.end-C.start,config:S})}return d},get:function(f){return a(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,c){var d=this.add(f);return d.once(n.COMPLETE,d.destroy,d),c?c.name?(d.addMarker(c),d.play(c.name)):d.play(c):d.play()},playAudioSprite:function(f,c,d){var p=this.addAudioSprite(f);return p.once(n.COMPLETE,p.destroy,p),p.play(c,d)},remove:function(f){var c=this.sounds.indexOf(f);return c!==-1?(f.destroy(),this.sounds.splice(c,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var c=0,d=this.sounds.length-1;d>=0;d--){var p=this.sounds[d];p.key===f&&(p.destroy(),this.sounds.splice(d,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(n.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(n.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(n.STOP_ALL,this)},stopByKey:function(f){var c=0;return this.getAll(f).forEach(function(d){d.stop()&&c++}),c},isPlaying:function(f){var c=this.sounds,d=c.length-1,p;if(f===void 0){for(;d>=0;d--)if(p=this.sounds[d],p.isPlaying)return!0}else for(;d>=0;d--)if(p=this.sounds[d],p.key===f&&p.isPlaying)return!0;return!1},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(n.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(p){p.update(f,c)})},destroy:function(){this.game.events.off(i.BLUR,this.onGameBlur,this),this.game.events.off(i.FOCUS,this.onGameFocus,this),this.game.events.off(i.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,c){var d=this;this.sounds.forEach(function(p,S){p&&!p.pendingRemove&&f.call(c||d,p,S,d.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(n.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(n.GLOBAL_DETUNE,this,f)}}});h.exports=u}),14747:((h,x,t)=>{var o=t(33684),v=t(25960),r=t(57490),n={create:function(i){var e=i.config.audio,a=i.device.audio;return e.noAudio||!a.webAudio&&!a.audioData?new v(i):a.webAudio&&!e.disableWebAudio?new r(i):new o(i)}};h.exports=n}),19723:(h=>{h.exports="complete"}),98882:(h=>{h.exports="decodedall"}),57506:(h=>{h.exports="decoded"}),73146:(h=>{h.exports="destroy"}),11305:(h=>{h.exports="detune"}),40577:(h=>{h.exports="detune"}),30333:(h=>{h.exports="mute"}),20394:(h=>{h.exports="rate"}),21802:(h=>{h.exports="volume"}),1299:(h=>{h.exports="looped"}),99190:(h=>{h.exports="loop"}),97125:(h=>{h.exports="mute"}),89259:(h=>{h.exports="pan"}),79986:(h=>{h.exports="pauseall"}),17586:(h=>{h.exports="pause"}),19618:(h=>{h.exports="play"}),42306:(h=>{h.exports="rate"}),10387:(h=>{h.exports="resumeall"}),48959:(h=>{h.exports="resume"}),9960:(h=>{h.exports="seek"}),19180:(h=>{h.exports="stopall"}),98328:(h=>{h.exports="stop"}),50401:(h=>{h.exports="unlocked"}),52498:(h=>{h.exports="volume"}),14463:((h,x,t)=>{h.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}}),64895:((h,x,t)=>{var o=t(30341),v=t(83419),r=t(14463),n=t(45319),i=new v({Extends:o,initialize:function(a,l,s){if(s===void 0&&(s={}),this.tags=a.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,a,l,s)},play:function(e,a){return this.manager.isLocked(this,"play",[e,a])||!o.prototype.play.call(this,e,a)||!this.pickAndPlayAudioTag()?!1:(this.emit(r.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(r.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(r.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(r.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,a=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),a===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+a*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var a=this.tags[e];if(a.dataset.used==="false")return a.dataset.used="true",this.audio=a,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(u){u.key===this.key&&u.audio&&l.push(u)},this),l.sort(function(u,f){return u.loop===f.loop?f.seek/f.duration-u.seek/u.duration:u.loop?1:-1});var s=l[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(a){console.warn(a)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var a=this.currentMarker?this.currentMarker.start:0,l=a+this.duration,s=this.audio.currentTime;if(this.currentConfig.loop)s>=l-this.manager.loopEndOffset?(this.audio.currentTime=a+Math.max(0,s-l),s=this.audio.currentTime):s<a&&(this.audio.currentTime+=a,s=this.audio.currentTime),s<this.previousTime&&this.emit(r.LOOPED,this);else if(s>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(r.COMPLETE,this);return}this.previousTime=s}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=n(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(r.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(r.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,r.RATE,e)&&(this.calculateRate(),this.emit(r.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,r.DETUNE,e)&&(this.calculateRate(),this.emit(r.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(r.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(r.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(r.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});h.exports=i}),33684:((h,x,t)=>{var o=t(85034),v=t(83419),r=t(14463),n=t(64895),i=new v({Extends:o,initialize:function(a){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,a)},add:function(e,a){var l=new n(this,e,a);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(u,f){for(var c=0;c<f.length;c++)if(f[c].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var a=!1,l=function(){a=!0},s=function(){if(a){a=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",s);var u=[];if(e.game.cache.audio.entries.each(function(c,d){for(var p=0;p<d.length;p++){var S=d[p];S.dataset.locked==="true"&&u.push(S)}return!0}),u.length!==0){var f=u[u.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,u.forEach(function(c){c.dataset.locked="false"}),e.unlocked=!0},u.forEach(function(c){c.load()})}};this.once(r.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var u=this.lockedActionsQueue.shift();u.sound[u.prop].apply?u.sound[u.prop].apply(u.sound,u.value||[]):u.sound[u.prop]=u.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",s,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,a,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:a,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(a){a.updateMute()}),this.emit(r.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(a){a.updateVolume()}),this.emit(r.GLOBAL_VOLUME,this,e)}}});h.exports=i}),23717:((h,x,t)=>{h.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}}),4603:((h,x,t)=>{var o=t(30341),v=t(83419),r=t(50792),n=t(79291),i=t(29747),e=function(){return!1},a=function(){return null},l=function(){return this},s=new v({Extends:r,initialize:function(f,c,d){d===void 0&&(d={}),r.call(this),this.manager=f,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=n({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:a,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:a,resetConfig:a,update:i,calculateRate:a,destroy:function(){o.prototype.destroy.call(this)}});h.exports=s}),25960:((h,x,t)=>{var o=t(85034),v=t(83419),r=t(50792),n=t(4603),i=t(29747),e=new v({Extends:r,initialize:function(l){r.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(a,l){var s=new n(this,a,l);return this.sounds.push(s),s},addAudioSprite:function(a,l){var s=this.add(a,l);return s.spritemap={},s},get:function(a){return o.prototype.get.call(this,a)},getAll:function(a){return o.prototype.getAll.call(this,a)},play:function(a,l){return!1},playAudioSprite:function(a,l,s){return!1},remove:function(a){return o.prototype.remove.call(this,a)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(a){return o.prototype.removeByKey.call(this,a)},stopByKey:function(a){return o.prototype.stopByKey.call(this,a)},onBlur:i,onFocus:i,onGameBlur:i,onGameFocus:i,pauseAll:i,resumeAll:i,stopAll:i,update:i,setRate:i,setDetune:i,setMute:i,setVolume:i,unlock:i,forEachActiveSound:function(a,l){o.prototype.forEachActiveSound.call(this,a,l)},destroy:function(){o.prototype.destroy.call(this)}});h.exports=e}),71741:((h,x,t)=>{var o=t(30341),v=t(83419),r=t(14463),n=t(95540),i=new v({Extends:o,initialize:function(a,l,s){if(s===void 0&&(s={}),this.audioBuffer=a.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=a.context.createGain(),this.volumeNode=a.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),a.context.createPanner&&(this.spatialNode=a.context.createPanner(),this.volumeNode.connect(this.spatialNode)),a.context.createStereoPanner?(this.pannerNode=a.context.createStereoPanner(),a.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(a.destination)):a.context.createPanner?this.spatialNode.connect(a.destination):this.volumeNode.connect(a.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,a,l,s)},play:function(e,a){return o.prototype.play.call(this,e,a)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(r.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(r.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(r.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(r.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,a=this.currentConfig.delay,l=this.manager.context.currentTime+a,s=(this.currentMarker?this.currentMarker.start:0)+e,u=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,s),Math.max(0,u)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),a=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,a),Math.max(0,l))},createBufferSource:function(){var e=this,a=this.manager.context.createBufferSource();return a.buffer=this.audioBuffer,a.connect(this.muteNode),a.onended=function(l){var s=l.target;(s===e.source||s===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},a},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var a=this.spatialNode;a.panningModel=n(e,"panningModel","equalpower"),a.distanceModel=n(e,"distanceModel","inverse"),a.orientationX.value=n(e,"orientationX",0),a.orientationY.value=n(e,"orientationY",0),a.orientationZ.value=n(e,"orientationZ",-1),a.refDistance=n(e,"refDistance",1),a.maxDistance=n(e,"maxDistance",1e4),a.rolloffFactor=n(e,"rolloffFactor",1),a.coneInnerAngle=n(e,"coneInnerAngle",360),a.coneOuterAngle=n(e,"coneOuterAngle",0),a.coneOuterGain=n(e,"coneOuterGain",0),this.spatialSource=n(e,"follow",null),this.spatialSource||(a.positionX.value=n(e,"x",0),a.positionY.value=n(e,"y",0),a.positionZ.value=n(e,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=n(this.spatialSource,"x",null),a=n(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),a&&a!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=a)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(r.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(r.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,a=0;a<this.rateUpdates.length;a++){var l=0;a<this.rateUpdates.length-1?l=this.rateUpdates[a+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[a].time)*this.rateUpdates[a].rate}return e},getLoopTime:function(){for(var e=0,a=0;a<this.rateUpdates.length-1;a++)e+=(this.rateUpdates[a+1].time-this.rateUpdates[a].time)*this.rateUpdates[a].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(r.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(r.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(r.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(r.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(r.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(r.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(r.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});h.exports=i}),57490:((h,x,t)=>{var o=t(53134),v=t(85034),r=t(83419),n=t(14463),i=t(8443),e=t(71741),a=t(95540),l=new r({Extends:v,initialize:function(u){this.context=this.createAudioContext(u),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",v.call(this,u),this.locked&&(u.isBooted?this.unlock():u.events.once(i.BOOT,this.unlock,this)),u.events.on(i.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var s=this.context;window.setTimeout(function(){s&&(s.suspend(),s.resume())},100)},createAudioContext:function(s){var u=s.config.audio;if(u.context)return u.context.resume(),u.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(s){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=s,this.masterMuteNode=s.createGain(),this.masterVolumeNode=s.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(s.destination),this.destination=this.masterMuteNode,this},add:function(s,u){var f=new e(this,s,u);return this.sounds.push(f),f},decodeAudio:function(s,u){var f;Array.isArray(s)?f=s:f=[{key:s,data:u}];for(var c=this.game.cache.audio,d=f.length,p=0;p<f.length;p++){var S=f[p],C=S.key,E=S.data;typeof E=="string"&&(E=o(E));var R=(function(D,B){c.add(D,B),this.emit(n.DECODED,D),d--,d===0&&this.emit(n.DECODED_ALL)}).bind(this,C),M=(function(D,B){console.error("Error decoding audio: "+D+" - ",B?B.message:""),d--,d===0&&this.emit(n.DECODED_ALL)}).bind(this,C);this.context.decodeAudioData(E,R,M)}},setListenerPosition:function(s,u){return s===void 0&&(s=this.game.scale.width/2),u===void 0&&(u=this.game.scale.height/2),this.listenerPosition.set(s,u),this},unlock:function(){var s=this,u=document.body,f=function c(){if(s.context&&u){var d=u.removeEventListener.bind(u);s.context.resume().then(function(){d("touchstart",c),d("touchend",c),d("mousedown",c),d("mouseup",c),d("keydown",c),s.unlocked=!0},function(){d("touchstart",c),d("touchend",c),d("mousedown",c),d("mouseup",c),d("keydown",c)})}};u&&(u.addEventListener("touchstart",f,!1),u.addEventListener("touchend",f,!1),u.addEventListener("mousedown",f,!1),u.addEventListener("mouseup",f,!1),u.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var s=this.context;s&&!this.locked&&(s.state==="suspended"||s.state==="interrupted")&&s.resume()},update:function(s,u){var f=this.context.listener,c=a(this.listenerPosition,"x",null),d=a(this.listenerPosition,"y",null);if(f&&f.positionX!==void 0)c&&c!==this._spatialx&&(this._spatialx=f.positionX.value=c),d&&d!==this._spatialy&&(this._spatialy=f.positionY.value=d);else if(f){c&&c!==this._spatialx&&(this._spatialx=c),d&&d!==this._spatialy&&(this._spatialy=d);var p=a(f,"z",0);f.setPosition(this._spatialx||0,this._spatialy||0,p)}v.prototype.update.call(this,s,u),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var s=this;this.context.close().then(function(){s.context=null})}this.game.events.off(i.VISIBLE,this.onGameVisible,this),v.prototype.destroy.call(this)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(s){this.masterMuteNode.gain.setValueAtTime(s?0:1,0),this.emit(n.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(s){this.masterVolumeNode.gain.setValueAtTime(s,0),this.emit(n.GLOBAL_VOLUME,this,s)}}});h.exports=l}),73162:((h,x,t)=>{var o=t(37105),v=t(83419),r=t(29747),n=t(19186),i=new v({initialize:function(a){this.parent=a,this.list=[],this.position=0,this.addCallback=r,this.removeCallback=r,this._sortKey=""},add:function(e,a){return a?o.Add(this.list,e):o.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,a,l){return l?o.AddAt(this.list,e,a):o.AddAt(this.list,e,a,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,a){return e?(a===void 0&&(a=function(l,s){return l[e]-s[e]}),n(this.list,a),this):this},getByName:function(e){return o.GetFirst(this.list,"name",e)},getRandom:function(e,a){return o.GetRandom(this.list,e,a)},getFirst:function(e,a,l,s){return o.GetFirst(this.list,e,a,l,s)},getAll:function(e,a,l,s){return o.GetAll(this.list,e,a,l,s)},count:function(e,a){return o.CountAllMatching(this.list,e,a)},swap:function(e,a){o.Swap(this.list,e,a)},moveTo:function(e,a){return o.MoveTo(this.list,e,a)},moveAbove:function(e,a){return o.MoveAbove(this.list,e,a)},moveBelow:function(e,a){return o.MoveBelow(this.list,e,a)},remove:function(e,a){return a?o.Remove(this.list,e):o.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,a){return a?o.RemoveAt(this.list,e):o.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,a,l){return l?o.RemoveBetween(this.list,e,a):o.RemoveBetween(this.list,e,a,this.removeCallback,this)},removeAll:function(e){for(var a=this.list.length;a--;)this.remove(this.list[a],e);return this},bringToTop:function(e){return o.BringToTop(this.list,e)},sendToBack:function(e){return o.SendToBack(this.list,e)},moveUp:function(e){return o.MoveUp(this.list,e),e},moveDown:function(e){return o.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(e,a){return o.Replace(this.list,e,a)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,a,l,s){return o.SetAll(this.list,e,a,l,s),this},each:function(e,a){for(var l=[null],s=2;s<arguments.length;s++)l.push(arguments[s]);for(s=0;s<this.list.length;s++)l[0]=this.list[s],e.apply(a,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});h.exports=i}),90330:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n){this.entries={},this.size=0,this.setAll(n)},setAll:function(r){if(Array.isArray(r))for(var n=0;n<r.length;n++)this.set(r[n][0],r[n][1]);return this},set:function(r,n){return this.has(r)||this.size++,this.entries[r]=n,this},get:function(r){if(this.has(r))return this.entries[r]},getArray:function(){var r=[],n=this.entries;for(var i in n)r.push(n[i]);return r},has:function(r){return this.entries.hasOwnProperty(r)},delete:function(r){return this.has(r)&&(delete this.entries[r],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(r){delete this.entries[r]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var r=[],n=this.entries;for(var i in n)r.push(n[i]);return r},dump:function(){var r=this.entries;console.group("Map");for(var n in r)console.log(n,r[n]);console.groupEnd()},each:function(r){var n=this.entries;for(var i in n)if(r(i,n[i])===!1)break;return this},contains:function(r){var n=this.entries;for(var i in n)if(n[i]===r)return!0;return!1},merge:function(r,n){n===void 0&&(n=!1);var i=this.entries,e=r.entries;for(var a in e)i.hasOwnProperty(a)&&n?i[a]=e[a]:this.set(a,e[a]);return this}});h.exports=v}),25774:((h,x,t)=>{var o=t(83419),v=t(50792),r=t(82348),n=new o({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(i){return this._active.indexOf(i)>-1},isPending:function(i){return this._toProcess>0&&this._pending.indexOf(i)>-1},isDestroying:function(i){return this._destroy.indexOf(i)>-1},add:function(i){return this.checkQueue&&this.isActive(i)&&!this.isDestroying(i)||this.isPending(i)||(this._pending.push(i),this._toProcess++),i},remove:function(i){if(this.isPending(i)){var e=this._pending,a=e.indexOf(i);a!==-1&&e.splice(a,1)}else this.isActive(i)&&(this._destroy.push(i),this._toProcess++);return i},removeAll:function(){for(var i=this._active,e=this._destroy,a=i.length;a--;)e.push(i[a]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var i=this._destroy,e=this._active,a,l;for(a=0;a<i.length;a++){l=i[a];var s=e.indexOf(l);s!==-1&&(e.splice(s,1),this.emit(r.PROCESS_QUEUE_REMOVE,l))}for(i.length=0,i=this._pending,a=0;a<i.length;a++)l=i[a],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(r.PROCESS_QUEUE_ADD,l));return i.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});h.exports=n}),59542:((h,x,t)=>{var o=t(43886);function v(E){if(!(this instanceof v))return new v(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(E){var R=this.data,M=[],D=this.toBBox;if(!p(E,R))return M;for(var B=[],b,I,N,z;R;){for(b=0,I=R.children.length;b<I;b++)N=R.children[b],z=R.leaf?D(N):N,p(E,z)&&(R.leaf?M.push(N):d(E,z)?this._all(N,M):B.push(N));R=B.pop()}return M},collides:function(E){var R=this.data,M=this.toBBox;if(!p(E,R))return!1;for(var D=[],B,b,I,N;R;){for(B=0,b=R.children.length;B<b;B++)if(I=R.children[B],N=R.leaf?M(I):I,p(E,N)){if(R.leaf||d(E,N))return!0;D.push(I)}R=D.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var R=0,M=E.length;R<M;R++)this.insert(E[R]);return this}var D=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=D;else if(this.data.height===D.height)this._splitRoot(this.data,D);else{if(this.data.height<D.height){var B=this.data;this.data=D,D=B}this._insert(D,this.data.height-D.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=S([]),this},remove:function(E,R){if(!E)return this;for(var M=this.data,D=this.toBBox(E),B=[],b=[],I,N,z,H;M||B.length;){if(M||(M=B.pop(),N=B[B.length-1],I=b.pop(),H=!0),M.leaf&&(z=r(E,M.children,R),z!==-1))return M.children.splice(z,1),B.push(M),this._condense(B),this;!H&&!M.leaf&&d(M,D)?(B.push(M),b.push(I),I=0,N=M,M=M.children[0]):N?(I++,M=N.children[I],H=!1):M=null}return this},toBBox:function(E){return E},compareMinX:a,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,R){for(var M=[];E;)E.leaf?R.push.apply(R,E.children):M.push.apply(M,E.children),E=M.pop();return R},_build:function(E,R,M,D){var B=M-R+1,b=this._maxEntries,I;if(B<=b)return I=S(E.slice(R,M+1)),n(I,this.toBBox),I;D||(D=Math.ceil(Math.log(B)/Math.log(b)),b=Math.ceil(B/Math.pow(b,D-1))),I=S([]),I.leaf=!1,I.height=D;var N=Math.ceil(B/b),z=N*Math.ceil(Math.sqrt(b)),H,X,W,V;for(C(E,R,M,z,this.compareMinX),H=R;H<=M;H+=z)for(W=Math.min(H+z-1,M),C(E,H,W,N,this.compareMinY),X=H;X<=W;X+=N)V=Math.min(X+N-1,W),I.children.push(this._build(E,X,V,D-1));return n(I,this.toBBox),I},_chooseSubtree:function(E,R,M,D){for(var B,b,I,N,z,H,X,W;D.push(R),!(R.leaf||D.length-1===M);){for(X=W=1/0,B=0,b=R.children.length;B<b;B++)I=R.children[B],z=s(I),H=f(E,I)-z,H<W?(W=H,X=z<X?z:X,N=I):H===W&&z<X&&(X=z,N=I);R=N||R.children[0]}return R},_insert:function(E,R,M){var D=this.toBBox,B=M?E:D(E),b=[],I=this._chooseSubtree(B,this.data,R,b);for(I.children.push(E),e(I,B);R>=0&&b[R].children.length>this._maxEntries;)this._split(b,R),R--;this._adjustParentBBoxes(B,b,R)},_split:function(E,R){var M=E[R],D=M.children.length,B=this._minEntries;this._chooseSplitAxis(M,B,D);var b=this._chooseSplitIndex(M,B,D),I=S(M.children.splice(b,M.children.length-b));I.height=M.height,I.leaf=M.leaf,n(M,this.toBBox),n(I,this.toBBox),R?E[R-1].children.push(I):this._splitRoot(M,I)},_splitRoot:function(E,R){this.data=S([E,R]),this.data.height=E.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},_chooseSplitIndex:function(E,R,M){var D,B,b,I,N,z,H,X;for(z=H=1/0,D=R;D<=M-R;D++)B=i(E,0,D,this.toBBox),b=i(E,D,M,this.toBBox),I=c(B,b),N=s(B)+s(b),I<z?(z=I,X=D,H=N<H?N:H):I===z&&N<H&&(H=N,X=D);return X},_chooseSplitAxis:function(E,R,M){var D=E.leaf?this.compareMinX:a,B=E.leaf?this.compareMinY:l,b=this._allDistMargin(E,R,M,D),I=this._allDistMargin(E,R,M,B);b<I&&E.children.sort(D)},_allDistMargin:function(E,R,M,D){E.children.sort(D);var B=this.toBBox,b=i(E,0,R,B),I=i(E,M-R,M,B),N=u(b)+u(I),z,H;for(z=R;z<M-R;z++)H=E.children[z],e(b,E.leaf?B(H):H),N+=u(b);for(z=M-R-1;z>=R;z--)H=E.children[z],e(I,E.leaf?B(H):H),N+=u(I);return N},_adjustParentBBoxes:function(E,R,M){for(var D=M;D>=0;D--)e(R[D],E)},_condense:function(E){for(var R=E.length-1,M;R>=0;R--)E[R].children.length===0?R>0?(M=E[R-1].children,M.splice(M.indexOf(E[R]),1)):this.clear():n(E[R],this.toBBox)},compareMinX:function(E,R){return E.left-R.left},compareMinY:function(E,R){return E.top-R.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function r(E,R,M){if(!M)return R.indexOf(E);for(var D=0;D<R.length;D++)if(M(E,R[D]))return D;return-1}function n(E,R){i(E,0,E.children.length,R,E)}function i(E,R,M,D,B){B||(B=S(null)),B.minX=1/0,B.minY=1/0,B.maxX=-1/0,B.maxY=-1/0;for(var b=R,I;b<M;b++)I=E.children[b],e(B,E.leaf?D(I):I);return B}function e(E,R){return E.minX=Math.min(E.minX,R.minX),E.minY=Math.min(E.minY,R.minY),E.maxX=Math.max(E.maxX,R.maxX),E.maxY=Math.max(E.maxY,R.maxY),E}function a(E,R){return E.minX-R.minX}function l(E,R){return E.minY-R.minY}function s(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function u(E){return E.maxX-E.minX+(E.maxY-E.minY)}function f(E,R){return(Math.max(R.maxX,E.maxX)-Math.min(R.minX,E.minX))*(Math.max(R.maxY,E.maxY)-Math.min(R.minY,E.minY))}function c(E,R){var M=Math.max(E.minX,R.minX),D=Math.max(E.minY,R.minY),B=Math.min(E.maxX,R.maxX),b=Math.min(E.maxY,R.maxY);return Math.max(0,B-M)*Math.max(0,b-D)}function d(E,R){return E.minX<=R.minX&&E.minY<=R.minY&&R.maxX<=E.maxX&&R.maxY<=E.maxY}function p(E,R){return R.minX<=E.maxX&&R.minY<=E.maxY&&R.maxX>=E.minX&&R.maxY>=E.minY}function S(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function C(E,R,M,D,B){for(var b=[R,M],I;b.length;)M=b.pop(),R=b.pop(),!(M-R<=D)&&(I=R+Math.ceil((M-R)/D/2)*D,o(E,I,R,M,B),b.push(R,I,I,M))}h.exports=v}),35072:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n){if(this.entries=[],Array.isArray(n))for(var i=0;i<n.length;i++)this.set(n[i])},set:function(r){return this.entries.indexOf(r)===-1&&this.entries.push(r),this},get:function(r,n){for(var i=0;i<this.entries.length;i++){var e=this.entries[i];if(e[r]===n)return e}},getArray:function(){return this.entries.slice(0)},delete:function(r){var n=this.entries.indexOf(r);return n>-1&&this.entries.splice(n,1),this},dump:function(){console.group("Set");for(var r=0;r<this.entries.length;r++){var n=this.entries[r];console.log(n)}console.groupEnd()},each:function(r,n){var i,e=this.entries.slice(),a=e.length;if(n)for(i=0;i<a&&r.call(n,e[i],i)!==!1;i++);else for(i=0;i<a&&r(e[i],i)!==!1;i++);return this},iterate:function(r,n){var i,e=this.entries.length;if(n)for(i=0;i<e&&r.call(n,this.entries[i],i)!==!1;i++);else for(i=0;i<e&&r(this.entries[i],i)!==!1;i++);return this},iterateLocal:function(r){var n,i=[];for(n=1;n<arguments.length;n++)i.push(arguments[n]);var e=this.entries.length;for(n=0;n<e;n++){var a=this.entries[n];a[r].apply(a,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(r){return this.entries.indexOf(r)>-1},union:function(r){var n=new v;return r.entries.forEach(function(i){n.set(i)}),this.entries.forEach(function(i){n.set(i)}),n},intersect:function(r){var n=new v;return this.entries.forEach(function(i){r.contains(i)&&n.set(i)}),n},difference:function(r){var n=new v;return this.entries.forEach(function(i){r.contains(i)||n.set(i)}),n},size:{get:function(){return this.entries.length},set:function(r){return r<this.entries.length?this.entries.length=r:this.entries.length}}});h.exports=v}),86555:((h,x,t)=>{var o=t(45319),v=t(83419),r=t(56583),n=t(26099),i=new v({initialize:function(a,l,s,u){a===void 0&&(a=0),l===void 0&&(l=a),s===void 0&&(s=0),u===void 0&&(u=null),this._width=a,this._height=l,this._parent=u,this.aspectMode=s,this.aspectRatio=l===0?1:a/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new n},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,a){return e===void 0&&(e=0),a===void 0&&(a=e),this.snapTo.set(e,a),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,a){return e===void 0&&(e=0),a===void 0&&(a=e),this.minWidth=o(e,0,this.maxWidth),this.minHeight=o(a,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,a){return e===void 0&&(e=Number.MAX_VALUE),a===void 0&&(a=e),this.maxWidth=o(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(a,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,a){switch(e===void 0&&(e=0),a===void 0&&(a=e),this.aspectMode){case i.NONE:this._width=this.getNewWidth(r(e,this.snapTo.x)),this._height=this.getNewHeight(r(a,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case i.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(r(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case i.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(r(a,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case i.FIT:this.constrain(e,a,!0);break;case i.ENVELOP:this.constrain(e,a,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,a){return this._width=this.getNewWidth(r(e,this.snapTo.x)),this._height=this.getNewHeight(r(a,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,a){return a===void 0&&(a=!0),e=o(e,this.minWidth,this.maxWidth),a&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,a){return a===void 0&&(a=!0),e=o(e,this.minHeight,this.maxHeight),a&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,a,l){e===void 0&&(e=0),a===void 0&&(a=e),l===void 0&&(l=!0),e=this.getNewWidth(e),a=this.getNewHeight(a);var s=this.snapTo,u=a===0?1:e/a;return l&&this.aspectRatio>u||!l&&this.aspectRatio<u?(e=r(e,s.x),a=e/this.aspectRatio,s.y>0&&(a=r(a,s.y),e=a*this.aspectRatio)):(l&&this.aspectRatio<u||!l&&this.aspectRatio>u)&&(a=r(a,s.y),e=a*this.aspectRatio,s.x>0&&(e=r(e,s.x),a=e*(1/this.aspectRatio))),this._width=e,this._height=a,this},fitTo:function(e,a){return this.constrain(e,a,!0)},envelop:function(e,a){return this.constrain(e,a,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});i.NONE=0,i.WIDTH_CONTROLS_HEIGHT=1,i.HEIGHT_CONTROLS_WIDTH=2,i.FIT=3,i.ENVELOP=4,h.exports=i}),15238:(h=>{h.exports="add"}),56187:(h=>{h.exports="remove"}),82348:((h,x,t)=>{h.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}}),41392:((h,x,t)=>{h.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}}),57382:((h,x,t)=>{var o=t(83419),v=t(45319),r=t(40987),n=t(8054),i=t(50030),e=t(79237),a=new o({Extends:e,initialize:function(s,u,f,c,d){e.call(this,s,u,f,c,d),this.add("__BASE",0,0,0,c,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=c,this.height=d,this.imageData=this.context.getImageData(0,0,c,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===n.WEBGL&&this.refresh(),this},draw:function(l,s,u,f){return f===void 0&&(f=!0),this.context.drawImage(u,l,s),f&&this.update(),this},drawFrame:function(l,s,u,f,c){u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=!0);var d=this.manager.getFrame(l,s);if(d){var p=d.canvasData,S=d.cutWidth,C=d.cutHeight,E=d.source.resolution;this.context.drawImage(d.source.image,p.x,p.y,S,C,u,f,S/E,C/E),c&&this.update()}return this},setPixel:function(l,s,u,f,c,d){d===void 0&&(d=255),l=Math.abs(Math.floor(l)),s=Math.abs(Math.floor(s));var p=this.getIndex(l,s);if(p>-1){var S=this.context.getImageData(l,s,1,1);S.data[0]=u,S.data[1]=f,S.data[2]=c,S.data[3]=d,this.context.putImageData(S,l,s)}return this},putData:function(l,s,u,f,c,d,p){return f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=l.width),p===void 0&&(p=l.height),this.context.putImageData(l,s,u,f,c,d,p),this},getData:function(l,s,u,f){l=v(Math.floor(l),0,this.width-1),s=v(Math.floor(s),0,this.height-1),u=v(u,1,this.width-l),f=v(f,1,this.height-s);var c=this.context.getImageData(l,s,u,f);return c},getPixel:function(l,s,u){u||(u=new r);var f=this.getIndex(l,s);if(f>-1){var c=this.data,d=c[f+0],p=c[f+1],S=c[f+2],C=c[f+3];u.setTo(d,p,S,C)}return u},getPixels:function(l,s,u,f){l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),f===void 0&&(f=u),l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s));for(var c=v(l,0,this.width),d=v(l+u,0,this.width),p=v(s,0,this.height),S=v(s+f,0,this.height),C=new r,E=[],R=p;R<S;R++){for(var M=[],D=c;D<d;D++)C=this.getPixel(D,R,C),M.push({x:D,y:R,color:C.color,alpha:C.alphaGL});E.push(M)}return E},getIndex:function(l,s){return l=Math.abs(Math.round(l)),s=Math.abs(Math.round(s)),l<this.width&&s<this.height?(l+s*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,s,u,f,c){return l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=this.width),f===void 0&&(f=this.height),c===void 0&&(c=!0),this.context.clearRect(l,s,u,f),c&&this.update(),this},setSize:function(l,s){return s===void 0&&(s=l),(l!==this.width||s!==this.height)&&(this.canvas.width=l,this.canvas.height=s,this._source.width=l,this._source.height=s,this._source.isPowerOf2=i(l,s),this.frames.__BASE.setSize(l,s,0,0),this.width=l,this.height=s,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});h.exports=a}),81320:((h,x,t)=>{var o=t(10312),v=t(38058),r=t(27919),n=t(83419),i=t(8054),e=t(4327),a=t(95540),l=t(36060),s=t(32302),u=t(79237),f=t(70554),c=new n({Extends:u,initialize:function(p,S,C,E,R){C===void 0&&(C=256),E===void 0&&(E=256),R===void 0&&(R=!0),this.type="DynamicTexture";var M=p.game.renderer,D=M&&M.type===i.CANVAS,B=D?r.create2D(this,C,E):[this];u.call(this,p,S,B,C,E),this.add("__BASE",0,0,0,C,E),this.renderer=M,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=D?B:null,this.context=D?B.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,C,E).setScene(p.game.scene.systemScene,!1),this.renderTarget=D?null:new s(M,C,E,1,0,!1,!1,!0,!1),this.pipeline=D?null:M.pipelines.get(l.SINGLE_PIPELINE),this.setSize(C,E,R)},setSize:function(d,p,S){p===void 0&&(p=d),S===void 0&&(S=!0),S&&(d=Math.floor(d),p=Math.floor(p),d%2!==0&&d++,p%2!==0&&p++);var C=this.get(),E=C.source;if(d!==this.width||p!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=p);var R=this.renderTarget;R&&(R.willResize(d,p)&&R.resize(d,p),R.texture!==E.glTexture&&this.renderer.deleteTexture(E.glTexture),this.setFromRenderTarget()),this.camera.setSize(d,p),E.width=d,E.height=p,C.setSize(d,p),this.width=d,this.height=p}else{var M=this.getSourceImage();C.cutX+d>M.width&&(d=M.width-C.cutX),C.cutY+p>M.height&&(p=M.height-C.cutY),C.setSize(d,p,C.cutX,C.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),p=d.source,S=this.renderTarget;return p.isRenderTexture=!0,p.isGLTexture=!0,p.glTexture=S.texture,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,p,S,C,E,R){var M=this.camera,D=this.renderer;p===void 0&&(p=1),S===void 0&&(S=0),C===void 0&&(C=0),E===void 0&&(E=this.width),R===void 0&&(R=this.height);var B=d>>16&255,b=d>>8&255,I=d&255,N=this.renderTarget;if(M.preRender(),N){N.bind(!0);var z=this.pipeline.manager.set(this.pipeline),H=D.width/N.width,X=D.height/N.height,W=N.height-(C+R);z.drawFillRect(S*H,W*X,E*H,R*X,f.getTintFromFloats(I/255,b/255,B/255,1),p),N.unbind(!0)}else{var V=this.context;D.setContext(V),V.globalCompositeOperation="source-over",V.fillStyle="rgba("+B+","+b+","+I+","+p+")",V.fillRect(S,C,E,R),D.setContext()}return this.dirty=!0,this},clear:function(d,p,S,C){if(this.dirty){var E=this.context,R=this.renderTarget;R?R.clear(d,p,S,C):E&&(d!==void 0&&p!==void 0&&S!==void 0&&C!==void 0?E.clearRect(d,p,S,C):(E.save(),E.setTransform(1,0,0,1,0,0),E.clearRect(0,0,this.width,this.height),E.restore())),this.dirty=!1}return this},stamp:function(d,p,S,C,E){S===void 0&&(S=0),C===void 0&&(C=0);var R=a(E,"alpha",1),M=a(E,"tint",16777215),D=a(E,"angle",0),B=a(E,"rotation",0),b=a(E,"scale",1),I=a(E,"scaleX",b),N=a(E,"scaleY",b),z=a(E,"originX",.5),H=a(E,"originY",.5),X=a(E,"blendMode",0),W=a(E,"erase",!1),V=a(E,"skipBatch",!1),U=this.manager.resetStamp(R,M);return U.setAngle(0),D!==0?U.setAngle(D):B!==0&&U.setRotation(B),U.setScale(I,N),U.setTexture(d,p),U.setOrigin(z,H),U.setBlendMode(X),W&&(this._eraseMode=!0),V?this.batchGameObject(U,S,C):this.draw(U,S,C),W&&(this._eraseMode=!1),this},erase:function(d,p,S){return this._eraseMode=!0,this.draw(d,p,S),this._eraseMode=!1,this},draw:function(d,p,S,C,E){return this.beginDraw(),this.batchDraw(d,p,S,C,E),this.endDraw(),this},drawFrame:function(d,p,S,C,E,R){return this.beginDraw(),this.batchDrawFrame(d,p,S,C,E,R),this.endDraw(),this},repeat:function(d,p,S,C,E,R,M,D,B){if(S===void 0&&(S=0),C===void 0&&(C=0),E===void 0&&(E=this.width),R===void 0&&(R=this.height),M===void 0&&(M=1),D===void 0&&(D=16777215),B===void 0&&(B=!1),d instanceof e?p=d:p=this.manager.getFrame(d,p),!p)return this;var b=this.manager.resetStamp(M,D);b.setFrame(p),b.setOrigin(0);var I=p.width,N=p.height;E=Math.floor(E),R=Math.floor(R);var z=Math.ceil(E/I),H=Math.ceil(R/N),X=z*I-E,W=H*N-R;X>0&&(X=I-X),W>0&&(W=N-W),S<0&&(z+=Math.ceil(Math.abs(S)/I)),C<0&&(H+=Math.ceil(Math.abs(C)/N));var V=S,U=C,F=!1,k=this.manager.stampCrop.setTo(0,0,I,N);B||this.beginDraw();for(var Y=0;Y<H;Y++){if(U+N<0){U+=N;continue}for(var Z=0;Z<z;Z++){if(F=!1,V+I<0){V+=I;continue}else V<0&&(F=!0,k.width=I+V,k.x=I-k.width);U<0&&(F=!0,k.height=N+U,k.y=N-k.height),X>0&&Z===z-1&&(F=!0,k.width=X),W>0&&Y===H-1&&(F=!0,k.height=W),F&&b.setCrop(k),this.batchGameObject(b,V,U),b.isCropped=!1,k.setTo(0,0,I,N),V+=I}V=S,U+=N}return B||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,p=this.renderer,S=this.renderTarget;d.preRender(),S?p.beginCapture(S.width,S.height):p.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,p,S,C,E){return Array.isArray(d)||(d=[d]),this.batchList(d,p,S,C,E),this},batchDrawFrame:function(d,p,S,C,E,R){S===void 0&&(S=0),C===void 0&&(C=0),E===void 0&&(E=1),R===void 0&&(R=16777215);var M=this.manager.getFrame(d,p);return M&&(this.renderTarget?this.pipeline.batchTextureFrame(M,S,C,R,E,this.camera.matrix,null):this.batchTextureFrame(M,S,C,E,R)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var p=this.renderer,S=this.renderTarget;if(S){var C=p.endCapture(),E=p.pipelines.setUtility();E.blitFrame(C,S,1,!1,!1,d,this.isSpriteTexture),p.resetScissor(),p.resetViewport()}else p.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,p,S,C,E){var R=d.length;if(R!==0)for(var M=0;M<R;M++){var D=d[M];!D||D===this||(D.renderWebGL||D.renderCanvas?this.batchGameObject(D,p,S):D.isParent||D.list?this.batchGroup(D.getChildren(),p,S):typeof D=="string"?this.batchTextureFrameKey(D,null,p,S,C,E):D instanceof e?this.batchTextureFrame(D,p,S,C,E):Array.isArray(D)&&this.batchList(D,p,S,C,E))}},batchGroup:function(d,p,S){p===void 0&&(p=0),S===void 0&&(S=0);for(var C=0;C<d.length;C++){var E=d[C];E.willRender(this.camera)&&this.batchGameObject(E,E.x+p,E.y+S)}},batchGameObject:function(d,p,S){p===void 0&&(p=d.x),S===void 0&&(S=d.y);var C=d.x,E=d.y,R=this.camera,M=this.renderer,D=this._eraseMode,B=d.mask;if(d.setPosition(p,S),this.canvas){if(D){var b=d.blendMode;d.blendMode=o.ERASE}B&&B.preRenderCanvas(M,d,R),d.renderCanvas(M,d,R,null),B&&B.postRenderCanvas(M,d,R),D&&(d.blendMode=b)}else M&&(B&&B.preRenderWebGL(M,d,R),D||M.setBlendMode(d.blendMode),d.renderWebGL(M,d,R),B&&B.postRenderWebGL(M,R,this.renderTarget));d.setPosition(C,E)},batchTextureFrameKey:function(d,p,S,C,E,R){var M=this.manager.getFrame(d,p);M&&this.batchTextureFrame(M,S,C,E,R)},batchTextureFrame:function(d,p,S,C,E){p===void 0&&(p=0),S===void 0&&(S=0),C===void 0&&(C=1),E===void 0&&(E=16777215);var R=this.camera.matrix,M=this.renderTarget;if(M)this.pipeline.batchTextureFrame(d,p,S,E,C,R,null);else{var D=this.context,B=d.canvasData,b=d.source.image;D.save(),D.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",D.globalAlpha=C,R.setToContext(D),B.width>0&&B.height>0&&D.drawImage(b,B.x,B.y,B.width,B.height,p,S,B.width,B.height),D.restore()}},snapshotArea:function(d,p,S,C,E,R,M){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,d,p,S,C,R,M):this.renderer.snapshotCanvas(this.canvas,E,!1,d,p,S,C,R,M),this},snapshot:function(d,p,S){return this.snapshotArea(0,0,this.width,this.height,d,p,S)},snapshotPixel:function(d,p,S){return this.snapshotArea(d,p,1,1,S,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,p,S,C){var E=this.manager.resetStamp();E.setTexture(this),E.setOrigin(0),E.renderWebGL(d,E,S,C)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),u.prototype.destroy.call(this),r.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});h.exports=c}),4327:((h,x,t)=>{var o=t(83419),v=t(45319),r=t(79291),n=new o({initialize:function(e,a,l,s,u,f,c){this.texture=e,this.name=a,this.source=e.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,c,s,u)},setCutPosition:function(i,e){return i===void 0&&(i=0),e===void 0&&(e=0),this.cutX=i,this.cutY=e,this.updateUVs()},setCutSize:function(i,e){return this.cutWidth=i,this.cutHeight=e,this.updateUVs()},setSize:function(i,e,a,l){a===void 0&&(a=0),l===void 0&&(l=0),this.setCutPosition(a,l),this.setCutSize(i,e),this.width=i,this.height=e,this.halfWidth=Math.floor(i*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(i/2),this.centerY=Math.floor(e/2);var s=this.data,u=s.cut;u.x=a,u.y=l,u.w=i,u.h=e,u.r=a+i,u.b=l+e,s.sourceSize.w=i,s.sourceSize.h=e,s.spriteSourceSize.w=i,s.spriteSourceSize.h=e,s.radius=.5*Math.sqrt(i*i+e*e);var f=s.drawImage;return f.x=a,f.y=l,f.width=i,f.height=e,this.updateUVs()},setTrim:function(i,e,a,l,s,u){var f=this.data,c=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=i,f.sourceSize.h=e,c.x=a,c.y=l,c.w=s,c.h=u,c.r=a+s,c.b=l+u,this.x=a,this.y=l,this.width=s,this.height=u,this.halfWidth=s*.5,this.halfHeight=u*.5,this.centerX=Math.floor(s/2),this.centerY=Math.floor(u/2),this.updateUVs()},setScale9:function(i,e,a,l){var s=this.data;return s.scale9=!0,s.is3Slice=e===0&&l===this.height,s.scale9Borders.x=i,s.scale9Borders.y=e,s.scale9Borders.w=a,s.scale9Borders.h=l,this},setCropUVs:function(i,e,a,l,s,u,f){var c=this.cutX,d=this.cutY,p=this.cutWidth,S=this.cutHeight,C=this.realWidth,E=this.realHeight;e=v(e,0,C),a=v(a,0,E),l=v(l,0,C-e),s=v(s,0,E-a);var R=c+e,M=d+a,D=l,B=s,b=this.data;if(b.trim){var I=b.spriteSourceSize;l=v(l,0,I.x+p-e),s=v(s,0,I.y+S-a);var N=e+l,z=a+s,H=!(I.r<e||I.b<a||I.x>N||I.y>z);if(H){var X=Math.max(I.x,e),W=Math.max(I.y,a),V=Math.min(I.r,N)-X,U=Math.min(I.b,z)-W;D=V,B=U,u?R=c+(p-(X-I.x)-V):R=c+(X-I.x),f?M=d+(S-(W-I.y)-U):M=d+(W-I.y),e=X,a=W,l=V,s=U}else R=0,M=0,D=0,B=0}else u&&(R=c+(p-e-l)),f&&(M=d+(S-a-s));var F=this.source.width,k=this.source.height;return i.u0=Math.max(0,R/F),i.v0=Math.max(0,M/k),i.u1=Math.min(1,(R+D)/F),i.v1=Math.min(1,(M+B)/k),i.x=e,i.y=a,i.cx=R,i.cy=M,i.cw=D,i.ch=B,i.width=l,i.height=s,i.flipX=u,i.flipY=f,i},updateCropUVs:function(i,e,a){return this.setCropUVs(i,i.x,i.y,i.width,i.height,e,a)},setUVs:function(i,e,a,l,s,u){var f=this.data.drawImage;return f.width=i,f.height=e,this.u0=a,this.v0=l,this.u1=s,this.v1=u,this},updateUVs:function(){var i=this.cutX,e=this.cutY,a=this.cutWidth,l=this.cutHeight,s=this.data.drawImage;s.width=a,s.height=l;var u=this.source.width,f=this.source.height;return this.u0=i/u,this.v0=e/f,this.u1=(i+a)/u,this.v1=(e+l)/f,this},updateUVsInverted:function(){var i=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/i,this.v0=this.cutY/e,this.u1=this.cutX/i,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var i=new n(this.texture,this.name,this.sourceIndex);return i.cutX=this.cutX,i.cutY=this.cutY,i.cutWidth=this.cutWidth,i.cutHeight=this.cutHeight,i.x=this.x,i.y=this.y,i.width=this.width,i.height=this.height,i.halfWidth=this.halfWidth,i.halfHeight=this.halfHeight,i.centerX=this.centerX,i.centerY=this.centerY,i.rotated=this.rotated,i.data=r(!0,i.data,this.data),i.updateUVs(),i},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});h.exports=n}),79237:((h,x,t)=>{var o=t(83419),v=t(4327),r=t(11876),n='Texture "%s" has no frame "%s"',i=new o({initialize:function(a,l,s,u,f){Array.isArray(s)||(s=[s]),this.manager=a,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<s.length;c++)this.source.push(new r(this,s[c],u,f))},add:function(e,a,l,s,u,f){if(this.has(e))return null;var c=new v(this,e,a,l,s,u,f);return this.frames[e]=c,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,c},remove:function(e){if(this.has(e)){var a=this.get(e);return a.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var a=this.frames[e];return a||(console.warn(n,this.key,e),a=this.frames[this.firstFrame]),a},getTextureSourceIndex:function(e){for(var a=0;a<this.source.length;a++)if(this.source[a]===e)return a;return-1},getFramesFromTextureSource:function(e,a){a===void 0&&(a=!1);var l=[];for(var s in this.frames)if(!(s==="__BASE"&&!a)){var u=this.frames[s];u.sourceIndex===e&&l.push(u)}return l},getFrameBounds:function(e){e===void 0&&(e=0);for(var a=this.getFramesFromTextureSource(e,!0),l=a[0],s=l.cutX,u=l.cutY,f=l.cutX+l.cutWidth,c=l.cutY+l.cutHeight,d=1;d<a.length;d++){var p=a[d];p.cutX<s&&(s=p.cutX),p.cutY<u&&(u=p.cutY),p.cutX+p.cutWidth>f&&(f=p.cutX+p.cutWidth),p.cutY+p.cutHeight>c&&(c=p.cutY+p.cutHeight)}return{x:s,y:u,width:f-s,height:c-u}},getFrameNames:function(e){e===void 0&&(e=!1);var a=Object.keys(this.frames);if(!e){var l=a.indexOf("__BASE");l!==-1&&a.splice(l,1)}return a},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var a=this.frames[e];return a?a.source.image:(console.warn(n,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var a=this.frames[e],l;return a?l=a.sourceIndex:(console.warn(n,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var a=0;a<e.length;a++){var l=this.source[a];this.dataSource.push(new r(this,e[a],l.width,l.height))}},setFilter:function(e){var a;for(a=0;a<this.source.length;a++)this.source[a].setFilter(e);for(a=0;a<this.dataSource.length;a++)this.dataSource[a].setFilter(e)},destroy:function(){var e,a=this.source,l=this.dataSource;for(e=0;e<a.length;e++)a[e]&&a[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var s in this.frames){var u=this.frames[s];u&&u.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});h.exports=i}),17130:((h,x,t)=>{var o=t(27919),v=t(57382),r=t(83419),n=t(40987),i=t(8054),e=t(81320),a=t(50792),l=t(69442),s=t(4327),u=t(8443),f=t(99584),c=t(35154),d=t(88571),p=t(41212),S=t(61309),C=t(87841),E=t(79237),R=new r({Extends:a,initialize:function(D){a.call(this),this.game=D,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new C,this.silentWarnings=!1,D.events.once(u.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var M=this.game.config;M.defaultImage!==null&&this.addBase64("__DEFAULT",M.defaultImage),M.missingImage!==null&&this.addBase64("__MISSING",M.missingImage),M.whiteImage!==null&&this.addBase64("__WHITE",M.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(u.DESTROY,this.destroy,this),this.game.events.once(u.SYSTEM_READY,function(D){this.stamp=new d(D).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(M){return!M||typeof M!="string"||this.exists(M)?(this.silentWarnings||console.error("Texture key already in use: "+M),!1):!0},remove:function(M){if(typeof M=="string")if(this.exists(M))M=this.get(M);else return this.silentWarnings||console.warn("No texture found matching key: "+M),this;var D=M.key;return this.list.hasOwnProperty(D)&&(M.destroy(),this.emit(l.REMOVE,D),this.emit(l.REMOVE_KEY+D)),this},removeKey:function(M){return this.list.hasOwnProperty(M)&&delete this.list[M],this},addBase64:function(M,D){if(this.checkKey(M)){var B=this,b=new Image;b.onerror=function(){B.emit(l.ERROR,M)},b.onload=function(){var I=B.create(M,b);I&&(S.Image(I,0),B.emit(l.ADD,M,I),B.emit(l.ADD_KEY+M,I),B.emit(l.LOAD,M,I))},b.src=D}return this},getBase64:function(M,D,B,b){B===void 0&&(B="image/png"),b===void 0&&(b=.92);var I="",N=this.getFrame(M,D);if(N&&(N.source.isRenderTexture||N.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(N){var z=N.canvasData,H=o.create2D(this,z.width,z.height),X=H.getContext("2d",{willReadFrequently:!0});z.width>0&&z.height>0&&X.drawImage(N.source.image,z.x,z.y,z.width,z.height,0,0,z.width,z.height),I=H.toDataURL(B,b),o.remove(H)}return I},addImage:function(M,D,B){var b=null;return this.checkKey(M)&&(b=this.create(M,D),S.Image(b,0),B&&b.setDataSource(B),this.emit(l.ADD,M,b),this.emit(l.ADD_KEY+M,b)),b},addGLTexture:function(M,D){var B=null;if(this.checkKey(M)){var b=D.width,I=D.height;B=this.create(M,D,b,I),B.add("__BASE",0,0,0,b,I),this.emit(l.ADD,M,B),this.emit(l.ADD_KEY+M,B)}return B},addCompressedTexture:function(M,D,B){var b=null;if(this.checkKey(M)){if(b=this.create(M,D),b.add("__BASE",0,0,0,D.width,D.height),B){var I=function(z,H,X){Array.isArray(X.textures)||Array.isArray(X.frames)?S.JSONArray(z,H,X):S.JSONHash(z,H,X)};if(Array.isArray(B))for(var N=0;N<B.length;N++)I(b,N,B[N]);else I(b,0,B)}this.emit(l.ADD,M,b),this.emit(l.ADD_KEY+M,b)}return b},addRenderTexture:function(M,D){var B=null;return this.checkKey(M)&&(B=this.create(M,D),B.add("__BASE",0,0,0,D.width,D.height),this.emit(l.ADD,M,B),this.emit(l.ADD_KEY+M,B)),B},generate:function(M,D){if(this.checkKey(M)){var B=o.create(this,1,1);return D.canvas=B,f(D),this.addCanvas(M,B)}else return null},createCanvas:function(M,D,B){if(D===void 0&&(D=256),B===void 0&&(B=256),this.checkKey(M)){var b=o.create(this,D,B,i.CANVAS,!0);return this.addCanvas(M,b)}return null},addCanvas:function(M,D,B){B===void 0&&(B=!1);var b=null;return B?b=new v(this,M,D,D.width,D.height):this.checkKey(M)&&(b=new v(this,M,D,D.width,D.height),this.list[M]=b,this.emit(l.ADD,M,b),this.emit(l.ADD_KEY+M,b)),b},addDynamicTexture:function(M,D,B){var b=null;return typeof M=="string"&&!this.exists(M)?b=new e(this,M,D,B):(b=M,M=b.key),this.checkKey(M)?(this.list[M]=b,this.emit(l.ADD,M,b),this.emit(l.ADD_KEY+M,b)):b=null,b},addAtlas:function(M,D,B,b){return Array.isArray(B.textures)||Array.isArray(B.frames)?this.addAtlasJSONArray(M,D,B,b):this.addAtlasJSONHash(M,D,B,b)},addAtlasJSONArray:function(M,D,B,b){var I=null;if(D instanceof E?(M=D.key,I=D):this.checkKey(M)&&(I=this.create(M,D)),I){if(Array.isArray(B))for(var N=B.length===1,z=0;z<I.source.length;z++){var H=N?B[0]:B[z];S.JSONArray(I,z,H)}else S.JSONArray(I,0,B);b&&I.setDataSource(b),this.emit(l.ADD,M,I),this.emit(l.ADD_KEY+M,I)}return I},addAtlasJSONHash:function(M,D,B,b){var I=null;if(D instanceof E?(M=D.key,I=D):this.checkKey(M)&&(I=this.create(M,D)),I){if(Array.isArray(B))for(var N=0;N<B.length;N++)S.JSONHash(I,N,B[N]);else S.JSONHash(I,0,B);b&&I.setDataSource(b),this.emit(l.ADD,M,I),this.emit(l.ADD_KEY+M,I)}return I},addAtlasXML:function(M,D,B,b){var I=null;return D instanceof E?(M=D.key,I=D):this.checkKey(M)&&(I=this.create(M,D)),I&&(S.AtlasXML(I,0,B),b&&I.setDataSource(b),this.emit(l.ADD,M,I),this.emit(l.ADD_KEY+M,I)),I},addUnityAtlas:function(M,D,B,b){var I=null;return D instanceof E?(M=D.key,I=D):this.checkKey(M)&&(I=this.create(M,D)),I&&(S.UnityYAML(I,0,B),b&&I.setDataSource(b),this.emit(l.ADD,M,I),this.emit(l.ADD_KEY+M,I)),I},addSpriteSheet:function(M,D,B,b){var I=null;if(D instanceof E?(M=D.key,I=D):this.checkKey(M)&&(I=this.create(M,D)),I){var N=I.source[0].width,z=I.source[0].height;S.SpriteSheet(I,0,0,0,N,z,B),b&&I.setDataSource(b),this.emit(l.ADD,M,I),this.emit(l.ADD_KEY+M,I)}return I},addSpriteSheetFromAtlas:function(M,D){if(!this.checkKey(M))return null;var B=c(D,"atlas",null),b=c(D,"frame",null);if(!(!B||!b)){var I=this.get(B),N=I.get(b);if(N){var z=N.source.image;z||(z=N.source.glTexture);var H=this.create(M,z);return N.trimmed?S.SpriteSheetFromAtlas(H,N,D):S.SpriteSheet(H,0,N.cutX,N.cutY,N.cutWidth,N.cutHeight,D),this.emit(l.ADD,M,H),this.emit(l.ADD_KEY+M,H),H}}},addUint8Array:function(M,D,B,b){if(!this.checkKey(M)||D.length/4!==B*b)return null;var I=this.create(M,D,B,b);return I.add("__BASE",0,0,0,B,b),this.emit(l.ADD,M,I),this.emit(l.ADD_KEY+M,I),I},create:function(M,D,B,b){var I=null;return this.checkKey(M)&&(I=new E(this,M,D,B,b),this.list[M]=I),I},exists:function(M){return this.list.hasOwnProperty(M)},get:function(M){return M===void 0&&(M="__DEFAULT"),this.list[M]?this.list[M]:M instanceof E?M:M instanceof s?M.texture:this.list.__MISSING},cloneFrame:function(M,D){if(this.list[M])return this.list[M].get(D).clone()},getFrame:function(M,D){if(this.list[M])return this.list[M].get(D)},parseFrame:function(M){if(M){if(typeof M=="string")return this.getFrame(M);if(Array.isArray(M)&&M.length===2)return this.getFrame(M[0],M[1]);if(p(M))return this.getFrame(M.key,M.frame);if(M instanceof E)return M.get();if(M instanceof s)return M}else return},getTextureKeys:function(){var M=[];for(var D in this.list)D!=="__DEFAULT"&&D!=="__MISSING"&&D!=="__WHITE"&&D!=="__NORMAL"&&M.push(D);return M},getPixel:function(M,D,B,b){var I=this.getFrame(B,b);if(I){M-=I.x,D-=I.y;var N=I.data.cut;if(M+=N.x,D+=N.y,M>=N.x&&M<N.r&&D>=N.y&&D<N.b){var z=this._tempContext;z.clearRect(0,0,1,1),z.drawImage(I.source.image,M,D,1,1,0,0,1,1);var H=z.getImageData(0,0,1,1);return new n(H.data[0],H.data[1],H.data[2],H.data[3])}}return null},getPixelAlpha:function(M,D,B,b){var I=this.getFrame(B,b);if(I){M-=I.x,D-=I.y;var N=I.data.cut;if(M+=N.x,D+=N.y,M>=N.x&&M<N.r&&D>=N.y&&D<N.b){var z=this._tempContext;z.clearRect(0,0,1,1),z.drawImage(I.source.image,M,D,1,1,0,0,1,1);var H=z.getImageData(0,0,1,1);return H.data[3]}}return null},setTexture:function(M,D,B){return this.list[D]&&(M.texture=this.list[D],M.frame=M.texture.get(B)),M},renameTexture:function(M,D){var B=this.get(M);return B&&M!==D?(B.key=D,this.list[D]=B,delete this.list[M],!0):!1},each:function(M,D){for(var B=[null],b=1;b<arguments.length;b++)B.push(arguments[b]);for(var I in this.list)B[0]=this.list[I],M.apply(D,B)},resetStamp:function(M,D){M===void 0&&(M=1),D===void 0&&(D=16777215);var B=this.stamp;return B.setCrop(),B.setPosition(0),B.setAngle(0),B.setScale(1),B.setAlpha(M),B.setTint(D),B.setTexture("__WHITE"),B},destroy:function(){for(var M in this.list)this.list[M].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});h.exports=R}),11876:((h,x,t)=>{var o=t(27919),v=t(83419),r=t(50030),n=t(29795),i=t(82751),e=new v({initialize:function(l,s,u,f,c){c===void 0&&(c=!1);var d=l.manager.game;this.renderer=d.renderer,this.texture=l,this.source=s,this.image=s.compressed?null:s,this.compressionAlgorithm=s.compressed?s.format:null,this.resolution=1,this.width=u||s.naturalWidth||s.videoWidth||s.width||0,this.height=f||s.naturalHeight||s.videoHeight||s.height||0,this.scaleMode=n.DEFAULT,this.isCanvas=s instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&s instanceof HTMLVideoElement,this.isRenderTexture=s.type==="RenderTexture"||s.type==="DynamicTexture",this.isGLTexture=s instanceof i,this.isPowerOf2=r(this.width,this.height),this.glTexture=null,this.flipY=c,this.init(d)},init:function(a){var l=this.renderer;if(l){var s=this.source;if(l.gl){var u=this.image,f=this.flipY,c=this.width,d=this.height,p=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(u,!1,f):this.isVideo?this.glTexture=l.createVideoTexture(u,!1,f):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,c,d,p):this.isGLTexture?this.glTexture=s:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(s,void 0,void 0,p):s instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(s,c,d,p):this.glTexture=l.createTextureFromSource(u,c,d,p)}else this.isRenderTexture&&(this.image=s.canvas)}a.config.antialias||this.setFilter(1)},setFilter:function(a){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,a),this.scaleMode=a},setFlipY:function(a){return a===void 0&&(a=!0),a===this.flipY?this:(this.flipY=a,this.update(),this)},update:function(){var a=this.renderer,l=this.image,s=this.flipY,u=a.gl;u&&this.isCanvas?a.updateCanvasTexture(l,this.glTexture,s):u&&this.isVideo&&a.updateVideoTexture(l,this.glTexture,s)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});h.exports=e}),19673:(h=>{var x={LINEAR:0,NEAREST:1};h.exports=x}),44538:(h=>{h.exports="addtexture"}),63486:(h=>{h.exports="addtexture-"}),94851:(h=>{h.exports="onerror"}),29099:(h=>{h.exports="onload"}),8678:(h=>{h.exports="ready"}),86415:(h=>{h.exports="removetexture"}),30879:(h=>{h.exports="removetexture-"}),69442:((h,x,t)=>{h.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}}),27458:((h,x,t)=>{var o=t(79291),v=t(19673),r={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:v,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};r=o(!1,r,v),h.exports=r}),89905:(h=>{var x=function(t,o,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var r=t.source[o];t.add("__BASE",o,0,0,r.width,r.height);for(var n=v.getElementsByTagName("SubTexture"),i,e=0;e<n.length;e++){var a=n[e].attributes,l=a.name.value,s=parseInt(a.x.value,10),u=parseInt(a.y.value,10),f=parseInt(a.width.value,10),c=parseInt(a.height.value,10);if(i=t.add(l,o,s,u,f,c),a.frameX){var d=Math.abs(parseInt(a.frameX.value,10)),p=Math.abs(parseInt(a.frameY.value,10)),S=parseInt(a.frameWidth.value,10),C=parseInt(a.frameHeight.value,10);i.setTrim(f,c,d,p,S,C)}}return t};h.exports=x}),72893:(h=>{var x=function(t,o){var v=t.source[o];return t.add("__BASE",o,0,0,v.width,v.height),t};h.exports=x}),4832:(h=>{var x=function(t,o){var v=t.source[o];return t.add("__BASE",o,0,0,v.width,v.height),t};h.exports=x}),78566:((h,x,t)=>{var o=t(41786),v=function(r,n,i){if(!i.frames&&!i.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=r.source[n];r.add("__BASE",n,0,0,e.width,e.height);for(var a=Array.isArray(i.textures)?i.textures[n].frames:i.frames,l,s=0;s<a.length;s++){var u=a[s];if(l=r.add(u.filename,n,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+u.filename);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=u.anchor||u.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=o(u)}for(var c in i)c!=="frames"&&(Array.isArray(i[c])?r.customData[c]=i[c].slice(0):r.customData[c]=i[c]);return r};h.exports=v}),39711:((h,x,t)=>{var o=t(41786),v=function(r,n,i){if(!i.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=r.source[n];r.add("__BASE",n,0,0,e.width,e.height);var a=i.frames,l;for(var s in a)if(a.hasOwnProperty(s)){var u=a[s];if(l=r.add(s,n,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+s);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=u.anchor||u.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=o(u)}for(var c in i)c!=="frames"&&(Array.isArray(i[c])?r.customData[c]=i[c].slice(0):r.customData[c]=i[c]);return r};h.exports=v}),31403:(h=>{var x=function(t){var o=[171,75,84,88,32,49,49,187,13,10,26,10],v,r=new Uint8Array(t,0,12);for(v=0;v<r.length;v++)if(r[v]!==o[v]){console.warn("KTXParser - Invalid file format");return}var n=Uint32Array.BYTES_PER_ELEMENT,i=new DataView(t,12,13*n),e=i.getUint32(0,!0)===67305985,a=i.getUint32(1*n,e);if(a!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=i.getUint32(4*n,e),s=i.getUint32(6*n,e),u=i.getUint32(7*n,e),f=Math.max(1,i.getUint32(11*n,e)),c=i.getUint32(12*n,e),d=new Array(f),p=64+c,S=s,C=u;for(v=0;v<f;v++){var E=new Int32Array(t,p,1)[0];p+=4,d[v]={data:new Uint8Array(t,p,E),width:S,height:C},S=Math.max(1,S>>1),C=Math.max(1,C>>1),p+=E}return{mipmaps:d,width:s,height:u,internalFormat:l,compressed:!0,generateMipmap:!1}};h.exports=x}),82038:(h=>{function x(D,B,b,I,N,z,H){return H===void 0&&(H=16),Math.floor((D+b)/N)*Math.floor((B+I)/z)*H}function t(D,B){return D=Math.max(D,16),B=Math.max(B,8),D*B/4}function o(D,B){return D=Math.max(D,8),B=Math.max(B,8),D*B/2}function v(D,B){return Math.ceil(D/4)*Math.ceil(B/4)*16}function r(D,B){return x(D,B,3,3,4,4,8)}function n(D,B){return x(D,B,3,3,4,4)}function i(D,B){return x(D,B,4,3,5,4)}function e(D,B){return x(D,B,4,4,5,5)}function a(D,B){return x(D,B,5,4,6,5)}function l(D,B){return x(D,B,5,5,6,6)}function s(D,B){return x(D,B,7,4,8,5)}function u(D,B){return x(D,B,7,5,8,6)}function f(D,B){return x(D,B,7,7,8,8)}function c(D,B){return x(D,B,9,4,10,5)}function d(D,B){return x(D,B,9,5,10,6)}function p(D,B){return x(D,B,9,7,10,8)}function S(D,B){return x(D,B,9,9,10,10)}function C(D,B){return x(D,B,11,9,12,10)}function E(D,B){return x(D,B,11,11,12,12)}var R={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:r,glFormat:[36196]},7:{sizeFunc:r,glFormat:[33776,35916]},8:{sizeFunc:n,glFormat:[33777,35917]},9:{sizeFunc:n,glFormat:[33778,35918]},11:{sizeFunc:n,glFormat:[33779,35919]},14:{sizeFunc:v,glFormat:[36494,36495]},15:{sizeFunc:v,glFormat:[36492,36493]},22:{sizeFunc:r,glFormat:[37492,37493]},23:{sizeFunc:n,glFormat:[37496,37497]},24:{sizeFunc:r,glFormat:[37494,37495]},25:{sizeFunc:r,glFormat:[37488]},26:{sizeFunc:n,glFormat:[37490]},27:{sizeFunc:n,glFormat:[37808,37840]},28:{sizeFunc:i,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:a,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:s,glFormat:[37813,37845]},33:{sizeFunc:u,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:c,glFormat:[37816,37848]},36:{sizeFunc:d,glFormat:[37817,37849]},37:{sizeFunc:p,glFormat:[37818,37850]},38:{sizeFunc:S,glFormat:[37819,37851]},39:{sizeFunc:C,glFormat:[37820,37852]},40:{sizeFunc:E,glFormat:[37821,37853]}},M=function(D){for(var B=new Uint32Array(D,0,13),b=B[0],I=b===55727696,N=I?B[2]:B[3],z=B[4],H=R[N].glFormat[z],X=R[N].sizeFunc,W=B[11],V=B[7],U=B[6],F=52+B[12],k=new Uint8Array(D,F),Y=new Array(W),Z=0,j=V,J=U,q=0;q<W;q++){var et=X(j,J);Y[q]={data:new Uint8Array(k.buffer,k.byteOffset+Z,et),width:j,height:J},j=Math.max(1,j>>1),J=Math.max(1,J>>1),Z+=et}return{mipmaps:Y,width:V,height:U,internalFormat:H,compressed:!0,generateMipmap:!1}};h.exports=M}),75549:((h,x,t)=>{var o=t(95540),v=function(r,n,i,e,a,l,s){var u=o(s,"frameWidth",null),f=o(s,"frameHeight",u);if(u===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=r.source[n];r.add("__BASE",n,0,0,c.width,c.height);var d=o(s,"startFrame",0),p=o(s,"endFrame",-1),S=o(s,"margin",0),C=o(s,"spacing",0),E=Math.floor((a-S+C)/(u+C)),R=Math.floor((l-S+C)/(f+C)),M=E*R;M===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",r.key),(d>M||d<-M)&&(d=0),d<0&&(d=M+d),(p===-1||p>M||p<d)&&(p=M);for(var D=S,B=S,b=0,I=0,N=0,z=0;z<M;z++){b=0,I=0;var H=D+u,X=B+f;H>a&&(b=H-a),X>l&&(I=X-l),z>=d&&z<=p&&(r.add(N,n,i+D,e+B,u-b,f-I),N++),D+=u+C,D+u>a&&(D=S,B+=f+C)}return r};h.exports=v}),47534:((h,x,t)=>{var o=t(95540),v=function(r,n,i){var e=o(i,"frameWidth",null),a=o(i,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=r.source[0];r.add("__BASE",0,0,0,l.width,l.height),o(i,"startFrame",0),o(i,"endFrame",-1);for(var s=o(i,"margin",0),u=o(i,"spacing",0),f=n.cutX,c=n.cutY,d=n.cutWidth,p=n.cutHeight,S=n.realWidth,C=n.realHeight,E=Math.floor((S-s+u)/(e+u)),R=Math.floor((C-s+u)/(a+u)),M=n.x,D=e-M,B=e-(S-d-M),b=n.y,I=a-b,N=a-(C-p-b),z,H=s,X=s,W=0,V=0,U=0;U<R;U++){for(var F=U===0,k=U===R-1,Y=0;Y<E;Y++){var Z=Y===0,j=Y===E-1;if(z=r.add(W,V,f+H,c+X,e,a),Z||F||j||k){var J=Z?M:0,q=F?b:0,et=0,it=0;Z&&(et+=e-D),j&&(et+=e-B),F&&(it+=a-I),k&&(it+=a-N);var at=e-et,ut=a-it;z.cutWidth=at,z.cutHeight=ut,z.setTrim(e,a,J,q,at,ut)}H+=u,Z?H+=D:j?H+=B:H+=e,W++}H=s,X+=u,F?X+=I:k?X+=N:X+=a}return r};h.exports=v}),86147:(h=>{var x=0,t=function(v,r,n,i){var e=x-i.y-i.height;v.add(n,r,i.x,e,i.width,i.height)},o=function(v,r,n){var i=v.source[r];v.add("__BASE",r,0,0,i.width,i.height),x=i.height;for(var e=n.split(`
`),a=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",s="",u={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var c=e[f].match(a);if(c){var d=c[1]==="- ",p=c[2],S=c[3];if(d&&(s!==l&&(t(v,r,s,u),l=s),u={x:0,y:0,width:0,height:0}),p==="name"){s=S;continue}switch(p){case"x":case"y":case"width":case"height":u[p]=parseInt(S,10);break}}}return s!==l&&t(v,r,s,u),v};h.exports=o}),55222:((h,x,t)=>{var o=t(50030),v=function(l){for(var s=l.mipmaps,u=1;u<s.length;u++){var f=s[u].width,c=s[u].height;if(!o(f,c))return console.warn("Mip level "+u+" is not a power-of-two size: "+f+"x"+c),!1}var d=a[l.internalFormat];return d?d(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function r(l){for(var s=l.mipmaps,u=0;u<s.length;u++){var f=s[u].width,c=s[u].height;if((f<<u)%4!==0||(c<<u)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+u+" is "+f+"x"+c),!1}return!0}function n(){return!0}function i(l){var s=l.mipmaps,u=s[0];return o(u.width,u.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+u.width+"x"+u.height),!1)}function e(l){var s=l.mipmaps,u=s[0];return u.width%4!==0||u.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+u.width+"x"+u.height+" pixels"),!1):!0}var a={37488:n,37489:n,37490:n,37491:n,37492:n,37493:n,37494:n,37495:n,37496:n,37497:n,36196:n,37808:n,37809:n,37810:n,37811:n,37812:n,37813:n,37814:n,37815:n,37816:n,37817:n,37818:n,37819:n,37820:n,37821:n,37840:n,37841:n,37842:n,37843:n,37844:n,37845:n,37846:n,37847:n,37848:n,37849:n,37850:n,37851:n,37852:n,37853:n,36492:r,36493:r,36494:r,36495:r,36283:r,36284:r,36285:r,36286:r,35840:i,35841:i,35842:i,35843:i,33776:r,33777:r,33778:r,33779:r,35916:e,35917:e,35918:e,35919:e};h.exports=v}),61309:((h,x,t)=>{h.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}}),80341:(h=>{h.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}}),16536:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n,i,e,a,l,s,u){(e===void 0||e<=0)&&(e=32),(a===void 0||a<=0)&&(a=32),l===void 0&&(l=0),s===void 0&&(s=0),this.name=n,this.firstgid=i|0,this.imageWidth=e|0,this.imageHeight=a|0,this.imageMargin=l|0,this.imageSpacing=s|0,this.properties=u||{},this.images=[],this.total=0},containsImageIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},addImage:function(r,n,i,e){return this.images.push({gid:r,image:n,width:i,height:e}),this.total++,this}});h.exports=v}),27462:((h,x,t)=>{var o=t(83419),v=new o({initialize:function(n){if(this.gids=[],n!==void 0)for(var i=0;i<n.length;++i)for(var e=n[i],a=0;a<e.total;++a)this.gids[e.firstgid+a]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(r){this.gids=r?this._gids:void 0}},getTypeIncludingTile:function(r){if(r.type!==void 0&&r.type!=="")return r.type;if(!(!this.gids||r.gid===void 0)){var n=this.gids[r.gid];if(n){var i=n.getTileData(r.gid);if(i)return i.type}}},setTextureAndFrame:function(r,n,i,e){if(n===null&&this.gids&&e.gid!==void 0){var a=this.gids[e.gid];a&&(n===null&&a.image!==void 0&&(n=a.image.key),i===null&&(i=e.gid-a.firstgid),r.scene.textures.getFrame(n,i)||(n=null,i=null))}r.setTexture(n,i)},setPropertiesFromTiledObject:function(r,n){if(this.gids!==void 0&&n.gid!==void 0){var i=this.gids[n.gid];i!==void 0&&this.setFromJSON(r,i.getTileProperties(n.gid))}this.setFromJSON(r,n.properties)},setFromJSON:function(r,n){if(n){if(Array.isArray(n)){for(var i=0;i<n.length;i++){var e=n[i];r[e.name]!==void 0?r[e.name]=e.value:r.setData(e.name,e.value)}return}for(var a in n)r[a]!==void 0?r[a]=n[a]:r.setData(a,n[a])}}});h.exports=v}),31989:((h,x,t)=>{var o=t(80341),v=t(87010),r=t(46177),n=t(49075),i=function(e,a,l,s,u,f,c,d){l===void 0&&(l=32),s===void 0&&(s=32),u===void 0&&(u=10),f===void 0&&(f=10),d===void 0&&(d=!1);var p=null;if(Array.isArray(c)){var S=a!==void 0?a:"map";p=r(S,o.ARRAY_2D,c,l,s,d)}else if(a!==void 0){var C=e.cache.tilemap.get(a);C?p=r(a,C.format,C.data,l,s,d):console.warn("No map data found for key "+a)}return p===null&&(p=new v({tileWidth:l,tileHeight:s,width:u,height:f})),new n(e,p)};h.exports=i}),23029:((h,x,t)=>{var o=t(83419),v=t(31401),r=t(91907),n=t(62644),i=t(93232),e=new o({Mixins:[v.AlphaSingle,v.Flip,v.Visible],initialize:function(l,s,u,f,c,d,p,S){this.layer=l,this.index=s,this.x=u,this.y=f,this.width=c,this.height=d,this.right,this.bottom,this.baseWidth=p!==void 0?p:c,this.baseHeight=S!==void 0?S:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(a,l){return!(a<this.pixelX||l<this.pixelY||a>this.right||l>this.bottom)},copy:function(a){return this.index=a.index,this.alpha=a.alpha,this.properties=n(a.properties),this.visible=a.visible,this.setFlip(a.flipX,a.flipY),this.tint=a.tint,this.rotation=a.rotation,this.collideUp=a.collideUp,this.collideDown=a.collideDown,this.collideLeft=a.collideLeft,this.collideRight=a.collideRight,this.collisionCallback=a.collisionCallback,this.collisionCallbackContext=a.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(a){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,a);return s.x}return this.x*this.baseWidth},getRight:function(a){var l=this.tilemapLayer;return l?this.getLeft(a)+this.width*l.scaleX:this.getLeft(a)+this.width},getTop:function(a){var l=this.tilemapLayer;if(l){var s=l.tileToWorldXY(this.x,this.y,void 0,a);return s.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(a){var l=this.tilemapLayer;return l?this.getTop(a)+this.height*l.scaleY:this.getTop(a)+this.height},getBounds:function(a,l){return l===void 0&&(l=new i),l.x=this.getLeft(a),l.y=this.getTop(a),l.width=this.getRight(a)-l.x,l.height=this.getBottom(a)-l.y,l},getCenterX:function(a){return(this.getLeft(a)+this.getRight(a))/2},getCenterY:function(a){return(this.getTop(a)+this.getBottom(a))/2},intersects:function(a,l,s,u){return!(s<=this.pixelX||u<=this.pixelY||a>=this.right||l>=this.bottom)},isInteresting:function(a,l){return a&&l?this.canCollide||this.hasInterestingFace:a?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(a){if(a===void 0&&(a=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,a){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(a,l,s,u,f){if(l===void 0&&(l=a),s===void 0&&(s=a),u===void 0&&(u=a),f===void 0&&(f=!0),this.collideLeft=a,this.collideRight=l,this.collideUp=s,this.collideDown=u,this.faceLeft=a,this.faceRight=l,this.faceTop=s,this.faceBottom=u,f){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(a,l){return a===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=a,this.collisionCallbackContext=l),this},setSize:function(a,l,s,u){return a!==void 0&&(this.width=a),l!==void 0&&(this.height=l),s!==void 0&&(this.baseWidth=s),u!==void 0&&(this.baseHeight=u),this.updatePixelXY(),this},updatePixelXY:function(){var a=this.layer.orientation;if(a===r.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(a===r.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(a===r.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(a===r.HEXAGONAL){var l=this.layer.staggerAxis,s=this.layer.staggerIndex,u=this.layer.hexSideLength,f,c;l==="y"?(c=(this.baseHeight-u)/2+u,s==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*c):l==="x"&&(f=(this.baseWidth-u)/2+u,this.pixelX=this.x*f,s==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var a=this.layer.tilemapLayer;if(a){var l=a.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var a=this.tilemapLayer;return a?a.tilemap:null}}});h.exports=e}),49075:((h,x,t)=>{var o=t(84101),v=t(83419),r=t(39506),n=t(80341),i=t(95540),e=t(14977),a=t(27462),l=t(91907),s=t(36305),u=t(19133),f=t(68287),c=t(23029),d=t(81086),p=t(20442),S=t(33629),C=new v({initialize:function(R,M){this.scene=R,this.tileWidth=M.tileWidth,this.tileHeight=M.tileHeight,this.width=M.width,this.height=M.height,this.orientation=M.orientation,this.renderOrder=M.renderOrder,this.format=M.format,this.version=M.version,this.properties=M.properties,this.widthInPixels=M.widthInPixels,this.heightInPixels=M.heightInPixels,this.imageCollections=M.imageCollections,this.images=M.images,this.layers=M.layers,this.tiles=M.tiles,this.tilesets=M.tilesets,this.objects=M.objects,this.currentLayerIndex=0,this.hexSideLength=M.hexSideLength;var D=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(D),WorldToTileX:d.GetWorldToTileXFunction(D),WorldToTileY:d.GetWorldToTileYFunction(D),TileToWorldXY:d.GetTileToWorldXYFunction(D),TileToWorldX:d.GetTileToWorldXFunction(D),TileToWorldY:d.GetTileToWorldYFunction(D),GetTileCorners:d.GetTileCornersFunction(D)}},setRenderOrder:function(E){var R=["right-down","left-down","right-up","left-up"];return typeof E=="number"&&(E=R[E]),R.indexOf(E)>-1&&(this.renderOrder=E),this},addTilesetImage:function(E,R,M,D,B,b,I,N){if(E===void 0)return null;R==null&&(R=E);var z=this.scene.sys.textures;if(!z.exists(R))return console.warn('Texture key "%s" not found',R),null;var H=z.get(R),X=this.getTilesetIndex(E);if(X===null&&this.format===n.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',E,this.tilesets),null;var W=this.tilesets[X];return W?((M||D)&&W.setTileSize(M,D),(B||b)&&W.setSpacing(B,b),W.setImage(H),W):(M===void 0&&(M=this.tileWidth),D===void 0&&(D=this.tileHeight),B===void 0&&(B=0),b===void 0&&(b=0),I===void 0&&(I=0),N===void 0&&(N={x:0,y:0}),W=new S(E,I,M,D,B,b,void 0,void 0,N),W.setImage(H),this.tilesets.push(W),this.tiles=o(this),W)},copy:function(E,R,M,D,B,b,I,N){return N=this.getLayer(N),N!==null?(d.Copy(E,R,M,D,B,b,I,N),this):null},createBlankLayer:function(E,R,M,D,B,b,I,N){M===void 0&&(M=0),D===void 0&&(D=0),B===void 0&&(B=this.width),b===void 0&&(b=this.height),I===void 0&&(I=this.tileWidth),N===void 0&&(N=this.tileHeight);var z=this.getLayerIndex(E);if(z!==null)return console.warn("Invalid Tilemap Layer ID: "+E),null;for(var H=new e({name:E,tileWidth:I,tileHeight:N,width:B,height:b,orientation:this.orientation,hexSideLength:this.hexSideLength}),X,W=0;W<b;W++){X=[];for(var V=0;V<B;V++)X.push(new c(H,-1,V,W,I,N,this.tileWidth,this.tileHeight));H.data.push(X)}this.layers.push(H),this.currentLayerIndex=this.layers.length-1;var U=new p(this.scene,this,this.currentLayerIndex,R,M,D);return U.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(U),U},createLayer:function(E,R,M,D){var B=this.getLayerIndex(E);if(B===null)return console.warn("Invalid Tilemap Layer ID: "+E),typeof E=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var b=this.layers[B];if(b.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+E),null;this.currentLayerIndex=B,M===void 0&&(M=b.x),D===void 0&&(D=b.y);var I=new p(this.scene,this,B,R,M,D);return I.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(I),I},createFromObjects:function(E,R,M){M===void 0&&(M=!0);var D=[],B=this.getObjectLayer(E);if(!B)return console.warn("createFromObjects: Invalid objectLayerName given: "+E),D;var b=new a(M?this.tilesets:void 0);Array.isArray(R)||(R=[R]);for(var I=B.objects,N=0;N<R.length;N++){var z=R[N],H=i(z,"id",null),X=i(z,"gid",null),W=i(z,"name",null),V=i(z,"type",null);b.enabled=!i(z,"ignoreTileset",null);for(var U,F=[],k=0;k<I.length;k++)U=I[k],(H===null&&X===null&&W===null&&V===null||H!==null&&U.id===H||X!==null&&U.gid===X||W!==null&&U.name===W||V!==null&&b.getTypeIncludingTile(U)===V)&&F.push(U);for(var Y=i(z,"classType",f),Z=i(z,"scene",this.scene),j=i(z,"container",null),J=i(z,"key",null),q=i(z,"frame",null),et=0;et<F.length;et++){U=F[et];var it=new Y(Z);if(it.setName(U.name),it.setPosition(U.x,U.y),b.setTextureAndFrame(it,J,q,U),U.width&&(it.displayWidth=U.width),U.height&&(it.displayHeight=U.height),this.orientation===l.ISOMETRIC){var at=this.tileWidth/this.tileHeight,ut={x:it.x-it.y,y:(it.x+it.y)/at};it.x=ut.x,it.y=ut.y}var dt={x:it.originX*U.width,y:(it.originY-(U.gid?1:0))*U.height};if(U.rotation){var ft=r(U.rotation);s(dt,ft),it.rotation=ft}it.x+=dt.x,it.y+=dt.y,(U.flippedHorizontal!==void 0||U.flippedVertical!==void 0)&&it.setFlip(U.flippedHorizontal,U.flippedVertical),U.visible||(it.visible=!1),b.setPropertiesFromTiledObject(it,U),j?j.add(it):Z.add.existing(it),D.push(it)}}return D},createFromTiles:function(E,R,M,D,B,b){return b=this.getLayer(b),b===null?null:d.CreateFromTiles(E,R,M,D,B,b)},fill:function(E,R,M,D,B,b,I){return b===void 0&&(b=!0),I=this.getLayer(I),I===null?null:(d.Fill(E,R,M,D,B,b,I),this)},filterObjects:function(E,R,M){if(typeof E=="string"){var D=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+D),null}return E.objects.filter(R,M)},filterTiles:function(E,R,M,D,B,b,I,N){return N=this.getLayer(N),N===null?null:d.FilterTiles(E,R,M,D,B,b,I,N)},findByIndex:function(E,R,M,D){return D=this.getLayer(D),D===null?null:d.FindByIndex(E,R,M,D)},findObject:function(E,R,M){if(typeof E=="string"){var D=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+D),null}return E.objects.find(R,M)||null},findTile:function(E,R,M,D,B,b,I,N){return N=this.getLayer(N),N===null?null:d.FindTile(E,R,M,D,B,b,I,N)},forEachTile:function(E,R,M,D,B,b,I,N){return N=this.getLayer(N),N===null?null:(d.ForEachTile(E,R,M,D,B,b,I,N),this)},getImageIndex:function(E){return this.getIndex(this.images,E)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(E){return E.name})},getIndex:function(E,R){for(var M=0;M<E.length;M++)if(E[M].name===R)return M;return null},getLayer:function(E){var R=this.getLayerIndex(E);return R!==null?this.layers[R]:null},getObjectLayer:function(E){var R=this.getIndex(this.objects,E);return R!==null?this.objects[R]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(E){return E.name})},getLayerIndex:function(E){return E===void 0?this.currentLayerIndex:typeof E=="string"?this.getLayerIndexByName(E):typeof E=="number"&&E<this.layers.length?E:E instanceof p&&E.tilemap===this?E.layerIndex:null},getLayerIndexByName:function(E){return this.getIndex(this.layers,E)},getTileAt:function(E,R,M,D){return D=this.getLayer(D),D===null?null:d.GetTileAt(E,R,M,D)},getTileAtWorldXY:function(E,R,M,D,B){return B=this.getLayer(B),B===null?null:d.GetTileAtWorldXY(E,R,M,D,B)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(E){return E.name})},getTilesWithin:function(E,R,M,D,B,b){return b=this.getLayer(b),b===null?null:d.GetTilesWithin(E,R,M,D,B,b)},getTilesWithinShape:function(E,R,M,D){return D=this.getLayer(D),D===null?null:d.GetTilesWithinShape(E,R,M,D)},getTilesWithinWorldXY:function(E,R,M,D,B,b,I){return I=this.getLayer(I),I===null?null:d.GetTilesWithinWorldXY(E,R,M,D,B,b,I)},getTileset:function(E){var R=this.getIndex(this.tilesets,E);return R!==null?this.tilesets[R]:null},getTilesetIndex:function(E){return this.getIndex(this.tilesets,E)},hasTileAt:function(E,R,M){return M=this.getLayer(M),M===null?null:d.HasTileAt(E,R,M)},hasTileAtWorldXY:function(E,R,M,D){return D=this.getLayer(D),D===null?null:d.HasTileAtWorldXY(E,R,M,D)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(E){this.setLayer(E)}},putTileAt:function(E,R,M,D,B){return D===void 0&&(D=!0),B=this.getLayer(B),B===null?null:d.PutTileAt(E,R,M,D,B)},putTileAtWorldXY:function(E,R,M,D,B,b){return D===void 0&&(D=!0),b=this.getLayer(b),b===null?null:d.PutTileAtWorldXY(E,R,M,D,B,b)},putTilesAt:function(E,R,M,D,B){return D===void 0&&(D=!0),B=this.getLayer(B),B===null?null:(d.PutTilesAt(E,R,M,D,B),this)},randomize:function(E,R,M,D,B,b){return b=this.getLayer(b),b===null?null:(d.Randomize(E,R,M,D,B,b),this)},calculateFacesAt:function(E,R,M){return M=this.getLayer(M),M===null?null:(d.CalculateFacesAt(E,R,M),this)},calculateFacesWithin:function(E,R,M,D,B){return B=this.getLayer(B),B===null?null:(d.CalculateFacesWithin(E,R,M,D,B),this)},removeLayer:function(E){var R=this.getLayerIndex(E);if(R!==null){u(this.layers,R);for(var M=R;M<this.layers.length;M++)this.layers[M].tilemapLayer&&this.layers[M].tilemapLayer.layerIndex--;return this.currentLayerIndex===R&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(E){var R=this.getLayerIndex(E);return R!==null?(E=this.layers[R],E.tilemapLayer.destroy(),u(this.layers,R),this.currentLayerIndex===R&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var E=this.layers,R=0;R<E.length;R++)E[R].tilemapLayer&&E[R].tilemapLayer.destroy(!1);return E.length=0,this.currentLayerIndex=0,this},removeTile:function(E,R,M){R===void 0&&(R=-1),M===void 0&&(M=!0);var D=[];Array.isArray(E)||(E=[E]);for(var B=0;B<E.length;B++){var b=E[B];D.push(this.removeTileAt(b.x,b.y,!0,M,b.tilemapLayer)),R>-1&&this.putTileAt(R,b.x,b.y,M,b.tilemapLayer)}return D},removeTileAt:function(E,R,M,D,B){return M===void 0&&(M=!0),D===void 0&&(D=!0),B=this.getLayer(B),B===null?null:d.RemoveTileAt(E,R,M,D,B)},removeTileAtWorldXY:function(E,R,M,D,B,b){return M===void 0&&(M=!0),D===void 0&&(D=!0),b=this.getLayer(b),b===null?null:d.RemoveTileAtWorldXY(E,R,M,D,B,b)},renderDebug:function(E,R,M){return M=this.getLayer(M),M===null?null:(this.orientation===l.ORTHOGONAL&&d.RenderDebug(E,R,M),this)},renderDebugFull:function(E,R){for(var M=this.layers,D=0;D<M.length;D++)d.RenderDebug(E,R,M[D]);return this},replaceByIndex:function(E,R,M,D,B,b,I){return I=this.getLayer(I),I===null?null:(d.ReplaceByIndex(E,R,M,D,B,b,I),this)},setCollision:function(E,R,M,D,B){return R===void 0&&(R=!0),M===void 0&&(M=!0),B===void 0&&(B=!0),D=this.getLayer(D),D===null?null:(d.SetCollision(E,R,M,D,B),this)},setCollisionBetween:function(E,R,M,D,B){return M===void 0&&(M=!0),D===void 0&&(D=!0),B=this.getLayer(B),B===null?null:(d.SetCollisionBetween(E,R,M,D,B),this)},setCollisionByProperty:function(E,R,M,D){return R===void 0&&(R=!0),M===void 0&&(M=!0),D=this.getLayer(D),D===null?null:(d.SetCollisionByProperty(E,R,M,D),this)},setCollisionByExclusion:function(E,R,M,D){return R===void 0&&(R=!0),M===void 0&&(M=!0),D=this.getLayer(D),D===null?null:(d.SetCollisionByExclusion(E,R,M,D),this)},setCollisionFromCollisionGroup:function(E,R,M){return E===void 0&&(E=!0),R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:(d.SetCollisionFromCollisionGroup(E,R,M),this)},setTileIndexCallback:function(E,R,M,D){return D=this.getLayer(D),D===null?null:(d.SetTileIndexCallback(E,R,M,D),this)},setTileLocationCallback:function(E,R,M,D,B,b,I){return I=this.getLayer(I),I===null?null:(d.SetTileLocationCallback(E,R,M,D,B,b,I),this)},setLayer:function(E){var R=this.getLayerIndex(E);return R!==null&&(this.currentLayerIndex=R),this},setBaseTileSize:function(E,R){this.tileWidth=E,this.tileHeight=R,this.widthInPixels=this.width*E,this.heightInPixels=this.height*R;for(var M=0;M<this.layers.length;M++){this.layers[M].baseTileWidth=E,this.layers[M].baseTileHeight=R;for(var D=this.layers[M].data,B=this.layers[M].width,b=this.layers[M].height,I=0;I<b;I++)for(var N=0;N<B;N++){var z=D[I][N];z!==null&&z.setSize(void 0,void 0,E,R)}}return this},setLayerTileSize:function(E,R,M){if(M=this.getLayer(M),M===null)return this;M.tileWidth=E,M.tileHeight=R;for(var D=M.data,B=M.width,b=M.height,I=0;I<b;I++)for(var N=0;N<B;N++){var z=D[I][N];z!==null&&z.setSize(E,R)}return this},shuffle:function(E,R,M,D,B){return B=this.getLayer(B),B===null?null:(d.Shuffle(E,R,M,D,B),this)},swapByIndex:function(E,R,M,D,B,b,I){return I=this.getLayer(I),I===null?null:(d.SwapByIndex(E,R,M,D,B,b,I),this)},tileToWorldX:function(E,R,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldX(E,R,M)},tileToWorldY:function(E,R,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldY(E,R,M)},tileToWorldXY:function(E,R,M,D,B){return B=this.getLayer(B),B===null?null:this._convert.TileToWorldXY(E,R,M,D,B)},getTileCorners:function(E,R,M,D){return D=this.getLayer(D),D===null?null:this._convert.GetTileCorners(E,R,M,D)},weightedRandomize:function(E,R,M,D,B,b){return b=this.getLayer(b),b===null?null:(d.WeightedRandomize(R,M,D,B,E,b),this)},worldToTileX:function(E,R,M,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileX(E,R,M,D)},worldToTileY:function(E,R,M,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileY(E,R,M,D)},worldToTileXY:function(E,R,M,D,B,b){return b=this.getLayer(b),b===null?null:this._convert.WorldToTileXY(E,R,M,D,B,b)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});h.exports=C}),45939:((h,x,t)=>{var o=t(44603),v=t(31989);o.register("tilemap",function(r){var n=r!==void 0?r:{};return v(this.scene,n.key,n.tileWidth,n.tileHeight,n.width,n.height,n.data,n.insertNull)})}),46029:((h,x,t)=>{var o=t(39429),v=t(31989);o.register("tilemap",function(r,n,i,e,a,l,s){return r===null&&(r=void 0),n===null&&(n=void 0),i===null&&(i=void 0),e===null&&(e=void 0),a===null&&(a=void 0),v(this.scene,r,n,i,e,a,l,s)})}),20442:((h,x,t)=>{var o=t(83419),v=t(78389),r=t(31401),n=t(95643),i=t(81086),e=t(19218),a=t(26099),l=new o({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,v,e],initialize:function(u,f,c,d,p,S){n.call(this,u,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=c,this.layer=f.layers[c],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=i.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new a,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(p,S),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(s){var u=[],f=[],c=this.tilemap;Array.isArray(s)||(s=[s]);for(var d=0;d<s.length;d++){var p=s[d];if(typeof p=="string"&&(p=c.getTileset(p)),p){f.push(p);for(var S=p.firstgid,C=0;C<p.total;C++)u[S+C]=p}}this.gidMap=u,this.tileset=f},setRenderOrder:function(s){var u=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=u.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,u){return i.CalculateFacesAt(s,u,this.layer),this},calculateFacesWithin:function(s,u,f,c){return i.CalculateFacesWithin(s,u,f,c,this.layer),this},createFromTiles:function(s,u,f,c,d){return i.CreateFromTiles(s,u,f,c,d,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,u,f,c,d,p,S){return i.Copy(s,u,f,c,d,p,S,this.layer),this},fill:function(s,u,f,c,d,p){return i.Fill(s,u,f,c,d,p,this.layer),this},filterTiles:function(s,u,f,c,d,p,S){return i.FilterTiles(s,u,f,c,d,p,S,this.layer)},findByIndex:function(s,u,f){return i.FindByIndex(s,u,f,this.layer)},findTile:function(s,u,f,c,d,p,S){return i.FindTile(s,u,f,c,d,p,S,this.layer)},forEachTile:function(s,u,f,c,d,p,S){return i.ForEachTile(s,u,f,c,d,p,S,this.layer),this},setTint:function(s,u,f,c,d,p){s===void 0&&(s=16777215);var S=function(C){C.tint=s,C.tintFill=!1};return this.forEachTile(S,this,u,f,c,d,p)},setTintFill:function(s,u,f,c,d,p){s===void 0&&(s=16777215);var S=function(C){C.tint=s,C.tintFill=!0};return this.forEachTile(S,this,u,f,c,d,p)},getTileAt:function(s,u,f){return i.GetTileAt(s,u,f,this.layer)},getTileAtWorldXY:function(s,u,f,c){return i.GetTileAtWorldXY(s,u,f,c,this.layer)},getIsoTileAtWorldXY:function(s,u,f,c,d){f===void 0&&(f=!0);var p=this.tempVec;return i.IsometricWorldToTileXY(s,u,!0,p,d,this.layer,f),this.getTileAt(p.x,p.y,c)},getTilesWithin:function(s,u,f,c,d){return i.GetTilesWithin(s,u,f,c,d,this.layer)},getTilesWithinShape:function(s,u,f){return i.GetTilesWithinShape(s,u,f,this.layer)},getTilesWithinWorldXY:function(s,u,f,c,d,p){return i.GetTilesWithinWorldXY(s,u,f,c,d,p,this.layer)},hasTileAt:function(s,u){return i.HasTileAt(s,u,this.layer)},hasTileAtWorldXY:function(s,u,f){return i.HasTileAtWorldXY(s,u,f,this.layer)},putTileAt:function(s,u,f,c){return i.PutTileAt(s,u,f,c,this.layer)},putTileAtWorldXY:function(s,u,f,c,d){return i.PutTileAtWorldXY(s,u,f,c,d,this.layer)},putTilesAt:function(s,u,f,c){return i.PutTilesAt(s,u,f,c,this.layer),this},randomize:function(s,u,f,c,d){return i.Randomize(s,u,f,c,d,this.layer),this},removeTileAt:function(s,u,f,c){return i.RemoveTileAt(s,u,f,c,this.layer)},removeTileAtWorldXY:function(s,u,f,c,d){return i.RemoveTileAtWorldXY(s,u,f,c,d,this.layer)},renderDebug:function(s,u){return i.RenderDebug(s,u,this.layer),this},replaceByIndex:function(s,u,f,c,d,p){return i.ReplaceByIndex(s,u,f,c,d,p,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=1),this.cullPaddingX=s,this.cullPaddingY=u,this},setCollision:function(s,u,f,c){return i.SetCollision(s,u,f,this.layer,c),this},setCollisionBetween:function(s,u,f,c){return i.SetCollisionBetween(s,u,f,c,this.layer),this},setCollisionByProperty:function(s,u,f){return i.SetCollisionByProperty(s,u,f,this.layer),this},setCollisionByExclusion:function(s,u,f){return i.SetCollisionByExclusion(s,u,f,this.layer),this},setCollisionFromCollisionGroup:function(s,u){return i.SetCollisionFromCollisionGroup(s,u,this.layer),this},setTileIndexCallback:function(s,u,f){return i.SetTileIndexCallback(s,u,f,this.layer),this},setTileLocationCallback:function(s,u,f,c,d,p){return i.SetTileLocationCallback(s,u,f,c,d,p,this.layer),this},shuffle:function(s,u,f,c){return i.Shuffle(s,u,f,c,this.layer),this},swapByIndex:function(s,u,f,c,d,p){return i.SwapByIndex(s,u,f,c,d,p,this.layer),this},tileToWorldX:function(s,u){return this.tilemap.tileToWorldX(s,u,this)},tileToWorldY:function(s,u){return this.tilemap.tileToWorldY(s,u,this)},tileToWorldXY:function(s,u,f,c){return this.tilemap.tileToWorldXY(s,u,f,c,this)},getTileCorners:function(s,u,f){return this.tilemap.getTileCorners(s,u,f,this)},weightedRandomize:function(s,u,f,c,d){return i.WeightedRandomize(u,f,c,d,s,this.layer),this},worldToTileX:function(s,u,f){return this.tilemap.worldToTileX(s,u,f,this)},worldToTileY:function(s,u,f){return this.tilemap.worldToTileY(s,u,f,this)},worldToTileXY:function(s,u,f,c,d){return this.tilemap.worldToTileXY(s,u,f,c,d,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],n.prototype.destroy.call(this))}});h.exports=l}),16153:((h,x,t)=>{var o=t(61340),v=new o,r=new o,n=new o,i=function(e,a,l,s){var u=a.cull(l),f=u.length,c=l.alpha*a.alpha;if(!(f===0||c<=0)){var d=v,p=r,S=n;p.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),d.copyFrom(l.matrix);var C=e.currentContext,E=a.gidMap;C.save(),s?(d.multiplyWithOffset(s,-l.scrollX*a.scrollFactorX,-l.scrollY*a.scrollFactorY),p.e=a.x,p.f=a.y,d.multiply(p,S),S.copyToContext(C)):(p.e-=l.scrollX*a.scrollFactorX,p.f-=l.scrollY*a.scrollFactorY,p.copyToContext(C)),(!e.antialias||a.scaleX>1||a.scaleY>1)&&(C.imageSmoothingEnabled=!1);for(var R=0;R<f;R++){var M=u[R],D=E[M.index];if(D){var B=D.image.getSourceImage(),b=D.getTileTextureCoordinates(M.index),I=D.tileWidth,N=D.tileHeight;if(!(b===null||I===0||N===0)){var z=I*.5,H=N*.5;b.x+=D.tileOffset.x,b.y+=D.tileOffset.y,C.save(),C.translate(M.pixelX+z,M.pixelY+H),M.rotation!==0&&C.rotate(M.rotation),(M.flipX||M.flipY)&&C.scale(M.flipX?-1:1,M.flipY?-1:1),C.globalAlpha=c*M.alpha,C.drawImage(B,b.x,b.y,I,N,-z,-H,I,N),C.restore()}}}C.restore()}};h.exports=i}),19218:((h,x,t)=>{var o=t(29747),v=o,r=o;v=t(99558),r=t(16153),h.exports={renderWebGL:v,renderCanvas:r}}),99558:((h,x,t)=>{var o=t(70554),v=function(r,n,i){var e=n.cull(i),a=e.length,l=i.alpha*n.alpha;if(!(a===0||l<=0)){var s=n.gidMap,u=r.pipelines.set(n.pipeline,n),f=o.getTintAppendFloatAlpha,c=n.scrollFactorX,d=n.scrollFactorY,p=n.x,S=n.y,C=n.scaleX,E=n.scaleY;r.pipelines.preBatch(n);for(var R=0;R<a;R++){var M=e[R],D=s[M.index];if(D){var B=D.getTileTextureCoordinates(M.index),b=D.tileWidth,I=D.tileHeight;if(!(!B||b===0||I===0)){var N=b*.5,z=I*.5,H=D.glTexture,X=u.setTexture2D(H,n),W=b,V=I,U=B.x,F=B.y,k=D.tileOffset.x,Y=D.tileOffset.y,Z=f(M.tint,l*M.alpha);u.batchTexture(n,H,H.width,H.height,p+M.pixelX*C+(N*C-k),S+M.pixelY*E+(z*E-Y),b,I,C,E,M.rotation,M.flipX,M.flipY,c,d,N,z,U,F,W,V,Z,Z,Z,Z,M.tintFill,0,0,i,null,!0,X,!0)}}}r.pipelines.postBatch(n)}};h.exports=v}),33629:((h,x,t)=>{var o=t(83419),v=t(26099),r=new o({initialize:function(i,e,a,l,s,u,f,c,d){(a===void 0||a<=0)&&(a=32),(l===void 0||l<=0)&&(l=32),s===void 0&&(s=0),u===void 0&&(u=0),f===void 0&&(f={}),c===void 0&&(c={}),this.name=i,this.firstgid=e,this.tileWidth=a,this.tileHeight=l,this.tileMargin=s,this.tileSpacing=u,this.tileProperties=f,this.tileData=c,this.tileOffset=new v,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(n){return this.containsTileIndex(n)?this.tileProperties[n-this.firstgid]:null},getTileData:function(n){return this.containsTileIndex(n)?this.tileData[n-this.firstgid]:null},getTileCollisionGroup:function(n){var i=this.getTileData(n);return i&&i.objectgroup?i.objectgroup:null},containsTileIndex:function(n){return n>=this.firstgid&&n<this.firstgid+this.total},getTileTextureCoordinates:function(n){return this.containsTileIndex(n)?this.texCoordinates[n-this.firstgid]:null},setImage:function(n){this.image=n;var i=n.get(),e=n.getFrameBounds();return this.glTexture=i.source.glTexture,i.width>e.width||i.height>e.height?this.updateTileData(i.width,i.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(n,i){return n!==void 0&&(this.tileWidth=n),i!==void 0&&(this.tileHeight=i),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(n,i){return n!==void 0&&(this.tileMargin=n),i!==void 0&&(this.tileSpacing=i),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(n,i,e,a){e===void 0&&(e=0),a===void 0&&(a=0);var l=(i-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(n-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),s=Math.floor(s),this.rows=l,this.columns=s,this.total=l*s,this.texCoordinates.length=0;for(var u=this.tileMargin+e,f=this.tileMargin+a,c=0;c<this.rows;c++){for(var d=0;d<this.columns;d++)this.texCoordinates.push({x:u,y:f}),u+=this.tileWidth+this.tileSpacing;u=this.tileMargin+e,f+=this.tileHeight+this.tileSpacing}return this}});h.exports=r}),72023:((h,x,t)=>{var o=t(7423),v=function(r,n,i){var e=o(r,n,!0,i),a=o(r,n-1,!0,i),l=o(r,n+1,!0,i),s=o(r-1,n,!0,i),u=o(r+1,n,!0,i),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),a&&a.collides&&(f&&(e.faceTop=!1),a.faceBottom=!f),l&&l.collides&&(f&&(e.faceBottom=!1),l.faceTop=!f),s&&s.collides&&(f&&(e.faceLeft=!1),s.faceRight=!f),u&&u.collides&&(f&&(e.faceRight=!1),u.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};h.exports=v}),42573:((h,x,t)=>{var o=t(7423),v=t(7386),r=function(n,i,e,a,l){for(var s=null,u=null,f=null,c=null,d=v(n,i,e,a,null,l),p=0;p<d.length;p++){var S=d[p];S&&(S.collides?(s=o(S.x,S.y-1,!0,l),u=o(S.x,S.y+1,!0,l),f=o(S.x-1,S.y,!0,l),c=o(S.x+1,S.y,!0,l),S.faceTop=!(s&&s.collides),S.faceBottom=!(u&&u.collides),S.faceLeft=!(f&&f.collides),S.faceRight=!(c&&c.collides)):S.resetFaces())}};h.exports=r}),33528:((h,x,t)=>{var o=t(26099),v=new o,r=function(n,i,e,a){var l=e.tilemapLayer,s=l.cullPaddingX,u=l.cullPaddingY,f=l.tilemap.tileToWorldXY(n,i,v,a,l);return f.x>a.worldView.x+l.scaleX*e.tileWidth*(-s-.5)&&f.x<a.worldView.right+l.scaleX*e.tileWidth*(s-.5)&&f.y>a.worldView.y+l.scaleY*e.tileHeight*(-u-1)&&f.y<a.worldView.bottom+l.scaleY*e.tileHeight*(u-.5)};h.exports=r}),1785:((h,x,t)=>{var o=t(42573),v=t(7386),r=t(62991),n=t(23029),i=function(e,a,l,s,u,f,c,d){c===void 0&&(c=!0);var p=v(e,a,l,s,null,d),S=[];p.forEach(function(b){var I=new n(b.layer,b.index,b.x,b.y,b.width,b.height,b.baseWidth,b.baseHeight);I.copy(b),S.push(I)});for(var C=u-e,E=f-a,R=0;R<S.length;R++){var M=S[R],D=M.x+C,B=M.y+E;r(D,B,d)&&d.data[B][D]&&(M.x=D,M.y=B,M.updatePixelXY(),d.data[B][D]=M)}c&&o(u-1,f-1,l+2,s+2,d),p.length=0,S.length=0};h.exports=i}),78419:((h,x,t)=>{var o=t(62644),v=t(7386),r=t(27987),n=function(i,e,a,l,s,u){a||(a={}),Array.isArray(i)||(i=[i]);var f=u.tilemapLayer;l||(l=f.scene),s||(s=l.cameras.main);var c=u.width,d=u.height,p=v(0,0,c,d,null,u),S=[],C,E=function(B,b,I){for(var N=0;N<I.length;N++){var z=I[N];B.hasOwnProperty(z)||(B[z]=b[z])}};for(C=0;C<p.length;C++){var R=p[C],M=o(a);if(i.indexOf(R.index)!==-1){var D=f.tileToWorldXY(R.x,R.y,void 0,s,u);M.x=D.x,M.y=D.y,E(M,R,["rotation","flipX","flipY","alpha","visible","tint"]),M.hasOwnProperty("origin")||(M.x+=R.width*.5,M.y+=R.height*.5),M.hasOwnProperty("useSpriteSheet")&&(M.key=R.tileset.image,M.frame=R.index-R.tileset.firstgid),S.push(l.make.sprite(M))}}if(Array.isArray(e))for(C=0;C<i.length;C++)r(i[C],e[C],0,0,c,d,u);else if(e!==null)for(C=0;C<i.length;C++)r(i[C],e,0,0,c,d,u);return S};h.exports=n}),19545:((h,x,t)=>{var o=t(87841),v=t(63448),r=t(56583),n=new o,i=function(e,a){var l=e.tilemapLayer.tilemap,s=e.tilemapLayer,u=Math.floor(l.tileWidth*s.scaleX),f=Math.floor(l.tileHeight*s.scaleY),c=r(a.worldView.x-s.x,u,0,!0)-s.cullPaddingX,d=v(a.worldView.right-s.x,u,0,!0)+s.cullPaddingX,p=r(a.worldView.y-s.y,f,0,!0)-s.cullPaddingY,S=v(a.worldView.bottom-s.y,f,0,!0)+s.cullPaddingY;return n.setTo(c,p,d-c,S-p)};h.exports=i}),30003:((h,x,t)=>{var o=t(19545),v=t(32483),r=function(n,i,e,a){e===void 0&&(e=[]),a===void 0&&(a=0),e.length=0;var l=n.tilemapLayer,s=o(n,i);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(s.left=0,s.right=n.width,s.top=0,s.bottom=n.height),v(n,s,a,e),e};h.exports=r}),35137:((h,x,t)=>{var o=t(7386),v=t(42573),r=t(20576),n=function(i,e,a,l,s,u,f){for(var c=f.collideIndexes.indexOf(i)!==-1,d=o(e,a,l,s,null,f),p=0;p<d.length;p++)d[p].index=i,r(d[p],c);u&&v(e-1,a-1,l+2,s+2,f)};h.exports=n}),40253:((h,x,t)=>{var o=t(7386),v=function(r,n,i,e,a,l,s,u){var f=o(i,e,a,l,s,u);return f.filter(r,n)};h.exports=v}),52692:(h=>{var x=function(t,o,v,r){o===void 0&&(o=0),v===void 0&&(v=!1);var n=0,i,e,a;if(v){for(e=r.height-1;e>=0;e--)for(i=r.width-1;i>=0;i--)if(a=r.data[e][i],a&&a.index===t){if(n===o)return a;n+=1}}else for(e=0;e<r.height;e++)for(i=0;i<r.width;i++)if(a=r.data[e][i],a&&a.index===t){if(n===o)return a;n+=1}return null};h.exports=x}),66151:((h,x,t)=>{var o=t(7386),v=function(r,n,i,e,a,l,s,u){var f=o(i,e,a,l,s,u);return f.find(r,n)||null};h.exports=v}),97560:((h,x,t)=>{var o=t(7386),v=function(r,n,i,e,a,l,s,u){var f=o(i,e,a,l,s,u);f.forEach(r,n)};h.exports=v}),43305:((h,x,t)=>{var o=t(91907),v=t(30003),r=t(9474),n=t(14018),i=t(29747),e=t(54503),a=function(l){return l===o.ORTHOGONAL?v:l===o.HEXAGONAL?r:l===o.STAGGERED?e:l===o.ISOMETRIC?n:i};h.exports=a}),7423:((h,x,t)=>{var o=t(62991),v=function(r,n,i,e){if(o(r,n,e)){var a=e.data[n][r]||null;return a?a.index===-1?i?a:null:a:null}else return null};h.exports=v}),60540:((h,x,t)=>{var o=t(7423),v=t(26099),r=new v,n=function(i,e,a,l,s){return s.tilemapLayer.worldToTileXY(i,e,!0,r,l),o(r.x,r.y,a,s)};h.exports=n}),55826:((h,x,t)=>{var o=t(26099),v=function(r,n,i,e){var a=e.baseTileWidth,l=e.baseTileHeight,s=e.tilemapLayer,u=0,f=0;s&&(i||(i=s.scene.cameras.main),u=s.x+i.scrollX*(1-s.scrollFactorX),f=s.y+i.scrollY*(1-s.scrollFactorY),a*=s.scaleX,l*=s.scaleY);var c=u+r*a,d=f+n*l;return[new o(c,d),new o(c+a,d),new o(c+a,d+l),new o(c,d+l)]};h.exports=v}),11758:((h,x,t)=>{var o=t(91907),v=t(27229),r=t(29747),n=t(55826),i=function(e){return e===o.ORTHOGONAL?n:e===o.ISOMETRIC?r:e===o.HEXAGONAL?v:(e===o.STAGGERED,r)};h.exports=i}),39167:((h,x,t)=>{var o=t(91907),v=t(29747),r=t(97281),n=function(i){return i===o.ORTHOGONAL?r:v};h.exports=n}),62e3:((h,x,t)=>{var o=t(91907),v=t(19951),r=t(14127),n=t(29747),i=t(97202),e=t(70326),a=function(l){return l===o.ORTHOGONAL?e:l===o.ISOMETRIC?r:l===o.HEXAGONAL?v:l===o.STAGGERED?i:n};h.exports=a}),5984:((h,x,t)=>{var o=t(91907),v=t(29747),r=t(28054),n=t(29650),i=function(e){return e===o.ORTHOGONAL?n:e===o.STAGGERED?r:v};h.exports=i}),7386:((h,x,t)=>{var o=t(95540),v=function(r,n,i,e,a,l){r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=l.width),e===void 0&&(e=l.height),a||(a={});var s=o(a,"isNotEmpty",!1),u=o(a,"isColliding",!1),f=o(a,"hasInterestingFace",!1);r<0&&(i+=r,r=0),n<0&&(e+=n,n=0),r+i>l.width&&(i=Math.max(l.width-r,0)),n+e>l.height&&(e=Math.max(l.height-n,0));for(var c=[],d=n;d<n+e;d++)for(var p=r;p<r+i;p++){var S=l.data[d][p];if(S!==null){if(s&&S.index===-1||u&&!S.collides||f&&!S.hasInterestingFace)continue;c.push(S)}}return c};h.exports=v}),91141:((h,x,t)=>{var o=t(55738),v=t(7386),r=t(91865),n=t(29747),i=t(26099),e=t(91907),a=function(c,d){return r.RectangleToTriangle(d,c)},l=new i,s=new i,u=new i,f=function(c,d,p,S){if(S.orientation!==e.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(c===void 0)return[];var C=n;c instanceof o.Circle?C=r.CircleToRectangle:c instanceof o.Rectangle?C=r.RectangleToRectangle:c instanceof o.Triangle?C=a:c instanceof o.Line&&(C=r.LineToRectangle),S.tilemapLayer.worldToTileXY(c.left,c.top,!0,s,p);var E=s.x,R=s.y;S.tilemapLayer.worldToTileXY(c.right,c.bottom,!1,u,p);var M=Math.ceil(u.x),D=Math.ceil(u.y),B=Math.max(M-E,1),b=Math.max(D-R,1),I=v(E,R,B,b,d,S),N=S.tileWidth,z=S.tileHeight;S.tilemapLayer&&(N*=S.tilemapLayer.scaleX,z*=S.tilemapLayer.scaleY);for(var H=[],X=new o.Rectangle(0,0,N,z),W=0;W<I.length;W++){var V=I[W];S.tilemapLayer.tileToWorldXY(V.x,V.y,l,p),X.x=l.x,X.y=l.y,C(c,X)&&H.push(V)}return H};h.exports=f}),96523:((h,x,t)=>{var o=t(7386),v=t(26099),r=new v,n=new v,i=function(e,a,l,s,u,f,c){var d=c.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,a,!0,r,f,c);var p=r.x,S=r.y;d(e+l,a+s,!1,n,f,c);var C=Math.ceil(n.x),E=Math.ceil(n.y);return o(p,S,C-p,E-S,u,c)};h.exports=i}),96113:((h,x,t)=>{var o=t(91907),v=t(20242),r=t(10095),n=function(i){return i===o.ORTHOGONAL?r:v};h.exports=n}),16926:((h,x,t)=>{var o=t(91907),v=t(86625),r=t(96897),n=t(29747),i=t(15108),e=t(85896),a=function(l){return l===o.ORTHOGONAL?e:l===o.ISOMETRIC?r:l===o.HEXAGONAL?v:l===o.STAGGERED?i:n};h.exports=a}),55762:((h,x,t)=>{var o=t(91907),v=t(20242),r=t(51900),n=t(63288),i=function(e){return e===o.ORTHOGONAL?n:e===o.STAGGERED?r:v};h.exports=i}),45091:((h,x,t)=>{var o=t(62991),v=function(r,n,i){if(o(r,n,i)){var e=i.data[n][r];return e!==null&&e.index>-1}else return!1};h.exports=v}),24152:((h,x,t)=>{var o=t(45091),v=t(26099),r=new v,n=function(i,e,a,l){l.tilemapLayer.worldToTileXY(i,e,!0,r,a);var s=r.x,u=r.y;return o(s,u,l)};h.exports=n}),90454:((h,x,t)=>{var o=t(63448),v=t(56583),r=function(n,i){var e=n.tilemapLayer.tilemap,a=n.tilemapLayer,l=Math.floor(e.tileWidth*a.scaleX),s=Math.floor(e.tileHeight*a.scaleY),u=n.hexSideLength,f,c,d,p;if(n.staggerAxis==="y"){var S=(s-u)/2+u;f=v(i.worldView.x-a.x,l,0,!0)-a.cullPaddingX,c=o(i.worldView.right-a.x,l,0,!0)+a.cullPaddingX,d=v(i.worldView.y-a.y,S,0,!0)-a.cullPaddingY,p=o(i.worldView.bottom-a.y,S,0,!0)+a.cullPaddingY}else{var C=(l-u)/2+u;f=v(i.worldView.x-a.x,C,0,!0)-a.cullPaddingX,c=o(i.worldView.right-a.x,C,0,!0)+a.cullPaddingX,d=v(i.worldView.y-a.y,s,0,!0)-a.cullPaddingY,p=o(i.worldView.bottom-a.y,s,0,!0)+a.cullPaddingY}return{left:f,right:c,top:d,bottom:p}};h.exports=r}),9474:((h,x,t)=>{var o=t(90454),v=t(32483),r=function(n,i,e,a){e===void 0&&(e=[]),a===void 0&&(a=0),e.length=0;var l=n.tilemapLayer,s=o(n,i);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=n.width,s.top=0,s.bottom=n.height),v(n,s,a,e),e};h.exports=r}),27229:((h,x,t)=>{var o=t(19951),v=t(26099),r=new v,n=function(i,e,a,l){var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(s*=f.scaleX,u*=f.scaleY);var c=o(i,e,r,a,l),d=[],p=.5773502691896257,S,C;l.staggerAxis==="y"?(S=p*s,C=u/2):(S=s/2,C=p*u);for(var E=0;E<6;E++){var R=2*Math.PI*(.5-E)/6;d.push(new v(c.x+S*Math.cos(R),c.y+C*Math.sin(R)))}return d};h.exports=n}),19951:((h,x,t)=>{var o=t(26099),v=function(r,n,i,e,a){i||(i=new o);var l=a.baseTileWidth,s=a.baseTileHeight,u=a.tilemapLayer,f=0,c=0;u&&(e||(e=u.scene.cameras.main),f=u.x+e.scrollX*(1-u.scrollFactorX),c=u.y+e.scrollY*(1-u.scrollFactorY),l*=u.scaleX,s*=u.scaleY);var d=l/2,p=s/2,S,C,E=a.staggerAxis,R=a.staggerIndex;return E==="y"?(S=f+l*r+l,C=c+1.5*n*p+p,n%2===0&&(R==="odd"?S-=d:S+=d)):E==="x"&&R==="odd"&&(S=f+1.5*r*d+d,C=c+s*r+s,r%2===0&&(R==="odd"?C-=p:C+=p)),i.set(S,C)};h.exports=v}),86625:((h,x,t)=>{var o=t(26099),v=function(r,n,i,e,a,l){e||(e=new o);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(a||(a=f.scene.cameras.main),r=r-(f.x+a.scrollX*(1-f.scrollFactorX)),n=n-(f.y+a.scrollY*(1-f.scrollFactorY)),s*=f.scaleX,u*=f.scaleY);var c=.5773502691896257,d=-.3333333333333333,p=0,S=.6666666666666666,C=s/2,E=u/2,R,M,D,B,b;l.staggerAxis==="y"?(R=(r-C)/(c*s),M=(n-E)/E,D=c*R+d*M,B=p*R+S*M):(R=(r-C)/C,M=(n-E)/(c*u),D=d*R+c*M,B=S*R+p*M),b=-D-B;var I=Math.round(D),N=Math.round(B),z=Math.round(b),H=Math.abs(I-D),X=Math.abs(N-B),W=Math.abs(z-b);H>X&&H>W?I=-N-z:X>W&&(N=-I-z);var V,U=N;return l.staggerIndex==="odd"?V=U%2===0?N/2+I:N/2+I-.5:V=U%2===0?N/2+I:N/2+I+.5,e.set(V,U)};h.exports=v}),62991:(h=>{var x=function(t,o,v){return t>=0&&t<v.width&&o>=0&&o<v.height};h.exports=x}),14018:((h,x,t)=>{var o=t(33528),v=function(r,n,i,e){i===void 0&&(i=[]),e===void 0&&(e=0),i.length=0;var a=r.tilemapLayer,l=r.data,s=r.width,u=r.height,f=a.skipCull,c=0,d=s,p=0,S=u,C,E,R;if(e===0)for(E=p;E<S;E++)for(C=c;C<d;C++)R=l[E][C],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!f&&!o(C,E,r,n)||i.push(R));else if(e===1)for(E=p;E<S;E++)for(C=d;C>=c;C--)R=l[E][C],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!f&&!o(C,E,r,n)||i.push(R));else if(e===2)for(E=S;E>=p;E--)for(C=c;C<d;C++)R=l[E][C],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!f&&!o(C,E,r,n)||i.push(R));else if(e===3)for(E=S;E>=p;E--)for(C=d;C>=c;C--)R=l[E][C],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!f&&!o(C,E,r,n)||i.push(R));return a.tilesDrawn=i.length,a.tilesTotal=s*u,i};h.exports=v}),14127:((h,x,t)=>{var o=t(26099),v=function(r,n,i,e,a){i||(i=new o);var l=a.baseTileWidth,s=a.baseTileHeight,u=a.tilemapLayer,f=0,c=0;u&&(e||(e=u.scene.cameras.main),f=u.x+e.scrollX*(1-u.scrollFactorX),l*=u.scaleX,c=u.y+e.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var d=f+(r-n)*(l/2),p=c+(r+n)*(s/2);return i.set(d,p)};h.exports=v}),96897:((h,x,t)=>{var o=t(26099),v=function(r,n,i,e,a,l,s){e||(e=new o);var u=l.baseTileWidth,f=l.baseTileHeight,c=l.tilemapLayer;c&&(a||(a=c.scene.cameras.main),n=n-(c.y+a.scrollY*(1-c.scrollFactorY)),f*=c.scaleY,r=r-(c.x+a.scrollX*(1-c.scrollFactorX)),u*=c.scaleX);var d=u/2,p=f/2;r=r-d,s||(n=n-f);var S=.5*(r/d+n/p),C=.5*(-r/d+n/p);return i&&(S=Math.floor(S),C=Math.floor(C)),e.set(S,C)};h.exports=v}),71558:((h,x,t)=>{var o=t(23029),v=t(62991),r=t(72023),n=t(20576),i=function(e,a,l,s,u){if(s===void 0&&(s=!0),!v(a,l,u))return null;var f,c=u.data[l][a],d=c&&c.collides;e instanceof o?(u.data[l][a]===null&&(u.data[l][a]=new o(u,e.index,a,l,u.tileWidth,u.tileHeight)),u.data[l][a].copy(e)):(f=e,u.data[l][a]===null?u.data[l][a]=new o(u,f,a,l,u.tileWidth,u.tileHeight):u.data[l][a].index=f);var p=u.data[l][a],S=u.collideIndexes.indexOf(p.index)!==-1;if(f=e instanceof o?e.index:e,f===-1)p.width=u.tileWidth,p.height=u.tileHeight;else{var C=u.tilemapLayer.tilemap,E=C.tiles,R=E[f][2],M=C.tilesets[R];p.width=M.tileWidth,p.height=M.tileHeight}return n(p,S),s&&d!==p.collides&&r(a,l,u),p};h.exports=i}),26303:((h,x,t)=>{var o=t(71558),v=t(26099),r=new v,n=function(i,e,a,l,s,u){return u.tilemapLayer.worldToTileXY(e,a,!0,r,s,u),o(i,r.x,r.y,l,u)};h.exports=n}),14051:((h,x,t)=>{var o=t(42573),v=t(71558),r=function(n,i,e,a,l){if(a===void 0&&(a=!0),!Array.isArray(n))return null;Array.isArray(n[0])||(n=[n]);for(var s=n.length,u=n[0].length,f=0;f<s;f++)for(var c=0;c<u;c++){var d=n[f][c];v(d,i+c,e+f,!1,l)}a&&o(i-1,e-1,u+2,s+2,l)};h.exports=r}),77389:((h,x,t)=>{var o=t(7386),v=t(26546),r=function(n,i,e,a,l,s){var u,f=o(n,i,e,a,{},s);if(!l)for(l=[],u=0;u<f.length;u++)l.indexOf(f[u].index)===-1&&l.push(f[u].index);for(u=0;u<f.length;u++)f[u].index=v(l)};h.exports=r}),63557:((h,x,t)=>{var o=t(23029),v=t(62991),r=t(72023),n=function(i,e,a,l,s){if(a===void 0&&(a=!0),l===void 0&&(l=!0),!v(i,e,s))return null;var u=s.data[e][i];if(u)s.data[e][i]=a?null:new o(s,-1,i,e,s.tileWidth,s.tileHeight);else return null;return l&&u&&u.collides&&r(i,e,s),u};h.exports=n}),94178:((h,x,t)=>{var o=t(63557),v=t(26099),r=new v,n=function(i,e,a,l,s,u){return u.tilemapLayer.worldToTileXY(i,e,!0,r,s,u),o(r.x,r.y,a,l,u)};h.exports=n}),15533:((h,x,t)=>{var o=t(7386),v=t(3956),r=new v(105,210,231,150),n=new v(243,134,48,200),i=new v(40,39,37,150),e=function(a,l,s){l===void 0&&(l={});var u=l.tileColor!==void 0?l.tileColor:r,f=l.collidingTileColor!==void 0?l.collidingTileColor:n,c=l.faceColor!==void 0?l.faceColor:i,d=o(0,0,s.width,s.height,null,s);a.translateCanvas(s.tilemapLayer.x,s.tilemapLayer.y),a.scaleCanvas(s.tilemapLayer.scaleX,s.tilemapLayer.scaleY);for(var p=0;p<d.length;p++){var S=d[p],C=S.tileset?S.tileset.tileOffset:{x:0,y:0},E=S.width,R=S.height,M=S.pixelX-C.x,D=S.pixelY-C.y,B=S.collides?f:u;B!==null&&(a.fillStyle(B.color,B.alpha/255),a.fillRect(M,D,E,R)),M+=1,D+=1,E-=2,R-=2,c!==null&&(a.lineStyle(1,c.color,c.alpha/255),S.faceTop&&a.lineBetween(M,D,M+E,D),S.faceRight&&a.lineBetween(M+E,D,M+E,D+R),S.faceBottom&&a.lineBetween(M,D+R,M+E,D+R),S.faceLeft&&a.lineBetween(M,D,M,D+R))}};h.exports=e}),27987:((h,x,t)=>{var o=t(7386),v=function(r,n,i,e,a,l,s){for(var u=o(i,e,a,l,null,s),f=0;f<u.length;f++)u[f]&&u[f].index===r&&(u[f].index=n)};h.exports=v}),32483:(h=>{var x=function(t,o,v,r){var n=t.data,i=t.width,e=t.height,a=t.tilemapLayer,l=Math.max(0,o.left),s=Math.min(i,o.right),u=Math.max(0,o.top),f=Math.min(e,o.bottom),c,d,p;if(v===0)for(d=u;d<f;d++)for(c=l;n[d]&&c<s;c++)p=n[d][c],!(!p||p.index===-1||!p.visible||p.alpha===0)&&r.push(p);else if(v===1)for(d=u;d<f;d++)for(c=s;n[d]&&c>=l;c--)p=n[d][c],!(!p||p.index===-1||!p.visible||p.alpha===0)&&r.push(p);else if(v===2)for(d=f;d>=u;d--)for(c=l;n[d]&&c<s;c++)p=n[d][c],!(!p||p.index===-1||!p.visible||p.alpha===0)&&r.push(p);else if(v===3)for(d=f;d>=u;d--)for(c=s;n[d]&&c>=l;c--)p=n[d][c],!(!p||p.index===-1||!p.visible||p.alpha===0)&&r.push(p);return a.tilesDrawn=r.length,a.tilesTotal=i*e,r};h.exports=x}),57068:((h,x,t)=>{var o=t(20576),v=t(42573),r=t(9589),n=function(i,e,a,l,s){e===void 0&&(e=!0),a===void 0&&(a=!0),s===void 0&&(s=!0),Array.isArray(i)||(i=[i]);for(var u=0;u<i.length;u++)r(i[u],e,l);if(s)for(var f=0;f<l.height;f++)for(var c=0;c<l.width;c++){var d=l.data[f][c];d&&i.indexOf(d.index)!==-1&&o(d,e)}a&&v(0,0,l.width,l.height,l)};h.exports=n}),37266:((h,x,t)=>{var o=t(20576),v=t(42573),r=t(9589),n=function(i,e,a,l,s,u){if(a===void 0&&(a=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),!(i>e)){for(var f=i;f<=e;f++)r(f,a,s);if(u)for(var c=0;c<s.height;c++)for(var d=0;d<s.width;d++){var p=s.data[c][d];p&&p.index>=i&&p.index<=e&&o(p,a)}l&&v(0,0,s.width,s.height,s)}};h.exports=n}),75661:((h,x,t)=>{var o=t(20576),v=t(42573),r=t(9589),n=function(i,e,a,l){e===void 0&&(e=!0),a===void 0&&(a=!0),Array.isArray(i)||(i=[i]);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var f=l.data[s][u];f&&i.indexOf(f.index)===-1&&(o(f,e),r(f.index,e,l))}a&&v(0,0,l.width,l.height,l)};h.exports=n}),64740:((h,x,t)=>{var o=t(20576),v=t(42573),r=t(97022),n=function(i,e,a,l){e===void 0&&(e=!0),a===void 0&&(a=!0);for(var s=0;s<l.height;s++)for(var u=0;u<l.width;u++){var f=l.data[s][u];if(f){for(var c in i)if(r(f.properties,c)){var d=i[c];Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)f.properties[c]===d[p]&&o(f,e)}}}a&&v(0,0,l.width,l.height,l)};h.exports=n}),63307:((h,x,t)=>{var o=t(20576),v=t(42573),r=function(n,i,e){n===void 0&&(n=!0),i===void 0&&(i=!0);for(var a=0;a<e.height;a++)for(var l=0;l<e.width;l++){var s=e.data[a][l];if(s){var u=s.getCollisionGroup();u&&u.objects&&u.objects.length>0&&o(s,n)}}i&&v(0,0,e.width,e.height,e)};h.exports=r}),9589:(h=>{var x=function(t,o,v){var r=v.collideIndexes.indexOf(t);o&&r===-1?v.collideIndexes.push(t):!o&&r!==-1&&v.collideIndexes.splice(r,1)};h.exports=x}),20576:(h=>{var x=function(t,o){o?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};h.exports=x}),79583:(h=>{var x=function(t,o,v,r){if(typeof t=="number")r.callbacks[t]=o!==null?{callback:o,callbackContext:v}:void 0;else for(var n=0,i=t.length;n<i;n++)r.callbacks[t[n]]=o!==null?{callback:o,callbackContext:v}:void 0};h.exports=x}),93254:((h,x,t)=>{var o=t(7386),v=function(r,n,i,e,a,l,s){for(var u=o(r,n,i,e,null,s),f=0;f<u.length;f++)u[f].setCollisionCallback(a,l)};h.exports=v}),32903:((h,x,t)=>{var o=t(7386),v=t(33680),r=function(n,i,e,a,l){var s=o(n,i,e,a,null,l),u=s.map(function(c){return c.index});v(u);for(var f=0;f<s.length;f++)s[f].index=u[f]};h.exports=r}),61325:((h,x,t)=>{var o=t(63448),v=t(56583),r=function(n,i){var e=n.tilemapLayer.tilemap,a=n.tilemapLayer,l=Math.floor(e.tileWidth*a.scaleX),s=Math.floor(e.tileHeight*a.scaleY),u=v(i.worldView.x-a.x,l,0,!0)-a.cullPaddingX,f=o(i.worldView.right-a.x,l,0,!0)+a.cullPaddingX,c=v(i.worldView.y-a.y,s/2,0,!0)-a.cullPaddingY,d=o(i.worldView.bottom-a.y,s/2,0,!0)+a.cullPaddingY;return{left:u,right:f,top:c,bottom:d}};h.exports=r}),54503:((h,x,t)=>{var o=t(61325),v=t(32483),r=function(n,i,e,a){e===void 0&&(e=[]),a===void 0&&(a=0),e.length=0;var l=n.tilemapLayer,s=o(n,i);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(s.left=0,s.right=n.width,s.top=0,s.bottom=n.height),v(n,s,a,e),e};h.exports=r}),97202:((h,x,t)=>{var o=t(26099),v=function(r,n,i,e,a){i||(i=new o);var l=a.baseTileWidth,s=a.baseTileHeight,u=a.tilemapLayer,f=0,c=0;u&&(e||(e=u.scene.cameras.main),f=u.x+e.scrollX*(1-u.scrollFactorX),l*=u.scaleX,c=u.y+e.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var d=f+r*l+n%2*(l/2),p=c+n*(s/2);return i.set(d,p)};h.exports=v}),28054:(h=>{var x=function(t,o,v){var r=v.baseTileHeight,n=v.tilemapLayer,i=0;return n&&(o===void 0&&(o=n.scene.cameras.main),i=n.y+o.scrollY*(1-n.scrollFactorY),r*=n.scaleY),i+t*(r/2)+r};h.exports=x}),15108:((h,x,t)=>{var o=t(26099),v=function(r,n,i,e,a,l){e||(e=new o);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(a||(a=f.scene.cameras.main),n=n-(f.y+a.scrollY*(1-f.scrollFactorY)),u*=f.scaleY,r=r-(f.x+a.scrollX*(1-f.scrollFactorX)),s*=f.scaleX);var c=i?Math.floor(n/(u/2)):n/(u/2),d=i?Math.floor((r+c%2*.5*s)/s):(r+c%2*.5*s)/s;return e.set(d,c)};h.exports=v}),51900:(h=>{var x=function(t,o,v,r){var n=r.baseTileHeight,i=r.tilemapLayer;return i&&(v||(v=i.scene.cameras.main),t=t-(i.y+v.scrollY*(1-i.scrollFactorY)),n*=i.scaleY),o?Math.floor(t/(n/2)):t/(n/2)};h.exports=x}),86560:((h,x,t)=>{var o=t(7386),v=function(r,n,i,e,a,l,s){for(var u=o(i,e,a,l,null,s),f=0;f<u.length;f++)u[f]&&(u[f].index===r?u[f].index=n:u[f].index===n&&(u[f].index=r))};h.exports=v}),97281:(h=>{var x=function(t,o,v){var r=v.baseTileWidth,n=v.tilemapLayer,i=0;return n&&(o||(o=n.scene.cameras.main),i=n.x+o.scrollX*(1-n.scrollFactorX),r*=n.scaleX),i+t*r};h.exports=x}),70326:((h,x,t)=>{var o=t(97281),v=t(29650),r=t(26099),n=function(i,e,a,l,s){return a||(a=new r(0,0)),a.x=o(i,l,s),a.y=v(e,l,s),a};h.exports=n}),29650:(h=>{var x=function(t,o,v){var r=v.baseTileHeight,n=v.tilemapLayer,i=0;return n&&(o||(o=n.scene.cameras.main),i=n.y+o.scrollY*(1-n.scrollFactorY),r*=n.scaleY),i+t*r};h.exports=x}),77366:((h,x,t)=>{var o=t(7386),v=t(75508),r=function(n,i,e,a,l,s){if(l){var u,f=o(n,i,e,a,null,s),c=0;for(u=0;u<l.length;u++)c+=l[u].weight;if(!(c<=0))for(u=0;u<f.length;u++){for(var d=v.RND.frac()*c,p=0,S=-1,C=0;C<l.length;C++)if(p+=l[C].weight,d<=p){var E=l[C].index;S=Array.isArray(E)?E[Math.floor(v.RND.frac()*E.length)]:E;break}f[u].index=S}}};h.exports=r}),10095:((h,x,t)=>{var o=t(85896),v=t(26099),r=new v,n=function(i,e,a,l){return o(i,0,e,r,a,l),r.x};h.exports=n}),85896:((h,x,t)=>{var o=t(26099),v=function(r,n,i,e,a,l){i===void 0&&(i=!0),e||(e=new o);var s=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(a||(a=f.scene.cameras.main),r=r-(f.x+a.scrollX*(1-f.scrollFactorX)),n=n-(f.y+a.scrollY*(1-f.scrollFactorY)),s*=f.scaleX,u*=f.scaleY);var c=r/s,d=n/u;return i&&(c=Math.floor(c),d=Math.floor(d)),e.set(c,d)};h.exports=v}),63288:((h,x,t)=>{var o=t(85896),v=t(26099),r=new v,n=function(i,e,a,l){return o(0,i,e,r,a,l),r.y};h.exports=n}),81086:((h,x,t)=>{h.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}}),91907:(h=>{h.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}}),21829:((h,x,t)=>{var o={ORIENTATION:t(91907)};h.exports=o}),62501:((h,x,t)=>{var o=t(79291),v=t(21829),r={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};r=o(!1,r,v.ORIENTATION),h.exports=r}),14977:((h,x,t)=>{var o=t(83419),v=t(91907),r=t(95540),n=new o({initialize:function(e){e===void 0&&(e={}),this.name=r(e,"name","layer"),this.id=r(e,"id",0),this.x=r(e,"x",0),this.y=r(e,"y",0),this.width=r(e,"width",0),this.height=r(e,"height",0),this.tileWidth=r(e,"tileWidth",0),this.tileHeight=r(e,"tileHeight",0),this.baseTileWidth=r(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=r(e,"baseTileHeight",this.tileHeight),this.orientation=r(e,"orientation",v.ORTHOGONAL),this.widthInPixels=r(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=r(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=r(e,"alpha",1),this.visible=r(e,"visible",!0),this.properties=r(e,"properties",[]),this.indexes=r(e,"indexes",[]),this.collideIndexes=r(e,"collideIndexes",[]),this.callbacks=r(e,"callbacks",[]),this.bodies=r(e,"bodies",[]),this.data=r(e,"data",[]),this.tilemapLayer=r(e,"tilemapLayer",null),this.hexSideLength=r(e,"hexSideLength",0),this.staggerAxis=r(e,"staggerAxis","y"),this.staggerIndex=r(e,"staggerIndex","odd")}});h.exports=n}),87010:((h,x,t)=>{var o=t(83419),v=t(91907),r=t(95540),n=new o({initialize:function(e){e===void 0&&(e={}),this.name=r(e,"name","map"),this.width=r(e,"width",0),this.height=r(e,"height",0),this.infinite=r(e,"infinite",!1),this.tileWidth=r(e,"tileWidth",0),this.tileHeight=r(e,"tileHeight",0),this.widthInPixels=r(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=r(e,"heightInPixels",this.height*this.tileHeight),this.format=r(e,"format",null),this.orientation=r(e,"orientation",v.ORTHOGONAL),this.renderOrder=r(e,"renderOrder","right-down"),this.version=r(e,"version","1"),this.properties=r(e,"properties",{}),this.layers=r(e,"layers",[]),this.images=r(e,"images",[]),this.objects=r(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=r(e,"collision",{}),this.tilesets=r(e,"tilesets",[]),this.imageCollections=r(e,"imageCollections",[]),this.tiles=r(e,"tiles",[]),this.hexSideLength=r(e,"hexSideLength",0),this.staggerAxis=r(e,"staggerAxis","y"),this.staggerIndex=r(e,"staggerIndex","odd")}});h.exports=n}),48700:((h,x,t)=>{var o=t(83419),v=t(95540),r=new o({initialize:function(i){i===void 0&&(i={}),this.name=v(i,"name","object layer"),this.id=v(i,"id",0),this.opacity=v(i,"opacity",1),this.properties=v(i,"properties",{}),this.propertyTypes=v(i,"propertytypes",{}),this.type=v(i,"type","objectgroup"),this.visible=v(i,"visible",!0),this.objects=v(i,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});h.exports=r}),6641:((h,x,t)=>{var o=t(91907),v=function(r){return r=r.toLowerCase(),r==="isometric"?o.ISOMETRIC:r==="staggered"?o.STAGGERED:r==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};h.exports=v}),46177:((h,x,t)=>{var o=t(80341),v=t(2342),r=t(82593),n=t(46594),i=t(87021),e=function(a,l,s,u,f,c){var d;switch(l){case o.ARRAY_2D:d=v(a,s,u,f,c);break;case o.CSV:d=r(a,s,u,f,c);break;case o.TILED_JSON:d=n(a,s,c);break;case o.WELTMEISTER:d=i(a,s,c);break;default:console.warn("Unrecognized tilemap data format: "+l),d=null}return d};h.exports=e}),2342:((h,x,t)=>{var o=t(80341),v=t(14977),r=t(87010),n=t(23029),i=function(e,a,l,s,u){for(var f=new v({tileWidth:l,tileHeight:s}),c=new r({name:e,tileWidth:l,tileHeight:s,format:o.ARRAY_2D,layers:[f]}),d=[],p=a.length,S=0,C=0;C<a.length;C++){d[C]=[];for(var E=a[C],R=0;R<E.length;R++){var M=parseInt(E[R],10);isNaN(M)||M===-1?d[C][R]=u?null:new n(f,-1,R,C,l,s):d[C][R]=new n(f,M,R,C,l,s)}S===0&&(S=E.length)}return c.width=f.width=S,c.height=f.height=p,c.widthInPixels=f.widthInPixels=S*l,c.heightInPixels=f.heightInPixels=p*s,f.data=d,c};h.exports=i}),82593:((h,x,t)=>{var o=t(80341),v=t(2342),r=function(n,i,e,a,l){var s=i.trim().split(`
`).map(function(f){return f.split(",")}),u=v(n,s,e,a,l);return u.format=o.CSV,u};h.exports=r}),6656:((h,x,t)=>{var o=t(14977),v=t(23029),r=function(n,i){for(var e=[],a=0;a<n.layer.length;a++){for(var l=n.layer[a],s=new o({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),u=[],f=[],c=0;c<l.data.length;c++){for(var d=0;d<l.data[c].length;d++){var p=l.data[c][d]-1,S;p>-1?S=new v(s,p,d,c,l.tilesize,l.tilesize):S=i?null:new v(s,-1,d,c,l.tilesize,l.tilesize),u.push(S)}f.push(u),u=[]}s.data=f,e.push(s)}return e};h.exports=r}),96483:((h,x,t)=>{var o=t(33629),v=function(r){for(var n=[],i=[],e=0;e<r.layer.length;e++){var a=r.layer[e],l=a.tilesetName;l!==""&&i.indexOf(l)===-1&&(i.push(l),n.push(new o(l,0,a.tilesize,a.tilesize,0,0)))}return n};h.exports=v}),87021:((h,x,t)=>{var o=t(80341),v=t(87010),r=t(6656),n=t(96483),i=function(e,a,l){if(a.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var s=0,u=0,f=0;f<a.layer.length;f++)a.layer[f].width>s&&(s=a.layer[f].width),a.layer[f].height>u&&(u=a.layer[f].height);var c=new v({width:s,height:u,name:e,tileWidth:a.layer[0].tilesize,tileHeight:a.layer[0].tilesize,format:o.WELTMEISTER});return c.layers=r(a,l),c.tilesets=n(a),c};h.exports=i}),52833:((h,x,t)=>{h.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}}),57442:((h,x,t)=>{h.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}}),51233:((h,x,t)=>{var o=t(79291),v=function(r){for(var n,i,e,a,l,s=0;s<r.layers.length;s++){n=r.layers[s],a=null;for(var u=0;u<n.data.length;u++){l=n.data[u];for(var f=0;f<l.length;f++)i=l[f],!(i===null||i.index<0)&&(e=r.tiles[i.index][2],a=r.tilesets[e],i.width=a.tileWidth,i.height=a.tileHeight,a.tileProperties&&a.tileProperties[i.index-a.firstgid]&&(i.properties=o(i.properties,a.tileProperties[i.index-a.firstgid])))}}};h.exports=v}),41868:(h=>{var x=function(t){for(var o=window.atob(t),v=o.length,r=new Array(v/4),n=0;n<v;n+=4)r[n/4]=(o.charCodeAt(n)|o.charCodeAt(n+1)<<8|o.charCodeAt(n+2)<<16|o.charCodeAt(n+3)<<24)>>>0;return r};h.exports=x}),84101:((h,x,t)=>{var o=t(33629),v=function(r){var n,i,e=[];for(n=0;n<r.imageCollections.length;n++)for(var a=r.imageCollections[n],l=a.images,s=0;s<l.length;s++){var u=l[s],f={x:0,y:u.height-r.tileHeight};i=new o(u.image,u.gid,u.width,u.height,0,0,void 0,void 0,f),i.updateTileData(u.width,u.height),r.tilesets.push(i)}for(n=0;n<r.tilesets.length;n++){i=r.tilesets[n];for(var c=i.tileMargin,d=i.tileMargin,p=0,S=0,C=0,E=i.firstgid;E<i.firstgid+i.total&&(e[E]=[c,d,n],c+=i.tileWidth+i.tileSpacing,p++,!(p===i.total||(S++,S===i.columns&&(c=i.tileMargin,d+=i.tileHeight+i.tileSpacing,S=0,C++,C===i.rows))));E++);}return e};h.exports=v}),79677:((h,x,t)=>{var o=t(95540),v=function(r,n,i){if(!n)return{i:0,layers:r.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=n.x+o(n,"startx",0)*r.tilewidth+o(n,"offsetx",0),a=n.y+o(n,"starty",0)*r.tileheight+o(n,"offsety",0);return{i:0,layers:n.layers,name:i.name+n.name+"/",opacity:i.opacity*n.opacity,visible:i.visible&&n.visible,x:i.x+e,y:i.y+a}};h.exports=v}),29920:(h=>{var x=2147483648,t=1073741824,o=536870912,v=function(r){var n=!!(r&x),i=!!(r&t),e=!!(r&o);r=r&536870911;var a=0,l=!1;return n&&i&&e?(a=Math.PI/2,l=!0):n&&i&&!e?(a=Math.PI,l=!1):n&&!i&&e?(a=Math.PI/2,l=!1):n&&!i&&!e?(a=0,l=!0):!n&&i&&e?(a=3*Math.PI/2,l=!1):!n&&i&&!e?(a=Math.PI,l=!0):!n&&!i&&e?(a=3*Math.PI/2,l=!0):!n&&!i&&!e&&(a=0,l=!1),{gid:r,flippedHorizontal:n,flippedVertical:i,flippedAntiDiagonal:e,rotation:a,flipped:l}};h.exports=v}),12635:((h,x,t)=>{var o=t(95540),v=t(79677),r=function(n){for(var i=[],e=[],a=v(n);a.i<a.layers.length||e.length>0;){if(a.i>=a.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=e.pop();continue}var l=a.layers[a.i];if(a.i++,l.type!=="imagelayer"){if(l.type==="group"){var s=v(n,l,a);e.push(a),a=s}continue}var u=o(l,"offsetx",0)+o(l,"startx",0),f=o(l,"offsety",0)+o(l,"starty",0);i.push({name:a.name+l.name,image:l.image,x:a.x+u+l.x,y:a.y+f+l.y,alpha:a.opacity*l.opacity,visible:a.visible&&l.visible,properties:o(l,"properties",{})})}return i};h.exports=r}),46594:((h,x,t)=>{var o=t(51233),v=t(84101),r=t(91907),n=t(62644),i=t(80341),e=t(6641),a=t(87010),l=t(12635),s=t(22611),u=t(28200),f=t(24619),c=function(d,p,S){var C=n(p),E=new a({width:C.width,height:C.height,name:d,tileWidth:C.tilewidth,tileHeight:C.tileheight,orientation:e(C.orientation),format:i.TILED_JSON,version:C.version,properties:C.properties,renderOrder:C.renderorder,infinite:C.infinite});if(E.orientation===r.HEXAGONAL)if(E.hexSideLength=C.hexsidelength,E.staggerAxis=C.staggeraxis,E.staggerIndex=C.staggerindex,E.staggerAxis==="y"){var R=(E.tileHeight-E.hexSideLength)/2;E.widthInPixels=E.tileWidth*(E.width+.5),E.heightInPixels=E.height*(E.hexSideLength+R)+R}else{var M=(E.tileWidth-E.hexSideLength)/2;E.widthInPixels=E.width*(E.hexSideLength+M)+M,E.heightInPixels=E.tileHeight*(E.height+.5)}E.layers=u(C,S),E.images=l(C);var D=f(C);return E.tilesets=D.tilesets,E.imageCollections=D.imageCollections,E.objects=s(C),E.tiles=v(E),o(E),E};h.exports=c}),52205:((h,x,t)=>{var o=t(18254),v=t(29920),r=function(e){return{x:e.x,y:e.y}},n=["id","name","type","rotation","properties","visible","x","y","width","height"],i=function(e,a,l){a===void 0&&(a=0),l===void 0&&(l=0);var s=o(e,n);if(s.x+=a,s.y+=l,e.gid){var u=v(e.gid);s.gid=u.gid,s.flippedHorizontal=u.flippedHorizontal,s.flippedVertical=u.flippedVertical,s.flippedAntiDiagonal=u.flippedAntiDiagonal}else e.polyline?s.polyline=e.polyline.map(r):e.polygon?s.polygon=e.polygon.map(r):e.ellipse?s.ellipse=e.ellipse:e.text?s.text=e.text:e.point?s.point=!0:s.rectangle=!0;return s};h.exports=i}),22611:((h,x,t)=>{var o=t(95540),v=t(52205),r=t(48700),n=t(79677),i=function(e){for(var a=[],l=[],s=n(e);s.i<s.layers.length||l.length>0;){if(s.i>=s.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=l.pop();continue}var u=s.layers[s.i];if(s.i++,u.opacity*=s.opacity,u.visible=s.visible&&u.visible,u.type!=="objectgroup"){if(u.type==="group"){var f=n(e,u,s);l.push(s),s=f}continue}u.name=s.name+u.name;for(var c=s.x+o(u,"startx",0)+o(u,"offsetx",0),d=s.y+o(u,"starty",0)+o(u,"offsety",0),p=[],S=0;S<u.objects.length;S++){var C=v(u.objects[S],c,d);p.push(C)}var E=new r(u);E.objects=p,a.push(E)}return a};h.exports=i}),28200:((h,x,t)=>{var o=t(41868),v=t(91907),r=t(79677),n=t(6641),i=t(95540),e=t(14977),a=t(29920),l=t(23029),s=function(u,f){for(var c=i(u,"infinite",!1),d=[],p=[],S=r(u);S.i<S.layers.length||p.length>0;){if(S.i>=S.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}S=p.pop();continue}var C=S.layers[S.i];if(S.i++,C.type!=="tilelayer"){if(C.type==="group"){var E=r(u,C,S);p.push(S),S=E}continue}if(C.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+C.name+"'");continue}else if(C.encoding&&C.encoding==="base64"){if(C.chunks)for(var R=0;R<C.chunks.length;R++)C.chunks[R].data=o(C.chunks[R].data);C.data&&(C.data=o(C.data)),delete C.encoding}var M,D,B,b,I,N,z=[],H=0;if(c){var X=i(C,"startx",0)+C.x,W=i(C,"starty",0)+C.y;M=new e({name:S.name+C.name,id:C.id,x:S.x+i(C,"offsetx",0)+X*u.tilewidth,y:S.y+i(C,"offsety",0)+W*u.tileheight,width:C.width,height:C.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:S.opacity*C.opacity,visible:S.visible&&C.visible,properties:i(C,"properties",[]),orientation:n(u.orientation)}),M.orientation===v.HEXAGONAL&&(M.hexSideLength=u.hexsidelength,M.staggerAxis=u.staggeraxis,M.staggerIndex=u.staggerindex,M.staggerAxis==="y"?(I=(M.tileHeight-M.hexSideLength)/2,M.widthInPixels=M.tileWidth*(M.width+.5),M.heightInPixels=M.height*(M.hexSideLength+I)+I):(N=(M.tileWidth-M.hexSideLength)/2,M.widthInPixels=M.width*(M.hexSideLength+N)+N,M.heightInPixels=M.tileHeight*(M.height+.5)));for(var V=0;V<C.height;V++){z[V]=[null];for(var U=0;U<C.width;U++)z[V][U]=null}for(V=0,ut=C.chunks.length;V<ut;V++)for(var F=C.chunks[V],k=F.x-X,Y=F.y-W,Z=0,j=0,J=F.data.length;j<J;j++){var q=H+k,et=Z+Y;D=a(F.data[j]),D.gid>0?(B=new l(M,D.gid,q,et,u.tilewidth,u.tileheight),B.rotation=D.rotation,B.flipX=D.flipped,z[et][q]=B):(b=f?null:new l(M,-1,q,et,u.tilewidth,u.tileheight),z[et][q]=b),H++,H===F.width&&(Z++,H=0)}}else{M=new e({name:S.name+C.name,id:C.id,x:S.x+i(C,"offsetx",0)+C.x,y:S.y+i(C,"offsety",0)+C.y,width:C.width,height:C.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:S.opacity*C.opacity,visible:S.visible&&C.visible,properties:i(C,"properties",[]),orientation:n(u.orientation)}),M.orientation===v.HEXAGONAL&&(M.hexSideLength=u.hexsidelength,M.staggerAxis=u.staggeraxis,M.staggerIndex=u.staggerindex,M.staggerAxis==="y"?(I=(M.tileHeight-M.hexSideLength)/2,M.widthInPixels=M.tileWidth*(M.width+.5),M.heightInPixels=M.height*(M.hexSideLength+I)+I):(N=(M.tileWidth-M.hexSideLength)/2,M.widthInPixels=M.width*(M.hexSideLength+N)+N,M.heightInPixels=M.tileHeight*(M.height+.5)));for(var it=[],at=0,ut=C.data.length;at<ut;at++)D=a(C.data[at]),D.gid>0?(B=new l(M,D.gid,H,z.length,u.tilewidth,u.tileheight),B.rotation=D.rotation,B.flipX=D.flipped,it.push(B)):(b=f?null:new l(M,-1,H,z.length,u.tilewidth,u.tileheight),it.push(b)),H++,H===C.width&&(z.push(it),H=0,it=[])}M.data=z,d.push(M)}return d};h.exports=s}),24619:((h,x,t)=>{var o=t(33629),v=t(16536),r=t(52205),n=t(57880),i=function(e){for(var a=[],l=[],s=null,u,f=0;f<e.tilesets.length;f++){var c=e.tilesets[f];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var d=new o(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,void 0,void 0,c.tileoffset);if(e.version>1){var p=void 0,S=void 0;if(Array.isArray(c.tiles)){p=p||{},S=S||{};for(var C=0;C<c.tiles.length;C++){var E=c.tiles[C];if(E.properties){var R={};E.properties.forEach(function(V){R[V.name]=V.value}),S[E.id]=R}if(E.objectgroup&&((p[E.id]||(p[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var M=E.objectgroup.objects.map(function(V){return r(V)});p[E.id].objectgroup.objects=M}E.animation&&((p[E.id]||(p[E.id]={})).animation=E.animation),E.type&&((p[E.id]||(p[E.id]={})).type=E.type)}}Array.isArray(c.wangsets)&&(p=p||{},S=S||{},n(c.wangsets,p)),p&&(d.tileData=p,d.tileProperties=S)}else if(c.tileproperties&&(d.tileProperties=c.tileproperties),c.tiles){d.tileData=c.tiles;for(u in d.tileData){var D=d.tileData[u].objectgroup;if(D&&D.objects){var B=D.objects.map(function(V){return r(V)});d.tileData[u].objectgroup.objects=B}}}d.updateTileData(c.imagewidth,c.imageheight),a.push(d)}else{var b=new v(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),I=0;for(C=0;C<c.tiles.length;C++){E=c.tiles[C];var N=E.image,z=parseInt(E.id,10),H=c.firstgid+z,X=E.imagewidth,W=E.imageheight;b.addImage(H,N,X,W),I=Math.max(z,I)}b.maxId=I,l.push(b)}s&&(s.lastgid=c.firstgid-1),s=c}return{tilesets:a,imageCollections:l}};h.exports=i}),57880:(h=>{var x=function(t,o){for(var v=0;v<t.length;v++){var r=t[v],n=v;if(r.name&&r.name!==""&&(n=r.name),Array.isArray(r.wangtiles)&&r.wangtiles.length>0){var i={},e={},a,l,s;if(Array.isArray(r.edgecolors))for(a=0;a<r.edgecolors.length;a++)s=1+a,l=r.edgecolors[a],l.name!==""&&(i[s]=l.name);if(Array.isArray(r.cornercolors))for(a=0;a<r.cornercolors.length;a++)s=1+a,l=r.cornercolors[a],l.name!==""&&(e[s]=l.name);if(Array.isArray(r.colors))for(a=0;a<r.colors.length;a++)l=r.colors[a],s=1+a,l.name!==""&&(i[s]=e[s]=l.name);for(var u=[i,e,i,e,i,e,i,e],f=0;f<r.wangtiles.length;f++){var c=r.wangtiles[f],d=o[c.tileid]||(o[c.tileid]={});d=d.wangid||(d.wangid={});for(var p=[],S=0;S<Math.min(u.length,c.wangid.length);S++){if(l=c.wangid[S],l===0){p.push(void 0);continue}var C=u[S][l];if(C!==void 0){p.push(C);continue}p.push(l)}d[n]=p}}}};h.exports=x}),96761:((h,x,t)=>{h.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}}),33385:((h,x,t)=>{var o=t(83419),v=t(37277),r=t(44594),n=t(94880),i=t(72905),e=new o({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(r.BOOT,this.boot,this),l.sys.events.on(r.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var a=this.systems.events;a.on(r.PRE_UPDATE,this.preUpdate,this),a.on(r.UPDATE,this.update,this),a.once(r.SHUTDOWN,this.shutdown,this)},addEvent:function(a){var l;if(a instanceof n){if(l=a,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat,l.delay<=0&&l.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else l=new n(a);return this._pendingInsertion.push(l),l},delayedCall:function(a,l,s,u){return this.addEvent({delay:a,callback:l,args:s,callbackScope:u})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(a){Array.isArray(a)||(a=[a]);for(var l=0;l<a.length;l++){var s=a[l];i(this._pendingRemoval,s),i(this._pendingInsertion,s),i(this._active,s)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var a=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(a===0&&l===0)){var s,u;for(s=0;s<a;s++){u=this._pendingRemoval[s];var f=this._active.indexOf(u);f>-1&&this._active.splice(f,1),u.destroy()}for(s=0;s<l;s++)u=this._pendingInsertion[s],this._active.push(u);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(a,l){if(this.now=a,!this.paused){l*=this.timeScale;for(var s=0;s<this._active.length;s++){var u=this._active[s];if(!u.paused&&(u.elapsed+=l*u.timeScale,u.elapsed>=u.delay)){var f=u.elapsed-u.delay;if(u.elapsed=u.delay,!u.hasDispatched&&u.callback&&(u.hasDispatched=!0,u.callback.apply(u.callbackScope,u.args)),u.repeatCount>0){if(u.repeatCount--,f>=u.delay)for(;f>=u.delay&&u.repeatCount>0;)u.callback&&u.callback.apply(u.callbackScope,u.args),f-=u.delay,u.repeatCount--;u.elapsed=f,u.hasDispatched=!1}else u.hasDispatched&&this._pendingRemoval.push(u)}}}},shutdown:function(){var a;for(a=0;a<this._pendingInsertion.length;a++)this._pendingInsertion[a].destroy();for(a=0;a<this._active.length;a++)this._active[a].destroy();for(a=0;a<this._pendingRemoval.length;a++)this._pendingRemoval[a].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(r.PRE_UPDATE,this.preUpdate,this),l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",e,"time"),h.exports=e}),96120:((h,x,t)=>{var o=t(83419),v=t(50792),r=t(39429),n=t(95540),i=t(44594),e=t(89809),a=new o({Extends:v,initialize:function(s,u){v.call(this),this.scene=s,this.systems=s.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(i.PRE_UPDATE,this.preUpdate,this),f.on(i.UPDATE,this.update,this),f.once(i.SHUTDOWN,this.destroy,this),u&&this.add(u)},preUpdate:function(l,s){this.paused||(this.elapsed+=s*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var l,s=this.events,u=!1,f=this.systems,c;for(l=0;l<s.length;l++){var d=s[l];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,c=d.target?d.target:this,d.if&&!d.if.call(c,d))continue;if(d.once&&(u=!0),d.set&&d.target)for(var p in d.set)d.target[p]=d.set[p];this.iteration&&d.repeat++,d.loop&&d.repeat&&d.loop.call(c),d.tween&&(d.tweenInstance=f.tweens.add(d.tween)),d.sound&&(typeof d.sound=="string"?f.sound.play(d.sound):f.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,c),d.run&&d.run.call(c),d.stop&&this.stop()}}if(u)for(l=0;l<s.length;l++)s[l].complete&&s[l].once&&(s.splice(l,1),l--);this.totalComplete>=s.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){this.paused=!0;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!0)}return this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){this.paused=!1;for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&(u.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var s=this.events,u=0;u<s.length;u++){var f=s[u];f.complete=!1,l||(f.repeat=0),f.tweenInstance&&f.tweenInstance.stop()}return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var s=this.events,u=0;s.length>0&&(u=s[s.length-1].time);for(var f=0;f<l.length;f++){var c=l[f],d=n(c,"at",0),p=n(c,"in",null);p!==null&&(d=this.elapsed+p);var S=n(c,"from",null);S!==null&&(d=u+S),s.push({complete:!1,time:d,repeat:0,if:n(c,"if",null),run:n(c,"run",null),loop:n(c,"loop",null),event:n(c,"event",null),target:n(c,"target",null),set:n(c,"set",null),tween:n(c,"tween",null),sound:n(c,"sound",null),once:n(c,"once",!1),stop:n(c,"stop",!1)}),u=d}return this.complete=!1,this},clear:function(){for(var l=this.events,s=0;s<l.length;s++){var u=l[s];u.tweenInstance&&u.tweenInstance.stop()}return l=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(i.PRE_UPDATE,this.preUpdate,this),l.off(i.UPDATE,this.update,this),l.off(i.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});r.register("timeline",function(l){return new a(this.scene,l)}),h.exports=a}),94880:((h,x,t)=>{var o=t(83419),v=t(95540),r=new o({initialize:function(i){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(i)},reset:function(n){if(this.delay=v(n,"delay",0),this.repeat=v(n,"repeat",0),this.loop=v(n,"loop",!1),this.callback=v(n,"callback",void 0),this.callbackScope=v(n,"callbackScope",this),this.args=v(n,"args",[]),this.timeScale=v(n,"timeScale",1),this.startAt=v(n,"startAt",0),this.paused=v(n,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var n=this.delay+this.delay*this.repeat,i=this.elapsed+this.delay*(this.repeat-this.repeatCount);return i/n}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(n){n===void 0&&(n=!1),this.elapsed=this.delay,this.hasDispatched=!n,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});h.exports=r}),35945:(h=>{h.exports="complete"}),89809:((h,x,t)=>{h.exports={COMPLETE:t(35945)}}),90291:((h,x,t)=>{h.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}}),40382:((h,x,t)=>{var o=t(72905),v=t(83419),r=t(43491),n=t(88032),i=t(37277),e=t(44594),a=t(93109),l=t(86081),s=t(8357),u=t(43960),f=t(26012),c=new v({initialize:function(p){this.scene=p,this.events=p.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var p=[],S=0;S<d.length;S++){var C=d[S];C instanceof l||C instanceof u?p.push(C):Array.isArray(C.tweens)?p.push(f(this,C)):p.push(s(this,C))}return p.length===1?p[0]:p},add:function(d){var p=d,S=this.tweens;return p instanceof l||p instanceof u||(Array.isArray(p.tweens)?p=f(this,p):p=s(this,p)),S.push(p.reset()),p},addMultiple:function(d){for(var p,S=[],C=this.tweens,E=0;E<d.length;E++)p=d[E],p instanceof l||p instanceof u||(Array.isArray(p.tweens)?p=f(this,p):p=s(this,p)),C.push(p.reset()),S.push(p);return S},chain:function(d){var p=f(this,d);return this.tweens.push(p.init()),p},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var p=n(this,d);return this.tweens.push(p.reset()),p},stagger:function(d,p){return a(d,p)},setLagSmooth:function(d,p){return d===void 0&&(d=1/1e-8),p===void 0&&(p=0),this.maxLag=d,this.lagSkip=Math.min(p,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var p=Date.now()-this.prevTime;p>this.maxLag&&(this.startTime+=p-this.lagSkip),this.prevTime+=p;var S=this.prevTime-this.startTime,C=S-this.nextTime,E=S-this.time*1e3;return C>0||d?(S/=1e3,this.time=S,this.nextTime+=C+(C>=this.gap?4:this.gap-C)):E=0,E},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var p=this.getDelta(d);if(!(p<=0)){this.processing=!0;var S,C,E=[],R=this.tweens;for(S=0;S<R.length;S++)C=R[S],C.update(p)&&E.push(C);var M=E.length;if(M&&R.length>0){for(S=0;S<M;S++){C=E[S];var D=R.indexOf(C);D>-1&&(C.isPendingRemove()||C.isDestroyed())&&(R.splice(D,1),C.destroy())}E.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(o(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,p){var S,C=[null];for(S=1;S<arguments.length;S++)C.push(arguments[S]);return this.tweens.forEach(function(E){C[0]=E,d.apply(p,C)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var p=[],S=this.tweens;Array.isArray(d)?d=r(d):d=[d];for(var C=d.length,E=0;E<S.length;E++)for(var R=S[E],M=0;M<C;M++)!R.isDestroyed()&&R.hasTarget(d[M])&&p.push(R);return p},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var p=this.tweens,S,C=0;C<p.length;C++)if(S=p[C],S.isPlaying()&&S.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,p=0;p<d.length;p++)d[p].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var p=this.getTweensOf(d),S=0;S<p.length;S++)p[S].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});i.register("TweenManager",c,"tweens"),h.exports=c}),57355:(h=>{var x=function(t,o,v){return t&&t.hasOwnProperty(o)?t[o]:v};h.exports=x}),6113:((h,x,t)=>{var o=t(62640),v=t(35355),r=function(n,i){var e=o.Power0;if(typeof n=="string")if(o.hasOwnProperty(n))e=o[n];else{var a="";if(n.indexOf(".")){a=n.substring(n.indexOf(".")+1);var l=a.toLowerCase();l==="in"?a="easeIn":l==="out"?a="easeOut":l==="inout"&&(a="easeInOut")}n=v(n.substring(0,n.indexOf(".")+1)+a),o.hasOwnProperty(n)&&(e=o[n])}else typeof n=="function"&&(e=n);if(!i)return e;var s=i.slice(0);return s.unshift(0),function(u){return s[0]=u,e.apply(this,s)}};h.exports=r}),91389:((h,x,t)=>{var o=t(89318),v=t(77259),r=t(28392),n={bezier:o,catmull:v,catmullrom:v,linear:r},i=function(e){if(e===null)return null;var a=n.linear;return typeof e=="string"?n.hasOwnProperty(e)&&(a=n[e]):typeof e=="function"&&(a=e),a};h.exports=i}),55292:(h=>{var x=function(t,o,v){var r;if(t.hasOwnProperty(o)){var n=typeof t[o];n==="function"?r=function(i,e,a,l,s,u){return t[o](i,e,a,l,s,u)}:r=function(){return t[o]}}else typeof v=="function"?r=v:r=function(){return v};return r};h.exports=x}),82985:((h,x,t)=>{var o=t(81076),v=function(r){var n,i=[];if(r.hasOwnProperty("props"))for(n in r.props)n.substring(0,1)!=="_"&&i.push({key:n,value:r.props[n]});else for(n in r)o.indexOf(n)===-1&&n.substring(0,1)!=="_"&&i.push({key:n,value:r[n]});return i};h.exports=v}),62329:((h,x,t)=>{var o=t(35154),v=function(r){var n=o(r,"targets",null);return n===null||(typeof n=="function"&&(n=n.call()),Array.isArray(n)||(n=[n])),n};h.exports=v}),17777:((h,x,t)=>{var o=t(30976),v=t(99472);function r(l){return!!l.getActive&&typeof l.getActive=="function"}function n(l){return!!l.getStart&&typeof l.getStart=="function"}function i(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return n(l)||i(l)||r(l)}var a=function(l,s){var u,f=function(V,U,F){return F},c=function(V,U,F){return F},d=null,p=typeof s;if(p==="number")f=function(){return s};else if(Array.isArray(s))c=function(){return s[0]},f=function(){return s[s.length-1]};else if(p==="string"){var S=s.toLowerCase(),C=S.substring(0,6)==="random",E=S.substring(0,3)==="int";if(C||E){var R=S.indexOf("("),M=S.indexOf(")"),D=S.indexOf(",");if(R&&M&&D){var B=parseFloat(S.substring(R+1,D)),b=parseFloat(S.substring(D+1,M));C?f=function(){return v(B,b)}:f=function(){return o(B,b)}}else throw new Error("invalid random() format")}else{S=S[0];var I=parseFloat(s.substr(2));switch(S){case"+":f=function(V,U,F){return F+I};break;case"-":f=function(V,U,F){return F-I};break;case"*":f=function(V,U,F){return F*I};break;case"/":f=function(V,U,F){return F/I};break;default:f=function(){return parseFloat(s)}}}}else if(p==="function")f=s;else if(p==="object")if(e(s))r(s)&&(d=s.getActive),i(s)&&(f=s.getEnd),n(s)&&(c=s.getStart);else if(s.hasOwnProperty("value"))u=a(l,s.value);else{var N=s.hasOwnProperty("to"),z=s.hasOwnProperty("from"),H=s.hasOwnProperty("start");if(N&&(z||H)){if(u=a(l,s.to),H){var X=a(l,s.start);u.getActive=X.getEnd}if(z){var W=a(l,s.from);u.getStart=W.getEnd}}}return u||(u={getActive:d,getEnd:f,getStart:c}),u};h.exports=a}),88032:((h,x,t)=>{var o=t(70402),v=t(69902),r=t(23568),n=t(57355),i=t(6113),e=t(95540),a=t(55292),l=t(35154),s=t(17777),u=t(269),f=t(86081),c=function(d,p,S){if(p instanceof f)return p.parent=d,p;S===void 0?S=v:S=u(v,S);var C=e(p,"from",0),E=e(p,"to",1),R=[{value:C}],M=e(p,"delay",S.delay),D=e(p,"easeParams",S.easeParams),B=e(p,"ease",S.ease),b=s("value",E),I=new f(d,R),N=I.add(0,"value",b.getEnd,b.getStart,b.getActive,i(e(p,"ease",B),e(p,"easeParams",D)),a(p,"delay",M),e(p,"duration",S.duration),n(p,"yoyo",S.yoyo),e(p,"hold",S.hold),e(p,"repeat",S.repeat),e(p,"repeatDelay",S.repeatDelay),!1,!1);N.start=C,N.current=C,I.completeDelay=r(p,"completeDelay",0),I.loop=Math.round(r(p,"loop",0)),I.loopDelay=Math.round(r(p,"loopDelay",0)),I.paused=n(p,"paused",!1),I.persist=n(p,"persist",!1),I.isNumberTween=!0,I.callbackScope=l(p,"callbackScope",I);for(var z=o.TYPES,H=0;H<z.length;H++){var X=z[H],W=l(p,X,!1);if(W){var V=l(p,X+"Params",[]);I.setCallback(X,W,V)}}return I};h.exports=c}),93109:((h,x,t)=>{var o=t(6113),v=t(35154),r=t(36383),n=function(i,e){e===void 0&&(e={});var a,l=v(e,"start",0),s=v(e,"ease",null),u=v(e,"grid",null),f=v(e,"from",0),c=f==="first",d=f==="center",p=f==="last",S=typeof f=="number",C=Array.isArray(i),E=parseFloat(C?i[0]:i),R=C?parseFloat(i[1]):0,M=Math.max(E,R);if(C&&(l+=E),u){var D=u[0],B=u[1],b=0,I=0,N=0,z=0,H=[];p?(b=D-1,I=B-1):S?(b=f%D,I=Math.floor(f/D)):d&&(b=(D-1)/2,I=(B-1)/2);for(var X=r.MIN_SAFE_INTEGER,W=0;W<B;W++){H[W]=[];for(var V=0;V<D;V++){N=b-V,z=I-W;var U=Math.sqrt(N*N+z*z);U>X&&(X=U),H[W][V]=U}}}var F=s?o(s):null;return u?a=function(k,Y,Z,j){var J=0,q=j%D,et=Math.floor(j/D);q>=0&&q<D&&et>=0&&et<B&&(J=H[et][q]);var it;if(C){var at=R-E;F?it=J/X*at*F(J/X):it=J/X*at}else F?it=J*E*F(J/X):it=J*E;return it+l}:a=function(k,Y,Z,j,J){J--;var q;c?q=j:d?q=Math.abs(J/2-j):p?q=J-j:S&&(q=Math.abs(f-j));var et;if(C){var it;d?it=(R-E)/J*(q*2):it=(R-E)/J*q,F?et=it*F(q/J):et=it}else F?et=J*M*F(q/J):et=q*E;return et+l},a};h.exports=n}),8357:((h,x,t)=>{var o=t(70402),v=t(69902),r=t(23568),n=t(57355),i=t(6113),e=t(95540),a=t(91389),l=t(55292),s=t(82985),u=t(62329),f=t(35154),c=t(17777),d=t(269),p=t(86081),S=function(C,E,R){if(E instanceof p)return E.parent=C,E;R===void 0?R=v:R=d(v,R);var M=u(E);!M&&R.targets&&(M=R.targets);for(var D=s(E),B=e(E,"delay",R.delay),b=e(E,"duration",R.duration),I=e(E,"easeParams",R.easeParams),N=e(E,"ease",R.ease),z=e(E,"hold",R.hold),H=e(E,"repeat",R.repeat),X=e(E,"repeatDelay",R.repeatDelay),W=n(E,"yoyo",R.yoyo),V=n(E,"flipX",R.flipX),U=n(E,"flipY",R.flipY),F=e(E,"interpolation",R.interpolation),k=function(ft,xt,At,gt){if(At==="texture"){var Wt=gt,Ht=void 0;Array.isArray(gt)?(Wt=gt[0],Ht=gt[1]):gt.hasOwnProperty("value")?(Wt=gt.value,Array.isArray(gt.value)?(Wt=gt.value[0],Ht=gt.value[1]):typeof gt.value=="string"&&(Wt=gt.value)):typeof gt=="string"&&(Wt=gt),ft.addFrame(xt,Wt,Ht,l(gt,"delay",B),e(gt,"duration",b),e(gt,"hold",z),e(gt,"repeat",H),e(gt,"repeatDelay",X),n(gt,"flipX",V),n(gt,"flipY",U))}else{var Gt=c(At,gt),Ot=a(e(gt,"interpolation",F));ft.add(xt,At,Gt.getEnd,Gt.getStart,Gt.getActive,i(e(gt,"ease",N),e(gt,"easeParams",I)),l(gt,"delay",B),e(gt,"duration",b),n(gt,"yoyo",W),e(gt,"hold",z),e(gt,"repeat",H),e(gt,"repeatDelay",X),n(gt,"flipX",V),n(gt,"flipY",U),Ot,Ot?gt:null)}},Y=new p(C,M),Z=0;Z<D.length;Z++)for(var j=D[Z].key,J=D[Z].value,q=0;q<M.length;q++)j==="scale"&&!M[q].hasOwnProperty("scale")?(k(Y,q,"scaleX",J),k(Y,q,"scaleY",J)):k(Y,q,j,J);Y.completeDelay=r(E,"completeDelay",0),Y.loop=Math.round(r(E,"loop",0)),Y.loopDelay=Math.round(r(E,"loopDelay",0)),Y.paused=n(E,"paused",!1),Y.persist=n(E,"persist",!1),Y.callbackScope=e(E,"callbackScope",Y);for(var et=o.TYPES,it=0;it<et.length;it++){var at=et[it],ut=f(E,at,!1);if(ut){var dt=f(E,at+"Params",[]);Y.setCallback(at,ut,dt)}}return Y};h.exports=S}),26012:((h,x,t)=>{var o=t(70402),v=t(23568),r=t(57355),n=t(62329),i=t(35154),e=t(8357),a=t(43960),l=function(s,u){if(u instanceof a)return u.parent=s,u;var f=new a(s);f.startDelay=i(u,"delay",0),f.completeDelay=v(u,"completeDelay",0),f.loop=Math.round(v(u,"loop",i(u,"repeat",0))),f.loopDelay=Math.round(v(u,"loopDelay",i(u,"repeatDelay",0))),f.paused=r(u,"paused",!1),f.persist=r(u,"persist",!1),f.callbackScope=i(u,"callbackScope",f);var c,d=o.TYPES;for(c=0;c<d.length;c++){var p=d[c],S=i(u,p,!1);if(S){var C=i(u,p+"Params",[]);f.setCallback(p,S,C)}}var E=i(u,"tweens",null);if(Array.isArray(E)){var R=[],M=n(u),D=void 0;for(M&&(D={targets:M}),c=0;c<E.length;c++)R.push(e(f,E[c],D));f.add(R)}return f};h.exports=l}),30231:((h,x,t)=>{h.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}}),73685:(h=>{h.exports="active"}),98540:(h=>{h.exports="complete"}),67233:(h=>{h.exports="loop"}),2859:(h=>{h.exports="pause"}),98336:(h=>{h.exports="repeat"}),25764:(h=>{h.exports="resume"}),32193:(h=>{h.exports="start"}),84371:(h=>{h.exports="stop"}),70766:(h=>{h.exports="update"}),55659:(h=>{h.exports="yoyo"}),842:((h,x,t)=>{h.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}}),43066:((h,x,t)=>{var o={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};h.exports=o}),70402:((h,x,t)=>{var o=t(83419),v=t(50792),r=t(842),n=t(86353),i=new o({Extends:v,initialize:function(a){v.call(this),this.parent=a,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=n.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(r.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(r.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(r.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(r.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(r.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,a,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:a,params:l}),this},setPendingState:function(){this.state=n.PENDING},setActiveState:function(){this.state=n.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=n.LOOP_DELAY},setCompleteDelayState:function(){this.state=n.COMPLETE_DELAY},setStartDelayState:function(){this.state=n.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=n.PENDING_REMOVE},setRemovedState:function(){this.state=n.REMOVED},setFinishedState:function(){this.state=n.FINISHED},setDestroyedState:function(){this.state=n.DESTROYED},isPending:function(){return this.state===n.PENDING},isActive:function(){return this.state===n.ACTIVE},isLoopDelayed:function(){return this.state===n.LOOP_DELAY},isCompleteDelayed:function(){return this.state===n.COMPLETE_DELAY},isStartDelayed:function(){return this.state===n.START_DELAY},isPendingRemove:function(){return this.state===n.PENDING_REMOVE},isRemoved:function(){return this.state===n.REMOVED},isFinished:function(){return this.state===n.FINISHED},isDestroyed:function(){return this.state===n.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});i.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],h.exports=i}),95042:((h,x,t)=>{var o=t(83419),v=t(842),r=t(86353),n=new o({initialize:function(e,a,l,s,u,f,c,d,p,S){this.tween=e,this.targetIndex=a,this.duration=s<=0?.01:s,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=u,this.hold=f,this.repeat=c,this.repeatDelay=d,this.repeatCounter=0,this.flipX=p,this.flipY=S,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(i){i===void 0&&(i=this.current),this.tween.targets[this.targetIndex][this.key]=i},setCreatedState:function(){this.state=r.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=r.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=r.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=r.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=r.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=r.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=r.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=r.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===r.CREATED},isDelayed:function(){return this.state===r.DELAY},isPendingRender:function(){return this.state===r.PENDING_RENDER},isPlayingForward:function(){return this.state===r.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===r.PLAYING_BACKWARD},isHolding:function(){return this.state===r.HOLD_DELAY},isRepeating:function(){return this.state===r.REPEAT_DELAY},isComplete:function(){return this.state===r.COMPLETE},setStateFromEnd:function(i){this.yoyo?this.onRepeat(i,!0,!0):this.repeatCounter>0?this.onRepeat(i,!0,!1):this.setCompleteState()},setStateFromStart:function(i){this.repeatCounter>0?this.onRepeat(i,!1):this.setCompleteState()},reset:function(){var i=this.tween,e=i.totalTargets,a=this.targetIndex,l=i.targets[a],s=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,s,0,a,e,i),this.repeatCounter=this.repeat===-1?r.MAX:this.repeat,this.setPendingRenderState();var u=this.duration+this.hold;this.yoyo&&(u+=this.duration);var f=u+this.repeatDelay;this.totalDuration=this.delay+u,this.repeat===-1?(this.totalDuration+=f*r.MAX,i.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>i.duration&&(i.duration=this.totalDuration),this.delay<i.startDelay&&(i.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(i,e,a){var l=this.tween,s=l.totalTargets,u=this.targetIndex,f=l.targets[u],c=this.key,d=c!=="texture";if(this.elapsed=i,this.progress=i/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),d&&(e||a)&&(this.start=this.getStartValue(f,c,this.start,u,s,l)),a){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(f,c,this.start,u,s,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-i,d&&(this.current=this.start,f[c]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});h.exports=n}),69902:(h=>{var x={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};h.exports=x}),81076:(h=>{h.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]}),86081:((h,x,t)=>{var o=t(70402),v=t(83419),r=t(842),n=t(44603),i=t(39429),e=t(36383),a=t(86353),l=t(48177),s=t(42220),u=new v({Extends:o,initialize:function(c,d){o.call(this,c),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(f,c,d,p,S,C,E,R,M,D,B,b,I,N,z,H){var X=new l(this,f,c,d,p,S,C,E,R,M,D,B,b,I,N,z,H);return this.totalData=this.data.push(X),X},addFrame:function(f,c,d,p,S,C,E,R,M,D){var B=new s(this,f,c,d,p,S,C,E,R,M,D);return this.totalData=this.data.push(B),B},getValue:function(f){f===void 0&&(f=0);var c=null;return this.data&&(c=this.data[f].current),c},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,c,d){if(d===void 0&&(d=!1),f!=="texture")for(var p=0;p<this.totalData;p++){var S=this.data[p];S.key===f&&(S.isPlayingForward()||S.isPlayingBackward())&&(S.end=c,d&&(S.start=S.current))}return this},restart:function(){switch(this.state){case a.REMOVED:case a.FINISHED:this.seek(),this.parent.makeActive(this);break;case a.PENDING:case a.PENDING_REMOVE:this.parent.reset(this);break;case a.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,c,d){if(f===void 0&&(f=0),c===void 0&&(c=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive");var p=this.paused;if(this.paused=!1,f>0){for(var S=Math.floor(f/c),C=f-S*c,E=0;E<S;E++)this.update(c);C>0&&this.update(C)}return this.paused=p,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var c=this.data,d=0;d<this.totalData;d++)c[d].reset(f);this.duration=Math.max(this.duration,.01);var p=this.duration,S=this.completeDelay,C=this.loopCounter,E=this.loopDelay;C>0?this.totalDuration=p+S+(p+E)*C:this.totalDuration=p+S},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=a.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(r.TWEEN_START,"onStart"),f=0));var c=!1;if(this.isActive())for(var d=this.data,p=0;p<this.totalData;p++)d[p].update(f)&&(c=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),c||this.nextState();var S=this.isPendingRemove();return S&&this.persist&&(this.setFinishedState(),S=!1),S},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,c){if(!this.isSeeking){if(this.emit(f,this,this.targets),!this.callbacks)return;var d=this.callbacks[c];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});i.register("tween",function(f){return this.scene.sys.tweens.add(f)}),n.register("tween",function(f){return this.scene.sys.tweens.create(f)}),h.exports=u}),43960:((h,x,t)=>{var o=t(72905),v=t(70402),r=t(83419),n=t(842),i=t(44603),e=t(39429),a=t(86353),l=new r({Extends:v,initialize:function(u){v.call(this,u),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?a.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(s){var u=this.parent.create(s);Array.isArray(u)||(u=[u]);for(var f=this.data,c=0;c<u.length;c++){var d=u[c];d.parent=this,f.push(d.reset())}return this.totalData=f.length,this},remove:function(s){return o(this.data,s),s.setRemovedState(),s===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(s){for(var u=this.data,f=0;f<this.totalData;f++)if(u[f].hasTarget(s))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(s){return s.seek(),s.setActiveState(),this},makeActive:function(s){return s.reset(),s.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(n.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var s=this.data,u=this.totalData,f=0;f<u;f++)s[f].reset(!1);this.setCurrentTween(0)},update:function(s){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(s*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(s),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(s),!1;this.hasStarted||(this.startDelay-=s,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(n.TWEEN_START,"onStart"),s=0));var u=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(s)&&this.nextTween()&&this.nextState(),u=this.isPendingRemove(),u&&this.persist&&(this.setFinishedState(),u=!1)),u},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(s){this.currentIndex=s,this.currentTween=this.data[s],this.currentTween.setActiveState()},dispatchEvent:function(s,u){this.emit(s,this);var f=this.callbacks[u];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(s){return this.scene.sys.tweens.chain(s)}),i.register("tweenchain",function(s){return this.scene.sys.tweens.create(s)}),h.exports=l}),48177:((h,x,t)=>{var o=t(95042),v=t(45319),r=t(83419),n=t(842),i=new r({Extends:o,initialize:function(a,l,s,u,f,c,d,p,S,C,E,R,M,D,B,b,I){o.call(this,a,l,p,S,C,E,R,M,D,B),this.key=s,this.getActiveValue=c,this.getEndValue=u,this.getStartValue=f,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=b,this.interpolationData=I},reset:function(e){o.prototype.reset.call(this);var a=this.tween.targets[this.targetIndex],l=this.key;e&&(a[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(a[l]=this.getActiveValue(a,l,0))},update:function(e){var a=this.tween,l=a.totalTargets,s=this.targetIndex,u=a.targets[s],f=this.key;if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(n.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(u,f,u[f],s,l,a),this.end=this.getEndValue(u,f,this.start,s,l,a),this.current=this.start,u[f]=this.start,this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),d=this.isPlayingBackward();if(c||d){var p=this.elapsed,S=this.duration,C=0,E=!1;p+=e,p>=S?(C=p-S,p=S,E=!0):p<0&&(p=0);var R=v(p/S,0,1);this.elapsed=p,this.progress=R,this.previous=this.current,c||(R=1-R);var M=this.ease(R);this.interpolation?this.current=this.interpolation(this.interpolationData,M):this.current=this.start+(this.end-this.start)*M,u[f]=this.current,E&&(c?(a.isNumberTween&&(this.current=this.end,u[f]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(a.isNumberTween&&(this.current=this.start,u[f]=this.current),this.setStateFromStart(C))),this.dispatchEvent(n.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,a){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key,f=this.current,c=this.previous;l.emit(e,l,u,s,f,c);var d=l.callbacks[a];d&&d.func.apply(l.callbackScope,[l,s,u,f,c].concat(d.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});h.exports=i}),42220:((h,x,t)=>{var o=t(95042),v=t(45319),r=t(83419),n=t(842),i=new r({Extends:o,initialize:function(a,l,s,u,f,c,d,p,S,C,E){o.call(this,a,l,f,c,!1,d,p,S,C,E),this.key="texture",this.startTexture=null,this.endTexture=s,this.startFrame=null,this.endFrame=u,this.yoyo=p!==0},reset:function(e){o.prototype.reset.call(this);var a=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=a.texture.key,this.startFrame=a.frame.name),e&&a.setTexture(this.startTexture,this.startFrame)},update:function(e){var a=this.tween,l=this.targetIndex,s=a.targets[l];if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(n.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&s.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),f=this.isPlayingBackward();if(u||f){var c=this.elapsed,d=this.duration,p=0,S=!1;c+=e,c>=d?(p=c-d,c=d,S=!0):c<0&&(c=0);var C=v(c/d,0,1);this.elapsed=c,this.progress=C,S&&(u?(s.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(p)):(s.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(p))),this.dispatchEvent(n.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,a){var l=this.tween;if(!l.isSeeking){var s=l.targets[this.targetIndex],u=this.key;l.emit(e,l,u,s);var f=l.callbacks[a];f&&f.func.apply(l.callbackScope,[l,s,u].concat(f.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});h.exports=i}),86353:(h=>{var x={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};h.exports=x}),83419:(h=>{function x(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}function t(i,e,a){var l=a?i[e]:Object.getOwnPropertyDescriptor(i,e);return!a&&l.value&&typeof l.value=="object"&&(l=l.value),l&&x(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function o(i,e){var a=Object.getOwnPropertyDescriptor(i,e);return a?(a.value&&typeof a.value=="object"&&(a=a.value),a.configurable===!1):!1}function v(i,e,a,l){for(var s in e)if(e.hasOwnProperty(s)){var u=t(e,s,a);if(u!==!1){var f=l||i;if(o(f.prototype,s)){if(n.ignoreFinals)continue;throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(i.prototype,s,u)}else i.prototype[s]=e[s]}}function r(i,e){if(e){Array.isArray(e)||(e=[e]);for(var a=0;a<e.length;a++)v(i,e[a].prototype||e[a])}}function n(i){i||(i={});var e,a;if(i.initialize){if(typeof i.initialize!="function")throw new Error("initialize must be a function");e=i.initialize,delete i.initialize}else if(i.Extends){var l=i.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};i.Extends?(e.prototype=Object.create(i.Extends.prototype),e.prototype.constructor=e,a=i.Extends,delete i.Extends):e.prototype.constructor=e;var s=null;return i.Mixins&&(s=i.Mixins,delete i.Mixins),r(e,s),v(e,i,!0,a),e}n.extend=v,n.mixin=r,n.ignoreFinals=!1,h.exports=n}),29747:(h=>{var x=function(){};h.exports=x}),20242:(h=>{var x=function(){return null};h.exports=x}),71146:(h=>{var x=function(t,o,v,r,n){if(n===void 0&&(n=t),v>0){var i=v-t.length;if(i<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.push(o),r&&r.call(n,o),o):null;for(var e=o.length-1;e>=0;)t.indexOf(o[e])!==-1&&o.splice(e,1),e--;if(e=o.length,e===0)return null;v>0&&e>i&&(o.splice(i),e=i);for(var a=0;a<e;a++){var l=o[a];t.push(l),r&&r.call(n,l)}return o};h.exports=x}),51067:(h=>{var x=function(t,o,v,r,n,i){if(v===void 0&&(v=0),i===void 0&&(i=t),r>0){var e=r-t.length;if(e<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.splice(v,0,o),n&&n.call(i,o),o):null;for(var a=o.length-1;a>=0;)t.indexOf(o[a])!==-1&&o.pop(),a--;if(a=o.length,a===0)return null;r>0&&a>e&&(o.splice(e),a=e);for(var l=a-1;l>=0;l--){var s=o[l];t.splice(v,0,s),n&&n.call(i,s)}return o};h.exports=x}),66905:(h=>{var x=function(t,o){var v=t.indexOf(o);return v!==-1&&v<t.length&&(t.splice(v,1),t.push(o)),o};h.exports=x}),21612:((h,x,t)=>{var o=t(82011),v=function(r,n,i,e,a){e===void 0&&(e=0),a===void 0&&(a=r.length);var l=0;if(o(r,e,a))for(var s=e;s<a;s++){var u=r[s];u[n]===i&&l++}return l};h.exports=v}),95428:(h=>{var x=function(t,o,v){var r,n=[null];for(r=3;r<arguments.length;r++)n.push(arguments[r]);for(r=0;r<t.length;r++)n[0]=t[r],o.apply(v,n);return t};h.exports=x}),36914:((h,x,t)=>{var o=t(82011),v=function(r,n,i,e,a){if(e===void 0&&(e=0),a===void 0&&(a=r.length),o(r,e,a)){var l,s=[null];for(l=5;l<arguments.length;l++)s.push(arguments[l]);for(l=e;l<a;l++)s[0]=r[l],n.apply(i,s)}return r};h.exports=v}),81957:(h=>{var x=function(t,o,v){if(o.length){if(o.length===1)return o[0]}else return NaN;var r=1,n,i;if(v){if(t<o[0][v])return o[0];for(;o[r][v]<t;)r++}else for(;o[r]<t;)r++;return r>o.length&&(r=o.length),v?(n=o[r-1][v],i=o[r][v],i-t<=t-n?o[r]:o[r-1]):(n=o[r-1],i=o[r],i-t<=t-n?i:n)};h.exports=x}),43491:(h=>{var x=function(t,o){o===void 0&&(o=[]);for(var v=0;v<t.length;v++)Array.isArray(t[v])?x(t[v],o):o.push(t[v]);return o};h.exports=x}),46710:((h,x,t)=>{var o=t(82011),v=function(r,n,i,e,a){e===void 0&&(e=0),a===void 0&&(a=r.length);var l=[];if(o(r,e,a))for(var s=e;s<a;s++){var u=r[s];(!n||n&&i===void 0&&u.hasOwnProperty(n)||n&&i!==void 0&&u[n]===i)&&l.push(u)}return l};h.exports=v}),58731:((h,x,t)=>{var o=t(82011),v=function(r,n,i,e,a){if(e===void 0&&(e=0),a===void 0&&(a=r.length),e!==-1){if(o(r,e,a))for(var l=e;l<a;l++){var s=r[l];if(!n||n&&i===void 0&&s.hasOwnProperty(n)||n&&i!==void 0&&s[n]===i)return s}}else if(o(r,0,a))for(var l=a;l>=0;l--){var s=r[l];if(!n||n&&i===void 0&&s.hasOwnProperty(n)||n&&i!==void 0&&s[n]===i)return s}return null};h.exports=v}),26546:(h=>{var x=function(t,o,v){o===void 0&&(o=0),v===void 0&&(v=t.length);var r=o+Math.floor(Math.random()*v);return t[r]===void 0?null:t[r]};h.exports=x}),85835:(h=>{var x=function(t,o,v){if(o===v)return t;var r=t.indexOf(o),n=t.indexOf(v);if(r<0||n<0)throw new Error("Supplied items must be elements of the same array");return r>n||(t.splice(r,1),n=t.indexOf(v),t.splice(n+1,0,o)),t};h.exports=x}),83371:(h=>{var x=function(t,o,v){if(o===v)return t;var r=t.indexOf(o),n=t.indexOf(v);if(r<0||n<0)throw new Error("Supplied items must be elements of the same array");return r<n||(t.splice(r,1),n===0?t.unshift(o):t.splice(n,0,o)),t};h.exports=x}),70864:(h=>{var x=function(t,o){var v=t.indexOf(o);if(v>0){var r=t[v-1],n=t.indexOf(r);t[v]=r,t[n]=o}return t};h.exports=x}),69693:(h=>{var x=function(t,o,v){var r=t.indexOf(o);if(r===-1||v<0||v>=t.length)throw new Error("Supplied index out of bounds");return r!==v&&(t.splice(r,1),t.splice(v,0,o)),o};h.exports=x}),40853:(h=>{var x=function(t,o){var v=t.indexOf(o);if(v!==-1&&v<t.length-1){var r=t[v+1],n=t.indexOf(r);t[v]=r,t[n]=o}return t};h.exports=x}),20283:(h=>{var x=function(t,o,v,r){var n=[],i,e=!1;if((v||r)&&(e=!0,v||(v=""),r||(r="")),o<t)for(i=t;i>=o;i--)e?n.push(v+i.toString()+r):n.push(i);else for(i=t;i<=o;i++)e?n.push(v+i.toString()+r):n.push(i);return n};h.exports=x}),593:((h,x,t)=>{var o=t(2284),v=function(r,n,i){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=1),n===null&&(n=r,r=0);for(var e=[],a=Math.max(o((n-r)/(i||1)),0),l=0;l<a;l++)e.push(r),r+=i;return e};h.exports=v}),43886:(h=>{function x(v,r,n){var i=v[r];v[r]=v[n],v[n]=i}function t(v,r){return v<r?-1:v>r?1:0}var o=function(v,r,n,i,e){for(n===void 0&&(n=0),i===void 0&&(i=v.length-1),e===void 0&&(e=t);i>n;){if(i-n>600){var a=i-n+1,l=r-n+1,s=Math.log(a),u=.5*Math.exp(2*s/3),f=.5*Math.sqrt(s*u*(a-u)/a)*(l-a/2<0?-1:1),c=Math.max(n,Math.floor(r-l*u/a+f)),d=Math.min(i,Math.floor(r+(a-l)*u/a+f));o(v,r,c,d,e)}var p=v[r],S=n,C=i;for(x(v,n,r),e(v[i],p)>0&&x(v,n,i);S<C;){for(x(v,S,C),S++,C--;e(v[S],p)<0;)S++;for(;e(v[C],p)>0;)C--}e(v[n],p)===0?x(v,n,C):(C++,x(v,C,i)),C<=r&&(n=C+1),r<=C&&(i=C-1)}};h.exports=o}),88492:((h,x,t)=>{var o=t(35154),v=t(33680),r=function(i,e,a){for(var l=[],s=0;s<i.length;s++)for(var u=0;u<e.length;u++)for(var f=0;f<a;f++)l.push({a:i[s],b:e[u]});return l},n=function(i,e,a){var l=o(a,"max",0),s=o(a,"qty",1),u=o(a,"random",!1),f=o(a,"randomB",!1),c=o(a,"repeat",0),d=o(a,"yoyo",!1),p=[];if(f&&v(e),c===-1)if(l===0)c=0;else{var S=i.length*e.length*s;d&&(S*=2),c=Math.ceil(l/S)}for(var C=0;C<=c;C++){var E=r(i,e,s);u&&v(E),p=p.concat(E),d&&(E.reverse(),p=p.concat(E))}return l&&p.splice(l),p};h.exports=n}),72905:((h,x,t)=>{var o=t(19133),v=function(r,n,i,e){e===void 0&&(e=r);var a;if(!Array.isArray(n))return a=r.indexOf(n),a!==-1?(o(r,a),i&&i.call(e,n),n):null;for(var l=n.length-1,s=[];l>=0;){var u=n[l];a=r.indexOf(u),a!==-1&&(o(r,a),s.push(u),i&&i.call(e,u)),l--}return s};h.exports=v}),60248:((h,x,t)=>{var o=t(19133),v=function(r,n,i,e){if(e===void 0&&(e=r),n<0||n>r.length-1)throw new Error("Index out of bounds");var a=o(r,n);return i&&i.call(e,a),a};h.exports=v}),81409:((h,x,t)=>{var o=t(82011),v=function(r,n,i,e,a){if(n===void 0&&(n=0),i===void 0&&(i=r.length),a===void 0&&(a=r),o(r,n,i)){var l=i-n,s=r.splice(n,l);if(e)for(var u=0;u<s.length;u++){var f=s[u];e.call(a,f)}return s}else return[]};h.exports=v}),31856:((h,x,t)=>{var o=t(19133),v=function(r,n,i){n===void 0&&(n=0),i===void 0&&(i=r.length);var e=n+Math.floor(Math.random()*i);return o(r,e)};h.exports=v}),42169:(h=>{var x=function(t,o,v){var r=t.indexOf(o),n=t.indexOf(v);return r!==-1&&n===-1?(t[r]=v,!0):!1};h.exports=x}),86003:(h=>{var x=function(t,o){o===void 0&&(o=1);for(var v=null,r=0;r<o;r++)v=t.shift(),t.push(v);return v};h.exports=x}),49498:(h=>{var x=function(t,o){o===void 0&&(o=1);for(var v=null,r=0;r<o;r++)v=t.pop(),t.unshift(v);return v};h.exports=x}),82011:(h=>{var x=function(t,o,v,r){var n=t.length;if(o<0||o>=n||o>=v||v>n){if(r)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};h.exports=x}),89545:(h=>{var x=function(t,o){var v=t.indexOf(o);return v!==-1&&v>0&&(t.splice(v,1),t.unshift(o)),o};h.exports=x}),17810:((h,x,t)=>{var o=t(82011),v=function(r,n,i,e,a){if(e===void 0&&(e=0),a===void 0&&(a=r.length),o(r,e,a))for(var l=e;l<a;l++){var s=r[l];s.hasOwnProperty(n)&&(s[n]=i)}return r};h.exports=v}),33680:(h=>{var x=function(t){for(var o=t.length-1;o>0;o--){var v=Math.floor(Math.random()*(o+1)),r=t[o];t[o]=t[v],t[v]=r}return t};h.exports=x}),90126:(h=>{var x=function(t){var o=/\D/g;return t.sort(function(v,r){return parseInt(v.replace(o,""),10)-parseInt(r.replace(o,""),10)}),t};h.exports=x}),19133:(h=>{var x=function(t,o){if(!(o>=t.length)){for(var v=t.length-1,r=t[o],n=o;n<v;n++)t[n]=t[n+1];return t.length=v,r}};h.exports=x}),19186:((h,x,t)=>{var o=t(82264);function v(e,a){return String(e).localeCompare(a)}function r(e,a){var l=e.length;if(l<=1)return e;for(var s=new Array(l),u=1;u<l;u*=2){n(e,a,u,s);var f=e;e=s,s=f}return e}function n(e,a,l,s){var u=e.length,f=0,c=l*2,d,p,S,C,E;for(d=0;d<u;d+=c)for(p=d+l,S=p+l,p>u&&(p=u),S>u&&(S=u),C=d,E=p;;)if(C<p&&E<S)a(e[C],e[E])<=0?s[f++]=e[C++]:s[f++]=e[E++];else if(C<p)s[f++]=e[C++];else if(E<S)s[f++]=e[E++];else break}var i=function(e,a){if(a===void 0&&(a=v),!e||e.length<2)return e;if(o.features.stableSort)return e.sort(a);var l=r(e,a);return l!==e&&n(l,null,e.length,e),e};h.exports=i}),25630:(h=>{var x=function(t,o,v){if(o===v)return t;var r=t.indexOf(o),n=t.indexOf(v);if(r<0||n<0)throw new Error("Supplied items must be elements of the same array");return t[r]=v,t[n]=o,t};h.exports=x}),37105:((h,x,t)=>{h.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}}),86922:(h=>{var x=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var o=t[0].length,v=1;v<t.length;v++)if(t[v].length!==o)return!1;return!0};h.exports=x}),63362:((h,x,t)=>{var o=t(41836),v=t(86922),r=function(n){var i="";if(!v(n))return i;for(var e=0;e<n.length;e++){for(var a=0;a<n[e].length;a++){var l=n[e][a].toString();l!=="undefined"?i+=o(l,2):i+="?",a<n[e].length-1&&(i+=" |")}if(e<n.length-1){i+=`
`;for(var s=0;s<n[e].length;s++)i+="---",s<n[e].length-1&&(i+="+");i+=`
`}}return i};h.exports=r}),92598:(h=>{var x=function(t){return t.reverse()};h.exports=x}),21224:(h=>{var x=function(t){for(var o=0;o<t.length;o++)t[o].reverse();return t};h.exports=x}),98717:((h,x,t)=>{var o=t(37829),v=function(r){return o(r,180)};h.exports=v}),44657:((h,x,t)=>{var o=t(37829),v=function(r,n){n===void 0&&(n=1);for(var i=0;i<n;i++)r=o(r,90);return r};h.exports=v}),37829:((h,x,t)=>{var o=t(86922),v=t(2429),r=function(n,i){if(i===void 0&&(i=90),!o(n))return null;if(typeof i!="string"&&(i=(i%360+360)%360),i===90||i===-270||i==="rotateLeft")n=v(n),n.reverse();else if(i===-90||i===270||i==="rotateRight")n.reverse(),n=v(n);else if(Math.abs(i)===180||i==="rotate180"){for(var e=0;e<n.length;e++)n[e].reverse();n.reverse()}return n};h.exports=r}),92632:((h,x,t)=>{var o=t(37829),v=function(r,n){n===void 0&&(n=1);for(var i=0;i<n;i++)r=o(r,-90);return r};h.exports=v}),69512:((h,x,t)=>{var o=t(86003),v=t(49498),r=function(n,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),e!==0&&(e<0?o(n,Math.abs(e)):v(n,e)),i!==0)for(var a=0;a<n.length;a++){var l=n[a];i<0?o(l,Math.abs(i)):v(l,i)}return n};h.exports=r}),2429:(h=>{var x=function(t){for(var o=t.length,v=t[0].length,r=new Array(v),n=0;n<v;n++){r[n]=new Array(o);for(var i=o-1;i>-1;i--)r[n][i]=t[i][n]}return r};h.exports=x}),54915:((h,x,t)=>{h.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}}),71334:(h=>{var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(o,v){for(var r=new Uint8Array(o),n=r.length,i=v?"data:"+v+";base64,":"",e=0;e<n;e+=3)i+=x[r[e]>>2],i+=x[(r[e]&3)<<4|r[e+1]>>4],i+=x[(r[e+1]&15)<<2|r[e+2]>>6],i+=x[r[e+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i};h.exports=t}),53134:(h=>{for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),o=0;o<x.length;o++)t[x.charCodeAt(o)]=o;var v=function(r){r=r.substr(r.indexOf(",")+1);var n=r.length,i=n*.75,e=0,a,l,s,u;r[n-1]==="="&&(i--,r[n-2]==="="&&i--);for(var f=new ArrayBuffer(i),c=new Uint8Array(f),d=0;d<n;d+=4)a=t[r.charCodeAt(d)],l=t[r.charCodeAt(d+1)],s=t[r.charCodeAt(d+2)],u=t[r.charCodeAt(d+3)],c[e++]=a<<2|l>>4,c[e++]=(l&15)<<4|s>>2,c[e++]=(s&3)<<6|u&63;return f};h.exports=v}),65839:((h,x,t)=>{h.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}}),91799:((h,x,t)=>{h.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}}),41786:(h=>{var x=function(t){var o={};for(var v in t)Array.isArray(t[v])?o[v]=t[v].slice(0):o[v]=t[v];return o};h.exports=x}),62644:(h=>{var x=function(t){var o,v,r;if(typeof t!="object"||t===null)return t;o=Array.isArray(t)?[]:{};for(r in t)v=t[r],o[r]=x(v);return o};h.exports=x}),79291:((h,x,t)=>{var o=t(41212),v=function(){var r,n,i,e,a,l,s=arguments[0]||{},u=1,f=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},u=2),f===u&&(s=this,--u);u<f;u++)if((r=arguments[u])!=null)for(n in r)i=s[n],e=r[n],s!==e&&(c&&e&&(o(e)||(a=Array.isArray(e)))?(a?(a=!1,l=i&&Array.isArray(i)?i:[]):l=i&&o(i)?i:{},s[n]=v(c,l,e)):e!==void 0&&(s[n]=e));return s};h.exports=v}),23568:((h,x,t)=>{var o=t(75508),v=t(35154),r=function(n,i,e){var a=v(n,i,null);if(a===null)return e;if(Array.isArray(a))return o.RND.pick(a);if(typeof a=="object"){if(a.hasOwnProperty("randInt"))return o.RND.integerInRange(a.randInt[0],a.randInt[1]);if(a.hasOwnProperty("randFloat"))return o.RND.realInRange(a.randFloat[0],a.randFloat[1])}else if(typeof a=="function")return a(i);return a};h.exports=r}),95540:(h=>{var x=function(t,o,v){var r=typeof t;return!t||r==="number"||r==="string"?v:t.hasOwnProperty(o)&&t[o]!==void 0?t[o]:v};h.exports=x}),82840:((h,x,t)=>{var o=t(35154),v=t(45319),r=function(n,i,e,a,l){l===void 0&&(l=e);var s=o(n,i,l);return v(s,e,a)};h.exports=r}),35154:(h=>{var x=function(t,o,v,r){if(!t&&!r||typeof t=="number")return v;if(t&&t.hasOwnProperty(o))return t[o];if(r&&r.hasOwnProperty(o))return r[o];if(o.indexOf(".")!==-1){for(var n=o.split("."),i=t,e=r,a=v,l=v,s=!0,u=!0,f=0;f<n.length;f++)i&&i.hasOwnProperty(n[f])?(a=i[n[f]],i=i[n[f]]):s=!1,e&&e.hasOwnProperty(n[f])?(l=e[n[f]],e=e[n[f]]):u=!1;return s?a:u?l:v}else return v};h.exports=x}),69036:(h=>{var x=function(t,o){for(var v=0;v<o.length;v++)if(!t.hasOwnProperty(o[v]))return!1;return!0};h.exports=x}),1985:(h=>{var x=function(t,o){for(var v=0;v<o.length;v++)if(t.hasOwnProperty(o[v]))return!0;return!1};h.exports=x}),97022:(h=>{var x=function(t,o){return t.hasOwnProperty(o)};h.exports=x}),41212:(h=>{var x=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};h.exports=x}),46975:((h,x,t)=>{var o=t(41786),v=function(r,n){var i=o(r);for(var e in n)i.hasOwnProperty(e)||(i[e]=n[e]);return i};h.exports=v}),269:((h,x,t)=>{var o=t(41786),v=function(r,n){var i=o(r);for(var e in n)i.hasOwnProperty(e)&&(i[e]=n[e]);return i};h.exports=v}),18254:((h,x,t)=>{var o=t(97022),v=function(r,n){for(var i={},e=0;e<n.length;e++){var a=n[e];o(r,a)&&(i[a]=r[a])}return i};h.exports=v}),61622:(h=>{var x=function(t,o,v){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(o))return t[o]=v,!0;if(o.indexOf(".")!==-1){for(var r=o.split("."),n=t,i=t,e=0;e<r.length;e++)if(n.hasOwnProperty(r[e]))i=n,n=n[r[e]];else return!1;return i[r[r.length-1]]=v,!0}return!1};h.exports=x}),1183:((h,x,t)=>{h.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}}),27902:(h=>{var x=function(t,o){return t.replace(/%([0-9]+)/g,function(v,r){return o[Number(r)-1]})};h.exports=x}),41836:(h=>{var x=function(t,o,v,r){o===void 0&&(o=0),v===void 0&&(v=" "),r===void 0&&(r=3),t=t.toString();var n=0;if(o+1>=t.length)switch(r){case 1:t=new Array(o+1-t.length).join(v)+t;break;case 3:var i=Math.ceil((n=o-t.length)/2),e=n-i;t=new Array(e+1).join(v)+t+new Array(i+1).join(v);break;default:t=t+new Array(o+1-t.length).join(v);break}return t};h.exports=x}),33628:(h=>{var x=function(t,o){return o===0?t.slice(1):t.slice(0,o)+t.slice(o+1)};h.exports=x}),27671:(h=>{var x=function(t){return t.split("").reverse().join("")};h.exports=x}),45650:(h=>{var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=Math.random()*16|0,v=t==="x"?o:o&3|8;return v.toString(16)})};h.exports=x}),35355:(h=>{var x=function(t){return t&&t[0].toUpperCase()+t.slice(1)};h.exports=x}),31749:((h,x,t)=>{h.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}})},T={};function O(h){var x=T[h];if(x!==void 0)return x.exports;var t=T[h]={exports:{}};return m[h](t,t.exports,O),t.exports}O.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})();var L=O(85454);return L})())})(wc)),wc.exports}var Fr=PN(),Vp={};var ME;function NN(){return ME||(ME=1,(function(A){(function(){var g=function(){this.init()};g.prototype={init:function(){var r=this||m;return r._counter=1e3,r._html5AudioPool=[],r.html5PoolSize=10,r._codecs={},r._howls=[],r._muted=!1,r._volume=1,r._canPlayEvent="canplaythrough",r._navigator=typeof window<"u"&&window.navigator?window.navigator:null,r.masterGain=null,r.noAudio=!1,r.usingWebAudio=!0,r.autoSuspend=!0,r.ctx=null,r.autoUnlock=!0,r._setup(),r},volume:function(r){var n=this||m;if(r=parseFloat(r),n.ctx||v(),typeof r<"u"&&r>=0&&r<=1){if(n._volume=r,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(r,m.ctx.currentTime);for(var i=0;i<n._howls.length;i++)if(!n._howls[i]._webAudio)for(var e=n._howls[i]._getSoundIds(),a=0;a<e.length;a++){var l=n._howls[i]._soundById(e[a]);l&&l._node&&(l._node.volume=l._volume*r)}return n}return n._volume},mute:function(r){var n=this||m;n.ctx||v(),n._muted=r,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(r?0:n._volume,m.ctx.currentTime);for(var i=0;i<n._howls.length;i++)if(!n._howls[i]._webAudio)for(var e=n._howls[i]._getSoundIds(),a=0;a<e.length;a++){var l=n._howls[i]._soundById(e[a]);l&&l._node&&(l._node.muted=r?!0:l._muted)}return n},stop:function(){for(var r=this||m,n=0;n<r._howls.length;n++)r._howls[n].stop();return r},unload:function(){for(var r=this||m,n=r._howls.length-1;n>=0;n--)r._howls[n].unload();return r.usingWebAudio&&r.ctx&&typeof r.ctx.close<"u"&&(r.ctx.close(),r.ctx=null,v()),r},codecs:function(r){return(this||m)._codecs[r.replace(/^x-/,"")]},_setup:function(){var r=this||m;if(r.state=r.ctx&&r.ctx.state||"suspended",r._autoSuspend(),!r.usingWebAudio)if(typeof Audio<"u")try{var n=new Audio;typeof n.oncanplaythrough>"u"&&(r._canPlayEvent="canplay")}catch{r.noAudio=!0}else r.noAudio=!0;try{var n=new Audio;n.muted&&(r.noAudio=!0)}catch{}return r.noAudio||r._setupCodecs(),r},_setupCodecs:function(){var r=this||m,n=null;try{n=typeof Audio<"u"?new Audio:null}catch{return r}if(!n||typeof n.canPlayType!="function")return r;var i=n.canPlayType("audio/mpeg;").replace(/^no$/,""),e=r._navigator?r._navigator.userAgent:"",a=e.match(/OPR\/(\d+)/g),l=a&&parseInt(a[0].split("/")[1],10)<33,s=e.indexOf("Safari")!==-1&&e.indexOf("Chrome")===-1,u=e.match(/Version\/(.*?) /),f=s&&u&&parseInt(u[1],10)<15;return r._codecs={mp3:!!(!l&&(i||n.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!i,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(n.canPlayType('audio/wav; codecs="1"')||n.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(n.canPlayType("audio/x-m4b;")||n.canPlayType("audio/m4b;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!f&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!f&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},r},_unlockAudio:function(){var r=this||m;if(!(r._audioUnlocked||!r.ctx)){r._audioUnlocked=!1,r.autoUnlock=!1,!r._mobileUnloaded&&r.ctx.sampleRate!==44100&&(r._mobileUnloaded=!0,r.unload()),r._scratchBuffer=r.ctx.createBuffer(1,1,22050);var n=function(i){for(;r._html5AudioPool.length<r.html5PoolSize;)try{var e=new Audio;e._unlocked=!0,r._releaseHtml5Audio(e)}catch{r.noAudio=!0;break}for(var a=0;a<r._howls.length;a++)if(!r._howls[a]._webAudio)for(var l=r._howls[a]._getSoundIds(),s=0;s<l.length;s++){var u=r._howls[a]._soundById(l[s]);u&&u._node&&!u._node._unlocked&&(u._node._unlocked=!0,u._node.load())}r._autoResume();var f=r.ctx.createBufferSource();f.buffer=r._scratchBuffer,f.connect(r.ctx.destination),typeof f.start>"u"?f.noteOn(0):f.start(0),typeof r.ctx.resume=="function"&&r.ctx.resume(),f.onended=function(){f.disconnect(0),r._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0),document.removeEventListener("keydown",n,!0);for(var c=0;c<r._howls.length;c++)r._howls[c]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),document.addEventListener("keydown",n,!0),r}},_obtainHtml5Audio:function(){var r=this||m;if(r._html5AudioPool.length)return r._html5AudioPool.pop();var n=new Audio().play();return n&&typeof Promise<"u"&&(n instanceof Promise||typeof n.then=="function")&&n.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(r){var n=this||m;return r._unlocked&&n._html5AudioPool.push(r),n},_autoSuspend:function(){var r=this;if(!(!r.autoSuspend||!r.ctx||typeof r.ctx.suspend>"u"||!m.usingWebAudio)){for(var n=0;n<r._howls.length;n++)if(r._howls[n]._webAudio){for(var i=0;i<r._howls[n]._sounds.length;i++)if(!r._howls[n]._sounds[i]._paused)return r}return r._suspendTimer&&clearTimeout(r._suspendTimer),r._suspendTimer=setTimeout(function(){if(r.autoSuspend){r._suspendTimer=null,r.state="suspending";var e=function(){r.state="suspended",r._resumeAfterSuspend&&(delete r._resumeAfterSuspend,r._autoResume())};r.ctx.suspend().then(e,e)}},3e4),r}},_autoResume:function(){var r=this;if(!(!r.ctx||typeof r.ctx.resume>"u"||!m.usingWebAudio))return r.state==="running"&&r.ctx.state!=="interrupted"&&r._suspendTimer?(clearTimeout(r._suspendTimer),r._suspendTimer=null):r.state==="suspended"||r.state==="running"&&r.ctx.state==="interrupted"?(r.ctx.resume().then(function(){r.state="running";for(var n=0;n<r._howls.length;n++)r._howls[n]._emit("resume")}),r._suspendTimer&&(clearTimeout(r._suspendTimer),r._suspendTimer=null)):r.state==="suspending"&&(r._resumeAfterSuspend=!0),r}};var m=new g,T=function(r){var n=this;if(!r.src||r.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}n.init(r)};T.prototype={init:function(r){var n=this;return m.ctx||v(),n._autoplay=r.autoplay||!1,n._format=typeof r.format!="string"?r.format:[r.format],n._html5=r.html5||!1,n._muted=r.mute||!1,n._loop=r.loop||!1,n._pool=r.pool||5,n._preload=typeof r.preload=="boolean"||r.preload==="metadata"?r.preload:!0,n._rate=r.rate||1,n._sprite=r.sprite||{},n._src=typeof r.src!="string"?r.src:[r.src],n._volume=r.volume!==void 0?r.volume:1,n._xhr={method:r.xhr&&r.xhr.method?r.xhr.method:"GET",headers:r.xhr&&r.xhr.headers?r.xhr.headers:null,withCredentials:r.xhr&&r.xhr.withCredentials?r.xhr.withCredentials:!1},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=r.onend?[{fn:r.onend}]:[],n._onfade=r.onfade?[{fn:r.onfade}]:[],n._onload=r.onload?[{fn:r.onload}]:[],n._onloaderror=r.onloaderror?[{fn:r.onloaderror}]:[],n._onplayerror=r.onplayerror?[{fn:r.onplayerror}]:[],n._onpause=r.onpause?[{fn:r.onpause}]:[],n._onplay=r.onplay?[{fn:r.onplay}]:[],n._onstop=r.onstop?[{fn:r.onstop}]:[],n._onmute=r.onmute?[{fn:r.onmute}]:[],n._onvolume=r.onvolume?[{fn:r.onvolume}]:[],n._onrate=r.onrate?[{fn:r.onrate}]:[],n._onseek=r.onseek?[{fn:r.onseek}]:[],n._onunlock=r.onunlock?[{fn:r.onunlock}]:[],n._onresume=[],n._webAudio=m.usingWebAudio&&!n._html5,typeof m.ctx<"u"&&m.ctx&&m.autoUnlock&&m._unlockAudio(),m._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&n._preload!=="none"&&n.load(),n},load:function(){var r=this,n=null;if(m.noAudio){r._emit("loaderror",null,"No audio support.");return}typeof r._src=="string"&&(r._src=[r._src]);for(var i=0;i<r._src.length;i++){var e,a;if(r._format&&r._format[i])e=r._format[i];else{if(a=r._src[i],typeof a!="string"){r._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}e=/^data:audio\/([^;,]+);/i.exec(a),e||(e=/\.([^.]+)$/.exec(a.split("?",1)[0])),e&&(e=e[1].toLowerCase())}if(e||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),e&&m.codecs(e)){n=r._src[i];break}}if(!n){r._emit("loaderror",null,"No codec support for selected audio sources.");return}return r._src=n,r._state="loading",window.location.protocol==="https:"&&n.slice(0,5)==="http:"&&(r._html5=!0,r._webAudio=!1),new O(r),r._webAudio&&h(r),r},play:function(r,n){var i=this,e=null;if(typeof r=="number")e=r,r=null;else{if(typeof r=="string"&&i._state==="loaded"&&!i._sprite[r])return null;if(typeof r>"u"&&(r="__default",!i._playLock)){for(var a=0,l=0;l<i._sounds.length;l++)i._sounds[l]._paused&&!i._sounds[l]._ended&&(a++,e=i._sounds[l]._id);a===1?r=null:e=null}}var s=e?i._soundById(e):i._inactiveSound();if(!s)return null;if(e&&!r&&(r=s._sprite||"__default"),i._state!=="loaded"){s._sprite=r,s._ended=!1;var u=s._id;return i._queue.push({event:"play",action:function(){i.play(u)}}),u}if(e&&!s._paused)return n||i._loadQueue("play"),s._id;i._webAudio&&m._autoResume();var f=Math.max(0,s._seek>0?s._seek:i._sprite[r][0]/1e3),c=Math.max(0,(i._sprite[r][0]+i._sprite[r][1])/1e3-f),d=c*1e3/Math.abs(s._rate),p=i._sprite[r][0]/1e3,S=(i._sprite[r][0]+i._sprite[r][1])/1e3;s._sprite=r,s._ended=!1;var C=function(){s._paused=!1,s._seek=f,s._start=p,s._stop=S,s._loop=!!(s._loop||i._sprite[r][2])};if(f>=S){i._ended(s);return}var E=s._node;if(i._webAudio){var R=function(){i._playLock=!1,C(),i._refreshBuffer(s);var b=s._muted||i._muted?0:s._volume;E.gain.setValueAtTime(b,m.ctx.currentTime),s._playStart=m.ctx.currentTime,typeof E.bufferSource.start>"u"?s._loop?E.bufferSource.noteGrainOn(0,f,86400):E.bufferSource.noteGrainOn(0,f,c):s._loop?E.bufferSource.start(0,f,86400):E.bufferSource.start(0,f,c),d!==1/0&&(i._endTimers[s._id]=setTimeout(i._ended.bind(i,s),d)),n||setTimeout(function(){i._emit("play",s._id),i._loadQueue()},0)};m.state==="running"&&m.ctx.state!=="interrupted"?R():(i._playLock=!0,i.once("resume",R),i._clearTimer(s._id))}else{var M=function(){E.currentTime=f,E.muted=s._muted||i._muted||m._muted||E.muted,E.volume=s._volume*m.volume(),E.playbackRate=s._rate;try{var b=E.play();if(b&&typeof Promise<"u"&&(b instanceof Promise||typeof b.then=="function")?(i._playLock=!0,C(),b.then(function(){i._playLock=!1,E._unlocked=!0,n?i._loadQueue():i._emit("play",s._id)}).catch(function(){i._playLock=!1,i._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):n||(i._playLock=!1,C(),i._emit("play",s._id)),E.playbackRate=s._rate,E.paused){i._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}r!=="__default"||s._loop?i._endTimers[s._id]=setTimeout(i._ended.bind(i,s),d):(i._endTimers[s._id]=function(){i._ended(s),E.removeEventListener("ended",i._endTimers[s._id],!1)},E.addEventListener("ended",i._endTimers[s._id],!1))}catch(I){i._emit("playerror",s._id,I)}};E.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(E.src=i._src,E.load());var D=window&&window.ejecta||!E.readyState&&m._navigator.isCocoonJS;if(E.readyState>=3||D)M();else{i._playLock=!0,i._state="loading";var B=function(){i._state="loaded",M(),E.removeEventListener(m._canPlayEvent,B,!1)};E.addEventListener(m._canPlayEvent,B,!1),i._clearTimer(s._id)}}return s._id},pause:function(r){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(r)}}),n;for(var i=n._getSoundIds(r),e=0;e<i.length;e++){n._clearTimer(i[e]);var a=n._soundById(i[e]);if(a&&!a._paused&&(a._seek=n.seek(i[e]),a._rateSeek=0,a._paused=!0,n._stopFade(i[e]),a._node))if(n._webAudio){if(!a._node.bufferSource)continue;typeof a._node.bufferSource.stop>"u"?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)}else(!isNaN(a._node.duration)||a._node.duration===1/0)&&a._node.pause();arguments[1]||n._emit("pause",a?a._id:null)}return n},stop:function(r,n){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(r)}}),i;for(var e=i._getSoundIds(r),a=0;a<e.length;a++){i._clearTimer(e[a]);var l=i._soundById(e[a]);l&&(l._seek=l._start||0,l._rateSeek=0,l._paused=!0,l._ended=!0,i._stopFade(e[a]),l._node&&(i._webAudio?l._node.bufferSource&&(typeof l._node.bufferSource.stop>"u"?l._node.bufferSource.noteOff(0):l._node.bufferSource.stop(0),i._cleanBuffer(l._node)):(!isNaN(l._node.duration)||l._node.duration===1/0)&&(l._node.currentTime=l._start||0,l._node.pause(),l._node.duration===1/0&&i._clearSound(l._node))),n||i._emit("stop",l._id))}return i},mute:function(r,n){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(r,n)}}),i;if(typeof n>"u")if(typeof r=="boolean")i._muted=r;else return i._muted;for(var e=i._getSoundIds(n),a=0;a<e.length;a++){var l=i._soundById(e[a]);l&&(l._muted=r,l._interval&&i._stopFade(l._id),i._webAudio&&l._node?l._node.gain.setValueAtTime(r?0:l._volume,m.ctx.currentTime):l._node&&(l._node.muted=m._muted?!0:r),i._emit("mute",l._id))}return i},volume:function(){var r=this,n=arguments,i,e;if(n.length===0)return r._volume;if(n.length===1||n.length===2&&typeof n[1]>"u"){var a=r._getSoundIds(),l=a.indexOf(n[0]);l>=0?e=parseInt(n[0],10):i=parseFloat(n[0])}else n.length>=2&&(i=parseFloat(n[0]),e=parseInt(n[1],10));var s;if(typeof i<"u"&&i>=0&&i<=1){if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,n)}}),r;typeof e>"u"&&(r._volume=i),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)s=r._soundById(e[u]),s&&(s._volume=i,n[2]||r._stopFade(e[u]),r._webAudio&&s._node&&!s._muted?s._node.gain.setValueAtTime(i,m.ctx.currentTime):s._node&&!s._muted&&(s._node.volume=i*m.volume()),r._emit("volume",s._id))}else return s=e?r._soundById(e):r._sounds[0],s?s._volume:0;return r},fade:function(r,n,i,e){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(r,n,i,e)}}),a;r=Math.min(Math.max(0,parseFloat(r)),1),n=Math.min(Math.max(0,parseFloat(n)),1),i=parseFloat(i),a.volume(r,e);for(var l=a._getSoundIds(e),s=0;s<l.length;s++){var u=a._soundById(l[s]);if(u){if(e||a._stopFade(l[s]),a._webAudio&&!u._muted){var f=m.ctx.currentTime,c=f+i/1e3;u._volume=r,u._node.gain.setValueAtTime(r,f),u._node.gain.linearRampToValueAtTime(n,c)}a._startFadeInterval(u,r,n,i,l[s],typeof e>"u")}}return a},_startFadeInterval:function(r,n,i,e,a,l){var s=this,u=n,f=i-n,c=Math.abs(f/.01),d=Math.max(4,c>0?e/c:e),p=Date.now();r._fadeTo=i,r._interval=setInterval(function(){var S=(Date.now()-p)/e;p=Date.now(),u+=f*S,u=Math.round(u*100)/100,f<0?u=Math.max(i,u):u=Math.min(i,u),s._webAudio?r._volume=u:s.volume(u,r._id,!0),l&&(s._volume=u),(i<n&&u<=i||i>n&&u>=i)&&(clearInterval(r._interval),r._interval=null,r._fadeTo=null,s.volume(i,r._id),s._emit("fade",r._id))},d)},_stopFade:function(r){var n=this,i=n._soundById(r);return i&&i._interval&&(n._webAudio&&i._node.gain.cancelScheduledValues(m.ctx.currentTime),clearInterval(i._interval),i._interval=null,n.volume(i._fadeTo,r),i._fadeTo=null,n._emit("fade",r)),n},loop:function(){var r=this,n=arguments,i,e,a;if(n.length===0)return r._loop;if(n.length===1)if(typeof n[0]=="boolean")i=n[0],r._loop=i;else return a=r._soundById(parseInt(n[0],10)),a?a._loop:!1;else n.length===2&&(i=n[0],e=parseInt(n[1],10));for(var l=r._getSoundIds(e),s=0;s<l.length;s++)a=r._soundById(l[s]),a&&(a._loop=i,r._webAudio&&a._node&&a._node.bufferSource&&(a._node.bufferSource.loop=i,i&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop,r.playing(l[s])&&(r.pause(l[s],!0),r.play(l[s],!0)))));return r},rate:function(){var r=this,n=arguments,i,e;if(n.length===0)e=r._sounds[0]._id;else if(n.length===1){var a=r._getSoundIds(),l=a.indexOf(n[0]);l>=0?e=parseInt(n[0],10):i=parseFloat(n[0])}else n.length===2&&(i=parseFloat(n[0]),e=parseInt(n[1],10));var s;if(typeof i=="number"){if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,n)}}),r;typeof e>"u"&&(r._rate=i),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)if(s=r._soundById(e[u]),s){r.playing(e[u])&&(s._rateSeek=r.seek(e[u]),s._playStart=r._webAudio?m.ctx.currentTime:s._playStart),s._rate=i,r._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.setValueAtTime(i,m.ctx.currentTime):s._node&&(s._node.playbackRate=i);var f=r.seek(e[u]),c=(r._sprite[s._sprite][0]+r._sprite[s._sprite][1])/1e3-f,d=c*1e3/Math.abs(s._rate);(r._endTimers[e[u]]||!s._paused)&&(r._clearTimer(e[u]),r._endTimers[e[u]]=setTimeout(r._ended.bind(r,s),d)),r._emit("rate",s._id)}}else return s=r._soundById(e),s?s._rate:r._rate;return r},seek:function(){var r=this,n=arguments,i,e;if(n.length===0)r._sounds.length&&(e=r._sounds[0]._id);else if(n.length===1){var a=r._getSoundIds(),l=a.indexOf(n[0]);l>=0?e=parseInt(n[0],10):r._sounds.length&&(e=r._sounds[0]._id,i=parseFloat(n[0]))}else n.length===2&&(i=parseFloat(n[0]),e=parseInt(n[1],10));if(typeof e>"u")return 0;if(typeof i=="number"&&(r._state!=="loaded"||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,n)}}),r;var s=r._soundById(e);if(s)if(typeof i=="number"&&i>=0){var u=r.playing(e);u&&r.pause(e,!0),s._seek=i,s._ended=!1,r._clearTimer(e),!r._webAudio&&s._node&&!isNaN(s._node.duration)&&(s._node.currentTime=i);var f=function(){u&&r.play(e,!0),r._emit("seek",e)};if(u&&!r._webAudio){var c=function(){r._playLock?setTimeout(c,0):f()};setTimeout(c,0)}else f()}else if(r._webAudio){var d=r.playing(e)?m.ctx.currentTime-s._playStart:0,p=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(p+d*Math.abs(s._rate))}else return s._node.currentTime;return r},playing:function(r){var n=this;if(typeof r=="number"){var i=n._soundById(r);return i?!i._paused:!1}for(var e=0;e<n._sounds.length;e++)if(!n._sounds[e]._paused)return!0;return!1},duration:function(r){var n=this,i=n._duration,e=n._soundById(r);return e&&(i=n._sprite[e._sprite][1]/1e3),i},state:function(){return this._state},unload:function(){for(var r=this,n=r._sounds,i=0;i<n.length;i++)n[i]._paused||r.stop(n[i]._id),r._webAudio||(r._clearSound(n[i]._node),n[i]._node.removeEventListener("error",n[i]._errorFn,!1),n[i]._node.removeEventListener(m._canPlayEvent,n[i]._loadFn,!1),n[i]._node.removeEventListener("ended",n[i]._endFn,!1),m._releaseHtml5Audio(n[i]._node)),delete n[i]._node,r._clearTimer(n[i]._id);var e=m._howls.indexOf(r);e>=0&&m._howls.splice(e,1);var a=!0;for(i=0;i<m._howls.length;i++)if(m._howls[i]._src===r._src||r._src.indexOf(m._howls[i]._src)>=0){a=!1;break}return L&&a&&delete L[r._src],m.noAudio=!1,r._state="unloaded",r._sounds=[],r=null,null},on:function(r,n,i,e){var a=this,l=a["_on"+r];return typeof n=="function"&&l.push(e?{id:i,fn:n,once:e}:{id:i,fn:n}),a},off:function(r,n,i){var e=this,a=e["_on"+r],l=0;if(typeof n=="number"&&(i=n,n=null),n||i)for(l=0;l<a.length;l++){var s=i===a[l].id;if(n===a[l].fn&&s||!n&&s){a.splice(l,1);break}}else if(r)e["_on"+r]=[];else{var u=Object.keys(e);for(l=0;l<u.length;l++)u[l].indexOf("_on")===0&&Array.isArray(e[u[l]])&&(e[u[l]]=[])}return e},once:function(r,n,i){var e=this;return e.on(r,n,i,1),e},_emit:function(r,n,i){for(var e=this,a=e["_on"+r],l=a.length-1;l>=0;l--)(!a[l].id||a[l].id===n||r==="load")&&(setTimeout((function(s){s.call(this,n,i)}).bind(e,a[l].fn),0),a[l].once&&e.off(r,a[l].fn,a[l].id));return e._loadQueue(r),e},_loadQueue:function(r){var n=this;if(n._queue.length>0){var i=n._queue[0];i.event===r&&(n._queue.shift(),n._loadQueue()),r||i.action()}return n},_ended:function(r){var n=this,i=r._sprite;if(!n._webAudio&&r._node&&!r._node.paused&&!r._node.ended&&r._node.currentTime<r._stop)return setTimeout(n._ended.bind(n,r),100),n;var e=!!(r._loop||n._sprite[i][2]);if(n._emit("end",r._id),!n._webAudio&&e&&n.stop(r._id,!0).play(r._id),n._webAudio&&e){n._emit("play",r._id),r._seek=r._start||0,r._rateSeek=0,r._playStart=m.ctx.currentTime;var a=(r._stop-r._start)*1e3/Math.abs(r._rate);n._endTimers[r._id]=setTimeout(n._ended.bind(n,r),a)}return n._webAudio&&!e&&(r._paused=!0,r._ended=!0,r._seek=r._start||0,r._rateSeek=0,n._clearTimer(r._id),n._cleanBuffer(r._node),m._autoSuspend()),!n._webAudio&&!e&&n.stop(r._id,!0),n},_clearTimer:function(r){var n=this;if(n._endTimers[r]){if(typeof n._endTimers[r]!="function")clearTimeout(n._endTimers[r]);else{var i=n._soundById(r);i&&i._node&&i._node.removeEventListener("ended",n._endTimers[r],!1)}delete n._endTimers[r]}return n},_soundById:function(r){for(var n=this,i=0;i<n._sounds.length;i++)if(r===n._sounds[i]._id)return n._sounds[i];return null},_inactiveSound:function(){var r=this;r._drain();for(var n=0;n<r._sounds.length;n++)if(r._sounds[n]._ended)return r._sounds[n].reset();return new O(r)},_drain:function(){var r=this,n=r._pool,i=0,e=0;if(!(r._sounds.length<n)){for(e=0;e<r._sounds.length;e++)r._sounds[e]._ended&&i++;for(e=r._sounds.length-1;e>=0;e--){if(i<=n)return;r._sounds[e]._ended&&(r._webAudio&&r._sounds[e]._node&&r._sounds[e]._node.disconnect(0),r._sounds.splice(e,1),i--)}}},_getSoundIds:function(r){var n=this;if(typeof r>"u"){for(var i=[],e=0;e<n._sounds.length;e++)i.push(n._sounds[e]._id);return i}else return[r]},_refreshBuffer:function(r){var n=this;return r._node.bufferSource=m.ctx.createBufferSource(),r._node.bufferSource.buffer=L[n._src],r._panner?r._node.bufferSource.connect(r._panner):r._node.bufferSource.connect(r._node),r._node.bufferSource.loop=r._loop,r._loop&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop||0),r._node.bufferSource.playbackRate.setValueAtTime(r._rate,m.ctx.currentTime),n},_cleanBuffer:function(r){var n=this,i=m._navigator&&m._navigator.vendor.indexOf("Apple")>=0;if(!r.bufferSource)return n;if(m._scratchBuffer&&r.bufferSource&&(r.bufferSource.onended=null,r.bufferSource.disconnect(0),i))try{r.bufferSource.buffer=m._scratchBuffer}catch{}return r.bufferSource=null,n},_clearSound:function(r){var n=/MSIE |Trident\//.test(m._navigator&&m._navigator.userAgent);n||(r.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var O=function(r){this._parent=r,this.init()};O.prototype={init:function(){var r=this,n=r._parent;return r._muted=n._muted,r._loop=n._loop,r._volume=n._volume,r._rate=n._rate,r._seek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++m._counter,n._sounds.push(r),r.create(),r},create:function(){var r=this,n=r._parent,i=m._muted||r._muted||r._parent._muted?0:r._volume;return n._webAudio?(r._node=typeof m.ctx.createGain>"u"?m.ctx.createGainNode():m.ctx.createGain(),r._node.gain.setValueAtTime(i,m.ctx.currentTime),r._node.paused=!0,r._node.connect(m.masterGain)):m.noAudio||(r._node=m._obtainHtml5Audio(),r._errorFn=r._errorListener.bind(r),r._node.addEventListener("error",r._errorFn,!1),r._loadFn=r._loadListener.bind(r),r._node.addEventListener(m._canPlayEvent,r._loadFn,!1),r._endFn=r._endListener.bind(r),r._node.addEventListener("ended",r._endFn,!1),r._node.src=n._src,r._node.preload=n._preload===!0?"auto":n._preload,r._node.volume=i*m.volume(),r._node.load()),r},reset:function(){var r=this,n=r._parent;return r._muted=n._muted,r._loop=n._loop,r._volume=n._volume,r._rate=n._rate,r._seek=0,r._rateSeek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++m._counter,r},_errorListener:function(){var r=this;r._parent._emit("loaderror",r._id,r._node.error?r._node.error.code:0),r._node.removeEventListener("error",r._errorFn,!1)},_loadListener:function(){var r=this,n=r._parent;n._duration=Math.ceil(r._node.duration*10)/10,Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue()),r._node.removeEventListener(m._canPlayEvent,r._loadFn,!1)},_endListener:function(){var r=this,n=r._parent;n._duration===1/0&&(n._duration=Math.ceil(r._node.duration*10)/10,n._sprite.__default[1]===1/0&&(n._sprite.__default[1]=n._duration*1e3),n._ended(r)),r._node.removeEventListener("ended",r._endFn,!1)}};var L={},h=function(r){var n=r._src;if(L[n]){r._duration=L[n].duration,o(r);return}if(/^data:[^;]+;base64,/.test(n)){for(var i=atob(n.split(",")[1]),e=new Uint8Array(i.length),a=0;a<i.length;++a)e[a]=i.charCodeAt(a);t(e.buffer,r)}else{var l=new XMLHttpRequest;l.open(r._xhr.method,n,!0),l.withCredentials=r._xhr.withCredentials,l.responseType="arraybuffer",r._xhr.headers&&Object.keys(r._xhr.headers).forEach(function(s){l.setRequestHeader(s,r._xhr.headers[s])}),l.onload=function(){var s=(l.status+"")[0];if(s!=="0"&&s!=="2"&&s!=="3"){r._emit("loaderror",null,"Failed loading audio file with status: "+l.status+".");return}t(l.response,r)},l.onerror=function(){r._webAudio&&(r._html5=!0,r._webAudio=!1,r._sounds=[],delete L[n],r.load())},x(l)}},x=function(r){try{r.send()}catch{r.onerror()}},t=function(r,n){var i=function(){n._emit("loaderror",null,"Decoding audio data failed.")},e=function(a){a&&n._sounds.length>0?(L[n._src]=a,o(n,a)):i()};typeof Promise<"u"&&m.ctx.decodeAudioData.length===1?m.ctx.decodeAudioData(r).then(e).catch(i):m.ctx.decodeAudioData(r,e,i)},o=function(r,n){n&&!r._duration&&(r._duration=n.duration),Object.keys(r._sprite).length===0&&(r._sprite={__default:[0,r._duration*1e3]}),r._state!=="loaded"&&(r._state="loaded",r._emit("load"),r._loadQueue())},v=function(){if(m.usingWebAudio){try{typeof AudioContext<"u"?m.ctx=new AudioContext:typeof webkitAudioContext<"u"?m.ctx=new webkitAudioContext:m.usingWebAudio=!1}catch{m.usingWebAudio=!1}m.ctx||(m.usingWebAudio=!1);var r=/iP(hone|od|ad)/.test(m._navigator&&m._navigator.platform),n=m._navigator&&m._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=n?parseInt(n[1],10):null;if(r&&i&&i<9){var e=/safari/.test(m._navigator&&m._navigator.userAgent.toLowerCase());m._navigator&&!e&&(m.usingWebAudio=!1)}m.usingWebAudio&&(m.masterGain=typeof m.ctx.createGain>"u"?m.ctx.createGainNode():m.ctx.createGain(),m.masterGain.gain.setValueAtTime(m._muted?0:m._volume,m.ctx.currentTime),m.masterGain.connect(m.ctx.destination)),m._setup()}};A.Howler=m,A.Howl=T,typeof globalThis<"u"?(globalThis.HowlerGlobal=g,globalThis.Howler=m,globalThis.Howl=T,globalThis.Sound=O):typeof window<"u"&&(window.HowlerGlobal=g,window.Howler=m,window.Howl=T,window.Sound=O)})();(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(m){var T=this;if(!T.ctx||!T.ctx.listener)return T;for(var O=T._howls.length-1;O>=0;O--)T._howls[O].stereo(m);return T},HowlerGlobal.prototype.pos=function(m,T,O){var L=this;if(!L.ctx||!L.ctx.listener)return L;if(T=typeof T!="number"?L._pos[1]:T,O=typeof O!="number"?L._pos[2]:O,typeof m=="number")L._pos=[m,T,O],typeof L.ctx.listener.positionX<"u"?(L.ctx.listener.positionX.setTargetAtTime(L._pos[0],Howler.ctx.currentTime,.1),L.ctx.listener.positionY.setTargetAtTime(L._pos[1],Howler.ctx.currentTime,.1),L.ctx.listener.positionZ.setTargetAtTime(L._pos[2],Howler.ctx.currentTime,.1)):L.ctx.listener.setPosition(L._pos[0],L._pos[1],L._pos[2]);else return L._pos;return L},HowlerGlobal.prototype.orientation=function(m,T,O,L,h,x){var t=this;if(!t.ctx||!t.ctx.listener)return t;var o=t._orientation;if(T=typeof T!="number"?o[1]:T,O=typeof O!="number"?o[2]:O,L=typeof L!="number"?o[3]:L,h=typeof h!="number"?o[4]:h,x=typeof x!="number"?o[5]:x,typeof m=="number")t._orientation=[m,T,O,L,h,x],typeof t.ctx.listener.forwardX<"u"?(t.ctx.listener.forwardX.setTargetAtTime(m,Howler.ctx.currentTime,.1),t.ctx.listener.forwardY.setTargetAtTime(T,Howler.ctx.currentTime,.1),t.ctx.listener.forwardZ.setTargetAtTime(O,Howler.ctx.currentTime,.1),t.ctx.listener.upX.setTargetAtTime(L,Howler.ctx.currentTime,.1),t.ctx.listener.upY.setTargetAtTime(h,Howler.ctx.currentTime,.1),t.ctx.listener.upZ.setTargetAtTime(x,Howler.ctx.currentTime,.1)):t.ctx.listener.setOrientation(m,T,O,L,h,x);else return o;return t},Howl.prototype.init=(function(m){return function(T){var O=this;return O._orientation=T.orientation||[1,0,0],O._stereo=T.stereo||null,O._pos=T.pos||null,O._pannerAttr={coneInnerAngle:typeof T.coneInnerAngle<"u"?T.coneInnerAngle:360,coneOuterAngle:typeof T.coneOuterAngle<"u"?T.coneOuterAngle:360,coneOuterGain:typeof T.coneOuterGain<"u"?T.coneOuterGain:0,distanceModel:typeof T.distanceModel<"u"?T.distanceModel:"inverse",maxDistance:typeof T.maxDistance<"u"?T.maxDistance:1e4,panningModel:typeof T.panningModel<"u"?T.panningModel:"HRTF",refDistance:typeof T.refDistance<"u"?T.refDistance:1,rolloffFactor:typeof T.rolloffFactor<"u"?T.rolloffFactor:1},O._onstereo=T.onstereo?[{fn:T.onstereo}]:[],O._onpos=T.onpos?[{fn:T.onpos}]:[],O._onorientation=T.onorientation?[{fn:T.onorientation}]:[],m.call(this,T)}})(Howl.prototype.init),Howl.prototype.stereo=function(m,T){var O=this;if(!O._webAudio)return O;if(O._state!=="loaded")return O._queue.push({event:"stereo",action:function(){O.stereo(m,T)}}),O;var L=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof T>"u")if(typeof m=="number")O._stereo=m,O._pos=[m,0,0];else return O._stereo;for(var h=O._getSoundIds(T),x=0;x<h.length;x++){var t=O._soundById(h[x]);if(t)if(typeof m=="number")t._stereo=m,t._pos=[m,0,0],t._node&&(t._pannerAttr.panningModel="equalpower",(!t._panner||!t._panner.pan)&&g(t,L),L==="spatial"?typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(m,Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):t._panner.setPosition(m,0,0):t._panner.pan.setValueAtTime(m,Howler.ctx.currentTime)),O._emit("stereo",t._id);else return t._stereo}return O},Howl.prototype.pos=function(m,T,O,L){var h=this;if(!h._webAudio)return h;if(h._state!=="loaded")return h._queue.push({event:"pos",action:function(){h.pos(m,T,O,L)}}),h;if(T=typeof T!="number"?0:T,O=typeof O!="number"?-.5:O,typeof L>"u")if(typeof m=="number")h._pos=[m,T,O];else return h._pos;for(var x=h._getSoundIds(L),t=0;t<x.length;t++){var o=h._soundById(x[t]);if(o)if(typeof m=="number")o._pos=[m,T,O],o._node&&((!o._panner||o._panner.pan)&&g(o,"spatial"),typeof o._panner.positionX<"u"?(o._panner.positionX.setValueAtTime(m,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(T,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(O,Howler.ctx.currentTime)):o._panner.setPosition(m,T,O)),h._emit("pos",o._id);else return o._pos}return h},Howl.prototype.orientation=function(m,T,O,L){var h=this;if(!h._webAudio)return h;if(h._state!=="loaded")return h._queue.push({event:"orientation",action:function(){h.orientation(m,T,O,L)}}),h;if(T=typeof T!="number"?h._orientation[1]:T,O=typeof O!="number"?h._orientation[2]:O,typeof L>"u")if(typeof m=="number")h._orientation=[m,T,O];else return h._orientation;for(var x=h._getSoundIds(L),t=0;t<x.length;t++){var o=h._soundById(x[t]);if(o)if(typeof m=="number")o._orientation=[m,T,O],o._node&&(o._panner||(o._pos||(o._pos=h._pos||[0,0,-.5]),g(o,"spatial")),typeof o._panner.orientationX<"u"?(o._panner.orientationX.setValueAtTime(m,Howler.ctx.currentTime),o._panner.orientationY.setValueAtTime(T,Howler.ctx.currentTime),o._panner.orientationZ.setValueAtTime(O,Howler.ctx.currentTime)):o._panner.setOrientation(m,T,O)),h._emit("orientation",o._id);else return o._orientation}return h},Howl.prototype.pannerAttr=function(){var m=this,T=arguments,O,L,h;if(!m._webAudio)return m;if(T.length===0)return m._pannerAttr;if(T.length===1)if(typeof T[0]=="object")O=T[0],typeof L>"u"&&(O.pannerAttr||(O.pannerAttr={coneInnerAngle:O.coneInnerAngle,coneOuterAngle:O.coneOuterAngle,coneOuterGain:O.coneOuterGain,distanceModel:O.distanceModel,maxDistance:O.maxDistance,refDistance:O.refDistance,rolloffFactor:O.rolloffFactor,panningModel:O.panningModel}),m._pannerAttr={coneInnerAngle:typeof O.pannerAttr.coneInnerAngle<"u"?O.pannerAttr.coneInnerAngle:m._coneInnerAngle,coneOuterAngle:typeof O.pannerAttr.coneOuterAngle<"u"?O.pannerAttr.coneOuterAngle:m._coneOuterAngle,coneOuterGain:typeof O.pannerAttr.coneOuterGain<"u"?O.pannerAttr.coneOuterGain:m._coneOuterGain,distanceModel:typeof O.pannerAttr.distanceModel<"u"?O.pannerAttr.distanceModel:m._distanceModel,maxDistance:typeof O.pannerAttr.maxDistance<"u"?O.pannerAttr.maxDistance:m._maxDistance,refDistance:typeof O.pannerAttr.refDistance<"u"?O.pannerAttr.refDistance:m._refDistance,rolloffFactor:typeof O.pannerAttr.rolloffFactor<"u"?O.pannerAttr.rolloffFactor:m._rolloffFactor,panningModel:typeof O.pannerAttr.panningModel<"u"?O.pannerAttr.panningModel:m._panningModel});else return h=m._soundById(parseInt(T[0],10)),h?h._pannerAttr:m._pannerAttr;else T.length===2&&(O=T[0],L=parseInt(T[1],10));for(var x=m._getSoundIds(L),t=0;t<x.length;t++)if(h=m._soundById(x[t]),h){var o=h._pannerAttr;o={coneInnerAngle:typeof O.coneInnerAngle<"u"?O.coneInnerAngle:o.coneInnerAngle,coneOuterAngle:typeof O.coneOuterAngle<"u"?O.coneOuterAngle:o.coneOuterAngle,coneOuterGain:typeof O.coneOuterGain<"u"?O.coneOuterGain:o.coneOuterGain,distanceModel:typeof O.distanceModel<"u"?O.distanceModel:o.distanceModel,maxDistance:typeof O.maxDistance<"u"?O.maxDistance:o.maxDistance,refDistance:typeof O.refDistance<"u"?O.refDistance:o.refDistance,rolloffFactor:typeof O.rolloffFactor<"u"?O.rolloffFactor:o.rolloffFactor,panningModel:typeof O.panningModel<"u"?O.panningModel:o.panningModel};var v=h._panner;v||(h._pos||(h._pos=m._pos||[0,0,-.5]),g(h,"spatial"),v=h._panner),v.coneInnerAngle=o.coneInnerAngle,v.coneOuterAngle=o.coneOuterAngle,v.coneOuterGain=o.coneOuterGain,v.distanceModel=o.distanceModel,v.maxDistance=o.maxDistance,v.refDistance=o.refDistance,v.rolloffFactor=o.rolloffFactor,v.panningModel=o.panningModel}return m},Sound.prototype.init=(function(m){return function(){var T=this,O=T._parent;T._orientation=O._orientation,T._stereo=O._stereo,T._pos=O._pos,T._pannerAttr=O._pannerAttr,m.call(this),T._stereo?O.stereo(T._stereo):T._pos&&O.pos(T._pos[0],T._pos[1],T._pos[2],T._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(m){return function(){var T=this,O=T._parent;return T._orientation=O._orientation,T._stereo=O._stereo,T._pos=O._pos,T._pannerAttr=O._pannerAttr,T._stereo?O.stereo(T._stereo):T._pos?O.pos(T._pos[0],T._pos[1],T._pos[2],T._id):T._panner&&(T._panner.disconnect(0),T._panner=void 0,O._refreshBuffer(T)),m.call(this)}})(Sound.prototype.reset);var g=function(m,T){T=T||"spatial",T==="spatial"?(m._panner=Howler.ctx.createPanner(),m._panner.coneInnerAngle=m._pannerAttr.coneInnerAngle,m._panner.coneOuterAngle=m._pannerAttr.coneOuterAngle,m._panner.coneOuterGain=m._pannerAttr.coneOuterGain,m._panner.distanceModel=m._pannerAttr.distanceModel,m._panner.maxDistance=m._pannerAttr.maxDistance,m._panner.refDistance=m._pannerAttr.refDistance,m._panner.rolloffFactor=m._pannerAttr.rolloffFactor,m._panner.panningModel=m._pannerAttr.panningModel,typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(m._pos[0],Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(m._pos[1],Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(m._pos[2],Howler.ctx.currentTime)):m._panner.setPosition(m._pos[0],m._pos[1],m._pos[2]),typeof m._panner.orientationX<"u"?(m._panner.orientationX.setValueAtTime(m._orientation[0],Howler.ctx.currentTime),m._panner.orientationY.setValueAtTime(m._orientation[1],Howler.ctx.currentTime),m._panner.orientationZ.setValueAtTime(m._orientation[2],Howler.ctx.currentTime)):m._panner.setOrientation(m._orientation[0],m._orientation[1],m._orientation[2])):(m._panner=Howler.ctx.createStereoPanner(),m._panner.pan.setValueAtTime(m._stereo,Howler.ctx.currentTime)),m._panner.connect(m._node),m._paused||m._parent.pause(m._id,!0).play(m._id,!0)}})()})(Vp)),Vp}var zu=NN(),jf={exports:{}},OE;function DN(){if(OE)return jf.exports;OE=1;const A=/[\p{Lu}]/u,g=/[\p{Ll}]/u,m=/^[\p{Lu}](?![\p{Lu}])/gu,T=/([\p{Alpha}\p{N}_]|$)/u,O=/[_.\- ]+/,L=new RegExp("^"+O.source),h=new RegExp(O.source+T.source,"gu"),x=new RegExp("\\d+"+T.source,"gu"),t=(n,i,e)=>{let a=!1,l=!1,s=!1;for(let u=0;u<n.length;u++){const f=n[u];a&&A.test(f)?(n=n.slice(0,u)+"-"+n.slice(u),a=!1,s=l,l=!0,u++):l&&s&&g.test(f)?(n=n.slice(0,u-1)+"-"+n.slice(u-1),s=l,l=!1,a=!0):(a=i(f)===f&&e(f)!==f,s=l,l=e(f)===f&&i(f)!==f)}return n},o=(n,i)=>(m.lastIndex=0,n.replace(m,e=>i(e))),v=(n,i)=>(h.lastIndex=0,x.lastIndex=0,n.replace(h,(e,a)=>i(a)).replace(x,e=>i(e))),r=(n,i)=>{if(!(typeof n=="string"||Array.isArray(n)))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},Array.isArray(n)?n=n.map(s=>s.trim()).filter(s=>s.length).join("-"):n=n.trim(),n.length===0)return"";const e=i.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(i.locale),a=i.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(i.locale);return n.length===1?i.pascalCase?a(n):e(n):(n!==e(n)&&(n=t(n,e,a)),n=n.replace(L,""),i.preserveConsecutiveUppercase?n=o(n,e):n=e(n),i.pascalCase&&(n=a(n.charAt(0))+n.slice(1)),v(n,a))};return jf.exports=r,jf.exports.default=r,jf.exports}var BN=DN();const FN=Ra(BN);var Gu={},$t={},bE;function LE(){if(bE)return $t;bE=1;class A{constructor(W,V){if(!Number.isInteger(W))throw new TypeError("span must be an integer");this.span=W,this.property=V}makeDestinationObject(){return{}}decode(W,V){throw new Error("Layout is abstract")}encode(W,V,U){throw new Error("Layout is abstract")}getSpan(W,V){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(W){const V=Object.create(this.constructor.prototype);return Object.assign(V,this),V.property=W,V}fromArray(W){}}$t.Layout=A;function g(X,W){return W.property?X+"["+W.property+"]":X}$t.nameWithProperty=g;function m(X,W){if(typeof X!="function")throw new TypeError("Class must be constructor");if(X.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(W&&W instanceof A))throw new TypeError("layout must be a Layout");if(W.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");X.layout_=W,W.boundConstructor_=X,W.makeDestinationObject=(()=>new X),Object.defineProperty(X.prototype,"encode",{value:function(V,U){return W.encode(this,V,U)},writable:!0}),Object.defineProperty(X,"decode",{value:function(V,U){return W.decode(V,U)},writable:!0})}$t.bindConstructorLayout=m;class T extends A{isCount(){throw new Error("ExternalLayout is abstract")}}class O extends T{constructor(W,V){if(W===void 0&&(W=1),!Number.isInteger(W)||0>=W)throw new TypeError("elementSpan must be a (positive) integer");super(-1,V),this.elementSpan=W}isCount(){return!0}decode(W,V){V===void 0&&(V=0);const U=W.length-V;return Math.floor(U/this.elementSpan)}encode(W,V,U){return 0}}class L extends T{constructor(W,V,U){if(!(W instanceof A))throw new TypeError("layout must be a Layout");if(V===void 0)V=0;else if(!Number.isInteger(V))throw new TypeError("offset must be integer or undefined");super(W.span,U||W.property),this.layout=W,this.offset=V}isCount(){return this.layout instanceof h||this.layout instanceof x}decode(W,V){return V===void 0&&(V=0),this.layout.decode(W,V+this.offset)}encode(W,V,U){return U===void 0&&(U=0),this.layout.encode(W,V,U+this.offset)}}class h extends A{constructor(W,V){if(super(W,V),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(W,V){return V===void 0&&(V=0),W.readUIntLE(V,this.span)}encode(W,V,U){return U===void 0&&(U=0),V.writeUIntLE(W,U,this.span),this.span}}class x extends A{constructor(W,V){if(super(W,V),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(W,V){return V===void 0&&(V=0),W.readUIntBE(V,this.span)}encode(W,V,U){return U===void 0&&(U=0),V.writeUIntBE(W,U,this.span),this.span}}class t extends A{constructor(W,V){if(super(W,V),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(W,V){return V===void 0&&(V=0),W.readIntLE(V,this.span)}encode(W,V,U){return U===void 0&&(U=0),V.writeIntLE(W,U,this.span),this.span}}class o extends A{constructor(W,V){if(super(W,V),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(W,V){return V===void 0&&(V=0),W.readIntBE(V,this.span)}encode(W,V,U){return U===void 0&&(U=0),V.writeIntBE(W,U,this.span),this.span}}const v=Math.pow(2,32);function r(X){const W=Math.floor(X/v),V=X-W*v;return{hi32:W,lo32:V}}function n(X,W){return X*v+W}class i extends A{constructor(W){super(8,W)}decode(W,V){V===void 0&&(V=0);const U=W.readUInt32LE(V),F=W.readUInt32LE(V+4);return n(F,U)}encode(W,V,U){U===void 0&&(U=0);const F=r(W);return V.writeUInt32LE(F.lo32,U),V.writeUInt32LE(F.hi32,U+4),8}}class e extends A{constructor(W){super(8,W)}decode(W,V){V===void 0&&(V=0);const U=W.readUInt32BE(V),F=W.readUInt32BE(V+4);return n(U,F)}encode(W,V,U){U===void 0&&(U=0);const F=r(W);return V.writeUInt32BE(F.hi32,U),V.writeUInt32BE(F.lo32,U+4),8}}class a extends A{constructor(W){super(8,W)}decode(W,V){V===void 0&&(V=0);const U=W.readUInt32LE(V),F=W.readInt32LE(V+4);return n(F,U)}encode(W,V,U){U===void 0&&(U=0);const F=r(W);return V.writeUInt32LE(F.lo32,U),V.writeInt32LE(F.hi32,U+4),8}}class l extends A{constructor(W){super(8,W)}decode(W,V){V===void 0&&(V=0);const U=W.readInt32BE(V),F=W.readUInt32BE(V+4);return n(U,F)}encode(W,V,U){U===void 0&&(U=0);const F=r(W);return V.writeInt32BE(F.hi32,U),V.writeUInt32BE(F.lo32,U+4),8}}class s extends A{constructor(W){super(4,W)}decode(W,V){return V===void 0&&(V=0),W.readFloatLE(V)}encode(W,V,U){return U===void 0&&(U=0),V.writeFloatLE(W,U),4}}class u extends A{constructor(W){super(4,W)}decode(W,V){return V===void 0&&(V=0),W.readFloatBE(V)}encode(W,V,U){return U===void 0&&(U=0),V.writeFloatBE(W,U),4}}class f extends A{constructor(W){super(8,W)}decode(W,V){return V===void 0&&(V=0),W.readDoubleLE(V)}encode(W,V,U){return U===void 0&&(U=0),V.writeDoubleLE(W,U),8}}class c extends A{constructor(W){super(8,W)}decode(W,V){return V===void 0&&(V=0),W.readDoubleBE(V)}encode(W,V,U){return U===void 0&&(U=0),V.writeDoubleBE(W,U),8}}class d extends A{constructor(W,V,U){if(!(W instanceof A))throw new TypeError("elementLayout must be a Layout");if(!(V instanceof T&&V.isCount()||Number.isInteger(V)&&0<=V))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let F=-1;!(V instanceof T)&&0<W.span&&(F=V*W.span),super(F,U),this.elementLayout=W,this.count=V}getSpan(W,V){if(0<=this.span)return this.span;V===void 0&&(V=0);let U=0,F=this.count;if(F instanceof T&&(F=F.decode(W,V)),0<this.elementLayout.span)U=F*this.elementLayout.span;else{let k=0;for(;k<F;)U+=this.elementLayout.getSpan(W,V+U),++k}return U}decode(W,V){V===void 0&&(V=0);const U=[];let F=0,k=this.count;for(k instanceof T&&(k=k.decode(W,V));F<k;)U.push(this.elementLayout.decode(W,V)),V+=this.elementLayout.getSpan(W,V),F+=1;return U}encode(W,V,U){U===void 0&&(U=0);const F=this.elementLayout,k=W.reduce((Y,Z)=>Y+F.encode(Z,V,U+Y),0);return this.count instanceof T&&this.count.encode(W.length,V,U),k}}class p extends A{constructor(W,V,U){if(!(Array.isArray(W)&&W.reduce((k,Y)=>k&&Y instanceof A,!0)))throw new TypeError("fields must be array of Layout instances");typeof V=="boolean"&&U===void 0&&(U=V,V=void 0);for(const k of W)if(0>k.span&&k.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let F=-1;try{F=W.reduce((k,Y)=>k+Y.getSpan(),0)}catch{}super(F,V),this.fields=W,this.decodePrefixes=!!U}getSpan(W,V){if(0<=this.span)return this.span;V===void 0&&(V=0);let U=0;try{U=this.fields.reduce((F,k)=>{const Y=k.getSpan(W,V);return V+=Y,F+Y},0)}catch{throw new RangeError("indeterminate span")}return U}decode(W,V){V===void 0&&(V=0);const U=this.makeDestinationObject();for(const F of this.fields)if(F.property!==void 0&&(U[F.property]=F.decode(W,V)),V+=F.getSpan(W,V),this.decodePrefixes&&W.length===V)break;return U}encode(W,V,U){U===void 0&&(U=0);const F=U;let k=0,Y=0;for(const Z of this.fields){let j=Z.span;if(Y=0<j?j:0,Z.property!==void 0){const J=W[Z.property];J!==void 0&&(Y=Z.encode(J,V,U),0>j&&(j=Z.getSpan(V,U)))}k=U,U+=j}return k+Y-F}fromArray(W){const V=this.makeDestinationObject();for(const U of this.fields)U.property!==void 0&&0<W.length&&(V[U.property]=W.shift());return V}layoutFor(W){if(typeof W!="string")throw new TypeError("property must be string");for(const V of this.fields)if(V.property===W)return V}offsetOf(W){if(typeof W!="string")throw new TypeError("property must be string");let V=0;for(const U of this.fields){if(U.property===W)return V;0>U.span?V=-1:0<=V&&(V+=U.span)}}}class S{constructor(W){this.property=W}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class C extends S{constructor(W,V){if(!(W instanceof T&&W.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(V||W.property||"variant"),this.layout=W}decode(W,V){return this.layout.decode(W,V)}encode(W,V,U){return this.layout.encode(W,V,U)}}class E extends A{constructor(W,V,U){const F=W instanceof h||W instanceof x;if(F)W=new C(new L(W));else if(W instanceof T&&W.isCount())W=new C(W);else if(!(W instanceof S))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(V===void 0&&(V=null),!(V===null||V instanceof A))throw new TypeError("defaultLayout must be null or a Layout");if(V!==null){if(0>V.span)throw new Error("defaultLayout must have constant span");V.property===void 0&&(V=V.replicate("content"))}let k=-1;V&&(k=V.span,0<=k&&F&&(k+=W.layout.span)),super(k,U),this.discriminator=W,this.usesPrefixDiscriminator=F,this.defaultLayout=V,this.registry={};let Y=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Z){return Y(Z)},this.configGetSourceVariant=function(Z){Y=Z.bind(this)}}getSpan(W,V){if(0<=this.span)return this.span;V===void 0&&(V=0);const U=this.getVariant(W,V);if(!U)throw new Error("unable to determine span for unrecognized variant");return U.getSpan(W,V)}defaultGetSourceVariant(W){if(W.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&W.hasOwnProperty(this.defaultLayout.property))return;const V=this.registry[W[this.discriminator.property]];if(V&&(!V.layout||W.hasOwnProperty(V.property)))return V}else for(const V in this.registry){const U=this.registry[V];if(W.hasOwnProperty(U.property))return U}throw new Error("unable to infer src variant")}decode(W,V){V===void 0&&(V=0);let U;const F=this.discriminator,k=F.decode(W,V);let Y=this.registry[k];if(Y===void 0){let Z=0;Y=this.defaultLayout,this.usesPrefixDiscriminator&&(Z=F.layout.span),U=this.makeDestinationObject(),U[F.property]=k,U[Y.property]=this.defaultLayout.decode(W,V+Z)}else U=Y.decode(W,V);return U}encode(W,V,U){U===void 0&&(U=0);const F=this.getSourceVariant(W);if(F===void 0){const k=this.discriminator,Y=this.defaultLayout;let Z=0;return this.usesPrefixDiscriminator&&(Z=k.layout.span),k.encode(W[k.property],V,U),Z+Y.encode(W[Y.property],V,U+Z)}return F.encode(W,V,U)}addVariant(W,V,U){const F=new R(this,W,V,U);return this.registry[W]=F,F}getVariant(W,V){let U=W;return Buffer.isBuffer(W)&&(V===void 0&&(V=0),U=this.discriminator.decode(W,V)),this.registry[U]}}class R extends A{constructor(W,V,U,F){if(!(W instanceof E))throw new TypeError("union must be a Union");if(!Number.isInteger(V)||0>V)throw new TypeError("variant must be a (non-negative) integer");if(typeof U=="string"&&F===void 0&&(F=U,U=null),U){if(!(U instanceof A))throw new TypeError("layout must be a Layout");if(W.defaultLayout!==null&&0<=U.span&&U.span>W.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof F!="string")throw new TypeError("variant must have a String property")}let k=W.span;0>W.span&&(k=U?U.span:0,0<=k&&W.usesPrefixDiscriminator&&(k+=W.discriminator.layout.span)),super(k,F),this.union=W,this.variant=V,this.layout=U||null}getSpan(W,V){if(0<=this.span)return this.span;V===void 0&&(V=0);let U=0;return this.union.usesPrefixDiscriminator&&(U=this.union.discriminator.layout.span),U+this.layout.getSpan(W,V+U)}decode(W,V){const U=this.makeDestinationObject();if(V===void 0&&(V=0),this!==this.union.getVariant(W,V))throw new Error("variant mismatch");let F=0;return this.union.usesPrefixDiscriminator&&(F=this.union.discriminator.layout.span),this.layout?U[this.property]=this.layout.decode(W,V+F):this.property?U[this.property]=!0:this.union.usesPrefixDiscriminator&&(U[this.union.discriminator.property]=this.variant),U}encode(W,V,U){U===void 0&&(U=0);let F=0;if(this.union.usesPrefixDiscriminator&&(F=this.union.discriminator.layout.span),this.layout&&!W.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,V,U);let k=F;if(this.layout&&(this.layout.encode(W[this.property],V,U+F),k+=this.layout.getSpan(V,U+F),0<=this.union.span&&k>this.union.span))throw new Error("encoded variant overruns containing union");return k}fromArray(W){if(this.layout)return this.layout.fromArray(W)}}function M(X){return 0>X&&(X+=4294967296),X}class D extends A{constructor(W,V,U){if(!(W instanceof h||W instanceof x))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof V=="string"&&U===void 0&&(U=V,V=void 0),4<W.span)throw new RangeError("word cannot exceed 32 bits");super(W.span,U),this.word=W,this.msb=!!V,this.fields=[];let F=0;this._packedSetValue=function(k){return F=M(k),this},this._packedGetValue=function(){return F}}decode(W,V){const U=this.makeDestinationObject();V===void 0&&(V=0);const F=this.word.decode(W,V);this._packedSetValue(F);for(const k of this.fields)k.property!==void 0&&(U[k.property]=k.decode(F));return U}encode(W,V,U){U===void 0&&(U=0);const F=this.word.decode(V,U);this._packedSetValue(F);for(const k of this.fields)if(k.property!==void 0){const Y=W[k.property];Y!==void 0&&k.encode(Y)}return this.word.encode(this._packedGetValue(),V,U)}addField(W,V){const U=new B(this,W,V);return this.fields.push(U),U}addBoolean(W){const V=new b(this,W);return this.fields.push(V),V}fieldFor(W){if(typeof W!="string")throw new TypeError("property must be string");for(const V of this.fields)if(V.property===W)return V}}class B{constructor(W,V,U){if(!(W instanceof D))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(V)||0>=V)throw new TypeError("bits must be positive integer");const F=8*W.span,k=W.fields.reduce((Y,Z)=>Y+Z.bits,0);if(V+k>F)throw new Error("bits too long for span remainder ("+(F-k)+" of "+F+" remain)");this.container=W,this.bits=V,this.valueMask=(1<<V)-1,V===32&&(this.valueMask=4294967295),this.start=k,this.container.msb&&(this.start=F-k-V),this.wordMask=M(this.valueMask<<this.start),this.property=U}decode(){const W=this.container._packedGetValue();return M(W&this.wordMask)>>>this.start}encode(W){if(!Number.isInteger(W)||W!==M(W&this.valueMask))throw new TypeError(g("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const V=this.container._packedGetValue(),U=M(W<<this.start);this.container._packedSetValue(M(V&~this.wordMask)|U)}}class b extends B{constructor(W,V){super(W,1,V)}decode(W,V){return!!B.prototype.decode.call(this,W,V)}encode(W){return typeof W=="boolean"&&(W=+W),B.prototype.encode.call(this,W)}}class I extends A{constructor(W,V){if(!(W instanceof T&&W.isCount()||Number.isInteger(W)&&0<=W))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let U=-1;W instanceof T||(U=W),super(U,V),this.length=W}getSpan(W,V){let U=this.span;return 0>U&&(U=this.length.decode(W,V)),U}decode(W,V){V===void 0&&(V=0);let U=this.span;return 0>U&&(U=this.length.decode(W,V)),W.slice(V,V+U)}encode(W,V,U){let F=this.length;if(this.length instanceof T&&(F=W.length),!(Buffer.isBuffer(W)&&F===W.length))throw new TypeError(g("Blob.encode",this)+" requires (length "+F+") Buffer as src");if(U+F>V.length)throw new RangeError("encoding overruns Buffer");return V.write(W.toString("hex"),U,F,"hex"),this.length instanceof T&&this.length.encode(F,V,U),F}}class N extends A{constructor(W){super(-1,W)}getSpan(W,V){if(!Buffer.isBuffer(W))throw new TypeError("b must be a Buffer");V===void 0&&(V=0);let U=V;for(;U<W.length&&W[U]!==0;)U+=1;return 1+U-V}decode(W,V,U){V===void 0&&(V=0);let F=this.getSpan(W,V);return W.slice(V,V+F-1).toString("utf-8")}encode(W,V,U){U===void 0&&(U=0),typeof W!="string"&&(W=W.toString());const F=new Buffer(W,"utf8"),k=F.length;if(U+k>V.length)throw new RangeError("encoding overruns Buffer");return F.copy(V,U),V[U+k]=0,k+1}}class z extends A{constructor(W,V){if(typeof W=="string"&&V===void 0&&(V=W,W=void 0),W===void 0)W=-1;else if(!Number.isInteger(W))throw new TypeError("maxSpan must be an integer");super(-1,V),this.maxSpan=W}getSpan(W,V){if(!Buffer.isBuffer(W))throw new TypeError("b must be a Buffer");return V===void 0&&(V=0),W.length-V}decode(W,V,U){V===void 0&&(V=0);let F=this.getSpan(W,V);if(0<=this.maxSpan&&this.maxSpan<F)throw new RangeError("text length exceeds maxSpan");return W.slice(V,V+F).toString("utf-8")}encode(W,V,U){U===void 0&&(U=0),typeof W!="string"&&(W=W.toString());const F=new Buffer(W,"utf8"),k=F.length;if(0<=this.maxSpan&&this.maxSpan<k)throw new RangeError("text length exceeds maxSpan");if(U+k>V.length)throw new RangeError("encoding overruns Buffer");return F.copy(V,U),k}}class H extends A{constructor(W,V){super(0,V),this.value=W}decode(W,V,U){return this.value}encode(W,V,U){return 0}}return $t.ExternalLayout=T,$t.GreedyCount=O,$t.OffsetLayout=L,$t.UInt=h,$t.UIntBE=x,$t.Int=t,$t.IntBE=o,$t.Float=s,$t.FloatBE=u,$t.Double=f,$t.DoubleBE=c,$t.Sequence=d,$t.Structure=p,$t.UnionDiscriminator=S,$t.UnionLayoutDiscriminator=C,$t.Union=E,$t.VariantLayout=R,$t.BitStructure=D,$t.BitField=B,$t.Boolean=b,$t.Blob=I,$t.CString=N,$t.UTF8=z,$t.Constant=H,$t.greedy=((X,W)=>new O(X,W)),$t.offset=((X,W,V)=>new L(X,W,V)),$t.u8=(X=>new h(1,X)),$t.u16=(X=>new h(2,X)),$t.u24=(X=>new h(3,X)),$t.u32=(X=>new h(4,X)),$t.u40=(X=>new h(5,X)),$t.u48=(X=>new h(6,X)),$t.nu64=(X=>new i(X)),$t.u16be=(X=>new x(2,X)),$t.u24be=(X=>new x(3,X)),$t.u32be=(X=>new x(4,X)),$t.u40be=(X=>new x(5,X)),$t.u48be=(X=>new x(6,X)),$t.nu64be=(X=>new e(X)),$t.s8=(X=>new t(1,X)),$t.s16=(X=>new t(2,X)),$t.s24=(X=>new t(3,X)),$t.s32=(X=>new t(4,X)),$t.s40=(X=>new t(5,X)),$t.s48=(X=>new t(6,X)),$t.ns64=(X=>new a(X)),$t.s16be=(X=>new o(2,X)),$t.s24be=(X=>new o(3,X)),$t.s32be=(X=>new o(4,X)),$t.s40be=(X=>new o(5,X)),$t.s48be=(X=>new o(6,X)),$t.ns64be=(X=>new l(X)),$t.f32=(X=>new s(X)),$t.f32be=(X=>new u(X)),$t.f64=(X=>new f(X)),$t.f64be=(X=>new c(X)),$t.struct=((X,W,V)=>new p(X,W,V)),$t.bits=((X,W,V)=>new D(X,W,V)),$t.seq=((X,W,V)=>new d(X,W,V)),$t.union=((X,W,V)=>new E(X,W,V)),$t.unionLayoutDiscriminator=((X,W)=>new C(X,W)),$t.blob=((X,W)=>new I(X,W)),$t.cstr=(X=>new N(X)),$t.utf8=((X,W)=>new z(X,W)),$t.const=((X,W)=>new H(X,W)),$t}const UN=kc(Y9);var IE;function zN(){return IE||(IE=1,(function(A){var g=Gu&&Gu.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(A,"__esModule",{value:!0}),A.struct=A.f64=A.f32=A.i32=A.u32=A.i16=A.u16=A.i8=A.u8=void 0,A.u64=x,A.i64=t,A.u128=o,A.i128=v,A.u256=r,A.i256=n,A.publicKey=e,A.option=l,A.bool=s,A.vec=c,A.tagged=d,A.vecU8=p,A.str=S,A.rustEnum=C,A.array=E,A.map=M;const m=LE(),T=UN,O=g(lg());var L=LE();Object.defineProperty(A,"u8",{enumerable:!0,get:function(){return L.u8}}),Object.defineProperty(A,"i8",{enumerable:!0,get:function(){return L.s8}}),Object.defineProperty(A,"u16",{enumerable:!0,get:function(){return L.u16}}),Object.defineProperty(A,"i16",{enumerable:!0,get:function(){return L.s16}}),Object.defineProperty(A,"u32",{enumerable:!0,get:function(){return L.u32}}),Object.defineProperty(A,"i32",{enumerable:!0,get:function(){return L.s32}}),Object.defineProperty(A,"f32",{enumerable:!0,get:function(){return L.f32}}),Object.defineProperty(A,"f64",{enumerable:!0,get:function(){return L.f64}}),Object.defineProperty(A,"struct",{enumerable:!0,get:function(){return L.struct}});class h extends m.Layout{constructor(B,b,I){super(B,I),this.blob=(0,m.blob)(B),this.signed=b}decode(B,b=0){const I=new O.default(this.blob.decode(B,b),10,"le");return this.signed?I.fromTwos(this.span*8).clone():I}encode(B,b,I=0){return this.signed&&(B=B.toTwos(this.span*8)),this.blob.encode(B.toArrayLike(Buffer,"le",this.span),b,I)}}function x(D){return new h(8,!1,D)}function t(D){return new h(8,!0,D)}function o(D){return new h(16,!1,D)}function v(D){return new h(16,!0,D)}function r(D){return new h(32,!1,D)}function n(D){return new h(32,!0,D)}class i extends m.Layout{constructor(B,b,I,N){super(B.span,N),this.layout=B,this.decoder=b,this.encoder=I}decode(B,b){return this.decoder(this.layout.decode(B,b))}encode(B,b,I){return this.layout.encode(this.encoder(B),b,I)}getSpan(B,b){return this.layout.getSpan(B,b)}}function e(D){return new i((0,m.blob)(32),B=>new T.PublicKey(B),B=>B.toBuffer(),D)}class a extends m.Layout{constructor(B,b){super(-1,b),this.layout=B,this.discriminator=(0,m.u8)()}encode(B,b,I=0){return B==null?this.discriminator.encode(0,b,I):(this.discriminator.encode(1,b,I),this.layout.encode(B,b,I+1)+1)}decode(B,b=0){const I=this.discriminator.decode(B,b);if(I===0)return null;if(I===1)return this.layout.decode(B,b+1);throw new Error("Invalid option "+this.property)}getSpan(B,b=0){const I=this.discriminator.decode(B,b);if(I===0)return 1;if(I===1)return this.layout.getSpan(B,b+1)+1;throw new Error("Invalid option "+this.property)}}function l(D,B){return new a(D,B)}function s(D){return new i((0,m.u8)(),u,f,D)}function u(D){if(D===0)return!1;if(D===1)return!0;throw new Error("Invalid bool: "+D)}function f(D){return D?1:0}function c(D,B){const b=(0,m.u32)("length"),I=(0,m.struct)([b,(0,m.seq)(D,(0,m.offset)(b,-b.span),"values")]);return new i(I,({values:N})=>N,N=>({values:N}),B)}function d(D,B,b){const I=(0,m.struct)([x("tag"),B.replicate("data")]);function N({tag:z,data:H}){if(!z.eq(D))throw new Error("Invalid tag, expected: "+D.toString("hex")+", got: "+z.toString("hex"));return H}return new i(I,N,z=>({tag:D,data:z}),b)}function p(D){const B=(0,m.u32)("length"),b=(0,m.struct)([B,(0,m.blob)((0,m.offset)(B,-B.span),"data")]);return new i(b,({data:I})=>I,I=>({data:I}),D)}function S(D){return new i(p(),B=>B.toString("utf-8"),B=>Buffer.from(B,"utf-8"),D)}function C(D,B,b){const I=(0,m.union)(b??(0,m.u8)(),B);return D.forEach((N,z)=>I.addVariant(z,N,N.property)),I}function E(D,B,b){const I=(0,m.struct)([(0,m.seq)(D,B,"values")]);return new i(I,({values:N})=>N,N=>({values:N}),b)}class R extends m.Layout{constructor(B,b,I){super(B.span+b.span,I),this.keyLayout=B,this.valueLayout=b}decode(B,b){b=b||0;const I=this.keyLayout.decode(B,b),N=this.valueLayout.decode(B,b+this.keyLayout.getSpan(B,b));return[I,N]}encode(B,b,I){I=I||0;const N=this.keyLayout.encode(B[0],b,I),z=this.valueLayout.encode(B[1],b,I+N);return N+z}getSpan(B,b){return this.keyLayout.getSpan(B,b)+this.valueLayout.getSpan(B,b)}}function M(D,B,b){const I=(0,m.u32)("length"),N=(0,m.struct)([I,(0,m.seq)(new R(D,B),(0,m.offset)(I,-I.span),"values")]);return new i(N,({values:z})=>new Map(z),z=>({values:Array.from(z.entries())}),b)}})(Gu)),Gu}var me=zN();function Hl(A){let g=A.length;for(;--g>=0;)A[g]=0}const GN=3,VN=258,YC=29,HN=256,YN=HN+1+YC,WC=30,WN=512,XN=new Array((YN+2)*2);Hl(XN);const kN=new Array(WC*2);Hl(kN);const jN=new Array(WN);Hl(jN);const KN=new Array(VN-GN+1);Hl(KN);const ZN=new Array(YC);Hl(ZN);const QN=new Array(WC);Hl(QN);const JN=(A,g,m,T)=>{let O=A&65535|0,L=A>>>16&65535|0,h=0;for(;m!==0;){h=m>2e3?2e3:m,m-=h;do O=O+g[T++]|0,L=L+O|0;while(--h);O%=65521,L%=65521}return O|L<<16|0};var Hm=JN;const $N=()=>{let A,g=[];for(var m=0;m<256;m++){A=m;for(var T=0;T<8;T++)A=A&1?3988292384^A>>>1:A>>>1;g[m]=A}return g},qN=new Uint32Array($N()),_N=(A,g,m,T)=>{const O=qN,L=T+m;A^=-1;for(let h=T;h<L;h++)A=A>>>8^O[(A^g[h])&255];return A^-1};var Ur=_N,Ym={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},XC={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const t2=(A,g)=>Object.prototype.hasOwnProperty.call(A,g);var e2=function(A){const g=Array.prototype.slice.call(arguments,1);for(;g.length;){const m=g.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(const T in m)t2(m,T)&&(A[T]=m[T])}}return A},i2=A=>{let g=0;for(let T=0,O=A.length;T<O;T++)g+=A[T].length;const m=new Uint8Array(g);for(let T=0,O=0,L=A.length;T<L;T++){let h=A[T];m.set(h,O),O+=h.length}return m},kC={assign:e2,flattenChunks:i2};let jC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jC=!1}const sh=new Uint8Array(256);for(let A=0;A<256;A++)sh[A]=A>=252?6:A>=248?5:A>=240?4:A>=224?3:A>=192?2:1;sh[254]=sh[254]=1;var n2=A=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(A);let g,m,T,O,L,h=A.length,x=0;for(O=0;O<h;O++)m=A.charCodeAt(O),(m&64512)===55296&&O+1<h&&(T=A.charCodeAt(O+1),(T&64512)===56320&&(m=65536+(m-55296<<10)+(T-56320),O++)),x+=m<128?1:m<2048?2:m<65536?3:4;for(g=new Uint8Array(x),L=0,O=0;L<x;O++)m=A.charCodeAt(O),(m&64512)===55296&&O+1<h&&(T=A.charCodeAt(O+1),(T&64512)===56320&&(m=65536+(m-55296<<10)+(T-56320),O++)),m<128?g[L++]=m:m<2048?(g[L++]=192|m>>>6,g[L++]=128|m&63):m<65536?(g[L++]=224|m>>>12,g[L++]=128|m>>>6&63,g[L++]=128|m&63):(g[L++]=240|m>>>18,g[L++]=128|m>>>12&63,g[L++]=128|m>>>6&63,g[L++]=128|m&63);return g};const r2=(A,g)=>{if(g<65534&&A.subarray&&jC)return String.fromCharCode.apply(null,A.length===g?A:A.subarray(0,g));let m="";for(let T=0;T<g;T++)m+=String.fromCharCode(A[T]);return m};var s2=(A,g)=>{const m=g||A.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(A.subarray(0,g));let T,O;const L=new Array(m*2);for(O=0,T=0;T<m;){let h=A[T++];if(h<128){L[O++]=h;continue}let x=sh[h];if(x>4){L[O++]=65533,T+=x-1;continue}for(h&=x===2?31:x===3?15:7;x>1&&T<m;)h=h<<6|A[T++]&63,x--;if(x>1){L[O++]=65533;continue}h<65536?L[O++]=h:(h-=65536,L[O++]=55296|h>>10&1023,L[O++]=56320|h&1023)}return r2(L,O)},a2=(A,g)=>{g=g||A.length,g>A.length&&(g=A.length);let m=g-1;for(;m>=0&&(A[m]&192)===128;)m--;return m<0||m===0?g:m+sh[A[m]]>g?m:g},Wm={string2buf:n2,buf2string:s2,utf8border:a2};function o2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var l2=o2;const Kf=16209,u2=16191;var h2=function(g,m){let T,O,L,h,x,t,o,v,r,n,i,e,a,l,s,u,f,c,d,p,S,C,E,R;const M=g.state;T=g.next_in,E=g.input,O=T+(g.avail_in-5),L=g.next_out,R=g.output,h=L-(m-g.avail_out),x=L+(g.avail_out-257),t=M.dmax,o=M.wsize,v=M.whave,r=M.wnext,n=M.window,i=M.hold,e=M.bits,a=M.lencode,l=M.distcode,s=(1<<M.lenbits)-1,u=(1<<M.distbits)-1;t:do{e<15&&(i+=E[T++]<<e,e+=8,i+=E[T++]<<e,e+=8),f=a[i&s];e:for(;;){if(c=f>>>24,i>>>=c,e-=c,c=f>>>16&255,c===0)R[L++]=f&65535;else if(c&16){d=f&65535,c&=15,c&&(e<c&&(i+=E[T++]<<e,e+=8),d+=i&(1<<c)-1,i>>>=c,e-=c),e<15&&(i+=E[T++]<<e,e+=8,i+=E[T++]<<e,e+=8),f=l[i&u];i:for(;;){if(c=f>>>24,i>>>=c,e-=c,c=f>>>16&255,c&16){if(p=f&65535,c&=15,e<c&&(i+=E[T++]<<e,e+=8,e<c&&(i+=E[T++]<<e,e+=8)),p+=i&(1<<c)-1,p>t){g.msg="invalid distance too far back",M.mode=Kf;break t}if(i>>>=c,e-=c,c=L-h,p>c){if(c=p-c,c>v&&M.sane){g.msg="invalid distance too far back",M.mode=Kf;break t}if(S=0,C=n,r===0){if(S+=o-c,c<d){d-=c;do R[L++]=n[S++];while(--c);S=L-p,C=R}}else if(r<c){if(S+=o+r-c,c-=r,c<d){d-=c;do R[L++]=n[S++];while(--c);if(S=0,r<d){c=r,d-=c;do R[L++]=n[S++];while(--c);S=L-p,C=R}}}else if(S+=r-c,c<d){d-=c;do R[L++]=n[S++];while(--c);S=L-p,C=R}for(;d>2;)R[L++]=C[S++],R[L++]=C[S++],R[L++]=C[S++],d-=3;d&&(R[L++]=C[S++],d>1&&(R[L++]=C[S++]))}else{S=L-p;do R[L++]=R[S++],R[L++]=R[S++],R[L++]=R[S++],d-=3;while(d>2);d&&(R[L++]=R[S++],d>1&&(R[L++]=R[S++]))}}else if((c&64)===0){f=l[(f&65535)+(i&(1<<c)-1)];continue i}else{g.msg="invalid distance code",M.mode=Kf;break t}break}}else if((c&64)===0){f=a[(f&65535)+(i&(1<<c)-1)];continue e}else if(c&32){M.mode=u2;break t}else{g.msg="invalid literal/length code",M.mode=Kf;break t}break}}while(T<O&&L<x);d=e>>3,T-=d,e-=d<<3,i&=(1<<e)-1,g.next_in=T,g.next_out=L,g.avail_in=T<O?5+(O-T):5-(T-O),g.avail_out=L<x?257+(x-L):257-(L-x),M.hold=i,M.bits=e};const fl=15,PE=852,NE=592,DE=0,Hp=1,BE=2,f2=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),c2=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),d2=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),v2=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),p2=(A,g,m,T,O,L,h,x)=>{const t=x.bits;let o=0,v=0,r=0,n=0,i=0,e=0,a=0,l=0,s=0,u=0,f,c,d,p,S,C=null,E;const R=new Uint16Array(fl+1),M=new Uint16Array(fl+1);let D=null,B,b,I;for(o=0;o<=fl;o++)R[o]=0;for(v=0;v<T;v++)R[g[m+v]]++;for(i=t,n=fl;n>=1&&R[n]===0;n--);if(i>n&&(i=n),n===0)return O[L++]=1<<24|64<<16|0,O[L++]=1<<24|64<<16|0,x.bits=1,0;for(r=1;r<n&&R[r]===0;r++);for(i<r&&(i=r),l=1,o=1;o<=fl;o++)if(l<<=1,l-=R[o],l<0)return-1;if(l>0&&(A===DE||n!==1))return-1;for(M[1]=0,o=1;o<fl;o++)M[o+1]=M[o]+R[o];for(v=0;v<T;v++)g[m+v]!==0&&(h[M[g[m+v]]++]=v);if(A===DE?(C=D=h,E=20):A===Hp?(C=f2,D=c2,E=257):(C=d2,D=v2,E=0),u=0,v=0,o=r,S=L,e=i,a=0,d=-1,s=1<<i,p=s-1,A===Hp&&s>PE||A===BE&&s>NE)return 1;for(;;){B=o-a,h[v]+1<E?(b=0,I=h[v]):h[v]>=E?(b=D[h[v]-E],I=C[h[v]-E]):(b=96,I=0),f=1<<o-a,c=1<<e,r=c;do c-=f,O[S+(u>>a)+c]=B<<24|b<<16|I|0;while(c!==0);for(f=1<<o-1;u&f;)f>>=1;if(f!==0?(u&=f-1,u+=f):u=0,v++,--R[o]===0){if(o===n)break;o=g[m+h[v]]}if(o>i&&(u&p)!==d){for(a===0&&(a=i),S+=r,e=o-a,l=1<<e;e+a<n&&(l-=R[e+a],!(l<=0));)e++,l<<=1;if(s+=1<<e,A===Hp&&s>PE||A===BE&&s>NE)return 1;d=u&p,O[d]=i<<24|e<<16|S-L|0}}return u!==0&&(O[S+u]=o-a<<24|64<<16|0),x.bits=i,0};var Ju=p2;const m2=0,KC=1,ZC=2,{Z_FINISH:FE,Z_BLOCK:g2,Z_TREES:Zf,Z_OK:xo,Z_STREAM_END:y2,Z_NEED_DICT:x2,Z_STREAM_ERROR:lr,Z_DATA_ERROR:QC,Z_MEM_ERROR:JC,Z_BUF_ERROR:T2,Z_DEFLATED:UE}=XC,pd=16180,zE=16181,GE=16182,VE=16183,HE=16184,YE=16185,WE=16186,XE=16187,kE=16188,jE=16189,Yc=16190,vs=16191,Yp=16192,KE=16193,Wp=16194,ZE=16195,QE=16196,JE=16197,$E=16198,Qf=16199,Jf=16200,qE=16201,_E=16202,tw=16203,ew=16204,iw=16205,Xp=16206,nw=16207,rw=16208,mi=16209,$C=16210,qC=16211,S2=852,E2=592,w2=15,A2=w2,sw=A=>(A>>>24&255)+(A>>>8&65280)+((A&65280)<<8)+((A&255)<<24);function C2(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Mo=A=>{if(!A)return 1;const g=A.state;return!g||g.strm!==A||g.mode<pd||g.mode>qC?1:0},_C=A=>{if(Mo(A))return lr;const g=A.state;return A.total_in=A.total_out=g.total=0,A.msg="",g.wrap&&(A.adler=g.wrap&1),g.mode=pd,g.last=0,g.havedict=0,g.flags=-1,g.dmax=32768,g.head=null,g.hold=0,g.bits=0,g.lencode=g.lendyn=new Int32Array(S2),g.distcode=g.distdyn=new Int32Array(E2),g.sane=1,g.back=-1,xo},tR=A=>{if(Mo(A))return lr;const g=A.state;return g.wsize=0,g.whave=0,g.wnext=0,_C(A)},eR=(A,g)=>{let m;if(Mo(A))return lr;const T=A.state;return g<0?(m=0,g=-g):(m=(g>>4)+5,g<48&&(g&=15)),g&&(g<8||g>15)?lr:(T.window!==null&&T.wbits!==g&&(T.window=null),T.wrap=m,T.wbits=g,tR(A))},iR=(A,g)=>{if(!A)return lr;const m=new C2;A.state=m,m.strm=A,m.window=null,m.mode=pd;const T=eR(A,g);return T!==xo&&(A.state=null),T},R2=A=>iR(A,A2);let aw=!0,kp,jp;const M2=A=>{if(aw){kp=new Int32Array(512),jp=new Int32Array(32);let g=0;for(;g<144;)A.lens[g++]=8;for(;g<256;)A.lens[g++]=9;for(;g<280;)A.lens[g++]=7;for(;g<288;)A.lens[g++]=8;for(Ju(KC,A.lens,0,288,kp,0,A.work,{bits:9}),g=0;g<32;)A.lens[g++]=5;Ju(ZC,A.lens,0,32,jp,0,A.work,{bits:5}),aw=!1}A.lencode=kp,A.lenbits=9,A.distcode=jp,A.distbits=5},nR=(A,g,m,T)=>{let O;const L=A.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new Uint8Array(L.wsize)),T>=L.wsize?(L.window.set(g.subarray(m-L.wsize,m),0),L.wnext=0,L.whave=L.wsize):(O=L.wsize-L.wnext,O>T&&(O=T),L.window.set(g.subarray(m-T,m-T+O),L.wnext),T-=O,T?(L.window.set(g.subarray(m-T,m),0),L.wnext=T,L.whave=L.wsize):(L.wnext+=O,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=O))),0},O2=(A,g)=>{let m,T,O,L,h,x,t,o,v,r,n,i,e,a,l=0,s,u,f,c,d,p,S,C;const E=new Uint8Array(4);let R,M;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Mo(A)||!A.output||!A.input&&A.avail_in!==0)return lr;m=A.state,m.mode===vs&&(m.mode=Yp),h=A.next_out,O=A.output,t=A.avail_out,L=A.next_in,T=A.input,x=A.avail_in,o=m.hold,v=m.bits,r=x,n=t,C=xo;t:for(;;)switch(m.mode){case pd:if(m.wrap===0){m.mode=Yp;break}for(;v<16;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}if(m.wrap&2&&o===35615){m.wbits===0&&(m.wbits=15),m.check=0,E[0]=o&255,E[1]=o>>>8&255,m.check=Ur(m.check,E,2,0),o=0,v=0,m.mode=zE;break}if(m.head&&(m.head.done=!1),!(m.wrap&1)||(((o&255)<<8)+(o>>8))%31){A.msg="incorrect header check",m.mode=mi;break}if((o&15)!==UE){A.msg="unknown compression method",m.mode=mi;break}if(o>>>=4,v-=4,S=(o&15)+8,m.wbits===0&&(m.wbits=S),S>15||S>m.wbits){A.msg="invalid window size",m.mode=mi;break}m.dmax=1<<m.wbits,m.flags=0,A.adler=m.check=1,m.mode=o&512?jE:vs,o=0,v=0;break;case zE:for(;v<16;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}if(m.flags=o,(m.flags&255)!==UE){A.msg="unknown compression method",m.mode=mi;break}if(m.flags&57344){A.msg="unknown header flags set",m.mode=mi;break}m.head&&(m.head.text=o>>8&1),m.flags&512&&m.wrap&4&&(E[0]=o&255,E[1]=o>>>8&255,m.check=Ur(m.check,E,2,0)),o=0,v=0,m.mode=GE;case GE:for(;v<32;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}m.head&&(m.head.time=o),m.flags&512&&m.wrap&4&&(E[0]=o&255,E[1]=o>>>8&255,E[2]=o>>>16&255,E[3]=o>>>24&255,m.check=Ur(m.check,E,4,0)),o=0,v=0,m.mode=VE;case VE:for(;v<16;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}m.head&&(m.head.xflags=o&255,m.head.os=o>>8),m.flags&512&&m.wrap&4&&(E[0]=o&255,E[1]=o>>>8&255,m.check=Ur(m.check,E,2,0)),o=0,v=0,m.mode=HE;case HE:if(m.flags&1024){for(;v<16;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}m.length=o,m.head&&(m.head.extra_len=o),m.flags&512&&m.wrap&4&&(E[0]=o&255,E[1]=o>>>8&255,m.check=Ur(m.check,E,2,0)),o=0,v=0}else m.head&&(m.head.extra=null);m.mode=YE;case YE:if(m.flags&1024&&(i=m.length,i>x&&(i=x),i&&(m.head&&(S=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Uint8Array(m.head.extra_len)),m.head.extra.set(T.subarray(L,L+i),S)),m.flags&512&&m.wrap&4&&(m.check=Ur(m.check,T,i,L)),x-=i,L+=i,m.length-=i),m.length))break t;m.length=0,m.mode=WE;case WE:if(m.flags&2048){if(x===0)break t;i=0;do S=T[L+i++],m.head&&S&&m.length<65536&&(m.head.name+=String.fromCharCode(S));while(S&&i<x);if(m.flags&512&&m.wrap&4&&(m.check=Ur(m.check,T,i,L)),x-=i,L+=i,S)break t}else m.head&&(m.head.name=null);m.length=0,m.mode=XE;case XE:if(m.flags&4096){if(x===0)break t;i=0;do S=T[L+i++],m.head&&S&&m.length<65536&&(m.head.comment+=String.fromCharCode(S));while(S&&i<x);if(m.flags&512&&m.wrap&4&&(m.check=Ur(m.check,T,i,L)),x-=i,L+=i,S)break t}else m.head&&(m.head.comment=null);m.mode=kE;case kE:if(m.flags&512){for(;v<16;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}if(m.wrap&4&&o!==(m.check&65535)){A.msg="header crc mismatch",m.mode=mi;break}o=0,v=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),A.adler=m.check=0,m.mode=vs;break;case jE:for(;v<32;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}A.adler=m.check=sw(o),o=0,v=0,m.mode=Yc;case Yc:if(m.havedict===0)return A.next_out=h,A.avail_out=t,A.next_in=L,A.avail_in=x,m.hold=o,m.bits=v,x2;A.adler=m.check=1,m.mode=vs;case vs:if(g===g2||g===Zf)break t;case Yp:if(m.last){o>>>=v&7,v-=v&7,m.mode=Xp;break}for(;v<3;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}switch(m.last=o&1,o>>>=1,v-=1,o&3){case 0:m.mode=KE;break;case 1:if(M2(m),m.mode=Qf,g===Zf){o>>>=2,v-=2;break t}break;case 2:m.mode=QE;break;case 3:A.msg="invalid block type",m.mode=mi}o>>>=2,v-=2;break;case KE:for(o>>>=v&7,v-=v&7;v<32;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}if((o&65535)!==(o>>>16^65535)){A.msg="invalid stored block lengths",m.mode=mi;break}if(m.length=o&65535,o=0,v=0,m.mode=Wp,g===Zf)break t;case Wp:m.mode=ZE;case ZE:if(i=m.length,i){if(i>x&&(i=x),i>t&&(i=t),i===0)break t;O.set(T.subarray(L,L+i),h),x-=i,L+=i,t-=i,h+=i,m.length-=i;break}m.mode=vs;break;case QE:for(;v<14;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}if(m.nlen=(o&31)+257,o>>>=5,v-=5,m.ndist=(o&31)+1,o>>>=5,v-=5,m.ncode=(o&15)+4,o>>>=4,v-=4,m.nlen>286||m.ndist>30){A.msg="too many length or distance symbols",m.mode=mi;break}m.have=0,m.mode=JE;case JE:for(;m.have<m.ncode;){for(;v<3;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}m.lens[D[m.have++]]=o&7,o>>>=3,v-=3}for(;m.have<19;)m.lens[D[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,R={bits:m.lenbits},C=Ju(m2,m.lens,0,19,m.lencode,0,m.work,R),m.lenbits=R.bits,C){A.msg="invalid code lengths set",m.mode=mi;break}m.have=0,m.mode=$E;case $E:for(;m.have<m.nlen+m.ndist;){for(;l=m.lencode[o&(1<<m.lenbits)-1],s=l>>>24,u=l>>>16&255,f=l&65535,!(s<=v);){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}if(f<16)o>>>=s,v-=s,m.lens[m.have++]=f;else{if(f===16){for(M=s+2;v<M;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}if(o>>>=s,v-=s,m.have===0){A.msg="invalid bit length repeat",m.mode=mi;break}S=m.lens[m.have-1],i=3+(o&3),o>>>=2,v-=2}else if(f===17){for(M=s+3;v<M;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}o>>>=s,v-=s,S=0,i=3+(o&7),o>>>=3,v-=3}else{for(M=s+7;v<M;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}o>>>=s,v-=s,S=0,i=11+(o&127),o>>>=7,v-=7}if(m.have+i>m.nlen+m.ndist){A.msg="invalid bit length repeat",m.mode=mi;break}for(;i--;)m.lens[m.have++]=S}}if(m.mode===mi)break;if(m.lens[256]===0){A.msg="invalid code -- missing end-of-block",m.mode=mi;break}if(m.lenbits=9,R={bits:m.lenbits},C=Ju(KC,m.lens,0,m.nlen,m.lencode,0,m.work,R),m.lenbits=R.bits,C){A.msg="invalid literal/lengths set",m.mode=mi;break}if(m.distbits=6,m.distcode=m.distdyn,R={bits:m.distbits},C=Ju(ZC,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,R),m.distbits=R.bits,C){A.msg="invalid distances set",m.mode=mi;break}if(m.mode=Qf,g===Zf)break t;case Qf:m.mode=Jf;case Jf:if(x>=6&&t>=258){A.next_out=h,A.avail_out=t,A.next_in=L,A.avail_in=x,m.hold=o,m.bits=v,h2(A,n),h=A.next_out,O=A.output,t=A.avail_out,L=A.next_in,T=A.input,x=A.avail_in,o=m.hold,v=m.bits,m.mode===vs&&(m.back=-1);break}for(m.back=0;l=m.lencode[o&(1<<m.lenbits)-1],s=l>>>24,u=l>>>16&255,f=l&65535,!(s<=v);){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}if(u&&(u&240)===0){for(c=s,d=u,p=f;l=m.lencode[p+((o&(1<<c+d)-1)>>c)],s=l>>>24,u=l>>>16&255,f=l&65535,!(c+s<=v);){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}o>>>=c,v-=c,m.back+=c}if(o>>>=s,v-=s,m.back+=s,m.length=f,u===0){m.mode=iw;break}if(u&32){m.back=-1,m.mode=vs;break}if(u&64){A.msg="invalid literal/length code",m.mode=mi;break}m.extra=u&15,m.mode=qE;case qE:if(m.extra){for(M=m.extra;v<M;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}m.length+=o&(1<<m.extra)-1,o>>>=m.extra,v-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=_E;case _E:for(;l=m.distcode[o&(1<<m.distbits)-1],s=l>>>24,u=l>>>16&255,f=l&65535,!(s<=v);){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}if((u&240)===0){for(c=s,d=u,p=f;l=m.distcode[p+((o&(1<<c+d)-1)>>c)],s=l>>>24,u=l>>>16&255,f=l&65535,!(c+s<=v);){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}o>>>=c,v-=c,m.back+=c}if(o>>>=s,v-=s,m.back+=s,u&64){A.msg="invalid distance code",m.mode=mi;break}m.offset=f,m.extra=u&15,m.mode=tw;case tw:if(m.extra){for(M=m.extra;v<M;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}m.offset+=o&(1<<m.extra)-1,o>>>=m.extra,v-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){A.msg="invalid distance too far back",m.mode=mi;break}m.mode=ew;case ew:if(t===0)break t;if(i=n-t,m.offset>i){if(i=m.offset-i,i>m.whave&&m.sane){A.msg="invalid distance too far back",m.mode=mi;break}i>m.wnext?(i-=m.wnext,e=m.wsize-i):e=m.wnext-i,i>m.length&&(i=m.length),a=m.window}else a=O,e=h-m.offset,i=m.length;i>t&&(i=t),t-=i,m.length-=i;do O[h++]=a[e++];while(--i);m.length===0&&(m.mode=Jf);break;case iw:if(t===0)break t;O[h++]=m.length,t--,m.mode=Jf;break;case Xp:if(m.wrap){for(;v<32;){if(x===0)break t;x--,o|=T[L++]<<v,v+=8}if(n-=t,A.total_out+=n,m.total+=n,m.wrap&4&&n&&(A.adler=m.check=m.flags?Ur(m.check,O,n,h-n):Hm(m.check,O,n,h-n)),n=t,m.wrap&4&&(m.flags?o:sw(o))!==m.check){A.msg="incorrect data check",m.mode=mi;break}o=0,v=0}m.mode=nw;case nw:if(m.wrap&&m.flags){for(;v<32;){if(x===0)break t;x--,o+=T[L++]<<v,v+=8}if(m.wrap&4&&o!==(m.total&4294967295)){A.msg="incorrect length check",m.mode=mi;break}o=0,v=0}m.mode=rw;case rw:C=y2;break t;case mi:C=QC;break t;case $C:return JC;case qC:default:return lr}return A.next_out=h,A.avail_out=t,A.next_in=L,A.avail_in=x,m.hold=o,m.bits=v,(m.wsize||n!==A.avail_out&&m.mode<mi&&(m.mode<Xp||g!==FE))&&nR(A,A.output,A.next_out,n-A.avail_out),r-=A.avail_in,n-=A.avail_out,A.total_in+=r,A.total_out+=n,m.total+=n,m.wrap&4&&n&&(A.adler=m.check=m.flags?Ur(m.check,O,n,A.next_out-n):Hm(m.check,O,n,A.next_out-n)),A.data_type=m.bits+(m.last?64:0)+(m.mode===vs?128:0)+(m.mode===Qf||m.mode===Wp?256:0),(r===0&&n===0||g===FE)&&C===xo&&(C=T2),C},b2=A=>{if(Mo(A))return lr;let g=A.state;return g.window&&(g.window=null),A.state=null,xo},L2=(A,g)=>{if(Mo(A))return lr;const m=A.state;return(m.wrap&2)===0?lr:(m.head=g,g.done=!1,xo)},I2=(A,g)=>{const m=g.length;let T,O,L;return Mo(A)||(T=A.state,T.wrap!==0&&T.mode!==Yc)?lr:T.mode===Yc&&(O=1,O=Hm(O,g,m,0),O!==T.check)?QC:(L=nR(A,g,m,m),L?(T.mode=$C,JC):(T.havedict=1,xo))};var P2=tR,N2=eR,D2=_C,B2=R2,F2=iR,U2=O2,z2=b2,G2=L2,V2=I2,H2="pako inflate (from Nodeca project)",xs={inflateReset:P2,inflateReset2:N2,inflateResetKeep:D2,inflateInit:B2,inflateInit2:F2,inflate:U2,inflateEnd:z2,inflateGetHeader:G2,inflateSetDictionary:V2,inflateInfo:H2};function Y2(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var W2=Y2;const rR=Object.prototype.toString,{Z_NO_FLUSH:X2,Z_FINISH:k2,Z_OK:ah,Z_STREAM_END:Kp,Z_NEED_DICT:Zp,Z_STREAM_ERROR:j2,Z_DATA_ERROR:ow,Z_MEM_ERROR:K2}=XC;function md(A){this.options=kC.assign({chunkSize:1024*64,windowBits:15,to:""},A||{});const g=this.options;g.raw&&g.windowBits>=0&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),g.windowBits>=0&&g.windowBits<16&&!(A&&A.windowBits)&&(g.windowBits+=32),g.windowBits>15&&g.windowBits<48&&(g.windowBits&15)===0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l2,this.strm.avail_out=0;let m=xs.inflateInit2(this.strm,g.windowBits);if(m!==ah)throw new Error(Ym[m]);if(this.header=new W2,xs.inflateGetHeader(this.strm,this.header),g.dictionary&&(typeof g.dictionary=="string"?g.dictionary=Wm.string2buf(g.dictionary):rR.call(g.dictionary)==="[object ArrayBuffer]"&&(g.dictionary=new Uint8Array(g.dictionary)),g.raw&&(m=xs.inflateSetDictionary(this.strm,g.dictionary),m!==ah)))throw new Error(Ym[m])}md.prototype.push=function(A,g){const m=this.strm,T=this.options.chunkSize,O=this.options.dictionary;let L,h,x;if(this.ended)return!1;for(g===~~g?h=g:h=g===!0?k2:X2,rR.call(A)==="[object ArrayBuffer]"?m.input=new Uint8Array(A):m.input=A,m.next_in=0,m.avail_in=m.input.length;;){for(m.avail_out===0&&(m.output=new Uint8Array(T),m.next_out=0,m.avail_out=T),L=xs.inflate(m,h),L===Zp&&O&&(L=xs.inflateSetDictionary(m,O),L===ah?L=xs.inflate(m,h):L===ow&&(L=Zp));m.avail_in>0&&L===Kp&&m.state.wrap>0&&A[m.next_in]!==0;)xs.inflateReset(m),L=xs.inflate(m,h);switch(L){case j2:case ow:case Zp:case K2:return this.onEnd(L),this.ended=!0,!1}if(x=m.avail_out,m.next_out&&(m.avail_out===0||L===Kp))if(this.options.to==="string"){let t=Wm.utf8border(m.output,m.next_out),o=m.next_out-t,v=Wm.buf2string(m.output,t);m.next_out=o,m.avail_out=T-o,o&&m.output.set(m.output.subarray(t,t+o),0),this.onData(v)}else this.onData(m.output.length===m.next_out?m.output:m.output.subarray(0,m.next_out));if(!(L===ah&&x===0)){if(L===Kp)return L=xs.inflateEnd(this.strm),this.onEnd(L),this.ended=!0,!0;if(m.avail_in===0)break}}return!0};md.prototype.onData=function(A){this.chunks.push(A)};md.prototype.onEnd=function(A){A===ah&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=kC.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};function Z2(A,g){const m=new md(g);if(m.push(A),m.err)throw m.msg||Ym[m.err];return m.result}var Q2=Z2,J2={inflate:Q2};const{inflate:$2}=J2;var q2=$2,Qp={exports:{}},lw;function _2(){return lw||(lw=1,(function(A){var g=Object.prototype.hasOwnProperty,m="~";function T(){}Object.create&&(T.prototype=Object.create(null),new T().__proto__||(m=!1));function O(t,o,v){this.fn=t,this.context=o,this.once=v||!1}function L(t,o,v,r,n){if(typeof v!="function")throw new TypeError("The listener must be a function");var i=new O(v,r||t,n),e=m?m+o:o;return t._events[e]?t._events[e].fn?t._events[e]=[t._events[e],i]:t._events[e].push(i):(t._events[e]=i,t._eventsCount++),t}function h(t,o){--t._eventsCount===0?t._events=new T:delete t._events[o]}function x(){this._events=new T,this._eventsCount=0}x.prototype.eventNames=function(){var o=[],v,r;if(this._eventsCount===0)return o;for(r in v=this._events)g.call(v,r)&&o.push(m?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(v)):o},x.prototype.listeners=function(o){var v=m?m+o:o,r=this._events[v];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,e=new Array(i);n<i;n++)e[n]=r[n].fn;return e},x.prototype.listenerCount=function(o){var v=m?m+o:o,r=this._events[v];return r?r.fn?1:r.length:0},x.prototype.emit=function(o,v,r,n,i,e){var a=m?m+o:o;if(!this._events[a])return!1;var l=this._events[a],s=arguments.length,u,f;if(l.fn){switch(l.once&&this.removeListener(o,l.fn,void 0,!0),s){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,v),!0;case 3:return l.fn.call(l.context,v,r),!0;case 4:return l.fn.call(l.context,v,r,n),!0;case 5:return l.fn.call(l.context,v,r,n,i),!0;case 6:return l.fn.call(l.context,v,r,n,i,e),!0}for(f=1,u=new Array(s-1);f<s;f++)u[f-1]=arguments[f];l.fn.apply(l.context,u)}else{var c=l.length,d;for(f=0;f<c;f++)switch(l[f].once&&this.removeListener(o,l[f].fn,void 0,!0),s){case 1:l[f].fn.call(l[f].context);break;case 2:l[f].fn.call(l[f].context,v);break;case 3:l[f].fn.call(l[f].context,v,r);break;case 4:l[f].fn.call(l[f].context,v,r,n);break;default:if(!u)for(d=1,u=new Array(s-1);d<s;d++)u[d-1]=arguments[d];l[f].fn.apply(l[f].context,u)}}return!0},x.prototype.on=function(o,v,r){return L(this,o,v,r,!1)},x.prototype.once=function(o,v,r){return L(this,o,v,r,!0)},x.prototype.removeListener=function(o,v,r,n){var i=m?m+o:o;if(!this._events[i])return this;if(!v)return h(this,i),this;var e=this._events[i];if(e.fn)e.fn===v&&(!n||e.once)&&(!r||e.context===r)&&h(this,i);else{for(var a=0,l=[],s=e.length;a<s;a++)(e[a].fn!==v||n&&!e[a].once||r&&e[a].context!==r)&&l.push(e[a]);l.length?this._events[i]=l.length===1?l[0]:l:h(this,i)}return this},x.prototype.removeAllListeners=function(o){var v;return o?(v=m?m+o:o,this._events[v]&&h(this,v)):(this._events=new T,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=m,x.EventEmitter=x,A.exports=x})(Qp)),Qp.exports}var t7=_2();const e7=Ra(t7);function i7(A,g){return Array.apply(0,new Array(Math.ceil(A.length/g))).map((m,T)=>A.slice(T*g,(T+1)*g))}const Ka=A=>"version"in A;function n7(A){return new TextDecoder("utf-8").decode(A)}function uw(A){return Yi.encode(A)}function sR(A){return ie.Buffer.from(A,"base64")}function ga(A){return"accounts"in A}async function r7(A){const g=(await Ut.findProgramAddress([],A))[0];return await Ut.createWithSeed(g,s7(),A)}function s7(){return"anchor:idl"}const a7=me.struct([me.publicKey("authority"),me.vecU8("data")]);function o7(A){return a7.decode(A)}function l7(A){const g=["name","path","account","relations","generic"],m=L=>L.split(".").map(h=>FN(h,{locale:!1})).join("."),T=L=>{for(const h in L){const x=L[h];g.includes(h)?L[h]=Array.isArray(x)?x.map(m):m(x):typeof x=="object"&&T(x)}},O=structuredClone(A);return T(O),O}function Sl(A,g,m,T){return A?.length?A[0].name?m(A):T(A):g()}function u7(A){const g=new Map;return A.errors&&A.errors.forEach(m=>{var T;let O=(T=m.msg)!==null&&T!==void 0?T:m.name;g.set(m.code,O)}),g}function h7(A,...g){if(A.args.length!=g.length)throw new Error("Invalid argument length");const m={};let T=0;return A.args.forEach(O=>{m[O.name]=g[T],T+=1}),m}function aR(A,g={}){A.forEach(m=>{if(ga(m))aR(m.accounts,g[m.name]);else if(!g[m.name])throw new Error(`Account \`${m.name}\` not provided.`)})}function wr(A){return A instanceof Ut?A:new Ut(A)}class f7 extends TypeError{constructor(g,m){let T;const{message:O,...L}=g,{path:h}=g,x=h.length===0?O:"At path: "+h.join(".")+" -- "+O;super(x),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,L),this.name=this.constructor.name,this.failures=()=>{var t;return(t=T)!=null?t:T=[g,...m()]}}}function c7(A){return Ml(A)&&typeof A[Symbol.iterator]=="function"}function Ml(A){return typeof A=="object"&&A!=null}function Ca(A){return typeof A=="string"?JSON.stringify(A):""+A}function d7(A){const{done:g,value:m}=A.next();return g?void 0:m}function v7(A,g,m,T){if(A===!0)return;A===!1?A={}:typeof A=="string"&&(A={message:A});const{path:O,branch:L}=g,{type:h}=m,{refinement:x,message:t="Expected a value of type `"+h+"`"+(x?" with refinement `"+x+"`":"")+", but received: `"+Ca(T)+"`"}=A;return{value:T,type:h,refinement:x,key:O[O.length-1],path:O,branch:L,...A,message:t}}function*hw(A,g,m,T){c7(A)||(A=[A]);for(const O of A){const L=v7(O,g,m,T);L&&(yield L)}}function*Ng(A,g,m){m===void 0&&(m={});const{path:T=[],branch:O=[A],coerce:L=!1,mask:h=!1}=m,x={path:T,branch:O};if(L&&(A=g.coercer(A,x),h&&g.type!=="type"&&Ml(g.schema)&&Ml(A)&&!Array.isArray(A)))for(const o in A)g.schema[o]===void 0&&delete A[o];let t=!0;for(const o of g.validator(A,x))t=!1,yield[o,void 0];for(let[o,v,r]of g.entries(A,x)){const n=Ng(v,r,{path:o===void 0?T:[...T,o],branch:o===void 0?O:[...O,v],coerce:L,mask:h});for(const i of n)i[0]?(t=!1,yield[i[0],void 0]):L&&(v=i[1],o===void 0?A=v:A instanceof Map?A.set(o,v):A instanceof Set?A.add(v):Ml(A)&&(A[o]=v))}if(t)for(const o of g.refiner(A,x))t=!1,yield[o,void 0];t&&(yield[void 0,A])}class Oa{constructor(g){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:m,schema:T,validator:O,refiner:L,coercer:h=t=>t,entries:x=function*(){}}=g;this.type=m,this.schema=T,this.entries=x,this.coercer=h,O?this.validator=(t,o)=>{const v=O(t,o);return hw(v,o,this,t)}:this.validator=()=>[],L?this.refiner=(t,o)=>{const v=L(t,o);return hw(v,o,this,t)}:this.refiner=()=>[]}assert(g){return p7(g,this)}create(g){return Dg(g,this)}is(g){return oR(g,this)}mask(g){return m7(g,this)}validate(g,m){return m===void 0&&(m={}),xh(g,this,m)}}function p7(A,g){const m=xh(A,g);if(m[0])throw m[0]}function Dg(A,g){const m=xh(A,g,{coerce:!0});if(m[0])throw m[0];return m[1]}function m7(A,g){const m=xh(A,g,{coerce:!0,mask:!0});if(m[0])throw m[0];return m[1]}function oR(A,g){return!xh(A,g)[0]}function xh(A,g,m){m===void 0&&(m={});const T=Ng(A,g,m),O=d7(T);return O[0]?[new f7(O[0],function*(){for(const h of T)h[0]&&(yield h[0])}),void 0]:[void 0,O[1]]}function Th(A,g){return new Oa({type:A,schema:null,validator:g})}function g7(){return Th("any",()=>!0)}function Jp(A){return new Oa({type:"array",schema:A,*entries(g){if(A&&Array.isArray(g))for(const[m,T]of g.entries())yield[m,T,A]},coercer(g){return Array.isArray(g)?g.slice():g},validator(g){return Array.isArray(g)||"Expected an array value, but received: "+Ca(g)}})}function y7(){return Th("boolean",A=>typeof A=="boolean")}function fw(A){const g=Ca(A);return new Oa({type:"literal",schema:A,validator(m){return m===A||"Expected the literal `"+g+"`, but received: "+Ca(m)}})}function $f(A){return new Oa({...A,validator:(g,m)=>g===null||A.validator(g,m),refiner:(g,m)=>g===null||A.refiner(g,m)})}function Ac(){return Th("number",A=>typeof A=="number"&&!isNaN(A)||"Expected a number, but received: "+Ca(A))}function Cc(A){return new Oa({...A,validator:(g,m)=>g===void 0||A.validator(g,m),refiner:(g,m)=>g===void 0||A.refiner(g,m)})}function uo(){return Th("string",A=>typeof A=="string"||"Expected a string, but received: "+Ca(A))}function Sa(A){const g=Object.keys(A);return new Oa({type:"type",schema:A,*entries(m){if(Ml(m))for(const T of g)yield[T,m[T],A[T]]},validator(m){return Ml(m)||"Expected an object, but received: "+Ca(m)}})}function lR(A){const g=A.map(m=>m.type).join(" | ");return new Oa({type:"union",schema:null,coercer(m,T){return(A.find(L=>{const[h]=L.validate(m,{coerce:!0});return!h})||Bg()).coercer(m,T)},validator(m,T){const O=[];for(const L of A){const[...h]=Ng(m,L,T),[x]=h;if(x[0])for(const[t]of h)t&&O.push(t);else return[]}return["Expected the value to satisfy a union of `"+g+"`, but received: "+Ca(m),...O]}})}function Bg(){return Th("unknown",()=>!0)}function x7(A,g,m){return new Oa({...A,coercer:(T,O)=>oR(T,g)?A.coercer(m(T,O),O):A.coercer(T,O)})}const cw=99;async function T7(A,g,m){if(g.length<=cw)return await dw(A,g,m);{const T=i7(g,cw);return(await Promise.all(T.map(L=>dw(A,L,m)))).flat()}}async function dw(A,g,m){const T=m??A.commitment,{value:O,context:L}=await A.getMultipleAccountsInfoAndContext(g,T);return O.map((x,t)=>x===null?null:{publicKey:g[t],account:x,context:L})}async function S7(A,g,m,T,O){var L;m&&m.length>0&&g.sign(...m);const h=g._compile(),x=h.serialize(),o=g._serialize(x).toString("base64"),v={encoding:"base64",commitment:T??A.commitment};if(O){const e=(Array.isArray(O)?O:h.nonProgramIds()).map(a=>a.toBase58());v.accounts={encoding:"base64",addresses:e}}m&&m.length>0&&(v.sigVerify=!0);const r=[o,v],n=await A._rpcRequest("simulateTransaction",r),i=Dg(n,C7);if("error"in i){let e;if("data"in i.error&&(e=(L=i.error.data)===null||L===void 0?void 0:L.logs,e&&Array.isArray(e))){const a=`
    `,l=a+e.join(a);console.error(i.error.message,l)}throw new Aa("failed to simulate transaction: "+i.error.message,e)}return i.result}function E7(A){return x7(uR(A),w7,g=>"error"in g?g:{...g,result:Dg(g.result,A)})}const w7=uR(Bg());function uR(A){return lR([Sa({jsonrpc:fw("2.0"),id:uo(),result:A}),Sa({jsonrpc:fw("2.0"),id:uo(),error:Sa({code:Bg(),message:uo(),data:Cc(g7())})})])}function A7(A){return E7(Sa({context:Sa({slot:Ac()}),value:A}))}const C7=A7(Sa({err:$f(lR([Sa({}),uo()])),logs:$f(Jp(uo())),accounts:Cc($f(Jp($f(Sa({executable:y7(),owner:uo(),lamports:Ac(),data:Jp(uo()),rentEpoch:Cc(Ac())}))))),unitsConsumed:Cc(Ac())}));class oh{constructor(g,m,T=oh.defaultOptions()){this.connection=g,this.wallet=m,this.opts=T,this.publicKey=m?.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(g,m=oh.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(g,m,T){var O,L,h,x;if(T===void 0&&(T=this.opts),Ka(g))m&&g.sign(m);else if(g.feePayer=(O=g.feePayer)!==null&&O!==void 0?O:this.wallet.publicKey,g.recentBlockhash=(await this.connection.getLatestBlockhash(T.preflightCommitment)).blockhash,m)for(const o of m)g.partialSign(o);g=await this.wallet.signTransaction(g);const t=g.serialize();try{return await vw(this.connection,t,T)}catch(o){if(o instanceof Xm){const v=uw(Ka(g)?((L=g.signatures)===null||L===void 0?void 0:L[0])||new Uint8Array:(h=g.signature)!==null&&h!==void 0?h:new Uint8Array),r=Ka(g)?0:void 0,n=await this.connection.getTransaction(v,{commitment:"confirmed",maxSupportedTransactionVersion:r});if(n){const i=(x=n.meta)===null||x===void 0?void 0:x.logMessages;throw i?new Aa(o.message,i):o}else throw o}else throw o}}async sendAll(g,m){var T,O,L;m===void 0&&(m=this.opts);const h=(await this.connection.getLatestBlockhash(m.preflightCommitment)).blockhash;let x=g.map(v=>{var r,n;if(Ka(v.tx)){let i=v.tx;return v.signers&&i.sign(v.signers),i}else{let i=v.tx,e=(r=v.signers)!==null&&r!==void 0?r:[];return i.feePayer=(n=i.feePayer)!==null&&n!==void 0?n:this.wallet.publicKey,i.recentBlockhash=h,e.forEach(a=>{i.partialSign(a)}),i}});const t=await this.wallet.signAllTransactions(x),o=[];for(let v=0;v<x.length;v+=1){const r=t[v],n=r.serialize();try{o.push(await vw(this.connection,n,m))}catch(i){if(i instanceof Xm){const e=uw(Ka(r)?((T=r.signatures)===null||T===void 0?void 0:T[0])||new Uint8Array:(O=r.signature)!==null&&O!==void 0?O:new Uint8Array),a=Ka(r)?0:void 0,l=await this.connection.getTransaction(e,{commitment:"confirmed",maxSupportedTransactionVersion:a});if(l){const s=(L=l.meta)===null||L===void 0?void 0:L.logMessages;throw s?new Aa(i.message,s):i}else throw i}else throw i}}return o}async simulate(g,m,T,O){let L=(await this.connection.getLatestBlockhash(T??this.connection.commitment)).blockhash,h;if(Ka(g)?(m&&m.length>0&&(g.sign(m),g=await this.wallet.signTransaction(g)),h=await this.connection.simulateTransaction(g,{commitment:T})):(g.feePayer=g.feePayer||this.wallet.publicKey,g.recentBlockhash=L,m&&m.length>0&&(g=await this.wallet.signTransaction(g)),h=await S7(this.connection,g,m,T,O)),h.value.err)throw new R7(h.value);return h.value}}class R7 extends Error{constructor(g,m){super(m),this.simulationResponse=g}}async function vw(A,g,m){const T=m?{skipPreflight:m.skipPreflight,preflightCommitment:m.preflightCommitment||m.commitment,maxRetries:m.maxRetries,minContextSlot:m.minContextSlot}:{};let O;const L=Date.now();for(;Date.now()-L<6e4;)try{const h=await A.sendRawTransaction(g,T);if(m?.blockhash)if(T.maxRetries===0){const x=AbortSignal.timeout(15e3);O=(await A.confirmTransaction({abortSignal:x,signature:h,...m.blockhash},m&&m.commitment)).value}else O=(await A.confirmTransaction({signature:h,...m.blockhash},m&&m.commitment)).value;else O=(await A.confirmTransaction(h,m&&m.commitment)).value;if(O.err)throw new Xm(`Raw transaction ${h} failed (${JSON.stringify(O)})`);return h}catch(h){if(h.name==="TimeoutError")continue;throw h}throw Error("Transaction failed to confirm in 60s")}class Xm extends Error{constructor(g){super(g)}}function km(){return oh.local()}var M7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});var hR=Ct.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=a3=Ct.ANCHOR_ERROR__REQUIRE_VIOLATED=s3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=r3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=n3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=i3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=e3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=t3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=_R=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=qR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=$R=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=JR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=QR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=ZR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=KR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=jR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=kR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=XR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=WR=Ct.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=YR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=HR=Ct.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=VR=Ct.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=GR=Ct.ANCHOR_ERROR__CONSTRAINT_SPACE=zR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=UR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=FR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=BR=Ct.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=DR=Ct.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=NR=Ct.ANCHOR_ERROR__CONSTRAINT_ZERO=PR=Ct.ANCHOR_ERROR__CONSTRAINT_ADDRESS=IR=Ct.ANCHOR_ERROR__CONSTRAINT_CLOSE=LR=Ct.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=bR=Ct.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=OR=Ct.ANCHOR_ERROR__CONSTRAINT_STATE=MR=Ct.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=RR=Ct.ANCHOR_ERROR__CONSTRAINT_SEEDS=CR=Ct.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=AR=Ct.ANCHOR_ERROR__CONSTRAINT_OWNER=wR=Ct.ANCHOR_ERROR__CONSTRAINT_RAW=ER=Ct.ANCHOR_ERROR__CONSTRAINT_SIGNER=SR=Ct.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=TR=Ct.ANCHOR_ERROR__CONSTRAINT_MUT=xR=Ct.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=yR=Ct.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=gR=Ct.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=mR=Ct.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=pR=Ct.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=vR=Ct.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=dR=Ct.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=cR=Ct.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,fR=Ct.ANCHOR_ERROR__DEPRECATED=P3=Ct.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=I3=Ct.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=L3=Ct.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=b3=Ct.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=O3=Ct.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=M3=Ct.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=R3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=C3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=A3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=w3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=E3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=S3=Ct.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=T3=Ct.ANCHOR_ERROR__INVALID_PROGRAM_ID=x3=Ct.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=y3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=g3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=m3=Ct.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=p3=Ct.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=v3=Ct.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=d3=Ct.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=c3=Ct.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=f3=Ct.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=h3=Ct.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=u3=Ct.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=l3=Ct.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=o3=Ct.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,cR=Ct.ANCHOR_ERROR__INSTRUCTION_MISSING=100,dR=Ct.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,vR=Ct.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,pR=Ct.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,mR=Ct.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,gR=Ct.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,yR=Ct.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,xR=Ct.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,TR=Ct.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,SR=Ct.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,ER=Ct.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,wR=Ct.ANCHOR_ERROR__CONSTRAINT_RAW=2003,AR=Ct.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,CR=Ct.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,RR=Ct.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,MR=Ct.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,OR=Ct.ANCHOR_ERROR__CONSTRAINT_STATE=2008,bR=Ct.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,LR=Ct.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,IR=Ct.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,PR=Ct.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,NR=Ct.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,DR=Ct.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,BR=Ct.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,FR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,UR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,zR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,GR=Ct.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,VR=Ct.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,HR=Ct.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,YR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,WR=Ct.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,XR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,kR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,jR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,KR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,ZR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,QR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,JR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,$R=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,qR=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,_R=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,t3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,e3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,i3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,n3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,r3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,s3=Ct.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,a3=Ct.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;hR=Ct.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var o3=Ct.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,l3=Ct.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,u3=Ct.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,h3=Ct.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,f3=Ct.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,c3=Ct.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,d3=Ct.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,v3=Ct.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,p3=Ct.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,m3=Ct.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,g3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,y3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,x3=Ct.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,T3=Ct.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,S3=Ct.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,E3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,w3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,A3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,C3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,R3=Ct.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,M3=Ct.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,O3=Ct.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,b3=Ct.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,L3=Ct.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,I3=Ct.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,P3=Ct.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;fR=Ct.ANCHOR_ERROR__DEPRECATED=5e3;const O7=new Map;function N3(A){return O7.get(A)!==void 0}class pa extends Error{constructor(g){super(g),this.name="IdlError"}}class Sh{constructor(g){this.stack=g}static parse(g){var m;const T=/^Program (\w*) invoke/,O=/^Program \w* success/,L=[];for(let h=0;h<g.length;h++){if(O.exec(g[h])){L.pop();continue}const x=(m=T.exec(g[h]))===null||m===void 0?void 0:m[1];x&&L.push(new Ut(x))}return new Sh(L)}}class $u extends Error{constructor(g,m,T,O,L,h){super(T.join(`
`).replace("Program log: ","")),this.errorLogs=T,this.logs=O,this.error={errorCode:g,errorMessage:m,comparedValues:h,origin:L},this._programErrorStack=Sh.parse(O)}static parse(g){if(!g)return null;const m=g.findIndex(n=>n.startsWith("Program log: AnchorError"));if(m===-1)return null;const T=g[m],O=[T];let L;if(m+1<g.length){if(g[m+1]==="Program log: Left:"){const n=/^Program log: (.*)$/,i=n.exec(g[m+2])[1],e=n.exec(g[m+4])[1];L=[new Ut(i),new Ut(e)],O.push(...g.slice(m+1,m+5))}else if(g[m+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,i=n.exec(g[m+1])[2],e=n.exec(g[m+2])[2];O.push(...g.slice(m+1,m+3)),L=[i,e]}}const x=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(T),o=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(T),r=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(T);if(x){const[n,i,e]=x.slice(1,4),a={code:n,number:parseInt(i)};return new $u(a,e,O,g,void 0,L)}else if(o){const[n,i,e,a,l]=o.slice(1,6),s={code:e,number:parseInt(a)},u={file:n,line:parseInt(i)};return new $u(s,l,O,g,u,L)}else if(r){const[n,i,e,a]=r.slice(1,5),l=n,s={code:i,number:parseInt(e)};return new $u(s,a,O,g,l,L)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Wc extends Error{constructor(g,m,T){super(),this.code=g,this.msg=m,this.logs=T,T&&(this._programErrorStack=Sh.parse(T))}static parse(g,m){const T=g.toString();let O;if(T.includes("custom program error:")){let x=T.split("custom program error: ");if(x.length!==2)return null;O=x[1]}else{const x=T.match(/"Custom":([0-9]+)}/g);if(!x||x.length>1)return null;O=x[0].match(/([0-9]+)/g)[0]}let L;try{L=parseInt(O)}catch{return null}let h=m.get(L);return h!==void 0?new Wc(L,h,g.logs):(h=b7.get(L),h!==void 0?new Wc(L,h,g.logs):null)}get program(){var g;return(g=this._programErrorStack)===null||g===void 0?void 0:g.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var g;return(g=this._programErrorStack)===null||g===void 0?void 0:g.stack}toString(){return this.msg}}function D3(A,g){N3("debug-logs")&&console.log("Translating error:",A);const m=$u.parse(A.logs);if(m)return m;const T=Wc.parse(A,g);if(T)return T;if(A.logs){const O={get:function(L,h){return h==="programErrorStack"?L.programErrorStack.stack:h==="program"?L.programErrorStack.stack[A.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return A.programErrorStack=Sh.parse(A.logs),new Proxy(A,O)}return A}const Kt={InstructionMissing:cR,InstructionFallbackNotFound:dR,InstructionDidNotDeserialize:vR,InstructionDidNotSerialize:pR,IdlInstructionStub:mR,IdlInstructionInvalidProgram:gR,IdlAccountNotEmpty:yR,EventInstructionStub:xR,ConstraintMut:TR,ConstraintHasOne:SR,ConstraintSigner:ER,ConstraintRaw:wR,ConstraintOwner:AR,ConstraintRentExempt:CR,ConstraintSeeds:RR,ConstraintExecutable:MR,ConstraintState:OR,ConstraintAssociated:bR,ConstraintAssociatedInit:LR,ConstraintClose:IR,ConstraintAddress:PR,ConstraintZero:NR,ConstraintTokenMint:DR,ConstraintTokenOwner:BR,ConstraintMintMintAuthority:FR,ConstraintMintFreezeAuthority:UR,ConstraintMintDecimals:zR,ConstraintSpace:GR,ConstraintAccountIsNone:VR,ConstraintTokenTokenProgram:HR,ConstraintMintTokenProgram:YR,ConstraintAssociatedTokenTokenProgram:WR,ConstraintMintGroupPointerExtension:XR,ConstraintMintGroupPointerExtensionAuthority:kR,ConstraintMintGroupPointerExtensionGroupAddress:jR,ConstraintMintGroupMemberPointerExtension:KR,ConstraintMintGroupMemberPointerExtensionAuthority:ZR,ConstraintMintGroupMemberPointerExtensionMemberAddress:QR,ConstraintMintMetadataPointerExtension:JR,ConstraintMintMetadataPointerExtensionAuthority:$R,ConstraintMintMetadataPointerExtensionMetadataAddress:qR,ConstraintMintCloseAuthorityExtension:_R,ConstraintMintCloseAuthorityExtensionAuthority:t3,ConstraintMintPermanentDelegateExtension:e3,ConstraintMintPermanentDelegateExtensionDelegate:i3,ConstraintMintTransferHookExtension:n3,ConstraintMintTransferHookExtensionAuthority:r3,ConstraintMintTransferHookExtensionProgramId:s3,RequireViolated:a3,RequireEqViolated:hR,RequireKeysEqViolated:o3,RequireNeqViolated:l3,RequireKeysNeqViolated:u3,RequireGtViolated:h3,RequireGteViolated:f3,AccountDiscriminatorAlreadySet:c3,AccountDiscriminatorNotFound:d3,AccountDiscriminatorMismatch:v3,AccountDidNotDeserialize:p3,AccountDidNotSerialize:m3,AccountNotEnoughKeys:g3,AccountNotMutable:y3,AccountOwnedByWrongProgram:x3,InvalidProgramId:T3,InvalidProgramExecutable:S3,AccountNotSigner:E3,AccountNotSystemOwned:w3,AccountNotInitialized:A3,AccountNotProgramData:C3,AccountNotAssociatedTokenAccount:R3,AccountSysvarMismatch:M3,AccountReallocExceedsLimit:O3,AccountDuplicateReallocs:b3,DeclaredProgramIdMismatch:L3,TryingToInitPayerAsProgramAccount:I3,InvalidNumericConversion:P3,Deprecated:fR},b7=new Map([[Kt.InstructionMissing,"Instruction discriminator not provided"],[Kt.InstructionFallbackNotFound,"Fallback functions are not supported"],[Kt.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Kt.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Kt.IdlInstructionStub,"The program was compiled without idl instructions"],[Kt.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Kt.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[Kt.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[Kt.ConstraintMut,"A mut constraint was violated"],[Kt.ConstraintHasOne,"A has one constraint was violated"],[Kt.ConstraintSigner,"A signer constraint was violated"],[Kt.ConstraintRaw,"A raw constraint was violated"],[Kt.ConstraintOwner,"An owner constraint was violated"],[Kt.ConstraintRentExempt,"A rent exemption constraint was violated"],[Kt.ConstraintSeeds,"A seeds constraint was violated"],[Kt.ConstraintExecutable,"An executable constraint was violated"],[Kt.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Kt.ConstraintAssociated,"An associated constraint was violated"],[Kt.ConstraintAssociatedInit,"An associated init constraint was violated"],[Kt.ConstraintClose,"A close constraint was violated"],[Kt.ConstraintAddress,"An address constraint was violated"],[Kt.ConstraintZero,"Expected zero account discriminant"],[Kt.ConstraintTokenMint,"A token mint constraint was violated"],[Kt.ConstraintTokenOwner,"A token owner constraint was violated"],[Kt.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Kt.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Kt.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Kt.ConstraintSpace,"A space constraint was violated"],[Kt.ConstraintAccountIsNone,"A required account for the constraint is None"],[Kt.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[Kt.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[Kt.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[Kt.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[Kt.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[Kt.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[Kt.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[Kt.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[Kt.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[Kt.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[Kt.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[Kt.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[Kt.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[Kt.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[Kt.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[Kt.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[Kt.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[Kt.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[Kt.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[Kt.RequireViolated,"A require expression was violated"],[Kt.RequireEqViolated,"A require_eq expression was violated"],[Kt.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Kt.RequireNeqViolated,"A require_neq expression was violated"],[Kt.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Kt.RequireGtViolated,"A require_gt expression was violated"],[Kt.RequireGteViolated,"A require_gte expression was violated"],[Kt.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Kt.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[Kt.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[Kt.AccountDidNotDeserialize,"Failed to deserialize the account"],[Kt.AccountDidNotSerialize,"Failed to serialize the account"],[Kt.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Kt.AccountNotMutable,"The given account is not mutable"],[Kt.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Kt.InvalidProgramId,"Program ID was not as expected"],[Kt.InvalidProgramExecutable,"Program account is not executable"],[Kt.AccountNotSigner,"The given account did not sign"],[Kt.AccountNotSystemOwned,"The given account is not owned by the system program"],[Kt.AccountNotInitialized,"The program expected this account to be already initialized"],[Kt.AccountNotProgramData,"The given account is not a program data account"],[Kt.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Kt.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Kt.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Kt.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Kt.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Kt.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[Kt.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[Kt.Deprecated,"The API being used is deprecated and should no longer be used"]]);class Ie{static fieldLayout(g,m=[],T){const O=g.name;switch(g.type){case"bool":return me.bool(O);case"u8":return me.u8(O);case"i8":return me.i8(O);case"u16":return me.u16(O);case"i16":return me.i16(O);case"u32":return me.u32(O);case"i32":return me.i32(O);case"f32":return me.f32(O);case"u64":return me.u64(O);case"i64":return me.i64(O);case"f64":return me.f64(O);case"u128":return me.u128(O);case"i128":return me.i128(O);case"u256":return me.u256(O);case"i256":return me.i256(O);case"bytes":return me.vecU8(O);case"string":return me.str(O);case"pubkey":return me.publicKey(O);default:{if("option"in g.type)return me.option(Ie.fieldLayout({type:g.type.option},m,T),O);if("vec"in g.type)return me.vec(Ie.fieldLayout({type:g.type.vec},m,T),O);if("array"in g.type){let[L,h]=g.type.array;return h=Ie.resolveArrayLen(h,T),me.array(Ie.fieldLayout({type:L},m,T),h,O)}if("defined"in g.type){if(!m)throw new pa("User defined types not provided");const L=g.type.defined.name,h=m.find(x=>x.name===L);if(!h)throw new pa(`Type not found: ${g.name}`);return Ie.typeDefLayout({typeDef:h,types:m,genericArgs:T??g.type.defined.generics,name:O})}if("generic"in g.type){const L=T?.at(0);if(L?.kind!=="type")throw new pa(`Invalid generic field: ${g.name}`);return Ie.fieldLayout({...g,type:L.type},m)}throw new pa(`Not yet implemented: ${JSON.stringify(g.type)}`)}}}static typeDefLayout({typeDef:g,types:m,name:T,genericArgs:O}){switch(g.type.kind){case"struct":{const L=Sl(g.type.fields,()=>[],h=>h.map(x=>{const t=O&&Ie.resolveGenericArgs({type:x.type,typeDef:g,genericArgs:O});return Ie.fieldLayout(x,m,t)}),h=>h.map((x,t)=>{const o=O&&Ie.resolveGenericArgs({type:x,typeDef:g,genericArgs:O});return Ie.fieldLayout({name:t.toString(),type:x},m,o)}));return me.struct(L,T)}case"enum":{const L=g.type.variants.map(h=>{const x=Sl(h.fields,()=>[],t=>t.map(o=>{const v=O&&Ie.resolveGenericArgs({type:o.type,typeDef:g,genericArgs:O});return Ie.fieldLayout(o,m,v)}),t=>t.map((o,v)=>{const r=O&&Ie.resolveGenericArgs({type:o,typeDef:g,genericArgs:O});return Ie.fieldLayout({name:v.toString(),type:o},m,r)}));return me.struct(x,h.name)});return T!==void 0?me.rustEnum(L).replicate(T):me.rustEnum(L,T)}case"type":return Ie.fieldLayout({type:g.type.alias,name:T},m)}}static typeSize(g,m,T){var O;switch(g){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in g)return 1+Ie.typeSize(g.option,m,T);if("coption"in g)return 4+Ie.typeSize(g.coption,m,T);if("vec"in g)return 1;if("array"in g){let[L,h]=g.array;return h=Ie.resolveArrayLen(h,T),Ie.typeSize(L,m,T)*h}if("defined"in g){const L=(O=m.types)===null||O===void 0?void 0:O.find(x=>x.name===g.defined.name);if(!L)throw new pa(`Type not found: ${JSON.stringify(g)}`);const h=x=>{const t=T??g.defined.generics,o=t&&Ie.resolveGenericArgs({type:x,typeDef:L,genericArgs:t});return Ie.typeSize(x,m,o)};switch(L.type.kind){case"struct":return Sl(L.type.fields,()=>[0],x=>x.map(t=>h(t.type)),x=>x.map(t=>h(t))).reduce((x,t)=>x+t,0);case"enum":{const x=L.type.variants.map(t=>Sl(t.fields,()=>[0],o=>o.map(v=>h(v.type)),o=>o.map(v=>h(v))).reduce((o,v)=>o+v,0));return Math.max(...x)+1}case"type":return Ie.typeSize(L.type.alias,m,T)}}if("generic"in g){const L=T?.at(0);if(L?.kind!=="type")throw new pa(`Invalid generic: ${g.generic}`);return Ie.typeSize(L.type,m,T)}throw new Error(`Invalid type ${JSON.stringify(g)}`)}}static resolveArrayLen(g,m){if(typeof g=="number")return g;if(m){const T=m.find(O=>O.kind==="const");T?.kind==="const"&&(g=+T.value)}if(typeof g!="number")throw new pa("Generic array length did not resolve");return g}static resolveGenericArgs({type:g,typeDef:m,genericArgs:T,isDefined:O}){if(typeof g!="object")return null;for(const L in m.generics){const h=m.generics[L];if("generic"in g&&h.name===g.generic)return[T[L]];if("option"in g){const x=Ie.resolveGenericArgs({type:g.option,typeDef:m,genericArgs:T,isDefined:O});if(!x||!O)return x;if(x[0].kind==="type")return[{kind:"type",type:{option:x[0].type}}]}if("vec"in g){const x=Ie.resolveGenericArgs({type:g.vec,typeDef:m,genericArgs:T,isDefined:O});if(!x||!O)return x;if(x[0].kind==="type")return[{kind:"type",type:{vec:x[0].type}}]}if("array"in g){const[x,t]=g.array,o=typeof t=="object",v=Ie.resolveGenericArgs({type:x,typeDef:m,genericArgs:T,isDefined:O})||[];if(o){const r=m.generics.findIndex(n=>n.name===t.generic);r!==-1&&v.push(T[r])}if(v.length>0){if(!O)return v;if(v[0].kind==="type"&&v[1].kind==="const")return[{kind:"type",type:{array:[v[0].type,+v[1].value]}}]}if(o&&h.name===t.generic){const r=T[L];return O?[{kind:"type",type:{array:[x,+r.value]}}]:[r]}return null}if("defined"in g)return g.defined.generics?g.defined.generics.flatMap(x=>{switch(x.kind){case"type":return Ie.resolveGenericArgs({type:x.type,typeDef:m,genericArgs:T,isDefined:!0});case"const":return[x]}}).filter(x=>x!==null):null}return null}}class L7{constructor(g){this.idl=g;const m=g.instructions.map(T=>{const O=T.name,L=T.args.map(x=>Ie.fieldLayout(x,g.types)),h=me.struct(L,O);return[O,{discriminator:T.discriminator,layout:h}]});this.ixLayouts=new Map(m)}encode(g,m){const T=ie.Buffer.alloc(1e3),O=this.ixLayouts.get(g);if(!O)throw new Error(`Unknown method: ${g}`);const L=O.layout.encode(m,T),h=T.slice(0,L);return ie.Buffer.concat([ie.Buffer.from(O.discriminator),h])}decode(g,m="hex"){typeof g=="string"&&(g=m==="hex"?ie.Buffer.from(g,"hex"):Yi.decode(g));for(const[T,O]of this.ixLayouts){const L=g.subarray(0,O.discriminator.length);if(L.equals(ie.Buffer.from(O.discriminator)))return{name:T,data:O.layout.decode(g.subarray(L.length))}}return null}format(g,m){return kn.format(g,m,this.idl)}}class kn{static format(g,m,T){const O=T.instructions.find(t=>g.name===t.name);if(!O)return console.error("Invalid instruction given"),null;const L=O.args.map(t=>({name:t.name,type:kn.formatIdlType(t.type),data:kn.formatIdlData(t,g.data[t.name],T.types)})),h=kn.flattenIdlAccounts(O.accounts),x=m.map((t,o)=>o<h.length?{name:h[o].name,...t}:{name:void 0,...t});return{args:L,accounts:x}}static formatIdlType(g){if(typeof g=="string")return g;if("option"in g)return`Option<${this.formatIdlType(g.option)}>`;if("coption"in g)return`COption<${this.formatIdlType(g.coption)}>`;if("vec"in g)return`Vec<${this.formatIdlType(g.vec)}>`;if("array"in g)return`Array<${g.array[0]}; ${g.array[1]}>`;if("defined"in g){const m=g.defined.name;if(g.defined.generics){const T=g.defined.generics.map(O=>{switch(O.kind){case"type":return kn.formatIdlType(O.type);case"const":return O.value}}).join(", ");return`${m}<${T}>`}return m}throw new Error(`Unknown IDL type: ${g}`)}static formatIdlData(g,m,T){if(typeof g.type=="string")return m.toString();if("vec"in g.type)return"["+m.map(O=>this.formatIdlData({name:"",type:g.type.vec},O,T)).join(", ")+"]";if("option"in g.type)return m===null?"null":this.formatIdlData({name:"",type:g.type.option},m,T);if("defined"in g.type){if(!T)throw new Error("User defined types not provided");const O=g.type.defined.name,L=T.find(h=>h.name===O);if(!L)throw new Error(`Type not found: ${O}`);return kn.formatIdlDataDefined(L,m,T)}return"unknown"}static formatIdlDataDefined(g,m,T){switch(g.type.kind){case"struct":return"{ "+Sl(g.type.fields,()=>"",O=>Object.entries(m).map(([L,h])=>{const x=O.find(t=>t.name===L);if(!x)throw new Error(`Field not found: ${L}`);return L+": "+kn.formatIdlData(x,h,T)}).join(", "),O=>Object.entries(m).map(([L,h])=>L+": "+kn.formatIdlData({name:"",type:O[L]},h,T)).join(", "))+" }";case"enum":{const O=Object.keys(m)[0],L=g.type.variants.find(x=>x.name===O);if(!L)throw new Error(`Unable to find variant: ${O}`);const h=m[O];return Sl(L.fields,()=>O,x=>{const t=Object.keys(h).map(o=>{const v=h[o],r=x.find(n=>n.name===o);if(!r)throw new Error(`Field not found: ${o}`);return o+": "+kn.formatIdlData(r,v,T)}).join(", ");return`${O} { ${t} }`},x=>{const t=Object.entries(h).map(([o,v])=>o+": "+kn.formatIdlData({name:"",type:x[o]},v,T)).join(", ");return`${O} { ${t} }`})}case"type":return kn.formatIdlType(g.type.alias)}}static flattenIdlAccounts(g,m){return g.map(T=>{const O=I7(T.name);if(T.hasOwnProperty("accounts")){const L=m?`${m} > ${O}`:O;return kn.flattenIdlAccounts(T.accounts,L)}else return{...T,name:m?`${m} > ${O}`:O}}).flat()}}function I7(A){const g=A.replace(/([A-Z])/g," $1");return g.charAt(0).toUpperCase()+g.slice(1)}class P7{constructor(g){if(this.idl=g,!g.accounts){this.accountLayouts=new Map;return}const m=g.types;if(!m)throw new Error("Accounts require `idl.types`");const T=g.accounts.map(O=>{const L=m.find(h=>h.name===O.name);if(!L)throw new Error(`Account not found: ${O.name}`);return[O.name,{discriminator:O.discriminator,layout:Ie.typeDefLayout({typeDef:L,types:m})}]});this.accountLayouts=new Map(T)}async encode(g,m){const T=ie.Buffer.alloc(1e3),O=this.accountLayouts.get(g);if(!O)throw new Error(`Unknown account: ${g}`);const L=O.layout.encode(m,T),h=T.slice(0,L),x=this.accountDiscriminator(g);return ie.Buffer.concat([x,h])}decode(g,m){const T=this.accountDiscriminator(g);if(T.compare(m.slice(0,T.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(g,m)}decodeAny(g){for(const[m,T]of this.accountLayouts)if(g.subarray(0,T.discriminator.length).equals(ie.Buffer.from(T.discriminator)))return this.decodeUnchecked(m,g);throw new Error("Account not found")}decodeUnchecked(g,m){const T=this.accountDiscriminator(g),O=m.subarray(T.length),L=this.accountLayouts.get(g);if(!L)throw new Error(`Unknown account: ${g}`);return L.layout.decode(O)}memcmp(g,m){const T=this.accountDiscriminator(g);return{offset:0,bytes:Yi.encode(m?ie.Buffer.concat([T,m]):T)}}size(g){return this.accountDiscriminator(g).length+Ie.typeSize({defined:{name:g}},this.idl)}accountDiscriminator(g){var m;const T=(m=this.idl.accounts)===null||m===void 0?void 0:m.find(O=>O.name===g);if(!T)throw new Error(`Account not found: ${g}`);return ie.Buffer.from(T.discriminator)}}class N7{constructor(g){if(!g.events){this.layouts=new Map;return}const m=g.types;if(!m)throw new Error("Events require `idl.types`");const T=g.events.map(O=>{const L=m.find(h=>h.name===O.name);if(!L)throw new Error(`Event not found: ${O.name}`);return[O.name,{discriminator:O.discriminator,layout:Ie.typeDefLayout({typeDef:L,types:m})}]});this.layouts=new Map(T)}decode(g){let m;try{m=sR(g)}catch{return null}for(const[T,O]of this.layouts){const L=m.subarray(0,O.discriminator.length);if(L.equals(ie.Buffer.from(O.discriminator)))return{name:T,data:O.layout.decode(m.subarray(L.length))}}return null}}class D7{constructor(g){const m=g.types;if(!m){this.typeLayouts=new Map;return}const T=m.filter(O=>!O.generics).map(O=>[O.name,Ie.typeDefLayout({typeDef:O,types:m})]);this.typeLayouts=new Map(T)}encode(g,m){const T=ie.Buffer.alloc(1e3),O=this.typeLayouts.get(g);if(!O)throw new Error(`Unknown type: ${g}`);const L=O.encode(m,T);return T.slice(0,L)}decode(g,m){const T=this.typeLayouts.get(g);if(!T)throw new Error(`Unknown type: ${g}`);return T.decode(m)}}class B3{constructor(g){this.instruction=new L7(g),this.accounts=new P7(g),this.events=new N7(g),this.types=new D7(g)}}class Dn{constructor(g,m){if(!Number.isInteger(g))throw new TypeError("span must be an integer");this.span=g,this.property=m}makeDestinationObject(){return{}}decode(g,m){throw new Error("Layout is abstract")}encode(g,m,T){throw new Error("Layout is abstract")}getSpan(g,m){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(g){const m=Object.create(this.constructor.prototype);return Object.assign(m,this),m.property=g,m}fromArray(g){}}var gd=Dn;function B7(A,g){return g.property?A+"["+g.property+"]":A}class ho extends Dn{isCount(){throw new Error("ExternalLayout is abstract")}}class F3 extends ho{constructor(g,m,T){if(!(g instanceof Dn))throw new TypeError("layout must be a Layout");if(m===void 0)m=0;else if(!Number.isInteger(m))throw new TypeError("offset must be integer or undefined");super(g.span,T||g.property),this.layout=g,this.offset=m}isCount(){return this.layout instanceof yd||this.layout instanceof U3}decode(g,m){return m===void 0&&(m=0),this.layout.decode(g,m+this.offset)}encode(g,m,T){return T===void 0&&(T=0),this.layout.encode(g,m,T+this.offset)}}class yd extends Dn{constructor(g,m){if(super(g,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(g,m){return m===void 0&&(m=0),g.readUIntLE(m,this.span)}encode(g,m,T){return T===void 0&&(T=0),m.writeUIntLE(g,T,this.span),this.span}}class U3 extends Dn{constructor(g,m){if(super(g,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(g,m){return m===void 0&&(m=0),g.readUIntBE(m,this.span)}encode(g,m,T){return T===void 0&&(T=0),m.writeUIntBE(g,T,this.span),this.span}}const jm=Math.pow(2,32);function z3(A){const g=Math.floor(A/jm),m=A-g*jm;return{hi32:g,lo32:m}}function G3(A,g){return A*jm+g}class F7 extends Dn{constructor(g){super(8,g)}decode(g,m){m===void 0&&(m=0);const T=g.readUInt32LE(m),O=g.readUInt32LE(m+4);return G3(O,T)}encode(g,m,T){T===void 0&&(T=0);const O=z3(g);return m.writeUInt32LE(O.lo32,T),m.writeUInt32LE(O.hi32,T+4),8}}class U7 extends Dn{constructor(g){super(8,g)}decode(g,m){m===void 0&&(m=0);const T=g.readUInt32LE(m),O=g.readInt32LE(m+4);return G3(O,T)}encode(g,m,T){T===void 0&&(T=0);const O=z3(g);return m.writeUInt32LE(O.lo32,T),m.writeInt32LE(O.hi32,T+4),8}}class z7 extends Dn{constructor(g,m,T){if(!(Array.isArray(g)&&g.reduce((L,h)=>L&&h instanceof Dn,!0)))throw new TypeError("fields must be array of Layout instances");typeof m=="boolean"&&T===void 0&&(T=m,m=void 0);for(const L of g)if(0>L.span&&L.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let O=-1;try{O=g.reduce((L,h)=>L+h.getSpan(),0)}catch{}super(O,m),this.fields=g,this.decodePrefixes=!!T}getSpan(g,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let T=0;try{T=this.fields.reduce((O,L)=>{const h=L.getSpan(g,m);return m+=h,O+h},0)}catch{throw new RangeError("indeterminate span")}return T}decode(g,m){m===void 0&&(m=0);const T=this.makeDestinationObject();for(const O of this.fields)if(O.property!==void 0&&(T[O.property]=O.decode(g,m)),m+=O.getSpan(g,m),this.decodePrefixes&&g.length===m)break;return T}encode(g,m,T){T===void 0&&(T=0);const O=T;let L=0,h=0;for(const x of this.fields){let t=x.span;if(h=0<t?t:0,x.property!==void 0){const o=g[x.property];o!==void 0&&(h=x.encode(o,m,T),0>t&&(t=x.getSpan(m,T)))}L=T,T+=t}return L+h-O}fromArray(g){const m=this.makeDestinationObject();for(const T of this.fields)T.property!==void 0&&0<g.length&&(m[T.property]=g.shift());return m}layoutFor(g){if(typeof g!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===g)return m}offsetOf(g){if(typeof g!="string")throw new TypeError("property must be string");let m=0;for(const T of this.fields){if(T.property===g)return m;0>T.span?m=-1:0<=m&&(m+=T.span)}}}class V3{constructor(g){this.property=g}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class pw extends V3{constructor(g,m){if(!(g instanceof ho&&g.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(m||g.property||"variant"),this.layout=g}decode(g,m){return this.layout.decode(g,m)}encode(g,m,T){return this.layout.encode(g,m,T)}}class H3 extends Dn{constructor(g,m,T){const O=g instanceof yd||g instanceof U3;if(O)g=new pw(new F3(g));else if(g instanceof ho&&g.isCount())g=new pw(g);else if(!(g instanceof V3))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(m===void 0&&(m=null),!(m===null||m instanceof Dn))throw new TypeError("defaultLayout must be null or a Layout");if(m!==null){if(0>m.span)throw new Error("defaultLayout must have constant span");m.property===void 0&&(m=m.replicate("content"))}let L=-1;m&&(L=m.span,0<=L&&O&&(L+=g.layout.span)),super(L,T),this.discriminator=g,this.usesPrefixDiscriminator=O,this.defaultLayout=m,this.registry={};let h=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(x){return h(x)},this.configGetSourceVariant=function(x){h=x.bind(this)}}getSpan(g,m){if(0<=this.span)return this.span;m===void 0&&(m=0);const T=this.getVariant(g,m);if(!T)throw new Error("unable to determine span for unrecognized variant");return T.getSpan(g,m)}defaultGetSourceVariant(g){if(g.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&g.hasOwnProperty(this.defaultLayout.property))return;const m=this.registry[g[this.discriminator.property]];if(m&&(!m.layout||g.hasOwnProperty(m.property)))return m}else for(const m in this.registry){const T=this.registry[m];if(g.hasOwnProperty(T.property))return T}throw new Error("unable to infer src variant")}decode(g,m){m===void 0&&(m=0);let T;const O=this.discriminator,L=O.decode(g,m);let h=this.registry[L];if(h===void 0){let x=0;h=this.defaultLayout,this.usesPrefixDiscriminator&&(x=O.layout.span),T=this.makeDestinationObject(),T[O.property]=L,T[h.property]=this.defaultLayout.decode(g,m+x)}else T=h.decode(g,m);return T}encode(g,m,T){T===void 0&&(T=0);const O=this.getSourceVariant(g);if(O===void 0){const L=this.discriminator,h=this.defaultLayout;let x=0;return this.usesPrefixDiscriminator&&(x=L.layout.span),L.encode(g[L.property],m,T),x+h.encode(g[h.property],m,T+x)}return O.encode(g,m,T)}addVariant(g,m,T){const O=new G7(this,g,m,T);return this.registry[g]=O,O}getVariant(g,m){let T=g;return Buffer.isBuffer(g)&&(m===void 0&&(m=0),T=this.discriminator.decode(g,m)),this.registry[T]}}class G7 extends Dn{constructor(g,m,T,O){if(!(g instanceof H3))throw new TypeError("union must be a Union");if(!Number.isInteger(m)||0>m)throw new TypeError("variant must be a (non-negative) integer");if(typeof T=="string"&&O===void 0&&(O=T,T=null),T){if(!(T instanceof Dn))throw new TypeError("layout must be a Layout");if(g.defaultLayout!==null&&0<=T.span&&T.span>g.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof O!="string")throw new TypeError("variant must have a String property")}let L=g.span;0>g.span&&(L=T?T.span:0,0<=L&&g.usesPrefixDiscriminator&&(L+=g.discriminator.layout.span)),super(L,O),this.union=g,this.variant=m,this.layout=T||null}getSpan(g,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let T=0;return this.union.usesPrefixDiscriminator&&(T=this.union.discriminator.layout.span),T+this.layout.getSpan(g,m+T)}decode(g,m){const T=this.makeDestinationObject();if(m===void 0&&(m=0),this!==this.union.getVariant(g,m))throw new Error("variant mismatch");let O=0;return this.union.usesPrefixDiscriminator&&(O=this.union.discriminator.layout.span),this.layout?T[this.property]=this.layout.decode(g,m+O):this.property?T[this.property]=!0:this.union.usesPrefixDiscriminator&&(T[this.union.discriminator.property]=this.variant),T}encode(g,m,T){T===void 0&&(T=0);let O=0;if(this.union.usesPrefixDiscriminator&&(O=this.union.discriminator.layout.span),this.layout&&!g.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,m,T);let L=O;if(this.layout&&(this.layout.encode(g[this.property],m,T+O),L+=this.layout.getSpan(m,T+O),0<=this.union.span&&L>this.union.span))throw new Error("encoded variant overruns containing union");return L}fromArray(g){if(this.layout)return this.layout.fromArray(g)}}class V7 extends Dn{constructor(g,m){if(!(g instanceof ho&&g.isCount()||Number.isInteger(g)&&0<=g))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let T=-1;g instanceof ho||(T=g),super(T,m),this.length=g}getSpan(g,m){let T=this.span;return 0>T&&(T=this.length.decode(g,m)),T}decode(g,m){m===void 0&&(m=0);let T=this.span;return 0>T&&(T=this.length.decode(g,m)),g.slice(m,m+T)}encode(g,m,T){let O=this.length;if(this.length instanceof ho&&(O=g.length),!(Buffer.isBuffer(g)&&O===g.length))throw new TypeError(B7("Blob.encode",this)+" requires (length "+O+") Buffer as src");if(T+O>m.length)throw new RangeError("encoding overruns Buffer");return m.write(g.toString("hex"),T,O,"hex"),this.length instanceof ho&&this.length.encode(O,m,T),O}}var H7=((A,g,m)=>new F3(A,g,m)),Y7=(A=>new yd(1,A)),As=(A=>new yd(4,A)),W7=(A=>new F7(A)),Ns=(A=>new U7(A)),Ki=((A,g,m)=>new z7(A,g,m)),Y3=((A,g,m)=>new H3(A,g,m)),Eh=((A,g)=>new V7(A,g));class X7 extends gd{constructor(g){super(-1,g),this.property=g,this.layout=Ki([As("length"),As("lengthPadding"),Eh(H7(As(),-8),"chars")],this.property)}encode(g,m,T=0){if(g==null)return this.layout.span;const O={chars:Buffer.from(g,"utf8")};return this.layout.encode(O,m,T)}decode(g,m=0){return this.layout.decode(g,m).chars.toString()}getSpan(g,m=0){return As().span+As().span+new Tr(new Uint8Array(g).slice(m,m+4),10,"le").toNumber()}}function xd(A){return new X7(A)}function ur(A){return Eh(32,A)}const Qn=Y3(As("instruction"));Qn.addVariant(0,Ki([Ns("lamports"),Ns("space"),ur("owner")]),"createAccount");Qn.addVariant(1,Ki([ur("owner")]),"assign");Qn.addVariant(2,Ki([Ns("lamports")]),"transfer");Qn.addVariant(3,Ki([ur("base"),xd("seed"),Ns("lamports"),Ns("space"),ur("owner")]),"createAccountWithSeed");Qn.addVariant(4,Ki([ur("authorized")]),"advanceNonceAccount");Qn.addVariant(5,Ki([Ns("lamports")]),"withdrawNonceAccount");Qn.addVariant(6,Ki([ur("authorized")]),"initializeNonceAccount");Qn.addVariant(7,Ki([ur("authorized")]),"authorizeNonceAccount");Qn.addVariant(8,Ki([Ns("space")]),"allocate");Qn.addVariant(9,Ki([ur("base"),xd("seed"),Ns("space"),ur("owner")]),"allocateWithSeed");Qn.addVariant(10,Ki([ur("base"),xd("seed"),ur("owner")]),"assignWithSeed");Qn.addVariant(11,Ki([Ns("lamports"),xd("seed"),ur("owner")]),"transferWithSeed");Math.max(...Object.values(Qn.registry).map(A=>A.span));class k7 extends gd{constructor(g,m,T,O){super(g.span,O),this.layout=g,this.decoder=m,this.encoder=T}decode(g,m){return this.decoder(this.layout.decode(g,m))}encode(g,m,T){return this.layout.encode(this.encoder(g),m,T)}getSpan(g,m){return this.layout.getSpan(g,m)}}function mw(A){return new k7(Eh(32),g=>new Ut(g),g=>g.toBuffer(),A)}Ki([As("version"),As("state"),mw("authorizedPubkey"),mw("nonce"),Ki([W7("lamportsPerSignature")],"feeCalculator")]);new Ut("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Ut("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var gw={exports:{}};(function(A,g){var m=typeof self<"u"?self:M7,T=(function(){function L(){this.fetch=!1,this.DOMException=m.DOMException}return L.prototype=m,new L})();(function(L){(function(h){var x={searchParams:"URLSearchParams"in L,iterable:"Symbol"in L&&"iterator"in Symbol,blob:"FileReader"in L&&"Blob"in L&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in L,arrayBuffer:"ArrayBuffer"in L};function t(b){return b&&DataView.prototype.isPrototypeOf(b)}if(x.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=ArrayBuffer.isView||function(b){return b&&o.indexOf(Object.prototype.toString.call(b))>-1};function r(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function n(b){return typeof b!="string"&&(b=String(b)),b}function i(b){var I={next:function(){var N=b.shift();return{done:N===void 0,value:N}}};return x.iterable&&(I[Symbol.iterator]=function(){return I}),I}function e(b){this.map={},b instanceof e?b.forEach(function(I,N){this.append(N,I)},this):Array.isArray(b)?b.forEach(function(I){this.append(I[0],I[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(I){this.append(I,b[I])},this)}e.prototype.append=function(b,I){b=r(b),I=n(I);var N=this.map[b];this.map[b]=N?N+", "+I:I},e.prototype.delete=function(b){delete this.map[r(b)]},e.prototype.get=function(b){return b=r(b),this.has(b)?this.map[b]:null},e.prototype.has=function(b){return this.map.hasOwnProperty(r(b))},e.prototype.set=function(b,I){this.map[r(b)]=n(I)},e.prototype.forEach=function(b,I){for(var N in this.map)this.map.hasOwnProperty(N)&&b.call(I,this.map[N],N,this)},e.prototype.keys=function(){var b=[];return this.forEach(function(I,N){b.push(N)}),i(b)},e.prototype.values=function(){var b=[];return this.forEach(function(I){b.push(I)}),i(b)},e.prototype.entries=function(){var b=[];return this.forEach(function(I,N){b.push([N,I])}),i(b)},x.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);function a(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function l(b){return new Promise(function(I,N){b.onload=function(){I(b.result)},b.onerror=function(){N(b.error)}})}function s(b){var I=new FileReader,N=l(I);return I.readAsArrayBuffer(b),N}function u(b){var I=new FileReader,N=l(I);return I.readAsText(b),N}function f(b){for(var I=new Uint8Array(b),N=new Array(I.length),z=0;z<I.length;z++)N[z]=String.fromCharCode(I[z]);return N.join("")}function c(b){if(b.slice)return b.slice(0);var I=new Uint8Array(b.byteLength);return I.set(new Uint8Array(b)),I.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:x.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:x.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:x.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():x.arrayBuffer&&x.blob&&t(b)?(this._bodyArrayBuffer=c(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):x.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||v(b))?this._bodyArrayBuffer=c(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):x.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},x.blob&&(this.blob=function(){var b=a(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var b=a(this);if(b)return b;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(f(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},x.formData&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(b){var I=b.toUpperCase();return p.indexOf(I)>-1?I:b}function C(b,I){I=I||{};var N=I.body;if(b instanceof C){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,I.headers||(this.headers=new e(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!N&&b._bodyInit!=null&&(N=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new e(I.headers)),this.method=S(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(N)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function E(b){var I=new FormData;return b.trim().split("&").forEach(function(N){if(N){var z=N.split("="),H=z.shift().replace(/\+/g," "),X=z.join("=").replace(/\+/g," ");I.append(decodeURIComponent(H),decodeURIComponent(X))}}),I}function R(b){var I=new e,N=b.replace(/\r?\n[\t ]+/g," ");return N.split(/\r?\n/).forEach(function(z){var H=z.split(":"),X=H.shift().trim();if(X){var W=H.join(":").trim();I.append(X,W)}}),I}d.call(C.prototype);function M(b,I){I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new e(I.headers),this.url=I.url||"",this._initBody(b)}d.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},M.error=function(){var b=new M(null,{status:0,statusText:""});return b.type="error",b};var D=[301,302,303,307,308];M.redirect=function(b,I){if(D.indexOf(I)===-1)throw new RangeError("Invalid status code");return new M(null,{status:I,headers:{location:b}})},h.DOMException=L.DOMException;try{new h.DOMException}catch{h.DOMException=function(I,N){this.message=I,this.name=N;var z=Error(I);this.stack=z.stack},h.DOMException.prototype=Object.create(Error.prototype),h.DOMException.prototype.constructor=h.DOMException}function B(b,I){return new Promise(function(N,z){var H=new C(b,I);if(H.signal&&H.signal.aborted)return z(new h.DOMException("Aborted","AbortError"));var X=new XMLHttpRequest;function W(){X.abort()}X.onload=function(){var V={status:X.status,statusText:X.statusText,headers:R(X.getAllResponseHeaders()||"")};V.url="responseURL"in X?X.responseURL:V.headers.get("X-Request-URL");var U="response"in X?X.response:X.responseText;N(new M(U,V))},X.onerror=function(){z(new TypeError("Network request failed"))},X.ontimeout=function(){z(new TypeError("Network request failed"))},X.onabort=function(){z(new h.DOMException("Aborted","AbortError"))},X.open(H.method,H.url,!0),H.credentials==="include"?X.withCredentials=!0:H.credentials==="omit"&&(X.withCredentials=!1),"responseType"in X&&x.blob&&(X.responseType="blob"),H.headers.forEach(function(V,U){X.setRequestHeader(U,V)}),H.signal&&(H.signal.addEventListener("abort",W),X.onreadystatechange=function(){X.readyState===4&&H.signal.removeEventListener("abort",W)}),X.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return B.polyfill=!0,L.fetch||(L.fetch=B,L.Headers=e,L.Request=C,L.Response=M),h.Headers=e,h.Request=C,h.Response=M,h.fetch=B,Object.defineProperty(h,"__esModule",{value:!0}),h})({})})(T),T.fetch.ponyfill=!0,delete T.fetch.polyfill;var O=T;g=O.fetch,g.default=O.fetch,g.fetch=O.fetch,g.Headers=O.Headers,g.Request=O.Request,g.Response=O.Response,A.exports=g})(gw,gw.exports);me.rustEnum([me.struct([],"uninitialized"),me.struct([me.option(me.publicKey(),"authorityAddress")],"buffer"),me.struct([me.publicKey("programdataAddress")],"program"),me.struct([me.u64("slot"),me.option(me.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,me.u32());const Km="Program log: ",W3="Program data: ",j7=Km.length,K7=W3.length;class Z7{constructor(g,m,T){this._programId=g,this._provider=m,this._eventParser=new Ea(g,T),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(g,m,T){var O;let L=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(g)||this._eventListeners.set(g,[]),this._eventListeners.set(g,((O=this._eventListeners.get(g))!==null&&O!==void 0?O:[]).concat(L)),this._eventCallbacks.set(L,[g,m]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(h,x)=>{if(!h.err)for(const t of this._eventParser.parseLogs(h.logs)){const o=this._eventListeners.get(t.name);o&&o.forEach(v=>{const r=this._eventCallbacks.get(v);if(r){const[,n]=r;n(t.data,x.slot,h.signature)}})}},T)),L}async removeEventListener(g){const m=this._eventCallbacks.get(g);if(!m)throw new Error(`Event listener ${g} doesn't exist!`);const[T]=m;let O=this._eventListeners.get(T);if(!O)throw new Error(`Event listeners don't exist for ${T}!`);if(this._eventCallbacks.delete(g),O=O.filter(L=>L!==g),this._eventListeners.set(T,O),O.length===0&&this._eventListeners.delete(T),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Ea{constructor(g,m){this.coder=m,this.programId=g}*parseLogs(g,m=!1){const T=new J7([...g]),O=new Q7,L=T.next();if(L===null)return;const h=Ea.INVOKE_RE.exec(L);if(!h||h[2]!==Ea.ROOT_DEPTH)throw new Error(`Unexpected first log line: ${L}`);for(O.push(h[1]);T.peek()!==null;){const x=T.next();if(x===null)break;let[t,o,v]=this.handleLog(O,x,m);if(t&&(yield t),o&&O.push(o),v){O.pop();const r=T.peek();if(r&&r.endsWith("invoke [1]")){const n=Ea.INVOKE_RE.exec(r);n&&O.push(n[1])}}}}handleLog(g,m,T){return g.stack.length>0&&g.program()===this.programId.toString()?this.handleProgramLog(m,T):[null,...this.handleSystemLog(m)]}handleProgramLog(g,m){if(g.startsWith(Km)||g.startsWith(W3)){const T=g.startsWith(Km)?g.slice(j7):g.slice(K7),O=this.coder.events.decode(T);if(m&&O===null)throw new Error(`Unable to decode event ${T}`);return[O,null,!1]}else return[null,...this.handleSystemLog(g)]}handleSystemLog(g){return g.startsWith(`Program ${this.programId.toString()} log:`)?[this.programId.toString(),!1]:g.includes("invoke")&&!g.endsWith("[1]")?["cpi",!1]:/^Program ([1-9A-HJ-NP-Za-km-z]+) success$/.test(g)?[null,!0]:[null,!1]}}Ea.INVOKE_RE=/^Program ([1-9A-HJ-NP-Za-km-z]+) invoke \[(\d+)\]$/;Ea.ROOT_DEPTH="1";class Q7{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(g){this.stack.push(g)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class J7{constructor(g){this.logs=g,this.logs=this.logs.filter(m=>m.startsWith("Program "))}next(){if(this.logs.length===0)return null;let g=this.logs[0];return this.logs=this.logs.slice(1),g}peek(){return this.logs.length>0?this.logs[0]:null}}function Td(A,g){var m,T;let O={};const L=A.args?A.args.length:0;if(g.length>L){if(g.length!==L+1)throw new Error(`provided too many arguments ${g} to instruction ${A?.name} expecting: ${(T=(m=A.args)===null||m===void 0?void 0:m.map(h=>h.name))!==null&&T!==void 0?T:[]}`);O=g.pop()}return[g,O]}class Xc{static build(g,m,T){if(g.name==="_inner")throw new pa("the _inner name is reserved");const O=(...L)=>{const[h,x]=Td(g,[...L]);aR(g.accounts,x.accounts),$7(g,...L);const t=O.accounts(x.accounts);return x.remainingAccounts!==void 0&&t.push(...x.remainingAccounts),N3("debug-logs")&&console.log("Outgoing account metas:",t),new $e({keys:t,programId:T,data:m(g.name,h7(g,...h))})};return O.accounts=L=>Xc.accountsArray(L,g.accounts,T,g.name),O}static accountsArray(g,m,T,O){return g?m.map(L=>{if(ga(L)){const v=g[L.name];return Xc.accountsArray(v,L.accounts,T,O).flat()}let h;try{h=wr(g[L.name])}catch{throw new Error(`Wrong input type for account "${L.name}" in the instruction accounts object${O!==void 0?' for instruction "'+O+'"':""}. Expected PublicKey or string.`)}const x=L.optional&&h.equals(T),t=!!(L.writable&&!x),o=!!(L.signer&&!x);return{pubkey:h,isWritable:t,isSigner:o}}).flat():[]}}function $7(A,...g){}class q7{static build(g,m){return(...O)=>{var L,h,x;const[,t]=Td(g,[...O]),o=new Le;if(t.preInstructions&&t.instructions)throw new Error("instructions is deprecated, use preInstructions");return(L=t.preInstructions)===null||L===void 0||L.forEach(v=>o.add(v)),(h=t.instructions)===null||h===void 0||h.forEach(v=>o.add(v)),o.add(m(...O)),(x=t.postInstructions)===null||x===void 0||x.forEach(v=>o.add(v)),o}}}class _7{static build(g,m,T,O){return async(...h)=>{var x;const t=m(...h),[,o]=Td(g,[...h]);if(O.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await O.sendAndConfirm(t,(x=o.signers)!==null&&x!==void 0?x:[],o.options)}catch(v){throw D3(v,T)}}}}class tD{static build(g,m,T,O){var L;return((L=g.accounts)!==null&&L!==void 0?L:[]).reduce((h,x)=>(h[x.name]=new eD(g,x,T,O,m),h),{})}}class eD{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(g,m,T,O,L){this._idlAccount=m,this._programId=T,this._provider=O??km(),this._coder=L??new B3(g),this._size=this._coder.accounts.size(m.name)}async fetchNullable(g,m){const{data:T}=await this.fetchNullableAndContext(g,m);return T}async fetchNullableAndContext(g,m){const T=await this.getAccountInfoAndContext(g,m),{value:O,context:L}=T;return{data:O&&O.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,O.data):null,context:L}}async fetch(g,m){const{data:T}=await this.fetchNullableAndContext(g,m);if(T===null)throw new Error(`Account does not exist or has no data ${g.toString()}`);return T}async fetchAndContext(g,m){const{data:T,context:O}=await this.fetchNullableAndContext(g,m);if(T===null)throw new Error(`Account does not exist ${g.toString()}`);return{data:T,context:O}}async fetchMultiple(g,m){return(await this.fetchMultipleAndContext(g,m)).map(O=>O?O.data:null)}async fetchMultipleAndContext(g,m){return(await T7(this._provider.connection,g.map(O=>wr(O)),m)).map(O=>{if(O==null)return null;const{account:L,context:h}=O;return{data:this._coder.accounts.decode(this._idlAccount.name,L.data),context:h}})}async all(g){const m=this.coder.accounts.memcmp(this._idlAccount.name,g instanceof Buffer?g:void 0),T=[];return m?.offset!=null&&m?.bytes!=null&&T.push({memcmp:{offset:m.offset,bytes:m.bytes}}),m?.dataSize!=null&&T.push({dataSize:m.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...T,...Array.isArray(g)?g:[]]})).map(({pubkey:L,account:h})=>({publicKey:L,account:this._coder.accounts.decode(this._idlAccount.name,h.data)}))}subscribe(g,m){const T=Vu.get(g.toString());if(T)return T.ee;const O=new e7;g=wr(g);const L=this._provider.connection.onAccountChange(g,h=>{const x=this._coder.accounts.decode(this._idlAccount.name,h.data);O.emit("change",x)},m);return Vu.set(g.toString(),{ee:O,listener:L}),O}async unsubscribe(g){let m=Vu.get(g.toString());if(!m){console.warn("Address is not subscribed");return}Vu&&await this._provider.connection.removeAccountChangeListener(m.listener).then(()=>{Vu.delete(g.toString())}).catch(console.error)}async createInstruction(g,m){const T=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return ji.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:g.publicKey,space:m??T,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(m??T),programId:this._programId})}async getAccountInfo(g,m){return await this._provider.connection.getAccountInfo(wr(g),m)}async getAccountInfoAndContext(g,m){return await this._provider.connection.getAccountInfoAndContext(wr(g),m)}}const Vu=new Map;class iD{static build(g,m,T,O,L,h,x){return async(...o)=>{var v;const r=m(...o),[,n]=Td(g,[...o]);let i;if(O.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{i=await O.simulate(r,n.signers,(v=n.options)===null||v===void 0?void 0:v.commitment)}catch(l){throw D3(l,T)}if(i===void 0)throw new Error("Unable to simulate transaction");const e=i.logs;if(!e)throw new Error("Simulated logs not found");const a=[];if(x.events){let l=new Ea(h,L);for(const s of l.parseLogs(e))a.push(s)}return{events:a,raw:e}}}}function $p(A){return new X3(Eh(8),g=>Fg.fromBuffer(g),g=>g.toBuffer(),A)}function qf(A){return new X3(Eh(32),g=>new Ut(g),g=>g.toBuffer(),A)}function qp(A,g){return new nD(A,g)}class X3 extends gd{constructor(g,m,T,O){super(g.span,O),this.layout=g,this.decoder=m,this.encoder=T}decode(g,m){return this.decoder(this.layout.decode(g,m))}encode(g,m,T){return this.layout.encode(this.encoder(g),m,T)}getSpan(g,m){return this.layout.getSpan(g,m)}}class nD extends gd{constructor(g,m){super(-1,m),this.layout=g,this.discriminator=As()}encode(g,m,T=0){return g==null?this.layout.span+this.discriminator.encode(0,m,T):(this.discriminator.encode(1,m,T),this.layout.encode(g,m,T+4)+4)}decode(g,m=0){const T=this.discriminator.decode(g,m);if(T===0)return null;if(T===1)return this.layout.decode(g,m+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(g,m=0){return this.layout.getSpan(g,m+4)+4}}class Fg extends Tr{toBuffer(){const g=super.toArray().reverse(),m=Buffer.from(g);if(m.length===8)return m;if(m.length>=8)throw new Error("u64 too large");const T=Buffer.alloc(8);return m.copy(T),T}static fromBuffer(g){if(g.length!==8)throw new Error(`Invalid buffer length: ${g.length}`);return new Fg([...g].reverse().map(m=>`00${m.toString(16)}`.slice(-2)).join(""),16)}}const rD=Ki([qf("mint"),qf("owner"),$p("amount"),qp(qf(),"delegate"),(A=>{const g=Y3(Y7("discriminator"),null,A);return g.addVariant(0,Ki([]),"uninitialized"),g.addVariant(1,Ki([]),"initialized"),g.addVariant(2,Ki([]),"frozen"),g})("state"),qp($p(),"isNative"),$p("delegatedAmount"),qp(qf(),"closeAuthority")]);function sD(A){return rD.decode(A)}class aD{constructor(g,m,T,O,L,h,x,t){this._args=g,this._accounts=m,this._provider=T,this._programId=O,this._idlIx=L,this._idlTypes=x,this._customResolver=t,this._accountStore=new oD(T,h,O)}args(g){this._args=g}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let g=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(g++,g===16){const m=h=>ga(h)?h.accounts.some(m):!!(h.address||h.pda||h.relations),T=(h,x=[],t=[])=>{for(const o of h)ga(o)?t.push(...T(o.accounts,[...x,o.name])):t.push([...x,o.name]);return t},O=this._idlIx.accounts.filter(m),L=T(O).filter(h=>!this.get(h)).map(h=>h.reduce((x,t)=>x+"."+t)).map(h=>`\`${h}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${L}`].join(" "))}}resolveOptionals(g){Object.assign(this._accounts,this.resolveOptionalsHelper(g,this._idlIx.accounts))}get(g){const m=g.reduce((T,O)=>T&&T[O],this._accounts);if(m&&m.toBase58)return m}set(g,m){let T=this._accounts;g.forEach((O,L)=>{var h;L===g.length-1&&(T[O]=m),T[O]=(h=T[O])!==null&&h!==void 0?h:{},T=T[O]})}resolveOptionalsHelper(g,m){const T={};for(const O of m){const L=O.name,h=g[L];h!==void 0&&(k3(h)?ga(O)?T[L]=this.resolveOptionalsHelper(h,O.accounts):T[L]=j3(h):h!==null?T[L]=wr(h):O.optional&&(T[L]=this._programId))}return T}async resolveCustom(){if(this._customResolver){const{accounts:g,resolved:m}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=g,m}return 0}resolveEventCpi(g,m=[]){for(const T in g){const O=g[T];ga(O)&&this.resolveEventCpi(O.accounts,[...m,O.name]);const L=+T+1;if(L===g.length)return;const h=g[T].name,x=g[L].name;if(h==="eventAuthority"&&x==="program"){const t=[...m,h],o=[...m,x];this.get(t)||this.set(t,Ut.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(o)||this.set(o,this._programId);return}}}resolveConst(g,m=[]){for(const T of g){const O=T.name;if(ga(T))this.resolveConst(T.accounts,[...m,O]);else{const L=T;if((L.signer||L.address)&&!this.get([...m,O])){if(L.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...m,O],this._provider.publicKey)}L.address&&this.set([...m,O],wr(L.address))}}}}async resolvePdasAndRelations(g,m=[]){let T=0;for(const O of g){const L=O.name;if(ga(O))T+=await this.resolvePdasAndRelations(O.accounts,[...m,L]);else{const h=O;if((h.pda||h.relations)&&!this.get([...m,L])){T++;try{if(h.pda){const x=await Promise.all(h.pda.seeds.map(v=>this.toBuffer(v,m)));if(x.some(v=>!v))continue;const t=await this.parseProgramId(h,m),[o]=Ut.findProgramAddressSync(x,t);this.set([...m,L],o)}}catch{}try{if(h.relations){const x=this.get([...m,h.relations[0]]);if(x){const t=await this._accountStore.fetchAccount({publicKey:x});this.set([...m,L],t[L])}}}catch{}}}}return T}async parseProgramId(g,m=[]){var T;if(!(!((T=g.pda)===null||T===void 0)&&T.program))return this._programId;const O=await this.toBuffer(g.pda.program,m);if(!O)throw new Error(`Program seed not resolved: ${g.name}`);return new Ut(O)}async toBuffer(g,m=[]){switch(g.kind){case"const":return this.toBufferConst(g);case"arg":return await this.toBufferArg(g);case"account":return await this.toBufferAccount(g,m);default:throw new Error(`Unexpected seed: ${g}`)}}toBufferConst(g){return this.toBufferValue("bytes",g.value)}async toBufferArg(g){const[m,...T]=g.path.split("."),O=this._idlIx.args.findIndex(x=>x.name===m);if(O===-1)throw new Error(`Unable to find argument for seed: ${m}`);const L=T.reduce((x,t)=>(x??{})[t],this._args[O]);if(L===void 0)return;const h=this.getType(this._idlIx.args[O].type,T);return this.toBufferValue(h,L)}async toBufferAccount(g,m=[]){const[T,...O]=g.path.split("."),L=this.get([...m,T]);if(!L)return;if(!O.length)return this.toBufferValue("pubkey",L);if(!g.account)throw new Error(`Seed account is required in order to resolve type: ${g.path}`);let x=await this._accountStore.fetchAccount({publicKey:L,name:g.account}),t=O;for(;t.length>0;)x=x[t[0]],t=t.slice(1);if(x===void 0)return;const o=this.getType({defined:{name:g.account}},O);return this.toBufferValue(o,x)}toBufferValue(g,m){switch(g){case"u8":case"i8":return Buffer.from([m]);case"u16":case"i16":return new Tr(m).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new Tr(m).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new Tr(m).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new Tr(m).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new Tr(m).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(m);case"pubkey":return m.toBuffer();case"bytes":return Buffer.from(m);default:if(g?.array)return Buffer.from(m);throw new Error(`Unexpected seed type: ${g}`)}}getType(g,m=[]){var T;const O=(T=g?.defined)===null||T===void 0?void 0:T.name;if(O){if(O==="tokenAccount")switch(m.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${m}`)}const L=this._idlTypes.find(v=>v.name===O);if(!L)throw new Error(`Type not found: ${O}`);const[h,...x]=m,o=L.type.fields.find(v=>v.name===h);if(!o)throw new Error(`Field not found: ${h}`);return this.getType(o.type,x)}return g}}class oD{constructor(g,m,T){this._provider=g,this._cache=new Map,this._idls={},this._idls[T.toBase58()]=m}async fetchAccount({publicKey:g,name:m}){const T=g.toBase58();if(!this._cache.has(T)){const O=await this._provider.connection.getAccountInfo(g);if(O===null)throw new Error(`Account not found: ${T}`);if(m==="tokenAccount"){const L=sD(O.data);this._cache.set(T,L)}else{const L=await this.getAccountsNs(O.owner);if(L){const h=Object.values(L)[0];if(h){const x=h.coder.accounts.decodeAny(O.data);this._cache.set(T,x)}}}}return this._cache.get(T)}async getAccountsNs(g){const m=g.toBase58();if(!this._idls[m]){const T=await To.fetchIdl(g,this._provider);if(T){const O=new To(T,this._provider);this._idls[m]=O.account}}return this._idls[m]}}class lD{static build(g,m,T,O,L,h,x,t,o,v,r){return(...n)=>new uD(n,O,L,h,x,t,g,m,T,o,v,r)}}function k3(A){return typeof A=="object"&&A!==null&&!("_bn"in A)}function j3(A,g){const m={};for(const T in A){const O=A[T];if(O===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");m[T]=k3(O)?j3(O):wr(O)}return m}class uD{constructor(g,m,T,O,L,h,x,t,o,v,r,n){this._args=g,this._ixFn=m,this._txFn=T,this._rpcFn=O,this._simulateFn=L,this._viewFn=h,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new aD(g,this._accounts,x,t,o,v,r,n)}args(g){this._args=g,this._accountsResolver.args(g)}accounts(g){return this.accountsPartial(g)}accountsPartial(g){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(g),this}accountsStrict(g){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(g),this}signers(g){return this._signers=this._signers.concat(g),this}remainingAccounts(g){return this._remainingAccounts=this._remainingAccounts.concat(g),this}preInstructions(g,m=!1){return m?this._preInstructions=g.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(g),this}postInstructions(g){return this._postInstructions=this._postInstructions.concat(g),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(g){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:g})}async view(g){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:g})}async rpc(g){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:g})}async rpcAndKeys(g){return{signature:await this.rpc(g),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class hD{static build(g,m,T,O){const L=m.accounts.find(t=>t.writable),h=!!m.returns;return L||!h?void 0:async(...t)=>{let o=await T(...t);const v=`Program return: ${g} `;let r=o.raw.find(a=>a.startsWith(v));if(!r)throw new Error("View expected return log");let n=sR(r.slice(v.length)),i=m.returns;if(!i)throw new Error("View expected return type");return Ie.fieldLayout({type:i},O.types).decode(n)}}}class fD{static build(g,m,T,O,L){const h={},x={},t={},o={},v={},r={},n=u7(g),i=g.accounts?tD.build(g,m,T,O):{};return g.instructions.forEach(e=>{const a=Xc.build(e,(p,S)=>m.instruction.encode(p,S),T),l=q7.build(e,a),s=_7.build(e,l,n,O),u=iD.build(e,l,n,O,m,T,g),f=hD.build(T,e,u,g),c=lD.build(O,T,e,a,l,s,u,f,i,g.types||[],L?.(e)),d=e.name;x[d]=a,t[d]=l,h[d]=s,o[d]=u,v[d]=c,f&&(r[d]=f)}),[h,x,t,i,o,v,r]}}class To{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(g,m=km(),T,O){this._idl=l7(g),this._rawIdl=g,this._provider=m,this._programId=wr(g.address),this._coder=T??new B3(this._idl),this._events=new Z7(this._programId,m,this._coder);const[L,h,x,t,o,v,r]=fD.build(this._idl,this._coder,this._programId,m,O);this.rpc=L,this.instruction=h,this.transaction=x,this.account=t,this.simulate=o,this.methods=v,this.views=r}static async at(g,m){const T=wr(g),O=await To.fetchIdl(T,m);if(!O)throw new Error(`IDL not found for program: ${g.toString()}`);return new To(O,m)}static async fetchIdl(g,m){m=m??km();const T=wr(g),O=await r7(T),L=await m.connection.getAccountInfo(O);if(!L)return null;let h=o7(L.data.slice(8));const x=q2(h.data);return JSON.parse(n7(x))}addEventListener(g,m,T){return this._events.addEventListener(g,m,T)}async removeEventListener(g){return await this._events.removeEventListener(g)}}new Ut("11111111111111111111111111111111");const cD="2fMfYMzpjpm7Y6wRXPAmYoZC7b9pdSnoW7KhEXwP1yWf",dD={name:"rhythmforge",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},vD=[{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[],args:[]}],pD=[{code:6e3,name:"CustomError",msg:"Custom error message"}],mD=[{name:"SEED",type:"string",value:'"anchor"'}],yw={address:cD,metadata:dD,instructions:vD,errors:pD,constants:mD};class gD{constructor(g,m,T,O){this.channel=null,this.socket=null,this.peerStates=new Map,this.clockOffsetMs=0,this.syncIntervalId=null,this.lastServerEventSeq=0,this.roomId=g,this.playerId=m,this.onStates=T,this.onEvent=O,typeof BroadcastChannel<"u"&&(this.channel=new BroadcastChannel(`rhythmforge:${g}`),this.channel.onmessage=L=>{this.handleMessage(L.data)})}publish(g){const m={roomId:this.roomId,type:"state-update",payload:{playerId:this.playerId,score:g.score,combo:g.combo,health:g.health,songTimeMs:g.songTimeMs,updatedAt:Date.now()},serverTime:Date.now()+this.clockOffsetMs};this.channel?.postMessage(m),this.sendSocketMessage(m)}heartbeat(){const g={roomId:this.roomId,type:"heartbeat",payload:this.emptyState(),serverTime:Date.now()+this.clockOffsetMs};this.channel?.postMessage(g),this.sendSocketMessage(g)}publishGameplayEvent(g){const m={roomId:this.roomId,type:"gameplay-event",payload:this.emptyState(),event:{...g,playerId:this.playerId,emittedAt:Date.now()},playerId:this.playerId,serverTime:Date.now()+this.clockOffsetMs};this.channel?.postMessage(m),this.sendSocketMessage(m)}dispose(){this.stopClockSync(),this.sendSocketMessage({roomId:this.roomId,type:"peer-left",payload:this.emptyState(),playerId:this.playerId,clientSentAt:Date.now()}),this.channel?.close(),this.socket&&this.socket.close()}handleMessage(g){if(!g||g.roomId!==this.roomId)return;if(g.type==="hello-ack"&&typeof g.serverTime=="number"){this.updateClockOffset(g.serverTime,g.clientEchoAt??Date.now());return}if(g.type==="sync-response"&&typeof g.serverTime=="number"){const O=g.clientEchoAt??Date.now(),L=Date.now(),h=Math.max(0,L-O),x=g.serverTime-(O+h/2);this.clockOffsetMs=this.clockOffsetMs*.75+x*.25;return}if(g.type==="sync-request"){this.sendSocketMessage({roomId:this.roomId,type:"sync-response",payload:this.emptyState(),playerId:this.playerId,serverTime:Date.now(),clientEchoAt:g.clientSentAt});return}if(g.type==="peer-left"&&g.playerId){this.peerStates.delete(g.playerId),this.emitActiveStates();return}if(g.type==="gameplay-event"&&g.event){if(g.event.playerId===this.playerId)return;const O=g.event.serverSeq??Number.MAX_SAFE_INTEGER;if(O<=this.lastServerEventSeq)return;this.lastServerEventSeq=O,this.onEvent?.({...g.event,serverTime:g.serverTime});return}if(g.payload.playerId===this.playerId||g.type!=="state-update"&&g.type!=="heartbeat")return;const m=typeof g.serverTime=="number"?g.serverTime-this.clockOffsetMs:g.payload.updatedAt,T={...g.payload,updatedAt:m};this.peerStates.set(T.playerId,T),this.emitActiveStates()}emitActiveStates(){const g=[...this.peerStates.values()].filter(m=>Date.now()-m.updatedAt<15e3).sort((m,T)=>T.score-m.score);this.onStates(g)}sendSocketMessage(g){this.socket?.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(g))}startClockSync(){this.stopClockSync(),this.syncIntervalId=window.setInterval(()=>{this.sendSocketMessage({roomId:this.roomId,type:"sync-request",playerId:this.playerId,payload:this.emptyState(),clientSentAt:Date.now()})},3e3)}stopClockSync(){this.syncIntervalId!==null&&(window.clearInterval(this.syncIntervalId),this.syncIntervalId=null)}updateClockOffset(g,m){const T=Date.now(),O=Math.max(0,T-m),L=g-(m+O/2);this.clockOffsetMs=this.clockOffsetMs*.7+L*.3}emptyState(){return{playerId:this.playerId,score:0,combo:0,health:0,songTimeMs:0,updatedAt:Date.now()}}}const xw="rhythmforge_high_scores_v1",Tw="rhythmforge_latest_submitted_v1",Sw="rhythmforge_hide_tracker_v1",yD="rhythmforge_song_difficulty",Ew="rhythmforge_distortion_level",xD={easy:{spawnDelay:600,travelDuration:4100,hitWindow:90},medium:{spawnDelay:450,travelDuration:3500,hitWindow:70},hard:{spawnDelay:330,travelDuration:2800,hitWindow:58}};function TD(){const A=Fw(),g=Ma(),{publicKey:m,connected:T}=yh(),{connection:O}=fC(),[L,h]=ot.useState(0),[x,t]=ot.useState(0),[o,v]=ot.useState(1),[r,n]=ot.useState(100),[i,e]=ot.useState(0),[a,l]=ot.useState("100"),[s,u]=ot.useState(1),[f,c]=ot.useState(!1),[d,p]=ot.useState(!0),[S,C]=ot.useState(!1),[E,R]=ot.useState(!1),[M,D]=ot.useState(80),[B,b]=ot.useState(!1),[I,N]=ot.useState(0),[z,H]=ot.useState(0),[X,W]=ot.useState(()=>Array.from({length:24},()=>14)),[V,U]=ot.useState([]),[F,k]=ot.useState([]),[Y,Z]=ot.useState([]),[j,J]=ot.useState(null),[q,et]=ot.useState(!1),[it,at]=ot.useState(!1),[ut,dt]=ot.useState("high"),ft=ot.useRef(null),xt=ot.useRef(null),At=ot.useRef(null),gt=ot.useRef(!1),Wt=ot.useRef(null),Ht=ot.useRef(`guest-${Math.random().toString(36).slice(2,10)}`),Gt="/audio/song.mp3",Ot=typeof g.state?.songName=="string"?g.state.songName:"Default Track",Bt=typeof g.state?.songId=="string"?g.state.songId:"default-song",Pt=typeof g.state?.songAudioUrl=="string"?g.state.songAudioUrl:Gt,te=(()=>{const wt=g.state?.difficulty;if(wt==="easy"||wt==="medium"||wt==="hard")return wt;const Vt=localStorage.getItem(yD);return Vt==="easy"||Vt==="medium"||Vt==="hard"?Vt:"medium"})(),_t=xD[te],nt=m?.toBase58()??"guest",$=m?.toBase58()??Ht.current,_=`${Bt}:${te}`,st=V[0]?.score??0,ct=F[0]??null,pt=Math.round(I*1e3),yt=ct?Math.abs(ct.songTimeMs-pt):0,kt=typeof window<"u"?window.location.origin:"https://example.com",Jt=new URL("/",kt).toString(),qt=j===null?"":`https://x.com/intent/tweet?text=${encodeURIComponent(`I just scored ${j} on Rhythmforge (${Ot}  ${te.toUpperCase()})  #Solana #Web3Gaming`)}&url=${encodeURIComponent(Jt)}`,xe=wt=>{const Vt=Number.isFinite(wt)?Math.max(0,Math.floor(wt)):0,Ae=Math.floor(Vt/60),fe=Vt%60;return`${Ae}:${fe.toString().padStart(2,"0")}`},re=wt=>xe(wt/1e3),Ne=wt=>{Z(Vt=>[wt,...Vt].slice(0,6))},Ni=wt=>{dt(wt),document.documentElement.setAttribute("data-distortion",wt)},qe=async()=>{try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText(Jt);else{const wt=document.createElement("textarea");wt.value=Jt,wt.setAttribute("readonly",""),wt.style.position="absolute",wt.style.left="-9999px",document.body.appendChild(wt),wt.select(),document.execCommand("copy"),document.body.removeChild(wt)}at(!0),window.setTimeout(()=>at(!1),1600)}catch{alert("Could not copy link automatically.")}},ke=()=>{try{const wt=localStorage.getItem(xw);if(!wt)return[];const Vt=JSON.parse(wt);return Array.isArray(Vt)?Vt:[]}catch{return[]}},Jn=wt=>{localStorage.setItem(xw,JSON.stringify(wt))},je=()=>{try{const wt=localStorage.getItem(Tw);if(!wt)return{};const Vt=JSON.parse(wt);return typeof Vt!="object"||Vt===null?{}:Vt}catch{return{}}},Ke=(wt,Vt)=>{const Ae=je();Ae[wt]=Vt,localStorage.setItem(Tw,JSON.stringify(Ae))},ba=()=>{const wt=ke().filter(Vt=>Vt.wallet===nt).sort((Vt,Ae)=>Ae.score-Vt.score).slice(0,5);U(wt)},ui=wt=>{const Vt=[...ke(),wt].sort((Ae,fe)=>fe.score-Ae.score).slice(0,100);Jn(Vt),ba()},_e=()=>!m||!O?null:new oh(O,{publicKey:m,signTransaction:async wt=>wt,signAllTransactions:async wt=>wt},{}),Rr=async wt=>{const Vt=_e();if(!Vt||!m)return null;const Ae=new To(yw,Vt);if(typeof Ae?.methods?.submitScore!="function")return null;try{const[fe]=await Ut.findProgramAddress([Buffer.from("game_score"),m.toBuffer()],Ae.programId);return await Ae.methods.submitScore(new Tr(wt)).accounts({player:m,gameScore:fe}).rpc()}catch(fe){throw new Error(fe?.message??"Failed to submit score on-chain")}},di=async()=>{if(L<=0){alert("Play a round first to submit a score.");return}let wt=null,Vt=null;try{wt=await Rr(L)}catch(Ae){Vt=Ae?.message??"Unknown on-chain submit error"}if(ui({score:L,combo:x,multiplier:o,wallet:nt,submittedAt:new Date().toISOString(),txSignature:wt??void 0}),J(L),Ke(nt,L),Wt.current?.publishGameplayEvent({eventType:"submit",laneIndex:null,score:L,combo:x,health:r,songTimeMs:pt}),ii(),wt){alert("High score submitted on-chain and saved to tracker.");return}if(Vt&&T){alert(`High score saved locally. On-chain submit failed: ${Vt}`);return}alert("High score saved to tracker.")},hi=async wt=>{const Vt=_e();if(!Vt||!m){alert("Wallet not connected");return}const Ae=new To(yw,Vt);try{await Ae.methods.stakeSkr(new Tr(wt)).accounts({player:m}).rpc();const fe=i+wt;e(fe),u(Math.min(3,1+fe/1e3)),alert(`Staked ${wt} $SKR`)}catch(fe){alert("Error: "+fe.message)}},La=async()=>{const wt=Number(a);if(!Number.isFinite(wt)||wt<=0){alert("Enter a valid $SKR amount.");return}await hi(Math.floor(wt))},ei=()=>{At.current?.pauseRun(),gt.current=!1,p(!0),xt.current?.playing()&&xt.current.pause()},ii=()=>{At.current?.pauseRun(),gt.current=!1,p(!0),C(!1),c(!1),N(0),xt.current&&xt.current.stop()},Bs=()=>{f&&(At.current?.resumeRun(),gt.current=!0,p(!1),xt.current&&!xt.current.playing()&&xt.current.play())},ni=()=>{if(!E||!At.current)return;if(!xt.current){const Vt=Pt;xt.current=new zu.Howl({src:[Vt],loop:!0,volume:M/100,mute:B,html5:!0,onloaderror:(Ae,fe)=>{if(console.error("Audio failed to load:",fe),Vt!==Gt){xt.current?.unload(),xt.current=new zu.Howl({src:[Gt],loop:!0,volume:M/100,mute:B,html5:!0}),xt.current.play(),alert(`Selected track not found. Using default audio for ${Ot}.`);return}alert("Could not load game audio. Please verify app/public/audio/song.mp3")},onplayerror:(Ae,fe)=>{console.error("Audio failed to play:",fe);const ce=xt.current;ce&&ce.once("unlock",()=>{ce.play()})},onload:()=>{H(xt.current?.duration()??0)}})}zu.Howler.ctx&&zu.Howler.ctx.state==="suspended"&&zu.Howler.ctx.resume();const wt=xt.current;wt.state()!=="loaded"?(wt.once("load",()=>{wt.stop(),wt.play()}),wt.load()):(wt.stop(),wt.play()),At.current?.startRun(),gt.current=!0,N(0),h(0),t(0),v(1),n(100),c(!0),p(!1),C(!1)},ri=()=>{f&&C(wt=>{const Vt=!wt;return Vt&&ei(),Vt})},Bn=()=>{xt.current&&xt.current.stop(),gt.current=!1,A("/songs")};return ot.useEffect(()=>{ba();const wt=je();J(wt[nt]??null)},[m]),ot.useEffect(()=>{const wt=localStorage.getItem(Sw);et(wt==="true")},[]),ot.useEffect(()=>{localStorage.setItem(Sw,q?"true":"false")},[q]),ot.useEffect(()=>{const wt=localStorage.getItem(Ew);if(wt==="low"||wt==="high"){Ni(wt);return}Ni("high")},[]),ot.useEffect(()=>{localStorage.setItem(Ew,ut),document.documentElement.setAttribute("data-distortion",ut)},[ut]),ot.useEffect(()=>{Wt.current?.dispose();const wt=new gD(_,$,k,Ne);return Wt.current=wt,wt.heartbeat(),()=>{wt.dispose(),Wt.current===wt&&(Wt.current=null),k([]),Z([])}},[_,$]),ot.useEffect(()=>{f&&Wt.current?.publish({score:L,combo:x,health:r,songTimeMs:Math.round(I*1e3)})},[L,x,r,I,f]),ot.useEffect(()=>{const wt=window.setInterval(()=>{Wt.current?.heartbeat()},5e3);return()=>{window.clearInterval(wt)}},[]),ot.useEffect(()=>{xt.current&&(xt.current.volume(M/100),xt.current.mute(B))},[M,B]),ot.useEffect(()=>{const wt=window.setInterval(()=>{const Vt=xt.current;if(!Vt||Vt.state()!=="loaded")return;const Ae=Vt.duration()||0,fe=Vt.seek(),ce=typeof fe=="number"?fe:0;H(Ae),N(Ae>0?ce%Ae:0)},250);return()=>{window.clearInterval(wt)}},[]),ot.useEffect(()=>{const wt=window.setInterval(()=>{const Vt=xt.current,Ae=!!(Vt&&Vt.playing()&&f&&!d&&!B);W(fe=>{const ce=[...fe],Mr=Date.now();for(let si=0;si<ce.length;si+=1){if(!Ae){ce[si]=10+Math.max(0,(ce[si]-10)*.5);continue}const ln=Math.sin(Mr/170+si*.72),un=Math.random()*12,xi=16+(ln+1)*14+un;ce[si]=Math.max(10,Math.min(58,xi))}return ce})},90);return()=>{window.clearInterval(wt)}},[f,d,B]),ot.useEffect(()=>{const wt=Vt=>{Vt.key==="Escape"&&(Vt.preventDefault(),ri())};return window.addEventListener("keydown",wt),()=>{window.removeEventListener("keydown",wt)}},[f]),ot.useEffect(()=>{if(!ft.current){const wt=Math.min(window.innerWidth*.9,1100),Ae={type:Fr.AUTO,parent:"game-container",width:wt,height:700,backgroundColor:"#0a001f",scene:{preload:function(){this.load.audio("song",Pt);const ce=this.add.graphics();ce.fillStyle(16777215,1),ce.fillCircle(30,30,30),ce.lineStyle(6,16777215,.8),ce.strokeCircle(30,30,30),ce.generateTexture("note",60,60)},create:function(){const ce=this,Mr=this.scale.width,si=this.scale.height,ln=Mr/750,un=140*ln,xi=[150,300,450,600].map(Ce=>Ce*ln),$n=375*ln,yn=550,qn=520*ln,vi=_t.hitWindow,fr=[[],[],[],[]];let Fn=0,Di=0,_i=1,xn=100;const Or=()=>{Sd.setText(`SCORE: ${Fn}`),Yl.setText(`COMBO: ${Di}x`),wh.setText(`HEALTH: ${xn}%`),h(Fn),t(Di),v(_i),n(xn)},Kr=(Ce,Oe)=>{const De=fr[Ce],Ai=De.indexOf(Oe);Ai>=0&&De.splice(Ai,1)},Fs=()=>{const Ce=xt.current;if(!Ce)return 0;const Oe=Ce.seek();return typeof Oe=="number"?Math.round(Oe*1e3):0},br=(Ce,Oe,De)=>{const Ai=this.add.text(xi[Ce],yn-44,`+${Oe}  x${De.toFixed(1)}`,{fontSize:"22px",color:"#ffffff",fontFamily:"Arial Black",stroke:"#2f0f63",strokeThickness:6});Ai.setOrigin(.5),Ai.setDepth(10),Ai.setAlpha(.98),this.tweens.add({targets:Ai,y:yn-118,alpha:0,scaleX:1.12,scaleY:1.12,duration:420,ease:"Sine.Out",onComplete:()=>Ai.destroy()})},_n=()=>{gt.current&&(Di=0,_i=1,xn=Math.max(0,xn-8),Or(),Wt.current?.publishGameplayEvent({eventType:"miss",laneIndex:null,score:Fn,combo:Di,health:xn,songTimeMs:Fs()}))},cr=()=>{fr.forEach(Ce=>{Ce.forEach(Oe=>Oe.destroy()),Ce.length=0})},wn=()=>{cr(),Fn=0,Di=0,_i=1,xn=100,Or()};this.add.particles(0,0,"note",{x:{min:0,max:Mr},y:{min:0,max:si},speedY:{min:10,max:40},lifespan:9e3,quantity:1,scale:{start:.2,end:0},blendMode:"ADD",frequency:80});const Oo=[16739125,10526975,65416,10044927];xi.forEach((Ce,Oe)=>{const De=Oo[Oe],Ai=this.add.rectangle(Ce,si/2,un,si,1245224,.72);Ai.setStrokeStyle(4,De,.88);const dr=this.add.rectangle(Ce,si/2,un*.62,si,De,.08);dr.setBlendMode(Fr.BlendModes.ADD);const vr=this.add.rectangle(Ce-un*.48,si/2,3,si,De,.5),pr=this.add.rectangle(Ce+un*.48,si/2,3,si,De,.5);vr.setBlendMode(Fr.BlendModes.ADD),pr.setBlendMode(Fr.BlendModes.ADD);const Us=this.add.rectangle(Ce,si*.28,un*.84,6,De,.22),Zr=this.add.rectangle(Ce,si*.62,un*.76,4,De,.18);Us.setBlendMode(Fr.BlendModes.ADD),Zr.setBlendMode(Fr.BlendModes.ADD),this.tweens.add({targets:[Ai,dr],alpha:{from:.9,to:.45},yoyo:!0,duration:1200+Oe*120,repeat:-1}),this.tweens.add({targets:[vr,pr],alpha:{from:.2,to:.75},yoyo:!0,duration:600,repeat:-1,delay:Oe*60}),this.tweens.add({targets:Ai,x:Ce+(Oe%2===0?2.5:-2.5),yoyo:!0,duration:90,repeat:-1,repeatDelay:Fr.Math.Between(450,900)}),this.tweens.add({targets:[Us,Zr],alpha:{from:.35,to:.02},yoyo:!0,duration:140,repeat:-1,repeatDelay:Fr.Math.Between(280,520)})}),this.add.rectangle($n,yn,qn,100,10044927,.15).setStrokeStyle(4,16777215,.8);const Sd=this.add.text(50,30,"SCORE: 0",{fontSize:"40px",color:"#a0a0ff",fontFamily:"Arial Black",stroke:"#000",strokeThickness:8}),Yl=this.add.text(50,80,"COMBO: 0x",{fontSize:"36px",color:"#ff6b35",fontFamily:"Arial Black",stroke:"#000",strokeThickness:8}),wh=this.add.text(50,130,"HEALTH: 100%",{fontSize:"36px",color:"#00ff88",fontFamily:"Arial Black",stroke:"#000",strokeThickness:8});this.time.addEvent({delay:_t.spawnDelay,callback:()=>{if(!gt.current)return;const Ce=Fr.Math.Between(0,3),Oe=xi[Ce],De=this.add.image(Oe,-50,"note").setScale(1);De.setTint(Oo[Ce]),De.setData("lane",Ce),De.setData("isActive",!0),fr[Ce].push(De),this.tweens.add({targets:De,y:si-50,duration:_t.travelDuration,onComplete:()=>{De.getData("isActive")&&(Kr(Ce,De),_n()),De.destroy()}})},loop:!0});const Un=Ce=>{if(!gt.current)return;const Oe=fr[Ce].filter(pr=>pr.active&&pr.getData("isActive"));if(Oe.length===0){_n();return}let De=null,Ai=Number.MAX_SAFE_INTEGER;if(Oe.forEach(pr=>{const Us=Math.abs(pr.y-yn);Us<Ai&&(Ai=Us,De=pr)}),!De||Ai>vi){_n();return}De.setData("isActive",!1),Kr(Ce,De),De.destroy(),Di+=1,_i=Math.min(5,1+Math.floor(Di/4)*.5);const dr=Math.round(100*_i);Fn+=dr,xn=Math.min(100,xn+4),Or(),br(Ce,dr,_i),Wt.current?.publishGameplayEvent({eventType:"hit",laneIndex:Ce,score:Fn,combo:Di,health:xn,songTimeMs:Fs()});const vr=this.add.particles(xi[Ce],yn,"note",{speed:{min:180,max:320},lifespan:{min:180,max:320},quantity:14,scale:{start:.9,end:0},alpha:{start:.85,end:0},blendMode:"ADD",tint:Oo[Ce]});this.time.delayedCall(350,()=>{vr.destroy()})};this.input.keyboard.on("keydown-A",()=>Un(0)),this.input.keyboard.on("keydown-S",()=>Un(1)),this.input.keyboard.on("keydown-D",()=>Un(2)),this.input.keyboard.on("keydown-F",()=>Un(3)),this.input.on("pointerdown",Ce=>{if(!gt.current)return;const Oe=Ce.x,De=(xi[0]+xi[1])/2,Ai=(xi[1]+xi[2])/2,dr=(xi[2]+xi[3])/2;Oe<De?Un(0):Oe<Ai?Un(1):Oe<dr?Un(2):Un(3)}),At.current={startRun:()=>{wn(),gt.current=!0,ce.time.timeScale=1,ce.tweens.timeScale=1},pauseRun:()=>{gt.current=!1,ce.time.timeScale=0,ce.tweens.timeScale=0},resumeRun:()=>{gt.current=!0,ce.time.timeScale=1,ce.tweens.timeScale=1}},At.current.pauseRun(),R(!0)}}},fe=new Fr.Game(Ae);ft.current=fe}return()=>{ft.current&&(ft.current.destroy(!0),ft.current=null),xt.current&&(xt.current.stop(),xt.current=null),At.current=null,R(!1)}},[]),bt.jsxs("div",{className:"game-page",children:[bt.jsx("div",{className:"game-aura"}),bt.jsx("div",{className:"game-stars"}),bt.jsx("div",{className:"game-vignette"}),bt.jsxs("div",{className:"game-content",children:[bt.jsxs("h1",{className:"game-title","aria-label":"Rhythmforge  Play",children:[bt.jsxs("span",{children:["Rhythmforge  ",Ot]}),bt.jsxs("span",{"aria-hidden":"true",children:["Rhythmforge  ",Ot]})]}),bt.jsx("button",{type:"button",className:"game-menu-toggle game-menu-toggle-floating",onClick:ri,"aria-label":"Open in-game menu",disabled:!f,children:""}),bt.jsx("div",{className:"game-top-actions",children:bt.jsx("button",{type:"button",className:"game-primary-action",onClick:ni,disabled:!E,children:"Start"})}),bt.jsxs("div",{className:"game-controls-panel",children:[bt.jsxs("div",{className:"game-controls-row",children:[bt.jsxs("span",{children:["SCORE: ",L]}),bt.jsxs("span",{children:["COMBO: ",x,"x"]}),bt.jsxs("span",{children:["MULTIPLIER: x",o.toFixed(1)]}),bt.jsxs("span",{children:["HEALTH: ",r,"%"]}),bt.jsxs("span",{children:["DIFFICULTY: ",te.toUpperCase()]}),f&&d&&!S&&bt.jsx("span",{className:"game-paused-badge",children:"PAUSED"})]}),bt.jsxs("div",{className:"game-controls-row game-distortion-row",children:[bt.jsx("span",{children:"Distortion"}),bt.jsx("div",{className:"game-distortion-buttons",children:["low","high"].map(wt=>bt.jsx("button",{type:"button",className:`song-menu-difficulty-button ${ut===wt?"is-active":""}`,onClick:()=>Ni(wt),children:wt},wt))})]}),bt.jsxs("div",{className:"game-multiplayer-panel",children:[bt.jsxs("span",{children:["Room: ",_]}),bt.jsxs("span",{children:["Peers Online: ",F.length]}),bt.jsxs("span",{children:["Top Peer Score: ",ct?.score??0]}),bt.jsxs("span",{children:["Top Peer Drift: ",yt,"ms"]})]}),bt.jsxs("div",{className:"game-multiplayer-events",children:[bt.jsx("span",{className:"game-multiplayer-events-title",children:"Live Event Sync"}),Y.length===0?bt.jsx("p",{className:"game-multiplayer-events-empty",children:"Waiting for peer gameplay events..."}):bt.jsx("ul",{className:"game-multiplayer-events-list",children:Y.map((wt,Vt)=>bt.jsxs("li",{children:[bt.jsx("span",{children:wt.eventType.toUpperCase()}),bt.jsx("span",{children:wt.score}),bt.jsx("span",{children:re(wt.songTimeMs)})]},`${wt.playerId}-${wt.emittedAt}-${Vt}`))})]}),bt.jsxs("div",{className:"game-controls-row game-controls-row-stake",children:[bt.jsxs("span",{children:["Current $SKR Stake: ",i]}),bt.jsxs("span",{children:["Stake Multiplier: x",s.toFixed(2)]}),bt.jsx("input",{className:"game-stake-input",type:"number",min:"1",value:a,onChange:wt=>l(wt.target.value),placeholder:"Stake $SKR"}),bt.jsx("button",{type:"button",className:"game-control-button",onClick:La,disabled:!T,children:"Stake $SKR"}),bt.jsx("button",{type:"button",className:"game-control-button",onClick:di,disabled:L<=0,children:"Submit High Score"})]}),bt.jsxs("div",{className:"game-high-score-panel",children:[bt.jsxs("div",{className:"game-high-score-header",children:[bt.jsx("span",{children:"High Score Tracker"}),bt.jsxs("div",{className:"game-high-score-header-actions",children:[bt.jsxs("span",{children:["Best: ",st]}),bt.jsx("button",{type:"button",className:"game-control-button game-tracker-toggle",onClick:()=>et(wt=>!wt),children:q?"Show Tracker":"Hide Tracker"})]})]}),q?j===null?bt.jsx("p",{className:"game-high-score-empty",children:"No latest submitted score found yet."}):bt.jsxs("p",{className:"game-high-score-empty",children:["Latest submitted (saved): ",j]}):V.length===0?bt.jsx("p",{className:"game-high-score-empty",children:"No submitted scores yet for this wallet."}):bt.jsx("ul",{className:"game-high-score-list",children:V.map((wt,Vt)=>bt.jsxs("li",{className:"game-high-score-item",children:[bt.jsxs("span",{children:["#",Vt+1,"  ",wt.score]}),bt.jsxs("span",{children:["x",wt.multiplier.toFixed(1)]})]},`${wt.submittedAt}-${Vt}`))}),j!==null&&bt.jsxs("div",{className:"game-share-panel",children:[bt.jsxs("span",{children:["Latest submitted: ",j]}),bt.jsxs("div",{className:"game-share-actions",children:[bt.jsx("button",{type:"button",className:"game-control-button",onClick:qe,children:it?"Copied!":"Copy Link"}),bt.jsx("a",{className:"game-control-button game-share-link",href:qt,target:"_blank",rel:"noreferrer",children:"Share on X"})]})]})]})]}),bt.jsxs("div",{className:"game-stage",children:[bt.jsx("div",{id:"game-container",className:"game-canvas-frame"}),!f&&bt.jsxs("div",{className:"game-start-overlay",children:[bt.jsx("p",{children:E?"Press Start to begin song, notes, and scoring.":"Loading game engine..."}),bt.jsx("button",{type:"button",className:"game-primary-action",onClick:ni,disabled:!E,children:"Start"})]}),S&&bt.jsx("div",{className:"game-menu-overlay",children:bt.jsxs("div",{className:"game-menu-card",children:[bt.jsx("h2",{children:"In-Game Menu"}),bt.jsx("button",{type:"button",className:"game-control-button",onClick:()=>{d?(Bs(),C(!1)):ei()},children:d?"Resume":"Pause"}),bt.jsxs("div",{className:"game-audio-settings",children:[bt.jsxs("label",{htmlFor:"volume-slider",children:["Volume: ",M,"%"]}),bt.jsx("input",{id:"volume-slider",type:"range",min:"0",max:"100",value:M,onChange:wt=>D(Number(wt.target.value))}),bt.jsx("button",{type:"button",className:"game-control-button",onClick:()=>b(wt=>!wt),children:B?"Unmute":"Mute"})]}),bt.jsxs("div",{className:"game-menu-distortion",children:[bt.jsx("span",{children:"Distortion"}),bt.jsx("div",{className:"game-distortion-buttons",children:["low","high"].map(wt=>bt.jsx("button",{type:"button",className:`song-menu-difficulty-button ${ut===wt?"is-active":""}`,onClick:()=>Ni(wt),children:wt},`menu-${wt}`))})]}),bt.jsx("button",{type:"button",className:"game-control-button game-quit-button",onClick:Bn,children:"Quit to Song Menu"})]})})]}),bt.jsxs("div",{className:"game-progress-panel",children:[bt.jsxs("div",{className:"game-progress-labels",children:[bt.jsx("span",{children:"Track Progress"}),bt.jsxs("span",{children:[xe(I)," / ",xe(z)]})]}),bt.jsx("div",{className:"game-progress-track",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":z>0?Math.round(I/z*100):0,children:bt.jsx("div",{className:"game-progress-fill",style:{width:`${z>0?Math.min(100,I/z*100):0}%`}})}),bt.jsx("div",{className:"game-visualizer","aria-label":"Audio visualizer",children:X.map((wt,Vt)=>bt.jsx("span",{className:"game-visualizer-bar",style:{height:`${wt}px`}},`viz-${Vt}`))})]})]})]})}function SD(){const A=ot.useMemo(()=>uC("devnet"),[]),g=ot.useMemo(()=>[new SN,new ON],[]);return bt.jsx(W9,{endpoint:A,children:bt.jsx(uN,{wallets:g,autoConnect:!0,children:bt.jsx(pN,{children:bt.jsx(MO,{children:bt.jsxs(nO,{children:[bt.jsx(_f,{path:"/",element:bt.jsx(bN,{})}),bt.jsx(_f,{path:"/songs",element:bt.jsx(LN,{})}),bt.jsx(_f,{path:"/play",element:bt.jsx(TD,{})})]})})})})})}const ED="rhythmforge_distortion_level",_p=localStorage.getItem(ED),wD=_p==="low"||_p==="high"?_p:"high";document.documentElement.setAttribute("data-distortion",wD);a5.createRoot(document.getElementById("root")).render(bt.jsx(ot.StrictMode,{children:bt.jsx(SD,{})}));export{dg as E,Ut as P,Sn as S,Le as T,Il as V,yi as a,Es as b,Ra as g};
